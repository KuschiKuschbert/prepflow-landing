{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspace/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\n// Client-side Supabase client\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables. Please check your .env.local file.')\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\n\n// Server-side Supabase client with service role key (only available on server)\nexport function createSupabaseAdmin() {\n  const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY\n\n  if (!serviceRoleKey) {\n    throw new Error('Missing SUPABASE_SERVICE_ROLE_KEY environment variable.')\n  }\n\n  if (!supabaseUrl) {\n    throw new Error('Missing NEXT_PUBLIC_SUPABASE_URL environment variable.')\n  }\n\n  return createClient(supabaseUrl, serviceRoleKey)\n}\n\n// For backward compatibility, create admin client only on server-side\nexport const supabaseAdmin = typeof window === 'undefined' ? createSupabaseAdmin() : null\n"],"names":[],"mappings":";;;;;;;;AAGoB;AAHpB;;AAEA,8BAA8B;AAC9B,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,0MAAY,EAAC,aAAa;AAG3C,SAAS;IACd,MAAM,iBAAiB,2KAAO,CAAC,GAAG,CAAC,yBAAyB;IAE5D,IAAI,CAAC,gBAAgB;QACnB,MAAM,IAAI,MAAM;IAClB;IAEA;;IAIA,OAAO,IAAA,0MAAY,EAAC,aAAa;AACnC;AAGO,MAAM,gBAAgB,sCAAgC,0BAAwB","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///workspace/components/ui/LoadingSkeleton.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\n\ninterface LoadingSkeletonProps {\n  variant?: 'card' | 'table' | 'chart' | 'list' | 'form' | 'stats' | 'text' | 'button';\n  className?: string;\n  count?: number;\n  height?: string;\n  width?: string;\n}\n\nexport function LoadingSkeleton({ \n  variant = 'card', \n  className = '', \n  count = 1, \n  height,\n  width \n}: LoadingSkeletonProps) {\n  const baseClasses = 'animate-pulse bg-[#2a2a2a] rounded-xl';\n  \n  const variants = {\n    card: 'h-32',\n    table: 'h-64',\n    chart: 'h-80',\n    list: 'h-16',\n    form: 'h-96',\n    stats: 'h-24',\n    text: 'h-4',\n    button: 'h-10 w-24'\n  };\n\n  const skeletonClasses = `${baseClasses} ${variants[variant]} ${className}`;\n  const style = {\n    ...(height && { height }),\n    ...(width && { width })\n  };\n\n  if (count === 1) {\n    return <div className={skeletonClasses} style={style}></div>;\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {Array.from({ length: count }).map((_, i) => (\n        <div key={i} className={skeletonClasses} style={style}></div>\n      ))}\n    </div>\n  );\n}\n\n// Specialized skeleton components for common patterns\nexport function PageSkeleton() {\n  return (\n    <div className=\"min-h-screen bg-[#0a0a0a] p-4 sm:p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header skeleton */}\n        <div className=\"animate-pulse mb-8\">\n          <div className=\"h-8 bg-[#2a2a2a] rounded-3xl w-1/3 mb-4\"></div>\n          <div className=\"h-4 bg-[#2a2a2a] rounded-xl w-1/2\"></div>\n        </div>\n\n        {/* Action buttons skeleton */}\n        <div className=\"flex gap-3 mb-8\">\n          <div className=\"h-12 bg-[#2a2a2a] rounded-2xl w-32 animate-pulse\"></div>\n          <div className=\"h-12 bg-[#2a2a2a] rounded-2xl w-40 animate-pulse\"></div>\n          <div className=\"h-12 bg-[#2a2a2a] rounded-2xl w-28 animate-pulse\"></div>\n        </div>\n\n        {/* Main content skeleton */}\n        <div className=\"bg-[#1f1f1f] rounded-3xl shadow-lg border border-[#2a2a2a] p-6\">\n          <div className=\"animate-pulse\">\n            <div className=\"h-6 bg-[#2a2a2a] rounded-xl w-1/4 mb-6\"></div>\n            <div className=\"space-y-4\">\n              {[...Array(5)].map((_, i) => (\n                <div key={i} className=\"h-16 bg-[#2a2a2a] rounded-xl\"></div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function TableSkeleton({ rows = 5, columns = 4 }: { rows?: number; columns?: number }) {\n  return (\n    <div className=\"bg-[#1f1f1f] rounded-3xl shadow-lg border border-[#2a2a2a] overflow-hidden\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-[#2a2a2a]/50 to-[#2a2a2a]/20 px-6 py-4 border-b border-[#2a2a2a]\">\n        <div className=\"animate-pulse\">\n          <div className=\"flex gap-4\">\n            {Array.from({ length: columns }).map((_, i) => (\n              <div key={i} className=\"h-4 bg-[#2a2a2a] rounded w-24\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n      \n      {/* Rows */}\n      <div className=\"divide-y divide-[#2a2a2a]\">\n        {Array.from({ length: rows }).map((_, i) => (\n          <div key={i} className=\"px-6 py-4\">\n            <div className=\"animate-pulse\">\n              <div className=\"flex gap-4\">\n                {Array.from({ length: columns }).map((_, j) => (\n                  <div key={j} className=\"h-4 bg-[#2a2a2a] rounded w-20\"></div>\n                ))}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport function ChartSkeleton() {\n  return (\n    <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a]\">\n      <div className=\"animate-pulse\">\n        <div className=\"h-6 bg-[#2a2a2a] rounded-xl w-1/3 mb-4\"></div>\n        <div className=\"h-80 bg-[#2a2a2a] rounded-xl\"></div>\n      </div>\n    </div>\n  );\n}\n\nexport function CardGridSkeleton({ count = 6 }: { count?: number }) {\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4\">\n      {Array.from({ length: count }).map((_, i) => (\n        <div key={i} className=\"bg-[#1f1f1f] p-4 rounded-2xl shadow-lg border border-[#2a2a2a] animate-pulse\">\n          <div className=\"h-4 bg-[#2a2a2a] rounded w-3/4 mb-3\"></div>\n          <div className=\"h-3 bg-[#2a2a2a] rounded w-1/2 mb-2\"></div>\n          <div className=\"h-3 bg-[#2a2a2a] rounded w-2/3\"></div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport function StatsGridSkeleton() {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n      {Array.from({ length: 4 }).map((_, i) => (\n        <div key={i} className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] animate-pulse\">\n          <div className=\"h-4 bg-[#2a2a2a] rounded w-1/2 mb-3\"></div>\n          <div className=\"h-8 bg-[#2a2a2a] rounded w-1/3 mb-2\"></div>\n          <div className=\"h-3 bg-[#2a2a2a] rounded w-2/3\"></div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport function FormSkeleton() {\n  return (\n    <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a]\">\n      <div className=\"animate-pulse\">\n        <div className=\"h-6 bg-[#2a2a2a] rounded-xl w-1/4 mb-6\"></div>\n        <div className=\"space-y-4\">\n          {[...Array(4)].map((_, i) => (\n            <div key={i}>\n              <div className=\"h-4 bg-[#2a2a2a] rounded w-1/3 mb-2\"></div>\n              <div className=\"h-10 bg-[#2a2a2a] rounded-xl\"></div>\n            </div>\n          ))}\n          <div className=\"h-10 bg-[#2a2a2a] rounded-xl w-24\"></div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Landing page specific skeletons\nexport function HeroSkeleton() {\n  return (\n    <div className=\"min-h-screen bg-[#0a0a0a] flex items-center justify-center\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-16 bg-[#2a2a2a] rounded-3xl w-2/3 mb-8 mx-auto\"></div>\n          <div className=\"h-6 bg-[#2a2a2a] rounded-xl w-1/2 mb-12 mx-auto\"></div>\n          <div className=\"flex justify-center gap-4 mb-16\">\n            <div className=\"h-14 bg-[#2a2a2a] rounded-2xl w-48\"></div>\n            <div className=\"h-14 bg-[#2a2a2a] rounded-2xl w-40\"></div>\n          </div>\n          <div className=\"h-96 bg-[#2a2a2a] rounded-3xl\"></div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function PricingSkeleton() {\n  return (\n    <div className=\"bg-[#1f1f1f] p-8 rounded-3xl shadow-lg border border-[#2a2a2a]\">\n      <div className=\"animate-pulse\">\n        <div className=\"h-8 bg-[#2a2a2a] rounded-xl w-1/3 mb-6\"></div>\n        <div className=\"h-12 bg-[#2a2a2a] rounded-xl w-1/4 mb-4\"></div>\n        <div className=\"h-4 bg-[#2a2a2a] rounded w-1/2 mb-8\"></div>\n        <div className=\"space-y-4 mb-8\">\n          {[...Array(4)].map((_, i) => (\n            <div key={i} className=\"h-4 bg-[#2a2a2a] rounded w-full\"></div>\n          ))}\n        </div>\n        <div className=\"h-14 bg-[#2a2a2a] rounded-2xl w-full\"></div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 639, "column": 0}, "map": {"version":3,"sources":["file:///workspace/components/ui/ErrorBoundary.tsx"],"sourcesContent":["'use client';\n\nimport React, { Component, ErrorInfo, ReactNode } from 'react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n}\n\ninterface State {\n  hasError: boolean;\n  error?: Error;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  public state: State = {\n    hasError: false,\n  };\n\n  public static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n    \n    // Call custom error handler if provided\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    }\n\n    // Log to analytics if available\n    if (typeof window !== 'undefined' && (window as any).gtag) {\n      (window as any).gtag('event', 'exception', {\n        description: error.message,\n        fatal: false,\n      });\n    }\n  }\n\n  public render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] max-w-md mx-auto\">\n          <div className=\"flex items-center justify-center mb-4\">\n            <div className=\"w-12 h-12 rounded-full bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center\">\n              <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n              </svg>\n            </div>\n          </div>\n          \n          <h2 className=\"text-xl font-semibold text-white mb-2 text-center\">\n            Something went wrong\n          </h2>\n          \n          <p className=\"text-gray-400 text-center mb-4\">\n            We encountered an unexpected error. Please try refreshing the page.\n          </p>\n          \n          <div className=\"flex gap-3 justify-center\">\n            <button\n              onClick={() => window.location.reload()}\n              className=\"bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white px-4 py-2 rounded-2xl font-medium hover:shadow-xl transition-all duration-200\"\n            >\n              Refresh Page\n            </button>\n            \n            <button\n              onClick={() => this.setState({ hasError: false, error: undefined })}\n              className=\"bg-[#2a2a2a] text-white px-4 py-2 rounded-2xl font-medium hover:bg-[#3a3a3a] transition-all duration-200\"\n            >\n              Try Again\n            </button>\n          </div>\n          \n          {process.env.NODE_ENV === 'development' && this.state.error && (\n            <details className=\"mt-4 p-3 bg-[#2a2a2a] rounded-xl\">\n              <summary className=\"text-gray-400 cursor-pointer\">Error Details</summary>\n              <pre className=\"text-xs text-red-400 mt-2 overflow-auto\">\n                {this.state.error.stack}\n              </pre>\n            </details>\n          )}\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n// Hook for functional components to handle errors\nexport const useErrorHandler = () => {\n  const handleError = React.useCallback((error: Error, errorInfo?: any) => {\n    console.error('Error caught by useErrorHandler:', error, errorInfo);\n    \n    // Log to analytics if available\n    if (typeof window !== 'undefined' && (window as any).gtag) {\n      (window as any).gtag('event', 'exception', {\n        description: error.message,\n        fatal: false,\n      });\n    }\n  }, []);\n\n  return { handleError };\n};\n\n// Higher-order component for wrapping components with error boundary\nexport const withErrorBoundary = <P extends object>(\n  Component: React.ComponentType<P>,\n  fallback?: ReactNode\n) => {\n  const WrappedComponent = (props: P) => (\n    <ErrorBoundary fallback={fallback}>\n      <Component {...props} />\n    </ErrorBoundary>\n  );\n\n  WrappedComponent.displayName = `withErrorBoundary(${Component.displayName || Component.name})`;\n  \n  return WrappedComponent;\n};\n\nexport default ErrorBoundary;\n"],"names":[],"mappings":";;;;;;;;;;AAiFW;;;AA/EX;;;;AAFA;;AAeO,MAAM,sBAAsB,0KAAS;IAK1C,OAAc,yBAAyB,KAAY,EAAS;QAC1D,OAAO;YAAE,UAAU;YAAM;QAAM;IACjC;IAEO,kBAAkB,KAAY,EAAE,SAAoB,EAAE;QAC3D,QAAQ,KAAK,CAAC,kCAAkC,OAAO;QAEvD,wCAAwC;QACxC,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;YACtB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO;QAC5B;QAEA,gCAAgC;QAChC,IAAI,aAAkB,eAAe,AAAC,OAAe,IAAI,EAAE;YACxD,OAAe,IAAI,CAAC,SAAS,aAAa;gBACzC,aAAa,MAAM,OAAO;gBAC1B,OAAO;YACT;QACF;IACF;IAEO,SAAS;QACd,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACvB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC5B;YAEA,qBACE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;gCAAqB,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAC5E,cAAA,6LAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;kCAK3E,6LAAC;wBAAG,WAAU;kCAAoD;;;;;;kCAIlE,6LAAC;wBAAE,WAAU;kCAAiC;;;;;;kCAI9C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS,IAAM,OAAO,QAAQ,CAAC,MAAM;gCACrC,WAAU;0CACX;;;;;;0CAID,6LAAC;gCACC,SAAS,IAAM,IAAI,CAAC,QAAQ,CAAC;wCAAE,UAAU;wCAAO,OAAO;oCAAU;gCACjE,WAAU;0CACX;;;;;;;;;;;;oBAKF,oDAAyB,iBAAiB,IAAI,CAAC,KAAK,CAAC,KAAK,kBACzD,6LAAC;wBAAQ,WAAU;;0CACjB,6LAAC;gCAAQ,WAAU;0CAA+B;;;;;;0CAClD,6LAAC;gCAAI,WAAU;0CACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK;;;;;;;;;;;;;;;;;;QAMnC;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;;QA/EK,gBACL,+KAAO,SAAe;YACpB,UAAU;QACZ;;AA6EF;AAGO,MAAM,kBAAkB;;IAC7B,MAAM,cAAc,wKAAK,CAAC,WAAW;oDAAC,CAAC,OAAc;YACnD,QAAQ,KAAK,CAAC,oCAAoC,OAAO;YAEzD,gCAAgC;YAChC,IAAI,aAAkB,eAAe,AAAC,OAAe,IAAI,EAAE;gBACxD,OAAe,IAAI,CAAC,SAAS,aAAa;oBACzC,aAAa,MAAM,OAAO;oBAC1B,OAAO;gBACT;YACF;QACF;mDAAG,EAAE;IAEL,OAAO;QAAE;IAAY;AACvB;GAda;AAiBN,MAAM,oBAAoB,CAC/B,WACA;IAEA,MAAM,mBAAmB,CAAC,sBACxB,6LAAC;YAAc,UAAU;sBACvB,cAAA,6LAAC;gBAAW,GAAG,KAAK;;;;;;;;;;;IAIxB,iBAAiB,WAAW,GAAG,AAAC,qBAA4D,OAAxC,UAAU,WAAW,IAAI,UAAU,IAAI,EAAC;IAE5F,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 852, "column": 0}, "map": {"version":3,"sources":["file:///workspace/components/TestWarningButton.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useGlobalWarning } from '@/contexts/GlobalWarningContext';\n\nconst TestWarningButton: React.FC = () => {\n  const { addWarning } = useGlobalWarning();\n\n  const testWarning = () => {\n    addWarning({\n      type: 'warning',\n      title: 'Temperature Monitoring Alert',\n      message: 'No food items have been temperature checked today. Ensure all food items are properly monitored for safety compliance.',\n      action: {\n        label: 'Go to Temperature Logs',\n        onClick: () => {\n          window.location.href = '/webapp/temperature';\n        }\n      },\n      dismissible: true,\n      autoHide: false,\n    });\n  };\n\n  return (\n    <button\n      onClick={testWarning}\n      className=\"px-4 py-2 bg-yellow-500 text-black rounded-lg hover:bg-yellow-400 transition-colors\"\n    >\n      Test Global Warning\n    </button>\n  );\n};\n\nexport default TestWarningButton;\n"],"names":[],"mappings":";;;;;AAGA;;;AAHA;;AAKA,MAAM,oBAA8B;;IAClC,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,wJAAgB;IAEvC,MAAM,cAAc;QAClB,WAAW;YACT,MAAM;YACN,OAAO;YACP,SAAS;YACT,QAAQ;gBACN,OAAO;gBACP,SAAS;oBACP,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACzB;YACF;YACA,aAAa;YACb,UAAU;QACZ;IACF;IAEA,qBACE,6LAAC;QACC,SAAS;QACT,WAAU;kBACX;;;;;;AAIL;GA3BM;;QACmB,wJAAgB;;;KADnC;uCA6BS","debugId":null}},
    {"offset": {"line": 906, "column": 0}, "map": {"version":3,"sources":["file:///workspace/hooks/useTemperatureWarnings.ts"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useGlobalWarning } from '@/contexts/GlobalWarningContext';\n\ninterface TemperatureLog {\n  id: string;\n  log_date: string;\n  log_time: string;\n  temperature_type: string;\n  temperature_celsius: number;\n  location: string | null;\n  notes: string | null;\n  photo_url: string | null;\n  logged_by: string | null;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface TemperatureEquipment {\n  id: string;\n  name: string;\n  equipment_type: string;\n  location: string | null;\n  min_temp_celsius: number | null;\n  max_temp_celsius: number | null;\n  is_active: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface UseTemperatureWarningsProps {\n  allLogs: TemperatureLog[];\n  equipment: TemperatureEquipment[];\n}\n\nexport const useTemperatureWarnings = ({ allLogs, equipment }: UseTemperatureWarningsProps) => {\n  const { addWarning } = useGlobalWarning();\n\n  useEffect(() => {\n    // Check for \"no food items temped today\" warning\n    const checkFoodTemperatureWarning = () => {\n      const today = new Date();\n      const todayString = today.toISOString().split('T')[0];\n      \n      // Filter logs for today\n      const todayLogs = allLogs.filter(log => log.log_date === todayString);\n      \n      // Check if there are any food temperature logs for today\n      const foodLogsToday = todayLogs.filter(log => \n        log.temperature_type === 'food' || log.temperature_type === 'Food'\n      );\n\n      // If no food items were temped today, show warning\n      if (foodLogsToday.length === 0 && allLogs.length > 0) {\n        addWarning({\n          type: 'warning',\n          title: 'Temperature Monitoring Alert',\n          message: 'No food items have been temperature checked today. Ensure all food items are properly monitored for safety compliance.',\n          action: {\n            label: 'Go to Temperature Logs',\n            onClick: () => {\n              window.location.href = '/webapp/temperature';\n            }\n          },\n          dismissible: true,\n          autoHide: false,\n        });\n      }\n    };\n\n    // Check for equipment that hasn't been temperature checked in the last 8 hours\n    const checkEquipmentTemperatureWarning = () => {\n             const now = new Date();\n             const eightHoursAgo = new Date(now.getTime() - (8 * 60 * 60 * 1000)); // 8 hours ago\n             \n             // Filter logs from the last 8 hours\n             const recentLogs = allLogs.filter(log => {\n               const logDateTime = new Date(`${log.log_date}T${log.log_time}`);\n               return logDateTime >= eightHoursAgo && logDateTime <= now;\n             });\n\n             // Get active equipment that should be monitored\n             const activeEquipment = equipment.filter(eq => eq.is_active && eq.location);\n             \n             if (activeEquipment.length === 0) {\n               return;\n             }\n\n             // Check which equipment has been temperature checked in the last 8 hours\n             const checkedEquipment = new Set();\n             recentLogs.forEach(log => {\n               if (log.location) {\n                 checkedEquipment.add(log.location);\n               }\n             });\n\n             // Find equipment that hasn't been checked in the last 8 hours\n             const uncheckedEquipment = activeEquipment.filter(eq => \n               eq.location && !checkedEquipment.has(eq.location)\n             );\n\n             if (uncheckedEquipment.length > 0) {\n               const equipmentNames = uncheckedEquipment.map(eq => eq.name).join(', ');\n               const isMultiple = uncheckedEquipment.length > 1;\n        \n        addWarning({\n          type: 'warning',\n          title: 'Equipment Temperature Check Required',\n          message: `${isMultiple ? 'Equipment' : 'Equipment'} ${equipmentNames} ${isMultiple ? 'have' : 'has'} not been temperature checked in the last 8 hours. Ensure all active equipment is monitored for safety compliance.`,\n          action: {\n            label: 'Go to Temperature Logs',\n            onClick: () => {\n              window.location.href = '/webapp/temperature';\n            }\n          },\n          dismissible: true,\n          autoHide: false,\n               });\n             }\n    };\n\n    // Check for equipment out of range warnings\n    const checkEquipmentWarnings = () => {\n      const today = new Date();\n      const todayString = today.toISOString().split('T')[0];\n      const todayLogs = allLogs.filter(log => log.log_date === todayString);\n\n      equipment.forEach(eq => {\n        if (!eq.location || !eq.min_temp_celsius || !eq.max_temp_celsius) return;\n        \n        const equipmentLogs = todayLogs.filter(log => log.location === eq.location);\n        \n        if (equipmentLogs.length > 0) {\n          const outOfRangeLogs = equipmentLogs.filter(log => \n            log.temperature_celsius < eq.min_temp_celsius! || \n            log.temperature_celsius > eq.max_temp_celsius!\n          );\n\n          if (outOfRangeLogs.length > 0) {\n            addWarning({\n              type: 'error',\n              title: 'Temperature Out of Range',\n              message: `${eq.name} has recorded ${outOfRangeLogs.length} temperature reading(s) outside the safe range (${eq.min_temp_celsius}°C - ${eq.max_temp_celsius}°C).`,\n              action: {\n                label: 'View Details',\n                onClick: () => {\n                  window.location.href = '/webapp/temperature';\n                }\n              },\n              dismissible: true,\n              autoHide: false,\n            });\n          }\n        }\n      });\n    };\n\n    // Only run checks if we have data\n    if (allLogs.length > 0 && equipment.length > 0) {\n      checkFoodTemperatureWarning();\n      checkEquipmentTemperatureWarning();\n      checkEquipmentWarnings();\n    }\n  }, [allLogs, equipment, addWarning]);\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1075, "column": 0}, "map": {"version":3,"sources":["file:///workspace/app/webapp/components/DashboardStats.tsx"],"sourcesContent":["'use client';\n\nimport { useTranslation } from '@/lib/useTranslation';\n\ninterface DashboardStatsProps {\n  stats: {\n    totalIngredients: number;\n    totalRecipes: number;\n    totalMenuDishes: number;\n    averageDishPrice: number;\n  };\n}\n\nexport default function DashboardStats({ stats }: DashboardStatsProps) {\n  const { t } = useTranslation();\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n      {/* Ingredients Count */}\n      <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] hover:shadow-xl transition-all duration-200\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <p className=\"text-gray-400 text-sm font-medium mb-1\">Total Ingredients</p>\n            <p className=\"text-3xl font-bold text-white\">{stats.totalIngredients}</p>\n          </div>\n          <div className=\"w-12 h-12 rounded-2xl bg-gradient-to-br from-[#29E7CD]/20 to-[#29E7CD]/10 flex items-center justify-center\">\n            <span className=\"text-2xl\">🥘</span>\n          </div>\n        </div>\n        <div className=\"mt-4\">\n          <p className=\"text-xs text-gray-500\">Kitchen inventory items</p>\n        </div>\n      </div>\n\n      {/* Recipes Count */}\n      <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] hover:shadow-xl transition-all duration-200\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <p className=\"text-gray-400 text-sm font-medium mb-1\">Total Recipes</p>\n            <p className=\"text-3xl font-bold text-white\">{stats.totalRecipes}</p>\n          </div>\n          <div className=\"w-12 h-12 rounded-2xl bg-gradient-to-br from-[#3B82F6]/20 to-[#3B82F6]/10 flex items-center justify-center\">\n            <span className=\"text-2xl\">📖</span>\n          </div>\n        </div>\n        <div className=\"mt-4\">\n          <p className=\"text-xs text-gray-500\">Recipe cards created</p>\n        </div>\n      </div>\n\n      {/* Menu Dishes Count */}\n      <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] hover:shadow-xl transition-all duration-200\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <p className=\"text-gray-400 text-sm font-medium mb-1\">Menu Dishes</p>\n            <p className=\"text-3xl font-bold text-white\">{stats.totalMenuDishes}</p>\n          </div>\n          <div className=\"w-12 h-12 rounded-2xl bg-gradient-to-br from-[#D925C7]/20 to-[#D925C7]/10 flex items-center justify-center\">\n            <span className=\"text-2xl\">🍽️</span>\n          </div>\n        </div>\n        <div className=\"mt-4\">\n          <p className=\"text-xs text-gray-500\">Items on your menu</p>\n        </div>\n      </div>\n\n      {/* Average Price */}\n      <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] hover:shadow-xl transition-all duration-200\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <p className=\"text-gray-400 text-sm font-medium mb-1\">Avg. Dish Price</p>\n            <p className=\"text-3xl font-bold text-white\">${stats.averageDishPrice.toFixed(2)}</p>\n          </div>\n          <div className=\"w-12 h-12 rounded-2xl bg-gradient-to-br from-[#F59E0B]/20 to-[#F59E0B]/10 flex items-center justify-center\">\n            <span className=\"text-2xl\">💰</span>\n          </div>\n        </div>\n        <div className=\"mt-4\">\n          <p className=\"text-xs text-gray-500\">Average selling price</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAae,SAAS,eAAe,KAA8B;QAA9B,EAAE,KAAK,EAAuB,GAA9B;;IACrC,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,0IAAc;IAE5B,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;kDACC,6LAAC;wCAAE,WAAU;kDAAyC;;;;;;kDACtD,6LAAC;wCAAE,WAAU;kDAAiC,MAAM,gBAAgB;;;;;;;;;;;;0CAEtE,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAK,WAAU;8CAAW;;;;;;;;;;;;;;;;;kCAG/B,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;;;;;;0BAKzC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;kDACC,6LAAC;wCAAE,WAAU;kDAAyC;;;;;;kDACtD,6LAAC;wCAAE,WAAU;kDAAiC,MAAM,YAAY;;;;;;;;;;;;0CAElE,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAK,WAAU;8CAAW;;;;;;;;;;;;;;;;;kCAG/B,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;;;;;;0BAKzC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;kDACC,6LAAC;wCAAE,WAAU;kDAAyC;;;;;;kDACtD,6LAAC;wCAAE,WAAU;kDAAiC,MAAM,eAAe;;;;;;;;;;;;0CAErE,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAK,WAAU;8CAAW;;;;;;;;;;;;;;;;;kCAG/B,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;;;;;;0BAKzC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;kDACC,6LAAC;wCAAE,WAAU;kDAAyC;;;;;;kDACtD,6LAAC;wCAAE,WAAU;;4CAAgC;4CAAE,MAAM,gBAAgB,CAAC,OAAO,CAAC;;;;;;;;;;;;;0CAEhF,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAK,WAAU;8CAAW;;;;;;;;;;;;;;;;;kCAG/B,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;;;;;;;;;;;;AAK/C;GAtEwB;;QACR,0IAAc;;;KADN","debugId":null}},
    {"offset": {"line": 1405, "column": 0}, "map": {"version":3,"sources":["file:///workspace/app/webapp/components/QuickActions.tsx"],"sourcesContent":["'use client';\n\nimport { useTranslation } from '@/lib/useTranslation';\nimport Link from 'next/link';\n\nexport default function QuickActions() {\n  const { t } = useTranslation();\n\n  const actions = [\n    {\n      title: 'Add Ingredient',\n      description: 'Add new ingredients to your inventory',\n      icon: '🥘',\n      href: '/webapp/ingredients',\n      color: 'from-[#29E7CD] to-[#D925C7]'\n    },\n    {\n      title: 'Create Recipe',\n      description: 'Build new recipes with cost calculation',\n      icon: '📖',\n      href: '/webapp/recipes',\n      color: 'from-[#3B82F6] to-[#29E7CD]'\n    },\n    {\n      title: 'Calculate COGS',\n      description: 'Optimize menu pricing and margins',\n      icon: '💰',\n      href: '/webapp/cogs',\n      color: 'from-[#D925C7] to-[#3B82F6]'\n    },\n    {\n      title: 'Setup Database',\n      description: 'Initialize your kitchen management system',\n      icon: '⚙️',\n      href: '/webapp/setup',\n      color: 'from-[#F59E0B] to-[#D925C7]'\n    }\n  ];\n\n  return (\n    <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] mb-8\">\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-semibold text-white mb-2\">🚀 Quick Actions</h2>\n        <p className=\"text-gray-400\">Get started with your kitchen management</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {actions.map((action, index) => (\n          <Link\n            key={action.title}\n            href={action.href}\n            className=\"group bg-[#2a2a2a]/30 p-6 rounded-2xl border border-[#2a2a2a] hover:border-[#29E7CD]/50 transition-all duration-200 hover:shadow-lg hover:shadow-[#29E7CD]/10\"\n          >\n            <div className=\"flex flex-col items-center text-center space-y-4\">\n              <div className={`w-16 h-16 rounded-2xl bg-gradient-to-br ${action.color} flex items-center justify-center group-hover:scale-110 transition-transform duration-200`}>\n                <span className=\"text-3xl\">{action.icon}</span>\n              </div>\n              \n              <div>\n                <h3 className=\"text-lg font-semibold text-white group-hover:text-[#29E7CD] transition-colors duration-200\">\n                  {action.title}\n                </h3>\n                <p className=\"text-sm text-gray-400 mt-1\">\n                  {action.description}\n                </p>\n              </div>\n            </div>\n          </Link>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,0IAAc;IAE5B,MAAM,UAAU;QACd;YACE,OAAO;YACP,aAAa;YACb,MAAM;YACN,MAAM;YACN,OAAO;QACT;QACA;YACE,OAAO;YACP,aAAa;YACb,MAAM;YACN,MAAM;YACN,OAAO;QACT;QACA;YACE,OAAO;YACP,aAAa;YACb,MAAM;YACN,MAAM;YACN,OAAO;QACT;QACA;YACE,OAAO;YACP,aAAa;YACb,MAAM;YACN,MAAM;YACN,OAAO;QACT;KACD;IAED,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAyC;;;;;;kCACvD,6LAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;0BAG/B,6LAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,QAAQ,sBACpB,6LAAC,0KAAI;wBAEH,MAAM,OAAO,IAAI;wBACjB,WAAU;kCAEV,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAW,AAAC,2CAAuD,OAAb,OAAO,KAAK,EAAC;8CACtE,cAAA,6LAAC;wCAAK,WAAU;kDAAY,OAAO,IAAI;;;;;;;;;;;8CAGzC,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;sDACX,OAAO,KAAK;;;;;;sDAEf,6LAAC;4CAAE,WAAU;sDACV,OAAO,WAAW;;;;;;;;;;;;;;;;;;uBAdpB,OAAO,KAAK;;;;;;;;;;;;;;;;AAuB7B;GAnEwB;;QACR,0IAAc;;;KADN","debugId":null}},
    {"offset": {"line": 1563, "column": 0}, "map": {"version":3,"sources":["file:///workspace/lib/api-error-handler.ts"],"sourcesContent":["/**\n * API Error Handler Utility\n * Provides consistent error handling for API calls across the application\n */\n\nexport interface ApiError {\n  message: string;\n  code?: string;\n  status?: number;\n  details?: any;\n}\n\nexport interface ApiResponse<T = any> {\n  success: boolean;\n  data?: T;\n  error?: ApiError;\n  message?: string;\n}\n\n/**\n * Handles API errors consistently\n */\nexport const handleApiError = (error: any): ApiError => {\n  console.error('API Error:', error);\n\n  // Network errors\n  if (!error.response) {\n    return {\n      message: 'Network error - please check your connection',\n      code: 'NETWORK_ERROR',\n      status: 0,\n    };\n  }\n\n  // HTTP errors\n  const status = error.response?.status || 500;\n  const data = error.response?.data;\n\n  switch (status) {\n    case 400:\n      return {\n        message: data?.message || 'Invalid request',\n        code: 'BAD_REQUEST',\n        status: 400,\n        details: data,\n      };\n    \n    case 401:\n      return {\n        message: 'Authentication required',\n        code: 'UNAUTHORIZED',\n        status: 401,\n      };\n    \n    case 403:\n      return {\n        message: 'Access denied',\n        code: 'FORBIDDEN',\n        status: 403,\n      };\n    \n    case 404:\n      return {\n        message: 'Resource not found',\n        code: 'NOT_FOUND',\n        status: 404,\n      };\n    \n    case 500:\n      return {\n        message: data?.message || 'Internal server error',\n        code: 'SERVER_ERROR',\n        status: 500,\n        details: data,\n      };\n    \n    default:\n      return {\n        message: data?.message || 'An unexpected error occurred',\n        code: 'UNKNOWN_ERROR',\n        status,\n        details: data,\n      };\n  }\n};\n\n/**\n * Wraps API calls with error handling\n */\nexport const withErrorHandling = async <T>(\n  apiCall: () => Promise<T>,\n  fallbackValue?: T\n): Promise<ApiResponse<T>> => {\n  try {\n    const data = await apiCall();\n    return {\n      success: true,\n      data,\n    };\n  } catch (error) {\n    const apiError = handleApiError(error);\n    \n    return {\n      success: false,\n      error: apiError,\n      data: fallbackValue,\n    };\n  }\n};\n\n/**\n * Creates a standardized API response\n */\nexport const createApiResponse = <T>(\n  success: boolean,\n  data?: T,\n  error?: ApiError,\n  message?: string\n): ApiResponse<T> => {\n  return {\n    success,\n    data,\n    error,\n    message,\n  };\n};\n\n/**\n * Retry mechanism for failed API calls\n */\nexport const retryApiCall = async <T>(\n  apiCall: () => Promise<T>,\n  maxRetries: number = 3,\n  delay: number = 1000\n): Promise<ApiResponse<T>> => {\n  let lastError: any;\n\n  for (let attempt = 1; attempt <= maxRetries; attempt++) {\n    try {\n      const data = await apiCall();\n      return {\n        success: true,\n        data,\n      };\n    } catch (error) {\n      lastError = error;\n      \n      if (attempt === maxRetries) {\n        break;\n      }\n\n      // Wait before retrying\n      await new Promise(resolve => setTimeout(resolve, delay * attempt));\n    }\n  }\n\n  return {\n    success: false,\n    error: handleApiError(lastError),\n  };\n};\n\n/**\n * Hook for handling API errors in React components\n */\nexport const useApiErrorHandler = () => {\n  const handleError = (error: ApiError, context?: string) => {\n    console.error(`API Error${context ? ` in ${context}` : ''}:`, error);\n    \n    // Log to analytics if available\n    if (typeof window !== 'undefined' && (window as any).gtag) {\n      (window as any).gtag('event', 'api_error', {\n        error_code: error.code,\n        error_message: error.message,\n        context,\n      });\n    }\n\n    // You can add more error handling logic here\n    // e.g., show toast notifications, redirect to error page, etc.\n  };\n\n  return { handleError };\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;AAmBM,MAAM,iBAAiB,CAAC;QAad,iBACF;IAbb,QAAQ,KAAK,CAAC,cAAc;IAE5B,iBAAiB;IACjB,IAAI,CAAC,MAAM,QAAQ,EAAE;QACnB,OAAO;YACL,SAAS;YACT,MAAM;YACN,QAAQ;QACV;IACF;IAEA,cAAc;IACd,MAAM,SAAS,EAAA,kBAAA,MAAM,QAAQ,cAAd,sCAAA,gBAAgB,MAAM,KAAI;IACzC,MAAM,QAAO,mBAAA,MAAM,QAAQ,cAAd,uCAAA,iBAAgB,IAAI;IAEjC,OAAQ;QACN,KAAK;YACH,OAAO;gBACL,SAAS,CAAA,iBAAA,2BAAA,KAAM,OAAO,KAAI;gBAC1B,MAAM;gBACN,QAAQ;gBACR,SAAS;YACX;QAEF,KAAK;YACH,OAAO;gBACL,SAAS;gBACT,MAAM;gBACN,QAAQ;YACV;QAEF,KAAK;YACH,OAAO;gBACL,SAAS;gBACT,MAAM;gBACN,QAAQ;YACV;QAEF,KAAK;YACH,OAAO;gBACL,SAAS;gBACT,MAAM;gBACN,QAAQ;YACV;QAEF,KAAK;YACH,OAAO;gBACL,SAAS,CAAA,iBAAA,2BAAA,KAAM,OAAO,KAAI;gBAC1B,MAAM;gBACN,QAAQ;gBACR,SAAS;YACX;QAEF;YACE,OAAO;gBACL,SAAS,CAAA,iBAAA,2BAAA,KAAM,OAAO,KAAI;gBAC1B,MAAM;gBACN;gBACA,SAAS;YACX;IACJ;AACF;AAKO,MAAM,oBAAoB,OAC/B,SACA;IAEA,IAAI;QACF,MAAM,OAAO,MAAM;QACnB,OAAO;YACL,SAAS;YACT;QACF;IACF,EAAE,OAAO,OAAO;QACd,MAAM,WAAW,eAAe;QAEhC,OAAO;YACL,SAAS;YACT,OAAO;YACP,MAAM;QACR;IACF;AACF;AAKO,MAAM,oBAAoB,CAC/B,SACA,MACA,OACA;IAEA,OAAO;QACL;QACA;QACA;QACA;IACF;AACF;AAKO,MAAM,eAAe,eAC1B;QACA,8EAAqB,GACrB,yEAAgB;IAEhB,IAAI;IAEJ,IAAK,IAAI,UAAU,GAAG,WAAW,YAAY,UAAW;QACtD,IAAI;YACF,MAAM,OAAO,MAAM;YACnB,OAAO;gBACL,SAAS;gBACT;YACF;QACF,EAAE,OAAO,OAAO;YACd,YAAY;YAEZ,IAAI,YAAY,YAAY;gBAC1B;YACF;YAEA,uBAAuB;YACvB,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS,QAAQ;QAC3D;IACF;IAEA,OAAO;QACL,SAAS;QACT,OAAO,eAAe;IACxB;AACF;AAKO,MAAM,qBAAqB;IAChC,MAAM,cAAc,CAAC,OAAiB;QACpC,QAAQ,KAAK,CAAC,AAAC,YAA2C,OAAhC,UAAU,AAAC,OAAc,OAAR,WAAY,IAAG,MAAI;QAE9D,gCAAgC;QAChC,IAAI,aAAkB,eAAe,AAAC,OAAe,IAAI,EAAE;YACxD,OAAe,IAAI,CAAC,SAAS,aAAa;gBACzC,YAAY,MAAM,IAAI;gBACtB,eAAe,MAAM,OAAO;gBAC5B;YACF;QACF;IAEA,6CAA6C;IAC7C,+DAA+D;IACjE;IAEA,OAAO;QAAE;IAAY;AACvB","debugId":null}},
    {"offset": {"line": 1707, "column": 0}, "map": {"version":3,"sources":["file:///workspace/hooks/useApiCall.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { ApiResponse, withErrorHandling, ApiError } from '@/lib/api-error-handler';\n\ninterface UseApiCallOptions {\n  immediate?: boolean;\n  retryOnError?: boolean;\n  maxRetries?: number;\n}\n\ninterface UseApiCallReturn<T> {\n  data: T | null;\n  loading: boolean;\n  error: ApiError | null;\n  execute: (...args: any[]) => Promise<ApiResponse<T>>;\n  reset: () => void;\n}\n\nexport function useApiCall<T = any>(\n  apiFunction: (...args: any[]) => Promise<T>,\n  options: UseApiCallOptions = {}\n): UseApiCallReturn<T> {\n  const {\n    immediate = false,\n    retryOnError = false,\n    maxRetries = 3,\n  } = options;\n\n  const [data, setData] = useState<T | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<ApiError | null>(null);\n\n  const execute = useCallback(async (...args: any[]): Promise<ApiResponse<T>> => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const result = await withErrorHandling(() => apiFunction(...args));\n      \n      if (result.success && result.data !== undefined) {\n        setData(result.data);\n        setError(null);\n      } else {\n        setError(result.error || null);\n        setData(null);\n      }\n\n      return result;\n    } catch (err) {\n      const apiError: ApiError = {\n        message: 'An unexpected error occurred',\n        code: 'UNEXPECTED_ERROR',\n      };\n      setError(apiError);\n      setData(null);\n      \n      return {\n        success: false,\n        error: apiError,\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, [apiFunction]);\n\n  const reset = useCallback(() => {\n    setData(null);\n    setError(null);\n    setLoading(false);\n  }, []);\n\n  useEffect(() => {\n    if (immediate) {\n      execute();\n    }\n  }, [immediate, execute]);\n\n  return {\n    data,\n    loading,\n    error,\n    execute,\n    reset,\n  };\n}\n\n// Hook for handling multiple API calls\nexport function useApiCalls<T = any>(\n  apiFunctions: Array<(...args: any[]) => Promise<T>>,\n  options: UseApiCallOptions = {}\n) {\n  const [results, setResults] = useState<Array<ApiResponse<T>>>([]);\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState<Array<ApiError | null>>([]);\n\n  const executeAll = useCallback(async (...args: any[]): Promise<ApiResponse<T>[]> => {\n    setLoading(true);\n    setErrors([]);\n\n    try {\n      const promises = apiFunctions.map(apiFunction => \n        withErrorHandling(() => apiFunction(...args))\n      );\n\n      const results = await Promise.all(promises);\n      \n      setResults(results);\n      setErrors(results.map(result => result.error || null));\n\n      return results;\n    } catch (err) {\n      const apiError: ApiError = {\n        message: 'An unexpected error occurred',\n        code: 'UNEXPECTED_ERROR',\n      };\n      \n      const errorResults = apiFunctions.map(() => ({\n        success: false,\n        error: apiError,\n      }));\n\n      setResults(errorResults);\n      setErrors(apiFunctions.map(() => apiError));\n\n      return errorResults;\n    } finally {\n      setLoading(false);\n    }\n  }, [apiFunctions]);\n\n  const reset = useCallback(() => {\n    setResults([]);\n    setErrors([]);\n    setLoading(false);\n  }, []);\n\n  useEffect(() => {\n    if (options.immediate) {\n      executeAll();\n    }\n  }, [options.immediate, executeAll]);\n\n  return {\n    results,\n    loading,\n    errors,\n    executeAll,\n    reset,\n  };\n}\n\n// Hook for handling API calls with caching\nexport function useCachedApiCall<T = any>(\n  apiFunction: (...args: any[]) => Promise<T>,\n  cacheKey: string,\n  options: UseApiCallOptions & { cacheTimeout?: number } = {}\n) {\n  const { cacheTimeout = 5 * 60 * 1000 } = options; // 5 minutes default\n  const apiCall = useApiCall(apiFunction, options);\n\n  const executeWithCache = useCallback(async (...args: any[]): Promise<ApiResponse<T>> => {\n    const cacheKeyWithArgs = `${cacheKey}_${JSON.stringify(args)}`;\n    const cached = sessionStorage.getItem(cacheKeyWithArgs);\n    \n    if (cached) {\n      try {\n        const { data: cachedData, timestamp } = JSON.parse(cached);\n        \n        if (Date.now() - timestamp < cacheTimeout) {\n          apiCall.reset();\n          // Set data directly without going through the API call\n          (apiCall as any).setData(cachedData);\n          return {\n            success: true,\n            data: cachedData,\n          };\n        }\n      } catch (err) {\n        // Invalid cache, continue with API call\n      }\n    }\n\n    const result = await apiCall.execute(...args);\n    \n    if (result.success && result.data) {\n      // Cache the successful result\n      sessionStorage.setItem(cacheKeyWithArgs, JSON.stringify({\n        data: result.data,\n        timestamp: Date.now(),\n      }));\n    }\n\n    return result;\n  }, [apiCall, cacheKey, cacheTimeout]);\n\n  return {\n    ...apiCall,\n    execute: executeWithCache,\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1925, "column": 0}, "map": {"version":3,"sources":["file:///workspace/components/ui/ApiErrorDisplay.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { ApiError } from '@/lib/api-error-handler';\n\ninterface ApiErrorDisplayProps {\n  error: ApiError;\n  context?: string;\n  onRetry?: () => void;\n  className?: string;\n}\n\nexport const ApiErrorDisplay: React.FC<ApiErrorDisplayProps> = ({\n  error,\n  context,\n  onRetry,\n  className = '',\n}) => {\n  const getErrorIcon = (code?: string) => {\n    switch (code) {\n      case 'NETWORK_ERROR':\n        return (\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0\" />\n          </svg>\n        );\n      case 'SERVER_ERROR':\n        return (\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n          </svg>\n        );\n      case 'NOT_FOUND':\n        return (\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.467-.881-6.08-2.33\" />\n          </svg>\n        );\n      default:\n        return (\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n        );\n    }\n  };\n\n  const getErrorColor = (code?: string) => {\n    switch (code) {\n      case 'NETWORK_ERROR':\n        return 'from-orange-500 to-orange-600';\n      case 'SERVER_ERROR':\n        return 'from-red-500 to-red-600';\n      case 'NOT_FOUND':\n        return 'from-blue-500 to-blue-600';\n      default:\n        return 'from-gray-500 to-gray-600';\n    }\n  };\n\n  return (\n    <div className={`bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] max-w-md mx-auto ${className}`}>\n      <div className=\"flex items-center justify-center mb-4\">\n        <div className={`w-12 h-12 rounded-full bg-gradient-to-r ${getErrorColor(error.code)} flex items-center justify-center`}>\n          <div className=\"text-white\">\n            {getErrorIcon(error.code)}\n          </div>\n        </div>\n      </div>\n      \n      <h2 className=\"text-xl font-semibold text-white mb-2 text-center\">\n        {context ? `${context} Error` : 'API Error'}\n      </h2>\n      \n      <p className=\"text-gray-400 text-center mb-4\">\n        {error.message}\n      </p>\n      \n      {error.code && (\n        <div className=\"text-center mb-4\">\n          <span className=\"inline-block bg-[#2a2a2a] text-gray-400 px-3 py-1 rounded-full text-sm\">\n            Error Code: {error.code}\n          </span>\n        </div>\n      )}\n      \n      {onRetry && (\n        <div className=\"flex justify-center\">\n          <button\n            onClick={onRetry}\n            className=\"bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white px-6 py-2 rounded-2xl font-medium hover:shadow-xl transition-all duration-200\"\n          >\n            Try Again\n          </button>\n        </div>\n      )}\n      \n      {process.env.NODE_ENV === 'development' && error.details && (\n        <details className=\"mt-4 p-3 bg-[#2a2a2a] rounded-xl\">\n          <summary className=\"text-gray-400 cursor-pointer\">Error Details</summary>\n          <pre className=\"text-xs text-red-400 mt-2 overflow-auto\">\n            {JSON.stringify(error.details, null, 2)}\n          </pre>\n        </details>\n      )}\n    </div>\n  );\n};\n\nexport default ApiErrorDisplay;\n"],"names":[],"mappings":";;;;;;AAiGO;;AAjGP;;AAYO,MAAM,kBAAkD;QAAC,EAC9D,KAAK,EACL,OAAO,EACP,OAAO,EACP,YAAY,EAAE,EACf;IACC,MAAM,eAAe,CAAC;QACpB,OAAQ;YACN,KAAK;gBACH,qBACE,6LAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BACjE,cAAA,6LAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;YAG3E,KAAK;gBACH,qBACE,6LAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BACjE,cAAA,6LAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;YAG3E,KAAK;gBACH,qBACE,6LAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BACjE,cAAA,6LAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;YAG3E;gBACE,qBACE,6LAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAO,QAAO;oBAAe,SAAQ;8BACjE,cAAA,6LAAC;wBAAK,eAAc;wBAAQ,gBAAe;wBAAQ,aAAa;wBAAG,GAAE;;;;;;;;;;;QAG7E;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,AAAC,mFAA4F,OAAV;;0BACjG,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAW,AAAC,2CAAoE,OAA1B,cAAc,MAAM,IAAI,GAAE;8BACnF,cAAA,6LAAC;wBAAI,WAAU;kCACZ,aAAa,MAAM,IAAI;;;;;;;;;;;;;;;;0BAK9B,6LAAC;gBAAG,WAAU;0BACX,UAAU,AAAC,GAAU,OAAR,SAAQ,YAAU;;;;;;0BAGlC,6LAAC;gBAAE,WAAU;0BACV,MAAM,OAAO;;;;;;YAGf,MAAM,IAAI,kBACT,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAK,WAAU;;wBAAyE;wBAC1E,MAAM,IAAI;;;;;;;;;;;;YAK5B,yBACC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;YAMJ,oDAAyB,iBAAiB,MAAM,OAAO,kBACtD,6LAAC;gBAAQ,WAAU;;kCACjB,6LAAC;wBAAQ,WAAU;kCAA+B;;;;;;kCAClD,6LAAC;wBAAI,WAAU;kCACZ,KAAK,SAAS,CAAC,MAAM,OAAO,EAAE,MAAM;;;;;;;;;;;;;;;;;;AAMjD;KA/Fa;uCAiGE","debugId":null}},
    {"offset": {"line": 2155, "column": 0}, "map": {"version":3,"sources":["file:///workspace/app/webapp/components/RecentActivity.tsx"],"sourcesContent":["'use client';\n\nimport { useTranslation } from '@/lib/useTranslation';\nimport { LoadingSkeleton } from '@/components/ui/LoadingSkeleton';\nimport { useApiCall } from '@/hooks/useApiCall';\nimport { ApiErrorDisplay } from '@/components/ui/ApiErrorDisplay';\nimport { supabase } from '@/lib/supabase';\n\ninterface RecentActivity {\n  id: string;\n  type: 'ingredient' | 'recipe' | 'menu_dish';\n  name: string;\n  action: 'created' | 'updated';\n  created_at: string;\n}\n\nexport default function RecentActivity() {\n  const { t } = useTranslation();\n  \n  const fetchRecentActivity = async (): Promise<RecentActivity[]> => {\n    const activities: RecentActivity[] = [];\n    \n    try {\n      // Fetch recent ingredients\n      const { data: ingredients, error: ingredientsError } = await supabase\n        .from('ingredients')\n        .select('id, ingredient_name, created_at, updated_at')\n        .order('updated_at', { ascending: false })\n        .limit(3);\n\n      if (!ingredientsError && ingredients) {\n        ingredients.forEach(ingredient => {\n          activities.push({\n            id: ingredient.id,\n            type: 'ingredient',\n            name: ingredient.ingredient_name,\n            action: ingredient.created_at === ingredient.updated_at ? 'created' : 'updated',\n            created_at: ingredient.updated_at\n          });\n        });\n      }\n\n      // Fetch recent recipes\n      const { data: recipes, error: recipesError } = await supabase\n        .from('recipes')\n        .select('id, recipe_name, created_at, updated_at')\n        .order('updated_at', { ascending: false })\n        .limit(3);\n\n      if (!recipesError && recipes) {\n        recipes.forEach(recipe => {\n          activities.push({\n            id: recipe.id,\n            type: 'recipe',\n            name: recipe.recipe_name,\n            action: recipe.created_at === recipe.updated_at ? 'created' : 'updated',\n            created_at: recipe.updated_at\n          });\n        });\n      }\n\n      // Fetch recent menu dishes\n      const { data: menuDishes, error: menuDishesError } = await supabase\n        .from('menu_dishes')\n        .select('id, dish_name, created_at, updated_at')\n        .order('updated_at', { ascending: false })\n        .limit(3);\n\n      if (!menuDishesError && menuDishes) {\n        menuDishes.forEach(dish => {\n          activities.push({\n            id: dish.id,\n            type: 'menu_dish',\n            name: dish.dish_name,\n            action: dish.created_at === dish.updated_at ? 'created' : 'updated',\n            created_at: dish.updated_at\n          });\n        });\n      }\n\n      // Sort all activities by date\n      return activities.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n    } catch (error) {\n      console.error('Error fetching recent activity:', error);\n      throw error;\n    }\n  };\n\n  const { data: activities, loading, error, execute: refetch } = useApiCall(fetchRecentActivity, {\n    immediate: true,\n  });\n\n  // Show loading state only if we have no data and are loading\n  if (loading && !activities) {\n    return (\n      <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a]\">\n        <LoadingSkeleton variant=\"list\" count={5} height=\"64px\" />\n      </div>\n    );\n  }\n\n  // Show error state\n  if (error) {\n    return (\n      <ApiErrorDisplay\n        error={error}\n        context=\"Recent Activity\"\n        onRetry={refetch}\n        className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a]\"\n      />\n    );\n  }\n\n  // Show empty state\n  if (!activities || activities.length === 0) {\n    return (\n      <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a]\">\n        <div className=\"flex items-center justify-center mb-4\">\n          <div className=\"w-12 h-12 rounded-full bg-gradient-to-r from-[#29E7CD] to-[#D925C7] flex items-center justify-center\">\n            <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          </div>\n        </div>\n        \n        <h2 className=\"text-xl font-semibold text-white mb-2 text-center\">\n          No Recent Activity\n        </h2>\n        \n        <p className=\"text-gray-400 text-center\">\n          Start by adding some ingredients or recipes to see recent activity here.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a]\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-xl font-semibold text-white\">\n          Recent Activity\n        </h2>\n        \n        <button\n          onClick={refetch}\n          className=\"text-[#29E7CD] hover:text-[#D925C7] transition-colors duration-200\"\n          title=\"Refresh activity\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n          </svg>\n        </button>\n      </div>\n\n      <div className=\"space-y-4\">\n        {activities.slice(0, 5).map((activity) => (\n          <div key={activity.id} className=\"flex items-center space-x-4 p-3 rounded-2xl bg-[#2a2a2a]/30 hover:bg-[#2a2a2a]/50 transition-colors duration-200\">\n            <div className=\"flex-shrink-0\">\n              <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\n                activity.type === 'ingredient' ? 'bg-blue-500/20' :\n                activity.type === 'recipe' ? 'bg-green-500/20' :\n                'bg-purple-500/20'\n              }`}>\n                <svg className={`w-5 h-5 ${\n                  activity.type === 'ingredient' ? 'text-blue-400' :\n                  activity.type === 'recipe' ? 'text-green-400' :\n                  'text-purple-400'\n                }`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  {activity.type === 'ingredient' && (\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\n                  )}\n                  {activity.type === 'recipe' && (\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                  )}\n                  {activity.type === 'menu_dish' && (\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                  )}\n                </svg>\n              </div>\n            </div>\n            \n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-white font-medium truncate\">\n                {activity.name}\n              </p>\n              <p className=\"text-gray-400 text-sm\">\n                {activity.action === 'created' ? 'Created' : 'Updated'} • {new Date(activity.created_at).toLocaleDateString()}\n              </p>\n            </div>\n            \n            <div className=\"flex-shrink-0\">\n              <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                activity.type === 'ingredient' ? 'bg-blue-500/20 text-blue-400' :\n                activity.type === 'recipe' ? 'bg-green-500/20 text-green-400' :\n                'bg-purple-500/20 text-purple-400'\n              }`}>\n                {activity.type.replace('_', ' ')}\n              </span>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2516, "column": 0}, "map": {"version":3,"sources":["file:///workspace/app/webapp/page.tsx"],"sourcesContent":["'use client';\n\nimport { supabase } from '@/lib/supabase';\nimport { useEffect, useState } from 'react';\nimport { useTranslation } from '@/lib/useTranslation';\nimport { PageSkeleton } from '@/components/ui/LoadingSkeleton';\nimport { ErrorBoundary } from '@/components/ui/ErrorBoundary';\nimport TestWarningButton from '@/components/TestWarningButton';\nimport { useTemperatureWarnings } from '@/hooks/useTemperatureWarnings';\nimport DashboardStats from './components/DashboardStats';\nimport QuickActions from './components/QuickActions';\nimport RecentActivity from './components/RecentActivity';\n\ninterface DashboardStats {\n  totalIngredients: number;\n  totalRecipes: number;\n  totalMenuDishes: number;\n  averageDishPrice: number;\n}\n\ninterface TemperatureLog {\n  id: string;\n  log_date: string;\n  log_time: string;\n  temperature_type: string;\n  temperature_celsius: number;\n  location: string | null;\n  notes: string | null;\n  photo_url: string | null;\n  logged_by: string | null;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface TemperatureEquipment {\n  id: string;\n  name: string;\n  equipment_type: string;\n  location: string | null;\n  min_temp_celsius: number | null;\n  max_temp_celsius: number | null;\n  is_active: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\nfunction WebAppDashboardContent() {\n  const { t } = useTranslation();\n  const [stats, setStats] = useState<DashboardStats>({\n    totalIngredients: 0,\n    totalRecipes: 0,\n    totalMenuDishes: 0,\n    averageDishPrice: 0,\n  });\n  const [loading, setLoading] = useState(false); // Completely disabled to prevent skeleton flashes\n  const [allLogs, setAllLogs] = useState<TemperatureLog[]>([]);\n  const [equipment, setEquipment] = useState<TemperatureEquipment[]>([]);\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      // Completely disabled loading state to prevent skeleton flashes\n      // setLoading(true);\n      try {\n        // Fetch ingredients count\n        const { count: ingredientsCount } = await supabase\n          .from('ingredients')\n          .select('*', { count: 'exact', head: true });\n\n        // Fetch recipes count\n        const { count: recipesCount } = await supabase\n          .from('recipes')\n          .select('*', { count: 'exact', head: true });\n\n        // Fetch menu dishes count and average price\n        const { data: menuDishes } = await supabase\n          .from('menu_dishes')\n          .select('selling_price');\n\n        const totalDishes = menuDishes?.length || 0;\n        const averagePrice = totalDishes > 0 && menuDishes\n          ? menuDishes.reduce((sum, dish) => sum + (dish.selling_price || 0), 0) / totalDishes\n          : 0;\n\n        setStats({\n          totalIngredients: ingredientsCount || 0,\n          totalRecipes: recipesCount || 0,\n          totalMenuDishes: totalDishes,\n          averageDishPrice: averagePrice,\n        });\n      } catch (error) {\n        // Handle error gracefully\n      } finally {\n        // Completely disabled loading state to prevent skeleton flashes\n        // setLoading(false);\n      }\n    };\n\n    fetchStats();\n  }, []);\n\n  // Fetch temperature data for warnings\n  useEffect(() => {\n    const fetchTemperatureData = async () => {\n      try {\n        // Fetch temperature logs\n        const { data: logs } = await supabase\n          .from('temperature_logs')\n          .select('*')\n          .order('log_date', { ascending: false })\n          .order('log_time', { ascending: false });\n\n        // Fetch temperature equipment\n        const { data: equipmentData } = await supabase\n          .from('temperature_equipment')\n          .select('*')\n          .eq('is_active', true);\n\n        setAllLogs(logs || []);\n        setEquipment(equipmentData || []);\n      } catch (error) {\n        console.error('Error fetching temperature data:', error);\n      }\n    };\n\n    fetchTemperatureData();\n  }, []);\n\n  // Use temperature warnings hook\n  useTemperatureWarnings({ allLogs, equipment });\n\n  if (loading) {\n    return <PageSkeleton />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#0a0a0a] p-4 sm:p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-4xl font-bold text-white mb-2\">\n            🏠 {t('dashboard.title', 'Kitchen Management Dashboard')}\n          </h1>\n          <p className=\"text-gray-400\">{t('dashboard.subtitle', 'Welcome back! Here\\'s your kitchen overview')}</p>\n          \n          {/* Test Warning Button - Remove in production */}\n          <div className=\"mt-4\">\n            <TestWarningButton />\n          </div>\n        </div>\n        \n        {/* Dashboard Components */}\n        <DashboardStats stats={stats} />\n        <QuickActions />\n        <RecentActivity />\n      </div>\n    </div>\n  );\n}\n\nexport default function WebAppDashboard() {\n  return (\n    <ErrorBoundary>\n      <WebAppDashboardContent />\n    </ErrorBoundary>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}
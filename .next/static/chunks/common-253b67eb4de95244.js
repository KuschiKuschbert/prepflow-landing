(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2076],{147:(e,t,n)=>{"use strict";n.d(t,{mT:()=>d,oU:()=>c});let i={ml:1,milliliter:1,l:1e3,liter:1e3,litre:1e3,tsp:5,teaspoon:5,tbsp:15,tablespoon:15,cup:240,cups:240,"fl oz":30,"fluid ounce":30,pint:480,quart:960,gallon:3840},a={g:1,gm:1,gram:1,grams:1,kg:1e3,kilogram:1e3,oz:28.35,ounce:28.35,lb:453.6,pound:453.6,mg:.001,milligram:.001},r={water:1,milk:1.03,cream:1.01,oil:.92,"olive oil":.92,"vegetable oil":.92,vinegar:1.01,honey:1.42,syrup:1.33,flour:.59,"all-purpose flour":.59,"bread flour":.59,"cake flour":.59,sugar:.85,"white sugar":.85,"brown sugar":.8,"powdered sugar":.6,"cocoa powder":.4,"baking powder":.6,"baking soda":.87,salt:1.2,cornstarch:.6,almonds:.6,walnuts:.65,pecans:.7,peanuts:.6,"sesame seeds":.6,"sunflower seeds":.5,butter:.91,cheese:1.1,"cream cheese":1,yogurt:1.03,default:.8};function s(e){if(!e)return r.default;let t=e.toLowerCase();if(r[t])return r[t];for(let[e,n]of Object.entries(r))if(t.includes(e)||e.includes(t))return n;return r.default}function o(e){return e.toLowerCase().trim()in i}function l(e){return e.toLowerCase().trim()in a}function c(e,t,n,r){let c,d,u=t.toLowerCase().trim(),g=n.toLowerCase().trim();if(u===g)return{convertedValue:e,convertedUnit:n,originalValue:e,originalUnit:t,conversionFactor:1};let m=o(u),p=o(g),h=l(u),f=l(g);if(m&&p)c=e*i[u]/i[g],d=i[u]/i[g];else if(h&&f)c=e*a[u]/a[g],d=a[u]/a[g];else if(m&&f){let t=s(r||"");c=e*i[u]*t/a[g],d=i[u]*t/a[g]}else{if(!h||!p)return{convertedValue:e,convertedUnit:n,originalValue:e,originalUnit:t,conversionFactor:1};let o=s(r||"");c=e*a[u]/o/i[g],d=a[u]/(o*i[g])}return{convertedValue:c,convertedUnit:n,originalValue:e,originalUnit:t,conversionFactor:d}}function d(e,t,n,i){return e/c(1,t,n,i).conversionFactor}},719:(e,t,n)=>{"use strict";n.d(t,{WH:()=>c,default:()=>l});var i=n(5155),a=n(3554),r=n(5695),s=n(2115);function o(e){let{gtmId:t,ga4MeasurementId:n}=e,o=(0,r.usePathname)(),l=(0,r.useSearchParams)(),c=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{window.dataLayer=window.dataLayer||[],c.current||(window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js",page_title:document.title,page_location:window.location.href,page_path:o}),c.current=!0,console.log("✅ GTM Data Layer initialized"))},[]),(0,s.useEffect)(()=>{window.dataLayer&&c.current&&(window.dataLayer.push({event:"page_view",page_title:document.title,page_location:window.location.href,page_path:o+(l.toString()?"?".concat(l.toString()):""),page_referrer:document.referrer,timestamp:Date.now()}),console.log("\uD83D\uDCCA GTM Page View tracked:",o))},[o,l]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("noscript",{children:(0,i.jsx)("iframe",{src:"https://www.googletagmanager.com/ns.html?id=".concat(t),height:"0",width:"0",style:{display:"none",visibility:"hidden"}})}),(0,i.jsx)(a.default,{id:"gtm-script",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n            })(window,document,'script','dataLayer','".concat(t,"');\n          ")},onLoad:()=>{console.log("\uD83D\uDCE5 Google Tag Manager loaded"),window.gtag||(window.gtag=function(){window.dataLayer.push(arguments)},console.log("\uD83D\uDD27 gtag function initialized for GTM compatibility"))},onError:()=>{console.error("❌ Failed to load Google Tag Manager")}})]})}function l(e){let{gtmId:t,ga4MeasurementId:n}=e;return(0,i.jsx)(s.Suspense,{fallback:null,children:(0,i.jsx)(o,{gtmId:t,ga4MeasurementId:n})})}function c(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t={event:e,...n,timestamp:Date.now()},window.dataLayer&&(window.dataLayer.push(t),console.log("\uD83D\uDCE4 Data pushed to GTM:",t))}},1514:(e,t,n)=>{"use strict";n.d(t,{_N:()=>l,jY:()=>i.jY,sx:()=>s,u0:()=>c,xO:()=>i.xO,yM:()=>o});var i=n(3645);class a{generateSessionId(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}loadUserId(){{let e=localStorage.getItem("prepflow_user_id");this.userId=e||void 0,this.userId||(this.userId=this.generateStableUserId(),localStorage.setItem("prepflow_user_id",this.userId))}}generateStableUserId(){return"user_"+Math.random().toString(36).substr(2,9)+"_"+Date.now().toString(36)}initializeAnalytics(){this.trackPageView(),this.trackPerformance(),this.trackUserInteractions(),this.trackConversions()}trackPageView(){let e={action:"page_view",category:"navigation",timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,page:window.location.pathname,referrer:document.referrer,userAgent:navigator.userAgent};this.events.push(e),this.sendToAnalytics(e)}trackPerformance(){"performance"in window&&new PerformanceObserver(e=>{for(let t of e.getEntries())if("navigation"===t.entryType){let e={pageLoadTime:t.loadEventEnd-t.loadEventStart,firstContentfulPaint:0,largestContentfulPaint:0,firstInputDelay:0,cumulativeLayoutShift:0,timestamp:Date.now(),page:window.location.pathname,sessionId:this.sessionId};this.performance.push(e),this.sendPerformanceMetrics(e)}}).observe({entryTypes:["navigation"]})}trackUserInteractions(){document.addEventListener("click",e=>{let t=e.target.closest("a, button");if(t){var n;let e=(null==(n=t.textContent)?void 0:n.trim())||"",i=t.href;i&&i.includes("gumroad.com/l/prepflow")&&(this.trackConversion({type:"cta_click",element:"gumroad_purchase",page:window.location.pathname,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,metadata:{href:i,text:e,action:"purchase_start"}}),window.gtag&&window.gtag("event","begin_checkout",{currency:"AUD",value:29,items:[{item_id:"prepflow_app",item_name:"PrepFlow App",price:29,quantity:1}]})),(e.includes("Watch Demo")||e.includes("Demo"))&&this.trackConversion({type:"demo_watch",element:e,page:window.location.pathname,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,metadata:{href:i,text:e,action:"demo_start"}}),(e.includes("Get Started")||e.includes("Start"))&&this.trackConversion({type:"cta_click",element:e,page:window.location.pathname,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,metadata:{href:i,text:e,action:"cta_click"}})}});let e=0,t=["#features","#demo","#pricing","#faq"];window.addEventListener("scroll",()=>{let n=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);n>e&&(e=n)%25==0&&this.trackEvent("scroll_depth","engagement","".concat(e,"%")),t.forEach(e=>{let t=document.querySelector(e);if(t){let n=t.getBoundingClientRect();if(n.top<window.innerHeight&&n.bottom>0&&!t.hasAttribute("data-tracked")){t.setAttribute("data-tracked","true");let n=e.replace("#","");this.trackEvent("section_view","engagement",n),window.gtag&&("pricing"===n?window.gtag("event","view_item_list",{item_list_id:"pricing_section",item_list_name:"Pricing Options"}):"demo"===n&&window.gtag("event","view_item",{item_id:"demo_video",item_name:"PrepFlow Demo Video"}))}}})})}trackConversions(){let e=document.querySelector('iframe[src*="youtube"]');if(e){let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(this.trackConversion({type:"demo_watch",element:"demo_section",page:window.location.pathname,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,metadata:{section:"demo"}}),t.disconnect())})});t.observe(e)}}trackEvent(e,t,n,i){let a={action:e,category:t,label:n,value:i,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,page:window.location.pathname,referrer:document.referrer,userAgent:navigator.userAgent};this.events.push(a),this.sendToAnalytics(a)}trackConversion(e){this.conversions.push(e),this.sendConversionData(e),this.trackEvent("conversion","business",e.type,1)}trackPerformanceMetrics(e){let t={pageLoadTime:0,firstContentfulPaint:0,largestContentfulPaint:0,firstInputDelay:0,cumulativeLayoutShift:0,timestamp:Date.now(),page:window.location.pathname,sessionId:this.sessionId,...e};this.performance.push(t),this.sendPerformanceMetrics(t)}sendToAnalytics(e){window.gtag&&window.gtag("event",e.action,{event_category:e.category,event_label:e.label,value:e.value,custom_parameter_session_id:e.sessionId,custom_parameter_user_id:e.userId,custom_parameter_page:e.page,custom_parameter_referrer:e.referrer})}sendConversionData(e){window.gtag&&window.gtag("event","conversion",{event_category:"conversion",event_label:e.type,value:1,custom_parameter_element:e.element,custom_parameter_page:e.page,custom_parameter_session_id:e.sessionId,custom_parameter_user_id:e.userId,custom_parameter_metadata:JSON.stringify(e.metadata)})}sendPerformanceMetrics(e){}getSessionId(){return this.sessionId}getUserId(){return this.userId}setUserId(e){this.userId=e,localStorage.setItem("prepflow_user_id",e)}getEvents(){return[...this.events]}getConversions(){return[...this.conversions]}getPerformance(){return[...this.performance]}exportData(){return{sessionId:this.sessionId,userId:this.userId,events:this.events,conversions:this.conversions,performance:this.performance}}constructor(){this.events=[],this.conversions=[],this.performance=[],this.sessionId=this.generateSessionId(),this.loadUserId(),this.initializeAnalytics()}}let r=new a,s=r.trackEvent.bind(r),o=r.trackConversion.bind(r),l=r.trackPerformanceMetrics.bind(r),c=r.getSessionId.bind(r);r.setUserId.bind(r)},3645:(e,t,n)=>{"use strict";n.d(t,{NU:()=>o,jY:()=>s,xO:()=>r});class i{initializeDefaultTests(){this.addTest("landing_page_variants",[{id:"control",name:"Control",description:"Original landing page",trafficSplit:25,isControl:!0},{id:"variant_a",name:"Variant A",description:"Alternative hero section",trafficSplit:25,isControl:!1},{id:"variant_b",name:"Variant B",description:"Different pricing layout",trafficSplit:25,isControl:!1},{id:"variant_c",name:"Variant C",description:"New CTA positioning",trafficSplit:25,isControl:!1}])}addTest(e,t){this.tests.set(e,t)}assignVariant(e,t){var n;console.log("\uD83C\uDFAF Assigning variant for:",{testId:e,userId:t});let i=this.tests.get(e);if(!i)return console.warn("AB test ".concat(e," not found")),"control";let a=this.getPersistentVariant(t);if(a)return console.log("\uD83C\uDFAF Returning existing persistent variant:",a),a;let r=this.assignNewPersistentVariant(e,t,i);return console.log("\uD83C\uDFAF Assigned new persistent variant:",r),this.trackEvent({testId:e,variantId:r,userId:t,sessionId:this.getSessionId(),eventType:"variant_assigned",timestamp:Date.now(),metadata:{variant_name:(null==(n=i.find(e=>e.id===r))?void 0:n.name)||r,is_control:"control"===r,assignment_type:"persistent",rotation_period:"1_month"}}),r}getPersistentVariant(e){try{let t=localStorage.getItem("prepflow_variant_".concat(e));if(!t)return console.log("\uD83D\uDD0D No persistent variant found for user:",e),null;let n=JSON.parse(t),i=new Date(n.assignedAt),a=(new Date().getTime()-i.getTime())/864e5;if(console.log("\uD83D\uDD0D Persistent variant check:",{userId:e,variantId:n.variantId,assignedAt:n.assignedAt,daysSinceAssignment:Math.round(a),isExpired:a>=30}),a<30)return console.log("✅ Returning persistent variant:",n.variantId),n.variantId;return console.log("\uD83D\uDD04 Variant expired, clearing for rotation"),localStorage.removeItem("prepflow_variant_".concat(e)),null}catch(e){return console.warn("Error reading persistent variant:",e),null}}assignNewPersistentVariant(e,t,n){let i=100*Math.random(),a=0;for(let e of n)if(i<=(a+=e.trafficSplit)){let n=e.id;return this.storePersistentVariant(t,n),n}let r="control";return this.storePersistentVariant(t,r),r}storePersistentVariant(e,t){try{let n={variantId:t,assignedAt:new Date().toISOString(),testId:"landing_page_variants"};localStorage.setItem("prepflow_variant_".concat(e),JSON.stringify(n)),console.log("\uD83D\uDCBE Stored persistent variant:",{userId:e,variantId:t,assignedAt:n.assignedAt,storageKey:"prepflow_variant_".concat(e)})}catch(e){console.warn("Error storing persistent variant:",e)}}getCurrentVariant(e,t){return this.assignVariant(e,t)}trackEvent(e){this.events.push(e),window.gtag&&window.gtag("event",e.eventType,{event_category:"ab_testing",event_label:"".concat(e.testId,"_").concat(e.variantId),value:e.eventValue,custom_parameter_test_id:e.testId,custom_parameter_variant_id:e.variantId,custom_parameter_user_id:e.userId,custom_parameter_session_id:e.sessionId,custom_parameter_metadata:JSON.stringify(e.metadata)})}trackConversion(e,t,n,i){let a=this.getCurrentVariant(e,t);this.trackEvent({testId:e,variantId:a,userId:t,sessionId:this.getSessionId(),eventType:"conversion",eventValue:n,timestamp:Date.now(),metadata:i})}trackEngagement(e,t,n,i){let a=this.getCurrentVariant(e,t);this.trackEvent({testId:e,variantId:a,userId:t,sessionId:this.getSessionId(),eventType:"engagement",timestamp:Date.now(),metadata:{engagement_type:n,...i}})}getTestResults(e){let t=this.tests.get(e);if(!t)return[];let n=[];for(let i of t){let t=this.events.filter(t=>t.testId===e&&t.variantId===i.id),a=new Set(t.map(e=>e.userId)).size,r=t.filter(e=>"conversion"===e.eventType).length,s=a>0?r/a*100:0,o=t.filter(e=>"conversion"===e.eventType).reduce((e,t)=>e+(t.eventValue||0),0),l=r>0?o/r:0;n.push({testId:e,variantId:i.id,totalUsers:a,conversions:r,conversionRate:s,averageOrderValue:l,revenue:o,statisticalSignificance:this.calculateStatisticalSignificance(e,i.id)})}return n.sort((e,t)=>t.conversionRate-e.conversionRate)}calculateStatisticalSignificance(e,t){let n=this.events.filter(n=>n.testId===e&&n.variantId===t),i=this.events.filter(t=>t.testId===e&&"control"===t.variantId),a=n.filter(e=>"conversion"===e.eventType).length,r=n.length,s=i.filter(e=>"conversion"===e.eventType).length,o=i.length;return 0===r||0===o?0:Math.round(Math.min(100*Math.abs(a/r-s/o),100))}getSessionId(){return sessionStorage.getItem("prepflow_session_id")||"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}exportData(){return{tests:this.tests,events:this.events,userVariants:this.userVariants}}getActiveTests(){return Array.from(this.tests.keys())}getVariantInfo(e,t){let n=this.tests.get(e);return null==n?void 0:n.find(e=>e.id===t)}getVariantAssignmentInfo(e){try{let t=localStorage.getItem("prepflow_variant_".concat(e));if(!t)return null;let n=JSON.parse(t),i=new Date(n.assignedAt),a=(new Date().getTime()-i.getTime())/864e5,r=Math.max(0,30-a);return{variantId:n.variantId,assignedAt:n.assignedAt,daysRemaining:Math.round(r),isPersistent:r>0}}catch(e){return console.warn("Error reading variant assignment info:",e),null}}constructor(){this.tests=new Map,this.events=[],this.userVariants=new Map,this.initializeDefaultTests()}}let a=new i,r=a.assignVariant.bind(a);a.getCurrentVariant.bind(a),a.trackConversion.bind(a);let s=a.trackEngagement.bind(a);a.getTestResults.bind(a),a.getActiveTests.bind(a),a.getVariantInfo.bind(a);let o=a.getVariantAssignmentInfo.bind(a)},4441:()=>{},6481:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,6874,23))},8081:(e,t,n)=>{"use strict";function i(e){return e?e.split(" ").map(e=>{let t=e.toLowerCase();return"and"===t||"or"===t||"the"===t||"of"===t||"in"===t||"with"===t||"for"===t||"to"===t||"from"===t?t:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(" "):""}function a(e){return i(e)}function r(e){return i(e)}function s(e){return i(e)}function o(e){return i(e)}function l(e){return i(e)}function c(e){return i(e)}function d(e){return i(e)}n.d(t,{$m:()=>d,M$:()=>l,SC:()=>s,Ts:()=>r,_J:()=>a,xQ:()=>c,zl:()=>o})},9269:(e,t,n)=>{"use strict";n.d(t,{ND:()=>s});var i=n(8277);n(9509);let a="https://dulkrqgjfohsuxhsmofo.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR1bGtycWdqZm9oc3V4aHNtb2ZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NzYwMDMsImV4cCI6MjA3MjU1MjAwM30.b_P98mAantymNfWy1Qz18SaR-LwrPjuaebO2Uj_5JK8";if(!a||!r)throw Error("Missing Supabase environment variables. Please check your .env.local file.");let s=(0,i.UU)(a,r)},9393:()=>{}}]);
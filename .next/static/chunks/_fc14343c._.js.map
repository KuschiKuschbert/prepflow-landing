{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/lib/unit-conversion.ts"],"sourcesContent":["// Unit conversion utilities for ingredient management\n\nexport interface ConversionResult {\n  conversionFactor: number;\n  isValid: boolean;\n  error?: string;\n}\n\n// Common unit conversions\nconst CONVERSION_FACTORS: Record<string, Record<string, number>> = {\n  // Weight conversions (base unit: grams)\n  'g': { 'g': 1, 'kg': 0.001, 'oz': 0.035274, 'lb': 0.002205 },\n  'kg': { 'g': 1000, 'kg': 1, 'oz': 35.274, 'lb': 2.205 },\n  'oz': { 'g': 28.3495, 'kg': 0.0283495, 'oz': 1, 'lb': 0.0625 },\n  'lb': { 'g': 453.592, 'kg': 0.453592, 'oz': 16, 'lb': 1 },\n  \n  // Volume conversions (base unit: milliliters)\n  'ml': { 'ml': 1, 'l': 0.001, 'tsp': 0.202884, 'tbsp': 0.067628, 'cup': 0.004227 },\n  'l': { 'ml': 1000, 'l': 1, 'tsp': 202.884, 'tbsp': 67.628, 'cup': 4.227 },\n  'tsp': { 'ml': 4.92892, 'l': 0.00492892, 'tsp': 1, 'tbsp': 0.333333, 'cup': 0.0208333 },\n  'tbsp': { 'ml': 14.7868, 'l': 0.0147868, 'tsp': 3, 'tbsp': 1, 'cup': 0.0625 },\n  'cup': { 'ml': 236.588, 'l': 0.236588, 'tsp': 48, 'tbsp': 16, 'cup': 1 },\n  \n  // Piece conversions (base unit: pieces)\n  'pc': { 'pc': 1, 'box': 0.01, 'pack': 0.1, 'bag': 0.05, 'bottle': 0.1, 'can': 0.1 },\n  'box': { 'pc': 100, 'box': 1, 'pack': 10, 'bag': 5, 'bottle': 10, 'can': 10 },\n  'pack': { 'pc': 10, 'box': 0.1, 'pack': 1, 'bag': 0.5, 'bottle': 1, 'can': 1 },\n  'bag': { 'pc': 20, 'box': 0.2, 'pack': 2, 'bag': 1, 'bottle': 2, 'can': 2 },\n  'bottle': { 'pc': 10, 'box': 0.1, 'pack': 1, 'bag': 0.5, 'bottle': 1, 'can': 1 },\n  'can': { 'pc': 10, 'box': 0.1, 'pack': 1, 'bag': 0.5, 'bottle': 1, 'can': 1 }\n};\n\nexport function convertUnit(amount: number, fromUnit: string, toUnit: string): ConversionResult {\n  if (!fromUnit || !toUnit) {\n    return { conversionFactor: 1, isValid: false, error: 'Unit not specified' };\n  }\n\n  // Normalize units - handle common variations\n  const normalizeUnit = (unit: string): string => {\n    const normalized = unit.toLowerCase().trim();\n    // Handle common unit variations\n    if (normalized === 'gm') return 'g';\n    if (normalized === 'ml') return 'ml';\n    if (normalized === 'pc') return 'pc';\n    return normalized;\n  };\n\n  const from = normalizeUnit(fromUnit);\n  const to = normalizeUnit(toUnit);\n\n  if (from === to) {\n    return { conversionFactor: 1, isValid: true };\n  }\n\n  const fromFactors = CONVERSION_FACTORS[from];\n  if (!fromFactors) {\n    return { conversionFactor: 1, isValid: false, error: `Unknown unit: ${fromUnit}` };\n  }\n\n  const conversionFactor = fromFactors[to];\n  if (conversionFactor === undefined) {\n    return { conversionFactor: 1, isValid: false, error: `Cannot convert from ${fromUnit} to ${toUnit}` };\n  }\n\n  return { conversionFactor, isValid: true };\n}\n\nexport function convertIngredientCost(\n  cost: number, \n  fromUnit: string, \n  toUnit: string, \n  ingredientName: string\n): number {\n  const conversion = convertUnit(1, fromUnit, toUnit);\n  if (!conversion.isValid) {\n    // Only log unique conversion errors to reduce console spam\n    const errorKey = `${fromUnit}-${toUnit}`;\n    if (!conversionErrors.has(errorKey)) {\n      console.warn(`Conversion failed for ${ingredientName}: ${conversion.error}`);\n      conversionErrors.add(errorKey);\n    }\n    return cost;\n  }\n  return cost * conversion.conversionFactor;\n}\n\n// Track conversion errors to prevent spam\nconst conversionErrors = new Set<string>();\n\nexport function isVolumeUnit(unit: string): boolean {\n  const volumeUnits = ['ml', 'l', 'tsp', 'tbsp', 'cup'];\n  return volumeUnits.includes(unit.toLowerCase());\n}\n\nexport function isWeightUnit(unit: string): boolean {\n  const weightUnits = ['g', 'kg', 'oz', 'lb'];\n  return weightUnits.includes(unit.toLowerCase());\n}\n\nexport function getAllUnits(): string[] {\n  return Object.keys(CONVERSION_FACTORS);\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/ingredients/components/IngredientWizard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useTranslation } from '@/lib/useTranslation';\nimport { formatIngredientName, formatBrandName, formatSupplierName, formatStorageLocation } from '@/lib/text-utils';\nimport { convertUnit } from '@/lib/unit-conversion';\n\ninterface Ingredient {\n  id: string;\n  ingredient_name: string;\n  brand?: string;\n  pack_size?: string;\n  pack_size_unit?: string;\n  pack_price?: number;\n  unit?: string;\n  cost_per_unit: number;\n  cost_per_unit_as_purchased?: number;\n  cost_per_unit_incl_trim?: number;\n  trim_peel_waste_percentage?: number;\n  yield_percentage?: number;\n  supplier?: string;\n  product_code?: string;\n  storage_location?: string;\n  min_stock_level?: number;\n  current_stock?: number;\n  created_at?: string;\n  updated_at?: string;\n}\n\ninterface Supplier {\n  id: string;\n  name: string;\n  created_at: string;\n}\n\ninterface IngredientWizardProps {\n  suppliers: Supplier[];\n  availableUnits: string[];\n  onSave: (ingredient: Partial<Ingredient>) => Promise<void>;\n  onCancel: () => void;\n  onAddSupplier: (name: string) => Promise<void>;\n  loading?: boolean;\n}\n\nexport default function IngredientWizard({\n  suppliers,\n  availableUnits,\n  onSave,\n  onCancel,\n  onAddSupplier,\n  loading = false\n}: IngredientWizardProps) {\n  const { t } = useTranslation();\n  \n  const [wizardStep, setWizardStep] = useState(1);\n  const [formData, setFormData] = useState<Partial<Ingredient>>({\n    ingredient_name: '',\n    brand: '',\n    pack_size: '1',\n    pack_size_unit: 'GM',\n    pack_price: 0,\n    unit: 'GM',\n    cost_per_unit: 0,\n    cost_per_unit_as_purchased: 0,\n    cost_per_unit_incl_trim: 0,\n    trim_peel_waste_percentage: 0,\n    yield_percentage: 100,\n    supplier: '',\n    product_code: '',\n    storage_location: '',\n    min_stock_level: 0,\n  });\n\n  const [newSupplier, setNewSupplier] = useState('');\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  // Calculate cost per unit from pack price and pack size\n  const calculateCostPerUnit = (packPrice: number, packSize: number, packSizeUnit: string, targetUnit: string): number => {\n    if (packPrice === 0 || packSize === 0) return 0;\n    \n    const conversion = convertUnit(1, packSizeUnit, targetUnit);\n    const packSizeInTargetUnit = packSize * conversion.conversionFactor;\n    \n    return packPrice / packSizeInTargetUnit;\n  };\n\n  // Auto-calculate cost per unit when pack price or pack size changes\n  const updateCostPerUnit = () => {\n    if (formData.pack_price && formData.pack_size && formData.pack_size_unit && formData.unit) {\n      const calculatedCost = calculateCostPerUnit(\n        formData.pack_price,\n        parseFloat(formData.pack_size),\n        formData.pack_size_unit,\n        formData.unit\n      );\n      setFormData(prev => ({\n        ...prev,\n        cost_per_unit: calculatedCost,\n        cost_per_unit_as_purchased: calculatedCost,\n        cost_per_unit_incl_trim: calculatedCost\n      }));\n    }\n  };\n\n  // AI-powered wastage calculation based on ingredient name\n  const calculateWastagePercentage = (ingredientName: string): number => {\n    const name = ingredientName.toLowerCase();\n    \n    // High wastage ingredients (30-50%)\n    if (name.includes('whole') || name.includes('bone') || name.includes('shell') || \n        name.includes('peel') || name.includes('skin') || name.includes('rind') ||\n        name.includes('head') || name.includes('stalk') || name.includes('stem')) {\n      return Math.floor(Math.random() * 21) + 30; // 30-50%\n    }\n    \n    // Medium wastage ingredients (10-25%)\n    if (name.includes('fresh') || name.includes('raw') || name.includes('uncooked') ||\n        name.includes('leafy') || name.includes('herb') || name.includes('lettuce') ||\n        name.includes('spinach') || name.includes('kale') || name.includes('cabbage')) {\n      return Math.floor(Math.random() * 16) + 10; // 10-25%\n    }\n    \n    // Low wastage ingredients (0-10%)\n    if (name.includes('frozen') || name.includes('canned') || name.includes('dried') ||\n        name.includes('powder') || name.includes('oil') || name.includes('sauce') ||\n        name.includes('paste') || name.includes('concentrate')) {\n      return Math.floor(Math.random() * 11); // 0-10%\n    }\n    \n    // Default moderate wastage (5-15%)\n    return Math.floor(Math.random() * 11) + 5; // 5-15%\n  };\n\n  // Smart cost formatting - 3 decimals for small amounts (0.xxx), fewer for larger amounts\n  const formatCost = (cost: number): string => {\n    if (cost < 1) {\n      return cost.toFixed(3); // 0.007\n    } else if (cost < 10) {\n      return cost.toFixed(2); // 1.25\n    } else {\n      return cost.toFixed(2); // 15.50\n    }\n  };\n\n  const handleInputChange = (field: keyof Ingredient, value: string | number) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n\n    // Clear error when user starts typing\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: '' }));\n    }\n\n    // Auto-calculate cost per unit for relevant fields\n    if (['pack_price', 'pack_size', 'pack_size_unit', 'unit'].includes(field)) {\n      setTimeout(updateCostPerUnit, 100);\n    }\n  };\n\n  const handleWastagePercentageChange = (wastage: number) => {\n    const clampedWastage = Math.max(0, Math.min(100, Math.round(wastage)));\n    const yieldPercentage = 100 - clampedWastage;\n    \n    setFormData(prev => ({\n      ...prev,\n      trim_peel_waste_percentage: clampedWastage,\n      yield_percentage: yieldPercentage\n    }));\n  };\n\n  const handleYieldPercentageChange = (yieldPercent: number) => {\n    const clampedYield = Math.max(0, Math.min(100, Math.round(yieldPercent)));\n    const wastagePercentage = 100 - clampedYield;\n    \n    setFormData(prev => ({\n      ...prev,\n      yield_percentage: clampedYield,\n      trim_peel_waste_percentage: wastagePercentage\n    }));\n  };\n\n  const addNewSupplier = async (supplierName: string) => {\n    try {\n      await onAddSupplier(supplierName);\n      setFormData(prev => ({ ...prev, supplier: supplierName }));\n      setNewSupplier('');\n    } catch (error) {\n      console.error('Failed to add supplier:', error);\n    }\n  };\n\n  const validateStep = (step: number): boolean => {\n    const newErrors: Record<string, string> = {};\n\n    if (step === 1) {\n      if (!formData.ingredient_name?.trim()) {\n        newErrors.ingredient_name = 'Ingredient name is required';\n      }\n      if (!formData.pack_price || formData.pack_price <= 0) {\n        newErrors.pack_price = 'Pack price must be greater than 0';\n      }\n      if (!formData.pack_size || parseFloat(formData.pack_size) <= 0) {\n        newErrors.pack_size = 'Pack size must be greater than 0';\n      }\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const nextStep = () => {\n    if (validateStep(wizardStep)) {\n      setWizardStep(prev => Math.min(prev + 1, 3));\n    }\n  };\n\n  const prevStep = () => {\n    setWizardStep(prev => Math.max(prev - 1, 1));\n  };\n\n  const resetWizard = () => {\n    setWizardStep(1);\n    setFormData({\n      ingredient_name: '',\n      brand: '',\n      pack_size: '1',\n      pack_size_unit: 'GM',\n      pack_price: 0,\n      unit: 'GM',\n      cost_per_unit: 0,\n      cost_per_unit_as_purchased: 0,\n      cost_per_unit_incl_trim: 0,\n      trim_peel_waste_percentage: 0,\n      yield_percentage: 100,\n      supplier: '',\n      product_code: '',\n      storage_location: '',\n      min_stock_level: 0,\n    });\n    setErrors({});\n  };\n\n  const handleSave = async () => {\n    if (!validateStep(3)) return;\n\n    try {\n      // Capitalize text fields before saving\n      const capitalizedIngredient = {\n        ...formData,\n        ingredient_name: formatIngredientName(formData.ingredient_name || ''),\n        brand: formatBrandName(formData.brand || ''),\n        supplier: formatSupplierName(formData.supplier || ''),\n        storage_location: formatStorageLocation(formData.storage_location || ''),\n      };\n\n      await onSave(capitalizedIngredient);\n      resetWizard();\n    } catch (error) {\n      console.error('Error saving ingredient:', error);\n    }\n  };\n\n  return (\n    <div className=\"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] mb-8\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-2xl font-semibold text-white\">ü•ò Add New Ingredient</h2>\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"w-2 h-2 bg-[#29E7CD] rounded-full\"></div>\n          <span className=\"text-xs text-gray-400\">Guided Setup</span>\n        </div>\n      </div>\n\n      {/* Wizard Progress */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center justify-center space-x-4\">\n          {[1, 2, 3].map((step) => (\n            <div key={step} className=\"flex items-center\">\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-all duration-200 ${\n                step <= wizardStep \n                  ? 'bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white' \n                  : 'bg-[#2a2a2a] text-gray-400'\n              }`}>\n                {step}\n              </div>\n              {step < 3 && (\n                <div className={`w-12 h-1 mx-2 transition-all duration-200 ${\n                  step < wizardStep ? 'bg-gradient-to-r from-[#29E7CD] to-[#D925C7]' : 'bg-[#2a2a2a]'\n                }`} />\n              )}\n            </div>\n          ))}\n        </div>\n        <div className=\"flex justify-center mt-4\">\n          <div className=\"text-sm text-gray-400\">\n            {wizardStep === 1 && 'üì¶ Basic Information'}\n            {wizardStep === 2 && '‚öôÔ∏è Advanced Settings'}\n            {wizardStep === 3 && '‚úÖ Review & Save'}\n          </div>\n        </div>\n      </div>\n\n      {/* Step 1: Basic Information */}\n      {wizardStep === 1 && (\n        <div className=\"space-y-6\">\n          <div className=\"text-center mb-6\">\n            <h3 className=\"text-xl font-semibold text-white mb-2\">üì¶ Basic Information</h3>\n            <p className=\"text-gray-400\">Let's start with the essential details</p>\n          </div>\n          \n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                Ingredient Name *\n              </label>\n              <input\n                type=\"text\"\n                required\n                value={formData.ingredient_name || ''}\n                onChange={(e) => handleInputChange('ingredient_name', e.target.value)}\n                className=\"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                placeholder=\"e.g., Fresh Tomatoes\"\n              />\n              {errors.ingredient_name && (\n                <p className=\"text-red-400 text-sm mt-1\">{errors.ingredient_name}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                Brand (Optional)\n              </label>\n              <input\n                type=\"text\"\n                value={formData.brand || ''}\n                onChange={(e) => handleInputChange('brand', e.target.value)}\n                className=\"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                placeholder=\"e.g., Coles, Woolworths\"\n              />\n            </div>\n          </div>\n\n          <div className=\"bg-[#2a2a2a]/30 p-6 rounded-2xl border border-[#2a2a2a]/50\">\n            <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center\">\n              üì¶ Packaging Information\n            </h3>\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Pack Size *\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.pack_size || ''}\n                  onChange={(e) => handleInputChange('pack_size', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                  placeholder=\"e.g., 5\"\n                />\n                {errors.pack_size && (\n                  <p className=\"text-red-400 text-sm mt-1\">{errors.pack_size}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Pack Unit *\n                </label>\n                <select\n                  value={formData.pack_size_unit || ''}\n                  onChange={(e) => handleInputChange('pack_size_unit', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                >\n                  <option value=\"\">Select pack unit</option>\n                  <option value=\"GM\">Grams (g)</option>\n                  <option value=\"KG\">Kilograms (kg)</option>\n                  <option value=\"ML\">Milliliters (ml)</option>\n                  <option value=\"L\">Liters (L)</option>\n                  <option value=\"PC\">Pieces</option>\n                  <option value=\"BOX\">Box</option>\n                  <option value=\"PACK\">Pack</option>\n                  <option value=\"BAG\">Bag</option>\n                  <option value=\"BOTTLE\">Bottle</option>\n                  <option value=\"CAN\">Can</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Individual Unit *\n                </label>\n                <select\n                  value={formData.unit || ''}\n                  onChange={(e) => handleInputChange('unit', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                >\n                  <option value=\"\">Select individual unit</option>\n                  <option value=\"GM\">Grams (g)</option>\n                  <option value=\"KG\">Kilograms (kg)</option>\n                  <option value=\"ML\">Milliliters (ml)</option>\n                  <option value=\"L\">Liters (L)</option>\n                  <option value=\"PC\">Pieces</option>\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"mt-4\">\n              <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                Pack Price ($) *\n              </label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-3 text-gray-400\">$</span>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  required\n                  value={formData.pack_price || ''}\n                  onChange={(e) => handleInputChange('pack_price', parseFloat(e.target.value) || 0)}\n                  className=\"w-full pl-8 pr-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                  placeholder=\"13.54\"\n                />\n              </div>\n              {errors.pack_price && (\n                <p className=\"text-red-400 text-sm mt-1\">{errors.pack_price}</p>\n              )}\n              \n              {/* Helper text */}\n              <div className=\"mt-4 p-3 bg-[#29E7CD]/10 border border-[#29E7CD]/20 rounded-xl\">\n                <p className=\"text-sm text-[#29E7CD]\">\n                  üí° Enter the total pack price (e.g., $13.54 for a 5L tub of yogurt). The system will automatically calculate the price per unit.\n                </p>\n                {formData.pack_price && formData.pack_size && formData.pack_size_unit && formData.unit && (\n                  <p className=\"text-sm text-[#29E7CD] mt-2 font-medium\">\n                    ‚úÖ Price per {formData.unit}: ${formatCost(formData.cost_per_unit || 0)}\n                  </p>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Step 1 Navigation */}\n          <div className=\"flex justify-end space-x-4\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"px-6 py-3 bg-[#2a2a2a] text-gray-300 rounded-2xl hover:bg-[#2a2a2a]/80 transition-all duration-200 font-medium\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"button\"\n              onClick={nextStep}\n              disabled={!formData.ingredient_name || !formData.pack_price || !formData.pack_size}\n              className=\"px-6 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-2xl hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Next Step ‚Üí\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 2: Advanced Settings */}\n      {wizardStep === 2 && (\n        <div className=\"space-y-6\">\n          <div className=\"text-center mb-6\">\n            <h3 className=\"text-xl font-semibold text-white mb-2\">‚öôÔ∏è Advanced Settings</h3>\n            <p className=\"text-gray-400\">Configure wastage, yield, and supplier information</p>\n          </div>\n\n          {/* Wastage and Yield */}\n          <div className=\"bg-[#2a2a2a]/30 p-6 rounded-2xl border border-[#2a2a2a]/50\">\n            <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center\">\n              üéØ Wastage & Yield Management\n            </h3>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Trim/Waste Percentage\n                </label>\n                <div className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"number\"\n                    step=\"1\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={formData.trim_peel_waste_percentage || 0}\n                    onChange={(e) => handleWastagePercentageChange(parseInt(e.target.value) || 0)}\n                    className=\"flex-1 px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                  />\n                  <span className=\"text-gray-400\">%</span>\n                </div>\n                {formData.ingredient_name && (\n                  <p className=\"text-xs text-gray-400 mt-1\">\n                    üí° AI suggests: {calculateWastagePercentage(formData.ingredient_name)}% based on \"{formData.ingredient_name}\"\n                  </p>\n                )}\n              </div>\n                \n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Yield Percentage\n                </label>\n                <div className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"number\"\n                    step=\"1\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={formData.yield_percentage || 100}\n                    onChange={(e) => handleYieldPercentageChange(parseInt(e.target.value) || 100)}\n                    className=\"flex-1 px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                  />\n                  <span className=\"text-gray-400\">%</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Supplier Information */}\n          <div className=\"bg-[#2a2a2a]/30 p-6 rounded-2xl border border-[#2a2a2a]/50\">\n            <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center\">\n              üè™ Supplier Information\n            </h3>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Supplier\n                </label>\n                <select\n                  value={formData.supplier || ''}\n                  onChange={(e) => handleInputChange('supplier', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                >\n                  <option value=\"\">Select supplier</option>\n                  {suppliers.map(supplier => (\n                    <option key={supplier.id} value={supplier.name}>{supplier.name}</option>\n                  ))}\n                  <option value=\"custom\">+ Add new supplier</option>\n                </select>\n                    \n                {formData.supplier === 'custom' && (\n                  <div className=\"flex gap-2 mt-2\">\n                    <input\n                      type=\"text\"\n                      value={newSupplier}\n                      onChange={(e) => setNewSupplier(e.target.value)}\n                      className=\"flex-1 px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                      placeholder=\"Enter new supplier name\"\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => addNewSupplier(newSupplier)}\n                      disabled={!newSupplier.trim()}\n                      className=\"px-4 py-3 bg-[#29E7CD]/10 text-[#29E7CD] rounded-2xl hover:bg-[#29E7CD]/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      Add\n                    </button>\n                  </div>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Storage Location\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.storage_location || ''}\n                  onChange={(e) => handleInputChange('storage_location', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                  placeholder=\"e.g., Cold Room A, Dry Storage\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Additional Information */}\n          <div className=\"bg-[#2a2a2a]/30 p-6 rounded-2xl border border-[#2a2a2a]/50\">\n            <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center\">\n              üìã Additional Information\n            </h3>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Product Code (Optional)\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.product_code || ''}\n                  onChange={(e) => handleInputChange('product_code', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                  placeholder=\"e.g., SKU123456\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Min Stock Level\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.min_stock_level || 0}\n                  onChange={(e) => handleInputChange('min_stock_level', parseInt(e.target.value) || 0)}\n                  className=\"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all\"\n                  placeholder=\"0\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Step 2 Navigation */}\n          <div className=\"flex justify-between space-x-4\">\n            <button\n              type=\"button\"\n              onClick={prevStep}\n              className=\"px-6 py-3 bg-[#2a2a2a] text-gray-300 rounded-2xl hover:bg-[#2a2a2a]/80 transition-all duration-200 font-medium\"\n            >\n              ‚Üê Previous Step\n            </button>\n            <button\n              type=\"button\"\n              onClick={nextStep}\n              className=\"px-6 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-2xl hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 font-medium shadow-lg hover:shadow-xl\"\n            >\n              Next Step ‚Üí\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 3: Review & Save */}\n      {wizardStep === 3 && (\n        <div className=\"space-y-6\">\n          <div className=\"text-center mb-6\">\n            <h3 className=\"text-xl font-semibold text-white mb-2\">‚úÖ Review & Save</h3>\n            <p className=\"text-gray-400\">Review your ingredient details before saving</p>\n          </div>\n\n          {/* Review Summary */}\n          <div className=\"bg-[#2a2a2a]/30 p-6 rounded-2xl border border-[#2a2a2a]/50\">\n            <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center\">\n              üìã Ingredient Summary\n            </h3>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n              <div className=\"space-y-3\">\n                <div>\n                  <span className=\"text-sm text-gray-400\">Ingredient Name:</span>\n                  <div className=\"text-white font-medium\">{formData.ingredient_name}</div>\n                </div>\n                <div>\n                  <span className=\"text-sm text-gray-400\">Brand:</span>\n                  <div className=\"text-white font-medium\">{formData.brand || 'Not specified'}</div>\n                </div>\n                <div>\n                  <span className=\"text-sm text-gray-400\">Pack Size:</span>\n                  <div className=\"text-white font-medium\">{formData.pack_size} {formData.pack_size_unit}</div>\n                </div>\n                <div>\n                  <span className=\"text-sm text-gray-400\">Pack Price:</span>\n                  <div className=\"text-white font-medium\">${formData.pack_price}</div>\n                </div>\n              </div>\n              <div className=\"space-y-3\">\n                <div>\n                  <span className=\"text-sm text-gray-400\">Individual Unit:</span>\n                  <div className=\"text-white font-medium\">{formData.unit}</div>\n                </div>\n                <div>\n                  <span className=\"text-sm text-gray-400\">Price per {formData.unit}:</span>\n                  <div className=\"text-white font-medium\">${formatCost(formData.cost_per_unit || 0)}</div>\n                </div>\n                <div>\n                  <span className=\"text-sm text-gray-400\">Wastage:</span>\n                  <div className=\"text-white font-medium\">{formData.trim_peel_waste_percentage}%</div>\n                </div>\n                <div>\n                  <span className=\"text-sm text-gray-400\">Yield:</span>\n                  <div className=\"text-white font-medium\">{formData.yield_percentage}%</div>\n                </div>\n              </div>\n            </div>\n            \n            {(formData.supplier || formData.storage_location || formData.product_code) && (\n              <div className=\"mt-6 pt-6 border-t border-[#2a2a2a]\">\n                <h4 className=\"text-md font-semibold text-white mb-3\">Additional Details</h4>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                  {formData.supplier && (\n                    <div>\n                      <span className=\"text-sm text-gray-400\">Supplier:</span>\n                      <div className=\"text-white font-medium\">{formData.supplier}</div>\n                    </div>\n                  )}\n                  {formData.storage_location && (\n                    <div>\n                      <span className=\"text-sm text-gray-400\">Storage Location:</span>\n                      <div className=\"text-white font-medium\">{formData.storage_location}</div>\n                    </div>\n                  )}\n                  {formData.product_code && (\n                    <div>\n                      <span className=\"text-sm text-gray-400\">Product Code:</span>\n                      <div className=\"text-white font-medium\">{formData.product_code}</div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Step 3 Navigation */}\n          <div className=\"flex justify-between space-x-4\">\n            <button\n              type=\"button\"\n              onClick={prevStep}\n              className=\"px-6 py-3 bg-[#2a2a2a] text-gray-300 rounded-2xl hover:bg-[#2a2a2a]/80 transition-all duration-200 font-medium\"\n            >\n              ‚Üê Previous Step\n            </button>\n            <div className=\"flex space-x-4\">\n              <button\n                type=\"button\"\n                onClick={resetWizard}\n                className=\"px-6 py-3 bg-[#2a2a2a] text-gray-300 rounded-2xl hover:bg-[#2a2a2a]/80 transition-all duration-200 font-medium\"\n              >\n                Start Over\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleSave}\n                disabled={loading}\n                className=\"px-6 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-2xl hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {loading ? 'Saving...' : '‚úÖ Save Ingredient'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}
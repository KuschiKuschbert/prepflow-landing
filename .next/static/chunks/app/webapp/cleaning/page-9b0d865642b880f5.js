(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6912],{44103:(e,a,s)=>{Promise.resolve().then(s.bind(s,66588))},66588:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(95155),n=s(12115),r=s(34908),l=s(44588),i=s(12104);function d(){let{t:e}=(0,r.Bd)(),[a,s]=(0,n.useState)([]),[d,c]=(0,n.useState)([]),[o,x]=(0,n.useState)(!1),[m,u]=(0,n.useState)("areas"),[h,g]=(0,n.useState)(!1),[b,p]=(0,n.useState)(!1),[f,j]=(0,n.useState)({name:"",description:"",frequency_days:7}),[y,v]=(0,n.useState)({area_id:"",assigned_date:"",notes:""});(0,n.useEffect)(()=>{N(),w()},[]);let N=async()=>{try{let e=await fetch("/api/cleaning-areas"),a=await e.json();a.success&&s(a.data)}catch(e){console.error("Error fetching areas:",e)}},w=async()=>{try{let e=await fetch("/api/cleaning-tasks"),a=await e.json();a.success&&c(a.data)}catch(e){console.error("Error fetching tasks:",e)}finally{x(!1)}},C=async e=>{e.preventDefault();try{let e=await fetch("/api/cleaning-areas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),t=await e.json();t.success&&(s([...a,t.data]),j({name:"",description:"",frequency_days:7}),g(!1))}catch(e){console.error("Error adding area:",e)}},D=async e=>{e.preventDefault();try{let e=await fetch("/api/cleaning-tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...y,area_id:parseInt(y.area_id)})}),a=await e.json();a.success&&(c([a.data,...d]),v({area_id:"",assigned_date:"",notes:""}),p(!1))}catch(e){console.error("Error adding task:",e)}},k=async e=>{try{let a=await fetch("/api/cleaning-tasks",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,status:"completed"})}),s=await a.json();s.success&&c(d.map(a=>a.id===e?{...a,status:"completed",completed_date:s.data.completed_date}:a))}catch(e){console.error("Error completing task:",e)}};return o?(0,t.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] p-4 sm:p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)(i.O0,{variant:"stats",height:"64px"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:(0,t.jsx)(i.O0,{variant:"card",count:4,height:"120px"})})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] p-4 sm:p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2",children:["\uD83E\uDDF9 ",e("cleaning.title","Cleaning Roster")]}),(0,t.jsx)("p",{className:"text-gray-400",children:e("cleaning.subtitle","Manage cleaning areas and track completion with photo verification")})]}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex space-x-1 bg-[#1f1f1f] p-1 rounded-2xl border border-[#2a2a2a]",children:[(0,t.jsxs)("button",{onClick:()=>u("areas"),className:"px-6 py-3 rounded-xl font-medium transition-all duration-200 ".concat("areas"===m?"bg-[#29E7CD] text-black shadow-lg":"text-gray-400 hover:text-white"),children:["\uD83D\uDCCD ",e("cleaning.areas","Cleaning Areas")]}),(0,t.jsxs)("button",{onClick:()=>u("tasks"),className:"px-6 py-3 rounded-xl font-medium transition-all duration-200 ".concat("tasks"===m?"bg-[#29E7CD] text-black shadow-lg":"text-gray-400 hover:text-white"),children:["\uD83D\uDCCB ",e("cleaning.tasks","Cleaning Tasks")]})]})}),"areas"===m&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white",children:e("cleaning.manageAreas","Manage Cleaning Areas")}),(0,t.jsxs)("button",{onClick:()=>g(!0),className:"bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-black px-6 py-3 rounded-2xl font-semibold hover:shadow-xl transition-all duration-200",children:["➕ ",e("cleaning.addArea","Add Area")]})]}),h&&(0,t.jsxs)("div",{className:"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a]",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:e("cleaning.addNewArea","Add New Cleaning Area")}),(0,t.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("cleaning.areaName","Area Name")}),(0,t.jsx)("input",{type:"text",value:f.name,onChange:e=>j({...f,name:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-2xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",placeholder:"e.g., Kitchen Floors, Prep Tables",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("cleaning.description","Description")}),(0,t.jsx)("textarea",{value:f.description,onChange:e=>j({...f,description:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-2xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",placeholder:"Describe what needs to be cleaned",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("cleaning.frequency","Cleaning Frequency (days)")}),(0,t.jsx)("input",{type:"number",value:f.frequency_days,onChange:e=>j({...f,frequency_days:parseInt(e.target.value)}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-2xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",min:"1",required:!0})]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("button",{type:"submit",className:"bg-[#29E7CD] text-black px-6 py-3 rounded-2xl font-semibold hover:shadow-xl transition-all duration-200",children:e("cleaning.save","Save Area")}),(0,t.jsx)("button",{type:"button",onClick:()=>g(!1),className:"bg-[#2a2a2a] text-white px-6 py-3 rounded-2xl font-semibold hover:bg-[#3a3a3a] transition-all duration-200",children:e("cleaning.cancel","Cancel")})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(a=>(0,t.jsxs)("div",{className:"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] hover:shadow-xl transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-[#29E7CD]/20 to-[#29E7CD]/10 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83E\uDDF9"})}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(a.is_active?"bg-green-400/10 text-green-400 border border-green-400/20":"bg-gray-400/10 text-gray-400 border border-gray-400/20"),children:a.is_active?e("cleaning.active","Active"):e("cleaning.inactive","Inactive")})]}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:a.name}),(0,t.jsx)("p",{className:"text-gray-400 mb-4",children:a.description||e("cleaning.noDescription","No description provided")}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[e("cleaning.everyDays","Every")," ",a.frequency_days," ",e("cleaning.days","days")]}),(0,t.jsx)("button",{className:"text-[#29E7CD] hover:text-[#29E7CD]/80 transition-colors",children:e("cleaning.edit","Edit")})]})]},a.id))})]}),"tasks"===m&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white",children:e("cleaning.manageTasks","Manage Cleaning Tasks")}),(0,t.jsxs)("button",{onClick:()=>p(!0),className:"bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-black px-6 py-3 rounded-2xl font-semibold hover:shadow-xl transition-all duration-200",children:["➕ ",e("cleaning.addTask","Add Task")]})]}),b&&(0,t.jsxs)("div",{className:"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a]",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:e("cleaning.addNewTask","Add New Cleaning Task")}),(0,t.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("cleaning.selectArea","Select Area")}),(0,t.jsxs)("select",{value:y.area_id,onChange:e=>v({...y,area_id:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-2xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",required:!0,children:[(0,t.jsx)("option",{value:"",children:e("cleaning.selectAreaPlaceholder","Choose a cleaning area")}),a.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("cleaning.assignedDate","Assigned Date")}),(0,t.jsx)("input",{type:"date",value:y.assigned_date,onChange:e=>v({...y,assigned_date:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-2xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("cleaning.notes","Notes")}),(0,t.jsx)("textarea",{value:y.notes,onChange:e=>v({...y,notes:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-2xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",placeholder:"Additional notes or instructions",rows:3})]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("button",{type:"submit",className:"bg-[#29E7CD] text-black px-6 py-3 rounded-2xl font-semibold hover:shadow-xl transition-all duration-200",children:e("cleaning.save","Save Task")}),(0,t.jsx)("button",{type:"button",onClick:()=>p(!1),className:"bg-[#2a2a2a] text-white px-6 py-3 rounded-2xl font-semibold hover:bg-[#3a3a3a] transition-all duration-200",children:e("cleaning.cancel","Cancel")})]})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:d.map(a=>(0,t.jsxs)("div",{className:"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] hover:shadow-xl transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-[#29E7CD]/20 to-[#29E7CD]/10 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl",children:(e=>{switch(e){case"completed":return"✅";case"overdue":return"⚠️";default:return"\uD83D\uDCCB"}})(a.status)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:a.cleaning_areas.name}),(0,t.jsx)("p",{className:"text-gray-400",children:new Date(a.assigned_date).toLocaleDateString()})]})]}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat((e=>{switch(e){case"completed":return"text-green-400 bg-green-400/10 border-green-400/20";case"overdue":return"text-red-400 bg-red-400/10 border-red-400/20";default:return"text-yellow-400 bg-yellow-400/10 border-yellow-400/20"}})(a.status)),children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]}),a.notes&&(0,t.jsx)("p",{className:"text-gray-300 mb-4",children:a.notes}),a.completed_date&&(0,t.jsxs)("p",{className:"text-sm text-green-400 mb-4",children:["✅ ",e("cleaning.completedOn","Completed on")," ",new Date(a.completed_date).toLocaleString()]}),a.photo_url&&(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(l.A,{src:a.photo_url,alt:"Cleaning verification",width:128,height:128,className:"w-32 h-32 object-cover rounded-2xl border border-[#2a2a2a]"})}),(0,t.jsxs)("div",{className:"flex space-x-4",children:["pending"===a.status&&(0,t.jsxs)("button",{onClick:()=>k(a.id),className:"bg-[#29E7CD] text-black px-4 py-2 rounded-xl font-semibold hover:shadow-lg transition-all duration-200",children:["✅ ",e("cleaning.markComplete","Mark Complete")]}),(0,t.jsxs)("button",{className:"bg-[#2a2a2a] text-white px-4 py-2 rounded-xl font-semibold hover:bg-[#3a3a3a] transition-all duration-200",children:["\uD83D\uDCF7 ",e("cleaning.addPhoto","Add Photo")]}),(0,t.jsxs)("button",{className:"bg-[#2a2a2a] text-white px-4 py-2 rounded-xl font-semibold hover:bg-[#3a3a3a] transition-all duration-200",children:["✏️ ",e("cleaning.edit","Edit")]})]})]},a.id))})]})]})})}}},e=>{e.O(0,[563,8650,8405,9420,622,7979,1899,4450,9324,8585,9592,433,2652,3494,2574,9173,3023,1356,309,4191,2834,957,6691,1151,9473,9219,6053,3376,2076,7358],()=>e(e.s=44103)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8682],{17346:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(95155),s=r(12115),l=r(34908),n=r(12104);function i(){let{t:e}=(0,l.Bd)(),[t,r]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[d,c]=(0,s.useState)(!1),[x,u]=(0,s.useState)(null),[p,m]=(0,s.useState)(!1),[h,v]=(0,s.useState)(null),[g,b]=(0,s.useState)({ingredientId:"",parLevel:"",reorderPoint:"",unit:"",notes:""}),f="user-123";(0,s.useEffect)(()=>{j(),N()},[]);let j=async()=>{try{let e=await fetch("/api/par-levels?userId=".concat(f)),t=await e.json();t.success?r(t.data):u(t.message||"Failed to fetch par levels")}catch(e){u("Failed to fetch par levels")}finally{c(!1)}},N=async()=>{try{let e=await fetch("/api/ingredients?userId=".concat(f)),t=await e.json();t.success&&o(t.data)}catch(e){console.error("Failed to fetch ingredients:",e)}},y=async e=>{e.preventDefault();try{let e=h?"PUT":"POST",t=h?{id:h.id,parLevel:parseFloat(g.parLevel),reorderPoint:parseFloat(g.reorderPoint),unit:g.unit,notes:g.notes}:{userId:f,ingredientId:g.ingredientId,parLevel:parseFloat(g.parLevel),reorderPoint:parseFloat(g.reorderPoint),unit:g.unit,notes:g.notes},r=await fetch("/api/par-levels",{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await r.json();a.success?(await j(),w(),u(null)):u(a.message||"Failed to save par level")}catch(e){u("Failed to save par level")}},L=async e=>{if(confirm("Are you sure you want to delete this par level?"))try{let t=await fetch("/api/par-levels?id=".concat(e),{method:"DELETE"}),r=await t.json();r.success?await j():u(r.message||"Failed to delete par level")}catch(e){u("Failed to delete par level")}},w=()=>{b({ingredientId:"",parLevel:"",reorderPoint:"",unit:"",notes:""}),m(!1),v(null)};return d?(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)(n.O0,{variant:"stats",height:"64px"}),(0,a.jsx)("div",{className:"space-y-4 mt-6",children:(0,a.jsx)(n.O0,{variant:"card",count:5,height:"80px"})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2",children:["\uD83D\uDCE6 ",e("parLevels.title","Par Level Management")]}),(0,a.jsx)("p",{className:"text-gray-400",children:e("parLevels.subtitle","Set minimum stock levels for automatic reordering")})]}),(0,a.jsxs)("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-2xl hover:shadow-xl transition-all duration-200 font-semibold",children:["+ ",e("parLevels.addParLevel","Add Par Level")]})]}),x&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-400/10 border border-red-400/20 rounded-2xl",children:(0,a.jsx)("p",{className:"text-red-400",children:x})}),(0,a.jsx)("div",{className:"space-y-4",children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-[#29E7CD]/20 to-[#D925C7]/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCE6"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:e("parLevels.noParLevels","No Par Levels Set")}),(0,a.jsx)("p",{className:"text-gray-400 mb-6",children:e("parLevels.noParLevelsDesc","Set par levels to automate your inventory management")}),(0,a.jsx)("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-2xl hover:shadow-xl transition-all duration-200 font-semibold",children:e("parLevels.addFirstParLevel","Add Your First Par Level")})]}):t.map(t=>(0,a.jsx)("div",{className:"bg-[#1f1f1f] border border-[#2a2a2a] rounded-2xl p-6 hover:shadow-xl hover:border-[#29E7CD]/50 transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#29E7CD]/20 to-[#D925C7]/20 rounded-xl flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-lg",children:"\uD83D\uDCE6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-white text-lg",children:t.ingredients.name}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:t.ingredients.category})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:e("parLevels.parLevel","Par Level")}),(0,a.jsxs)("p",{className:"text-white font-semibold",children:[t.par_level," ",t.unit]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:e("parLevels.reorderPoint","Reorder Point")}),(0,a.jsxs)("p",{className:"text-white font-semibold",children:[t.reorder_point," ",t.unit]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:e("parLevels.status","Status")}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{let t=Math.random()*e.par_level*2;return t<=e.reorder_point?"text-red-400 bg-red-400/10":t<=e.par_level?"text-yellow-400 bg-yellow-400/10":"text-green-400 bg-green-400/10"})(t)),children:(e=>{let t=Math.random()*e.par_level*2;return t<=e.reorder_point?"Reorder Now":t<=e.par_level?"Low Stock":"In Stock"})(t)})]})]}),t.notes&&(0,a.jsx)("p",{className:"text-sm text-gray-300",children:t.notes})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{v(t),b({ingredientId:t.ingredient_id,parLevel:t.par_level.toString(),reorderPoint:t.reorder_point.toString(),unit:t.unit,notes:t.notes||""}),m(!0)},className:"p-2 text-[#29E7CD] hover:bg-[#29E7CD]/10 rounded-xl transition-colors",title:String(e("parLevels.edit","Edit")),children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,a.jsx)("button",{onClick:()=>L(t.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded-xl transition-colors",title:String(e("parLevels.delete","Delete")),children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},t.id))}),p&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-[#1f1f1f] border border-[#2a2a2a] rounded-3xl p-6 w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:h?e("parLevels.editParLevel","Edit Par Level"):e("parLevels.addParLevel","Add Par Level")}),(0,a.jsx)("button",{onClick:w,className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[!h&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("parLevels.ingredient","Ingredient")}),(0,a.jsxs)("select",{value:g.ingredientId,onChange:e=>b({...g,ingredientId:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",required:!0,children:[(0,a.jsx)("option",{value:"",children:e("parLevels.selectIngredient","Select an ingredient")}),i.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.unit,")"]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("parLevels.parLevel","Par Level")}),(0,a.jsx)("input",{type:"number",step:"0.01",value:g.parLevel,onChange:e=>b({...g,parLevel:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",placeholder:"e.g., 50",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("parLevels.reorderPoint","Reorder Point")}),(0,a.jsx)("input",{type:"number",step:"0.01",value:g.reorderPoint,onChange:e=>b({...g,reorderPoint:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",placeholder:"e.g., 25",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("parLevels.unit","Unit")}),(0,a.jsx)("input",{type:"text",value:g.unit,onChange:e=>b({...g,unit:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",placeholder:"e.g., kg, pieces, liters",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("parLevels.notes","Notes")}),(0,a.jsx)("textarea",{value:g.notes,onChange:e=>b({...g,notes:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",rows:3,placeholder:String(e("parLevels.notesPlaceholder","Optional notes about this par level"))})]}),(0,a.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:w,className:"flex-1 px-4 py-3 bg-[#2a2a2a] text-gray-300 rounded-xl hover:bg-[#2a2a2a]/80 transition-colors",children:e("parLevels.cancel","Cancel")}),(0,a.jsx)("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-xl hover:shadow-xl transition-all duration-200 font-semibold",children:h?e("parLevels.update","Update"):e("parLevels.create","Create")})]})]})]})})]})})}},72953:(e,t,r)=>{Promise.resolve().then(r.bind(r,17346))}},e=>{e.O(0,[2076,563,8650,8405,9420,622,7979,1899,4450,9324,8585,9592,433,2652,3494,2574,9173,3023,1356,309,4191,2834,957,6691,1151,9473,9219,6053,3376,7358],()=>e(e.s=72953)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5812],{28613:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(95155),l=s(12115),r=s(15239),n=s(53649),i=s(84920);function c(){let{selectedCountry:e,countryConfig:t,setCountry:s}=(0,n.S)(),[r,c]=(0,l.useState)(100),[d,o]=(0,l.useState)(!1),[x,m]=(0,l.useState)(""),[u,h]=(0,l.useState)(!1),[p,f]=(0,l.useState)(-1),g=(0,l.useRef)(null),j=(0,i.a4)(),b=(0,i.BX)(r,e),N=j.filter(e=>e.name.toLowerCase().includes(x.toLowerCase())||e.currency.toLowerCase().includes(x.toLowerCase())||e.code.toLowerCase().includes(x.toLowerCase()));(0,l.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&(h(!1),f(-1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let v=function(t){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,i.KV)(t,e,s)},y=e=>new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"}).format(e);return(0,a.jsxs)("div",{className:"bg-[#1f1f1f] border border-[#29E7CD]/30 rounded-2xl p-6 max-w-3xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-[#29E7CD] mb-2",children:"\uD83C\uDF0D Country & Tax Setup"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Configure your country for automatic tax rates and currency formatting"})]}),(0,a.jsxs)("div",{className:"bg-[#2a2a2a]/50 rounded-xl p-4 mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"\uD83D\uDCCD Select Your Country"}),(0,a.jsxs)("div",{className:"relative",ref:g,children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Type to search countries...",value:x,onChange:e=>{m(e.target.value),h(!0),f(-1)},onFocus:()=>h(!0),onKeyDown:e=>{if(u)switch(e.key){case"ArrowDown":e.preventDefault(),f(e=>e<N.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),f(e=>e>0?e-1:N.length-1);break;case"Enter":e.preventDefault(),p>=0&&N[p]&&(s(N[p].code),m(""),h(!1),f(-1));break;case"Escape":h(!1),f(-1)}},className:"w-full bg-[#1f1f1f] border border-[#29E7CD]/30 rounded-lg p-3 pl-10 pr-10 text-white placeholder-gray-400 focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent transition-all duration-200"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,a.jsx)("button",{onClick:()=>h(!u),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-[#29E7CD] hover:text-[#29E7CD]/80 transition-colors",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),u&&(0,a.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-[#1f1f1f] border border-[#29E7CD]/30 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:N.length>0?N.map((t,l)=>(0,a.jsx)("button",{onClick:()=>{s(t.code),m(""),h(!1),f(-1)},className:"w-full text-left p-3 transition-colors ".concat(e===t.code?"bg-[#29E7CD]/10 text-[#29E7CD]":p===l?"bg-[#2a2a2a]/70 text-white":"text-white hover:bg-[#2a2a2a]/50"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:t.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[t.currency," • ",t.taxName," ",(100*t.taxRate).toFixed(0),"%"]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:t.code})]})},t.code)):(0,a.jsx)("div",{className:"p-3 text-gray-400 text-center",children:"No countries found"})})]}),(0,a.jsxs)("div",{className:"mt-3 text-sm text-gray-400",children:["Selected: ",(0,a.jsx)("span",{className:"text-[#29E7CD] font-medium",children:t.name})," • Currency: ",(0,a.jsx)("span",{className:"text-white",children:t.currency})," • Tax: ",(0,a.jsxs)("span",{className:"text-white",children:[t.taxName," ",(100*t.taxRate).toFixed(0),"%"]})]})]}),(0,a.jsxs)("div",{className:"bg-[#2a2a2a]/50 rounded-xl p-3 mb-6",children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-white mb-2",children:"⚙️ Configuration Details"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-[#1f1f1f] rounded-lg px-3 py-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD] font-medium",children:"Date:"}),(0,a.jsx)("span",{className:"text-white",children:t.dateFormat}),(0,a.jsxs)("span",{className:"text-gray-400",children:["(",y(new Date),")"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-[#1f1f1f] rounded-lg px-3 py-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD] font-medium",children:"Locale:"}),(0,a.jsx)("span",{className:"text-white",children:t.locale})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-[#1f1f1f] rounded-lg px-3 py-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD] font-medium",children:"Time:"}),(0,a.jsx)("span",{className:"text-white",children:t.dateFormat})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#2a2a2a]/50 rounded-xl p-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-white",children:"\uD83E\uDDEE Tax Calculator"}),(0,a.jsxs)("button",{onClick:()=>o(!d),className:"bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white px-3 py-1 rounded-lg hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 text-xs",children:[d?"Hide":"Show"," Breakdown"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("label",{className:"text-white font-medium text-xs",children:"Test Amount:"}),(0,a.jsx)("input",{type:"number",value:r,onChange:e=>c(Number(e.target.value)),className:"bg-[#1f1f1f] border border-[#29E7CD]/30 rounded-lg p-2 text-white text-xs w-20",placeholder:"100"}),(0,a.jsxs)("div",{className:"text-white font-mono text-xs",children:["Total: ",v(r,!0)]})]}),d&&(0,a.jsx)("div",{className:"bg-[#1f1f1f] rounded-lg p-2",children:(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Subtotal"}),(0,a.jsx)("div",{className:"text-white font-mono",children:v(b.subtotal,!1)})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:b.taxName}),(0,a.jsx)("div",{className:"text-[#29E7CD] font-mono",children:v(b.taxAmount,!1)})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-1",children:"Total"}),(0,a.jsx)("div",{className:"text-[#29E7CD] font-mono font-semibold",children:v(b.total,!1)})]})]})})]}),(0,a.jsxs)("div",{className:"bg-[#2a2a2a]/50 rounded-xl p-3 mb-6",children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-white mb-2",children:"\uD83D\uDCCA Formatting Examples"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-[#1f1f1f] rounded-lg px-3 py-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD] font-medium",children:"Currency:"}),(0,a.jsx)("span",{className:"text-white",children:v(r,!1)}),(0,a.jsx)("span",{className:"text-gray-400",children:"→"}),(0,a.jsx)("span",{className:"text-[#29E7CD]",children:v(r,!0)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-[#1f1f1f] rounded-lg px-3 py-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD] font-medium",children:"Number:"}),(0,a.jsx)("span",{className:"text-white",children:new Intl.NumberFormat(t.locale).format(1234567.89)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-[#1f1f1f] rounded-lg px-3 py-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD] font-medium",children:"Date:"}),(0,a.jsx)("span",{className:"text-white",children:y(new Date)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-[#1f1f1f] rounded-lg px-3 py-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD] font-medium",children:"Percent:"}),(0,a.jsx)("span",{className:"text-white",children:new Intl.NumberFormat(t.locale,{style:"percent"}).format(.15)})]})]})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-[#29E7CD]/10 to-[#D925C7]/10 border border-[#29E7CD]/30 rounded-xl p-3",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-[#29E7CD]/20 to-[#D925C7]/20 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"text-sm",children:"⚡"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-base font-semibold text-white mb-1",children:"Global Impact"}),(0,a.jsx)("p",{className:"text-gray-300 text-xs mb-2",children:"This setting automatically applies across your entire PrepFlow system:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs text-gray-300",children:[(0,a.jsxs)("span",{children:["• Pricing uses ",t.taxName," at ",(100*t.taxRate).toFixed(0),"%"]}),(0,a.jsxs)("span",{children:["• Currency displays in ",t.currency]}),(0,a.jsxs)("span",{children:["• Dates follow ",t.name," standards"]}),(0,a.jsx)("span",{children:"• COGS includes proper tax handling"})]})]})]})})]})}function d(e){let{setupProgress:t}=e,s=[{key:"country",label:"Country Setup",icon:"\uD83C\uDF0D",number:1},{key:"equipment",label:"Equipment Setup",icon:"\uD83C\uDF21️",number:2},{key:"ingredients",label:"Ingredients Setup",icon:"\uD83E\uDD55",number:3},{key:"recipes",label:"Recipes Setup",icon:"\uD83C\uDF72",number:4}],l=Object.values(t).filter(Boolean).length;return(0,a.jsxs)("div",{className:"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Setup Progress"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[l," of 4 completed"]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:s.map((e,l)=>{let r=t[e.key],n=l===s.length-1;return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 ".concat(r?"bg-[#29E7CD]":"bg-[#2a2a2a] border border-[#29E7CD]/30"),children:r?(0,a.jsx)("span",{className:"text-black font-bold text-sm",children:"✓"}):(0,a.jsx)("span",{className:"text-[#29E7CD] font-bold text-sm",children:e.number})}),(0,a.jsx)("span",{className:"font-medium transition-colors duration-200 ".concat(r?"text-[#29E7CD]":"text-white"),children:e.label})]}),!n&&(0,a.jsx)("div",{className:"w-8 h-px transition-colors duration-200 ".concat(r?"bg-[#29E7CD]":"bg-[#2a2a2a]")})]},e.key)})}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"w-full bg-[#2a2a2a] rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] h-2 rounded-full transition-all duration-500",style:{width:"".concat(l/4*100,"%")}})}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-2 text-center",children:4===l?"\uD83C\uDF89 Setup Complete! Ready to use PrepFlow.":"Complete all steps to finish setup"})]})]})}let o=[{value:"fridge",label:"Fridge",icon:"\uD83E\uDDCA",defaultMin:2,defaultMax:8,category:"Cold Storage"},{value:"freezer",label:"Freezer",icon:"❄️",defaultMin:-18,defaultMax:-15,category:"Cold Storage"},{value:"walk_in_cooler",label:"Walk-in Cooler",icon:"\uD83C\uDFE0",defaultMin:2,defaultMax:8,category:"Cold Storage"},{value:"walk_in_freezer",label:"Walk-in Freezer",icon:"\uD83C\uDFE0",defaultMin:-18,defaultMax:-15,category:"Cold Storage"},{value:"reach_in_cooler",label:"Bench Fridge",icon:"\uD83E\uDDCA",defaultMin:2,defaultMax:8,category:"Cold Storage"},{value:"ice_machine",label:"Ice Machine",icon:"\uD83E\uDDCA",defaultMin:0,defaultMax:4,category:"Cold Storage"},{value:"bain_marie",label:"Bain Marie",icon:"♨️",defaultMin:63,defaultMax:75,category:"Hot Holding"},{value:"hot_holding_cabinet",label:"Hot Holding Cabinet",icon:"♨️",defaultMin:63,defaultMax:75,category:"Hot Holding"},{value:"steam_table",label:"Steam Table",icon:"♨️",defaultMin:63,defaultMax:75,category:"Hot Holding"},{value:"warming_drawer",label:"Warming Drawer",icon:"♨️",defaultMin:63,defaultMax:75,category:"Hot Holding"},{value:"soup_kettle",label:"Soup Kettle",icon:"\uD83C\uDF72",defaultMin:63,defaultMax:75,category:"Hot Holding"},{value:"rice_cooker",label:"Rice Cooker",icon:"\uD83C\uDF5A",defaultMin:63,defaultMax:75,category:"Hot Holding"},{value:"combi_oven",label:"Combi Oven",icon:"\uD83C\uDF73",defaultMin:60,defaultMax:80,category:"Cooking Equipment"},{value:"sous_vide",label:"Sous Vide Bath",icon:"\uD83C\uDF73",defaultMin:60,defaultMax:80,category:"Cooking Equipment"},{value:"proofing_cabinet",label:"Proofing Cabinet",icon:"\uD83C\uDF5E",defaultMin:30,defaultMax:35,category:"Cooking Equipment"},{value:"chocolate_tempering",label:"Chocolate Tempering",icon:"\uD83C\uDF6B",defaultMin:30,defaultMax:32,category:"Cooking Equipment"}];function x(e){let{setupProgress:t,onProgressUpdate:s}=e,[r,n]=(0,l.useState)([]),[i,c]=(0,l.useState)(!1),[d,x]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),[h,p]=(0,l.useState)({name:"",equipment_type:"fridge",location:"",min_temp:"2",max_temp:"8",is_active:!0}),[f,g]=(0,l.useState)(!1),[j,b]=(0,l.useState)(null),[N,v]=(0,l.useState)(null),y=e=>{let t=o.find(t=>t.value===e);return{min:(null==t?void 0:t.defaultMin)||0,max:(null==t?void 0:t.defaultMax)||10}},w=e=>{let t=o.find(t=>t.value===e);return(null==t?void 0:t.label)||e};(0,l.useEffect)(()=>{C()},[]);let C=async()=>{try{let e=await fetch("/api/temperature-equipment"),t=await e.json();t.success&&n(t.data)}catch(e){console.error("Error fetching equipment:",e)}},D=async e=>{e.preventDefault(),g(!0),b(null),v(null);try{let e=await fetch("/api/temperature-equipment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,min_temp:h.min_temp?parseFloat(h.min_temp):null,max_temp:h.max_temp?parseFloat(h.max_temp):null})}),a=await e.json();a.success?(n([...r,a.data]),p({name:"",equipment_type:"fridge",location:"",min_temp:"2",max_temp:"8",is_active:!0}),c(!1),v("Equipment added successfully!"),s({...t,equipment:!0})):b(a.message||"Failed to add equipment")}catch(e){b("Network error occurred")}finally{g(!1)}},E=async e=>{if(confirm("Are you sure you want to delete this equipment?"))try{let t=await fetch("/api/temperature-equipment?id=".concat(e),{method:"DELETE"}),s=await t.json();s.success?(n(r.filter(t=>t.id!==e)),v("Equipment deleted successfully!")):b(s.message||"Failed to delete equipment")}catch(e){b("Network error occurred")}};return(0,a.jsxs)("div",{className:"bg-[#1f1f1f] p-8 rounded-3xl shadow-lg border border-[#2a2a2a]",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)("button",{onClick:()=>x(!0),className:"bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] text-white px-8 py-4 rounded-2xl hover:from-[#29E7CD]/80 hover:to-[#3B82F6]/80 transition-all duration-200 shadow-lg hover:shadow-xl font-medium text-lg",children:"➕ Add Equipment"})}),d&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Select Equipment Type"}),(0,a.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white text-2xl",children:"✕"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(e=>(0,a.jsx)("button",{onClick:()=>(e=>{let t=y(e);p({name:"",equipment_type:e,location:"",min_temp:t.min.toString(),max_temp:t.max.toString(),is_active:!0}),x(!1),c(!0)})(e.value),className:"p-4 bg-[#2a2a2a] rounded-2xl hover:bg-[#3a3a3a] transition-all duration-200 text-left",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-white font-semibold",children:e.label}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.category}),(0,a.jsxs)("p",{className:"text-[#29E7CD] text-xs",children:[e.defaultMin,"\xb0C - ",e.defaultMax,"\xb0C"]})]})]})},e.value))})]})}),i&&(0,a.jsxs)("div",{className:"bg-[#2a2a2a]/50 p-6 rounded-2xl border border-[#2a2a2a] mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Add New Equipment"}),(0,a.jsxs)("form",{onSubmit:D,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Equipment Name"}),(0,a.jsx)("input",{type:"text",value:h.name,onChange:e=>p({...h,name:e.target.value}),className:"w-full px-4 py-3 bg-[#1f1f1f] border border-[#2a2a2a] rounded-2xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",placeholder:"e.g., Main Kitchen Fridge",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Equipment Type"}),(0,a.jsx)("select",{value:h.equipment_type,onChange:e=>{let t=e.target.value,s=y(t);p({...h,equipment_type:t,min_temp:s.min.toString(),max_temp:s.max.toString()})},className:"w-full px-4 py-3 bg-[#1f1f1f] border border-[#2a2a2a] rounded-2xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",children:o.map(e=>(0,a.jsxs)("option",{value:e.value,children:[e.icon," ",e.label," (",e.category,")"]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location"}),(0,a.jsx)("input",{type:"text",value:h.location,onChange:e=>p({...h,location:e.target.value}),className:"w-full px-4 py-3 bg-[#1f1f1f] border border-[#2a2a2a] rounded-2xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",placeholder:"e.g., Main Kitchen, Prep Area",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Temperature Range"}),(0,a.jsx)("div",{className:"text-white bg-[#2a2a2a] p-3 rounded-2xl",children:(0,a.jsx)("span",{className:"text-lg font-semibold",children:(()=>{let e=y(h.equipment_type);return"".concat(e.min,"\xb0C - ").concat(e.max,"\xb0C")})()})}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Automatically set based on food safety standards for ",w(h.equipment_type)]})]}),(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"is_active",checked:h.is_active,onChange:e=>p({...h,is_active:e.target.checked}),className:"w-4 h-4 text-[#29E7CD] bg-[#1f1f1f] border-[#2a2a2a] rounded focus:ring-[#29E7CD] focus:ring-2"}),(0,a.jsx)("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-300",children:"Active Equipment"})]})}),j&&(0,a.jsx)("div",{className:"md:col-span-2 bg-red-900/20 border border-red-500/30 text-red-300 p-3 rounded-2xl",children:j}),N&&(0,a.jsx)("div",{className:"md:col-span-2 bg-green-900/20 border border-green-500/30 text-green-300 p-3 rounded-2xl",children:N}),(0,a.jsxs)("div",{className:"md:col-span-2 flex space-x-4",children:[(0,a.jsx)("button",{type:"submit",disabled:f,className:"bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] text-white px-8 py-3 rounded-2xl font-semibold hover:from-[#29E7CD]/80 hover:to-[#3B82F6]/80 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex-1",children:f?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Equipment"}),(0,a.jsx)("button",{type:"button",onClick:()=>c(!1),className:"bg-[#2a2a2a] text-white px-6 py-3 rounded-2xl font-semibold hover:bg-[#3a3a3a] transition-all duration-200",children:"Cancel"})]})]})]}),r.length>0&&(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold text-white",children:["Your Equipment (",r.length,")"]}),r.length>6&&(0,a.jsx)("button",{onClick:()=>u(!m),className:"text-[#29E7CD] hover:text-[#29E7CD]/80 font-medium",children:m?"Show Less":"Show All"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(m?r:r.slice(0,6)).map(e=>(0,a.jsxs)("div",{className:"bg-[#2a2a2a] p-4 rounded-2xl border border-[#3a3a3a]",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:(e=>{let t=o.find(t=>t.value===e);return(null==t?void 0:t.icon)||"\uD83C\uDF21️"})(e.equipment_type)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-white font-semibold",children:e.name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:w(e.equipment_type)})]})]}),(0,a.jsx)("button",{onClick:()=>E(e.id),className:"text-red-400 hover:text-red-300 text-sm",children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-gray-300 text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:"Location:"})," ",e.location]}),(0,a.jsxs)("p",{className:"text-gray-300 text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:"Range:"})," ",e.min_temp,"\xb0C - ",e.max_temp,"\xb0C"]}),(0,a.jsxs)("p",{className:"text-gray-300 text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:"Status:"}),(0,a.jsx)("span",{className:"ml-1 ".concat(e.is_active?"text-green-400":"text-red-400"),children:e.is_active?"Active":"Inactive"})]})]})]},e.id))})]}),0===r.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF21️"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Equipment Added Yet"}),(0,a.jsx)("p",{className:"text-gray-400 mb-6",children:"Add your first piece of temperature monitoring equipment to get started"})]})]})}function m(e){let{setupProgress:t,onProgressUpdate:s}=e,[r,n]=(0,l.useState)(!1),[i,c]=(0,l.useState)(null),[d,o]=(0,l.useState)(null),x=async()=>{n(!0),o(null),c(null);try{let e=await fetch("/api/setup-database",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({populateIngredients:!0})}),a=await e.json();e.ok?(c(a.message),s({...t,ingredients:!0})):o(a.error||"Failed to populate ingredients")}catch(e){o("Network error occurred")}finally{n(!1)}};return(0,a.jsxs)("div",{className:"bg-[#1f1f1f] p-8 rounded-3xl shadow-lg border border-[#2a2a2a]",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83E\uDD55"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Ingredients Database"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"Populate your database with 300+ common kitchen ingredients including costs, units, and yield percentages"})]}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"bg-[#2a2a2a]/50 p-6 rounded-2xl border border-[#2a2a2a] mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"What you'll get:"}),(0,a.jsxs)("ul",{className:"space-y-2 text-gray-300",children:[(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD]",children:"✓"}),(0,a.jsx)("span",{children:"300+ common ingredients (vegetables, meats, dairy, spices)"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD]",children:"✓"}),(0,a.jsx)("span",{children:"Realistic cost data for Australian suppliers"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD]",children:"✓"}),(0,a.jsx)("span",{children:"Proper units (kg, g, L, mL, each, etc.)"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD]",children:"✓"}),(0,a.jsx)("span",{children:"Yield percentages and waste factors"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD]",children:"✓"}),(0,a.jsx)("span",{children:"Trim and peel waste calculations"})]})]})]}),d&&(0,a.jsx)("div",{className:"bg-red-900/20 border border-red-500/30 text-red-300 p-4 rounded-2xl mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-red-400",children:"⚠️"}),(0,a.jsx)("span",{children:d})]})}),i&&(0,a.jsx)("div",{className:"bg-green-900/20 border border-green-500/30 text-green-300 p-4 rounded-2xl mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-green-400",children:"✅"}),(0,a.jsx)("span",{children:i})]})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("button",{onClick:x,disabled:r||t.ingredients,className:"px-8 py-4 rounded-2xl font-semibold text-lg transition-all duration-200 ".concat(t.ingredients?"bg-green-600 text-white cursor-not-allowed":r?"bg-[#2a2a2a] text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] text-white hover:from-[#29E7CD]/80 hover:to-[#3B82F6]/80 shadow-lg hover:shadow-xl"),children:t.ingredients?(0,a.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("span",{children:"✅"}),(0,a.jsx)("span",{children:"Ingredients Added Successfully!"})]}):r?(0,a.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-400"}),(0,a.jsx)("span",{children:"Adding Ingredients..."})]}):(0,a.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83E\uDD55"}),(0,a.jsx)("span",{children:"Add 300+ Ingredients"})]})}),!t.ingredients&&(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-4",children:"This will take about 10-15 seconds to complete"})]})]})]})}function u(e){let{setupProgress:t,onProgressUpdate:s}=e,[r,n]=(0,l.useState)(!1),[i,c]=(0,l.useState)(null),[d,o]=(0,l.useState)(null),x=async()=>{n(!0),o(null),c(null);try{let e=await fetch("/api/populate-recipes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({populateRecipes:!0})}),a=await e.json();e.ok?(c(a.message),s({...t,recipes:!0})):o(a.error||"Failed to populate recipes")}catch(e){o("Network error occurred")}finally{n(!1)}};return(0,a.jsxs)("div",{className:"bg-[#1f1f1f] p-8 rounded-3xl shadow-lg border border-[#2a2a2a]",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF72"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Sample Recipes"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"Add sample recipes to get started with recipe management and COGS calculations"})]}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"bg-[#2a2a2a]/50 p-6 rounded-2xl border border-[#2a2a2a] mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Sample recipes include:"}),(0,a.jsxs)("ul",{className:"space-y-2 text-gray-300",children:[(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD]",children:"✓"}),(0,a.jsx)("span",{children:"Classic dishes (Caesar Salad, Fish & Chips, Beef Burger)"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD]",children:"✓"}),(0,a.jsx)("span",{children:"Proper ingredient quantities and units"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD]",children:"✓"}),(0,a.jsx)("span",{children:"Yield calculations for different portion sizes"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD]",children:"✓"}),(0,a.jsx)("span",{children:"Ready for COGS calculations and pricing"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-[#29E7CD]",children:"✓"}),(0,a.jsx)("span",{children:"Perfect examples for creating your own recipes"})]})]})]}),d&&(0,a.jsx)("div",{className:"bg-red-900/20 border border-red-500/30 text-red-300 p-4 rounded-2xl mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-red-400",children:"⚠️"}),(0,a.jsx)("span",{children:d})]})}),i&&(0,a.jsx)("div",{className:"bg-green-900/20 border border-green-500/30 text-green-300 p-4 rounded-2xl mb-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-green-400",children:"✅"}),(0,a.jsx)("span",{children:i})]})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("button",{onClick:x,disabled:r||t.recipes,className:"px-8 py-4 rounded-2xl font-semibold text-lg transition-all duration-200 ".concat(t.recipes?"bg-green-600 text-white cursor-not-allowed":r?"bg-[#2a2a2a] text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] text-white hover:from-[#29E7CD]/80 hover:to-[#3B82F6]/80 shadow-lg hover:shadow-xl"),children:t.recipes?(0,a.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("span",{children:"✅"}),(0,a.jsx)("span",{children:"Sample Recipes Added!"})]}):r?(0,a.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-400"}),(0,a.jsx)("span",{children:"Adding Recipes..."})]}):(0,a.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83C\uDF72"}),(0,a.jsx)("span",{children:"Add Sample Recipes"})]})}),!t.recipes&&(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-4",children:"This will add several sample recipes to help you get started"})]})]})]})}function h(){let[e,t]=(0,l.useState)(!1),s=async()=>{if(confirm("This will generate 3 months of test temperature data. This may take a few minutes. Continue?")){t(!0);try{let e=await fetch("/api/generate-test-temperature-logs",{method:"POST",headers:{"Content-Type":"application/json"}}),t=await e.json();t.success?alert("Successfully generated ".concat(t.data.totalLogs," temperature log entries for the last 3 months!")):alert("Error: ".concat(t.error||"Failed to generate test data"))}catch(e){alert("Network error occurred while generating test data")}finally{t(!1)}}};return(0,a.jsx)("div",{className:"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCCA"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Test Data Generator"}),(0,a.jsx)("p",{className:"text-gray-400 mb-6",children:"Generate 3 months of realistic temperature log data for testing and demonstration"}),(0,a.jsx)("div",{className:"bg-[#2a2a2a]/50 p-4 rounded-2xl border border-[#2a2a2a] mb-6",children:(0,a.jsxs)("p",{className:"text-gray-300 text-sm",children:[(0,a.jsx)("strong",{children:"Note:"})," This will create thousands of temperature log entries across all your equipment for the past 3 months. Perfect for testing the analytics and monitoring features."]})}),(0,a.jsx)("button",{onClick:s,disabled:e,className:"px-6 py-3 rounded-2xl font-semibold transition-all duration-200 ".concat(e?"bg-[#2a2a2a] text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-[#D925C7] to-[#3B82F6] text-white hover:from-[#D925C7]/80 hover:to-[#3B82F6]/80 shadow-lg hover:shadow-xl"),children:e?(0,a.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}),(0,a.jsx)("span",{children:"Generating Data..."})]}):(0,a.jsxs)("span",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDCCA"}),(0,a.jsx)("span",{children:"Generate Test Data"})]})})]})})}function p(){let[e,t]=(0,l.useState)({ingredients:!1,recipes:!1,equipment:!1,country:!1});(0,l.useEffect)(()=>{t(e=>({...e,country:!0}))},[]);let s=e=>{t(e)};return(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,a.jsx)(r.default,{src:"/images/prepflow-logo.png",alt:"PrepFlow Logo",width:120,height:40,className:"h-8 w-auto"}),(0,a.jsx)("div",{className:"h-8 w-px bg-[#2a2a2a]"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"\uD83D\uDE80 PrepFlow Setup"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Get your restaurant management system up and running in minutes"})]})]}),(0,a.jsx)(d,{setupProgress:e})]}),(0,a.jsxs)("div",{className:"space-y-12",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83C\uDF0D"}),(0,a.jsx)("span",{className:"text-white font-semibold text-sm",children:"1. Country"})]}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"\uD83C\uDF0D Country & Tax Configuration"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"Set up your country settings and tax rates for accurate calculations"})]}),(0,a.jsx)(c,{})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83C\uDF21️"}),(0,a.jsx)("span",{className:"text-white font-semibold text-sm",children:"2. Equipment"})]}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"\uD83C\uDF21️ Temperature Equipment Setup"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"Configure your fridges, freezers, and bain maries for temperature monitoring"})]}),(0,a.jsx)(x,{setupProgress:e,onProgressUpdate:s})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83E\uDD55"}),(0,a.jsx)("span",{className:"text-white font-semibold text-sm",children:"3. Ingredients"})]}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"\uD83E\uDD55 Ingredients Database"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"Populate your database with common kitchen ingredients and cost data"})]}),(0,a.jsx)(m,{setupProgress:e,onProgressUpdate:s})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83C\uDF72"}),(0,a.jsx)("span",{className:"text-white font-semibold text-sm",children:"4. Recipes"})]}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"\uD83C\uDF72 Sample Recipes"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"Add sample recipes to get started with recipe management"})]}),(0,a.jsx)(u,{setupProgress:e,onProgressUpdate:s})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"\uD83D\uDCCA Optional: Test Data"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"Generate sample temperature data for testing and demonstration"})]}),(0,a.jsx)(h,{})]})]}),e.ingredients&&e.recipes&&e.equipment&&e.country&&(0,a.jsx)("div",{className:"mt-12 text-center",children:(0,a.jsxs)("div",{className:"bg-gradient-to-r from-[#29E7CD]/20 to-[#3B82F6]/20 p-8 rounded-3xl border border-[#29E7CD]/30",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF89"}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Setup Complete!"}),(0,a.jsx)("p",{className:"text-gray-300 text-lg mb-6",children:"Your PrepFlow system is ready to use. You can now start managing your recipes, calculating COGS, and monitoring temperature equipment."}),(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsx)("a",{href:"/webapp",className:"bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] text-white px-8 py-4 rounded-2xl hover:from-[#29E7CD]/80 hover:to-[#3B82F6]/80 transition-all duration-200 shadow-lg hover:shadow-xl font-medium text-lg",children:"\uD83D\uDE80 Go to Dashboard"}),(0,a.jsx)("a",{href:"/webapp/recipes",className:"bg-[#2a2a2a] text-white px-8 py-4 rounded-2xl hover:bg-[#3a3a3a] transition-all duration-200 font-medium text-lg",children:"\uD83C\uDF72 Manage Recipes"})]})]})})]})})}},45777:(e,t,s)=>{Promise.resolve().then(s.bind(s,28613))}},e=>{e.O(0,[563,8650,8405,9420,622,7979,1899,4450,9324,8585,9592,433,2652,3494,2574,9173,3023,1356,309,4191,2834,957,6691,1151,9473,9219,6053,3376,2076,7358],()=>e(e.s=45777)),_N_E=e.O()}]);
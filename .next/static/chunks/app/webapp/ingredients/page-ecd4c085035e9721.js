(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5901],{2114:(e,t,a)=>{Promise.resolve().then(a.bind(a,4968))},4968:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(5155),i=a(9269),r=a(2115),n=a(147),l=a(8081);function d(){let[e,t]=(0,r.useState)([]),[a,d]=(0,r.useState)([]),[o,c]=(0,r.useState)([]),[x,u]=(0,r.useState)(!0),[m,p]=(0,r.useState)(null),[h,g]=(0,r.useState)(!1),[b,f]=(0,r.useState)(null),[j,v]=(0,r.useState)(!1),[N,_]=(0,r.useState)(""),[y,w]=(0,r.useState)([]),[C,k]=(0,r.useState)(!1),[D,E]=(0,r.useState)(new Set),[S,z]=(0,r.useState)(""),[L,M]=(0,r.useState)(""),[A,I]=(0,r.useState)("g"),[P,F]=(0,r.useState)(1),[B,U]=(0,r.useState)({}),G=(0,r.useMemo)(()=>[...new Set(["GM","KG","ML","L","PC","BOX","PACK","BAG","BOTTLE","CAN",...e.map(e=>e.unit).filter(e=>null!=e&&""!==e).map(e=>e.toUpperCase()).filter((e,t,a)=>a.indexOf(e)===t).sort()])].sort(),[e]),$=(e,t,a,s)=>0===e||0===t?0:e/(t*(0,n.oU)(1,a,s).conversionFactor),T=e=>e<1?e.toFixed(3):e.toFixed(2),W=e=>{let t={cost:e.cost_per_unit,unit:e.unit||"",formattedCost:T(e.cost_per_unit)};return e.pack_price&&e.pack_size&&e.pack_size_unit&&(t.packInfo="Pack: $".concat(e.pack_price," for ").concat(e.pack_size).concat(e.pack_size_unit)),t},[O,K]=(0,r.useState)(""),[q,H]=(0,r.useState)(""),[V,Y]=(0,r.useState)(""),[R,J]=(0,r.useState)("name"),[X,Q]=(0,r.useState)({ingredient_name:"",brand:"",pack_size:"1",pack_size_unit:"GM",pack_price:0,unit:"GM",cost_per_unit:0,cost_per_unit_as_purchased:0,cost_per_unit_incl_trim:0,trim_peel_waste_percentage:0,yield_percentage:100,supplier:"",product_code:"",storage_location:""});(0,r.useEffect)(()=>{ei(),Z()},[]);let Z=async()=>{try{let{data:e,error:t}=await i.ND.from("suppliers").select("*").order("name");t?console.error("Error fetching suppliers:",t):c(e||[])}catch(e){console.error("Error fetching suppliers:",e)}},ee=async e=>{try{let{data:t,error:a}=await i.ND.from("suppliers").insert([{name:e}]).select().single();a?p("Failed to add supplier"):(c([...o,t]),Q({...X,supplier:t.name}),z(""))}catch(e){p("Failed to add supplier")}},et=()=>{P<3&&F(P+1)},ea=()=>{P>1&&F(P-1)},es=()=>{F(1),U({}),Q({ingredient_name:"",brand:"",pack_size:"1",pack_size_unit:"GM",pack_price:0,unit:"GM",cost_per_unit:0,cost_per_unit_as_purchased:0,cost_per_unit_incl_trim:0,trim_peel_waste_percentage:0,yield_percentage:100,supplier:"",product_code:"",storage_location:""})};l.$m,(0,r.useEffect)(()=>{let t=e.filter(e=>{let t=e.ingredient_name.toLowerCase().includes(O.toLowerCase())||e.brand&&e.brand.toLowerCase().includes(O.toLowerCase()),a=!q||e.supplier===q,s=!V||e.storage_location===V;return t&&a&&s});t.sort((e,t)=>{switch(R){case"name":return e.ingredient_name.localeCompare(t.ingredient_name);case"cost_asc":return(e.cost_per_unit||0)-(t.cost_per_unit||0);case"cost_desc":return(t.cost_per_unit||0)-(e.cost_per_unit||0);case"supplier":return(e.supplier||"").localeCompare(t.supplier||"");default:return 0}}),d(t)},[e,O,q,V,R]);let ei=async()=>{try{u(!0);let{data:e,error:a}=await i.ND.from("ingredients").select("*").order("ingredient_name");a?p(a.message):t(e||[])}catch(e){p("Failed to fetch ingredients")}finally{u(!1)}},er=async e=>{e&&e.preventDefault();try{let e={...X,ingredient_name:(0,l._J)(X.ingredient_name),brand:(0,l.SC)(X.brand),supplier:(0,l.zl)(X.supplier),storage_location:(0,l.M$)(X.storage_location)},{error:t}=await i.ND.from("ingredients").insert([e]);t?p(t.message):(g(!1),es(),ei())}catch(e){p("Failed to add ingredient")}},en=async(e,t)=>{try{let{error:a}=await i.ND.from("ingredients").update(t).eq("id",e);a?p(a.message):(ei(),f(null))}catch(e){p("Failed to update ingredient")}},el=async e=>{if(confirm("Are you sure you want to delete this ingredient?"))try{let{error:t}=await i.ND.from("ingredients").delete().eq("id",e);t?p(t.message):ei()}catch(e){p("Failed to delete ingredient")}},ed=t=>{let a=e.find(e=>e.id===t);a&&f(a)},eo=async()=>{try{k(!0);let e=y.filter((e,t)=>D.has(t.toString())).map(e=>({...e,ingredient_name:(0,l._J)(e.ingredient_name),brand:(0,l.SC)(e.brand),supplier:(0,l.zl)(e.supplier),storage_location:(0,l.M$)(e.storage_location)})),{error:t}=await i.ND.from("ingredients").insert(e);t?p(t.message):(v(!1),w([]),E(new Set),ei())}catch(e){p("Failed to import ingredients")}finally{k(!1)}};return x?(0,s.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] p-4 sm:p-6",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-700 rounded w-1/4 mb-6"}),(0,s.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"h-16 bg-gray-700 rounded"},t))})]})})}):(0,s.jsxs)("div",{className:"min-h-screen bg-[#0a0a0a] p-4 sm:p-6",children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"\uD83E\uDD58 Ingredients Management"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Manage your kitchen ingredients and inventory"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Display costs in:"}),(0,s.jsxs)("select",{value:A,onChange:e=>I(e.target.value),className:"px-3 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",children:[(0,s.jsxs)("optgroup",{label:"Weight",children:[(0,s.jsx)("option",{value:"g",children:"Grams (g)"}),(0,s.jsx)("option",{value:"kg",children:"Kilograms (kg)"}),(0,s.jsx)("option",{value:"oz",children:"Ounces (oz)"}),(0,s.jsx)("option",{value:"lb",children:"Pounds (lb)"})]}),(0,s.jsxs)("optgroup",{label:"Volume",children:[(0,s.jsx)("option",{value:"ml",children:"Milliliters (ml)"}),(0,s.jsx)("option",{value:"l",children:"Liters (L)"}),(0,s.jsx)("option",{value:"tsp",children:"Teaspoons (tsp)"}),(0,s.jsx)("option",{value:"tbsp",children:"Tablespoons (tbsp)"}),(0,s.jsx)("option",{value:"cup",children:"Cups"})]})]})]})]})}),m&&(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg mb-6",children:m}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,s.jsx)("button",{onClick:()=>g(!h),className:"bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white px-4 py-2 rounded-lg hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 shadow-lg hover:shadow-xl",children:h?"Cancel":"+ Add Ingredient"}),(0,s.jsx)("button",{onClick:()=>v(!0),className:"bg-gradient-to-r from-[#3B82F6] to-[#29E7CD] text-white px-4 py-2 rounded-lg hover:from-[#3B82F6]/80 hover:to-[#29E7CD]/80 transition-all duration-200 shadow-lg hover:shadow-xl",children:"\uD83D\uDCC1 Import CSV"}),(0,s.jsx)("button",{onClick:()=>{let e=new Blob([["Ingredient Name,Brand,Pack Size,Unit,Cost per Unit,Cost per Unit (As Purchased),Cost per Unit (Incl. Trim),Trim/Peel Waste %,Yield %,Supplier,Product Code,Storage Location",...a.map(e=>[e.ingredient_name,e.brand||"",e.pack_size||"",e.unit||"",e.cost_per_unit||0,e.cost_per_unit_as_purchased||0,e.cost_per_unit_incl_trim||0,e.trim_peel_waste_percentage||0,e.yield_percentage||100,e.supplier||"",e.product_code||"",e.storage_location||""].join(","))].join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="ingredients.csv",document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"bg-gradient-to-r from-[#D925C7] to-[#3B82F6] text-white px-4 py-2 rounded-lg hover:from-[#D925C7]/80 hover:to-[#3B82F6]/80 transition-all duration-200 shadow-lg hover:shadow-xl",children:"\uD83D\uDCE4 Export CSV"})]}),h&&(0,s.jsxs)("div",{className:"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a] mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"\uD83E\uDD58 Add New Ingredient"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-[#29E7CD] rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Guided Setup"})]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("div",{className:"flex items-center justify-center space-x-4",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-all duration-200 ".concat(e<=P?"bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white":"bg-[#2a2a2a] text-gray-400"),children:e}),e<3&&(0,s.jsx)("div",{className:"w-12 h-1 mx-2 transition-all duration-200 ".concat(e<P?"bg-gradient-to-r from-[#29E7CD] to-[#D925C7]":"bg-[#2a2a2a]")})]},e))}),(0,s.jsx)("div",{className:"flex justify-center mt-4",children:(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:[1===P&&"\uD83D\uDCE6 Basic Information",2===P&&"⚙️ Advanced Settings",3===P&&"✅ Review & Save"]})})]}),1===P&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"\uD83D\uDCE6 Basic Information"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Let's start with the essential details"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ingredient Name *"}),(0,s.jsx)("input",{type:"text",required:!0,value:X.ingredient_name,onChange:e=>Q({...X,ingredient_name:e.target.value}),className:"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all",placeholder:"e.g., Fresh Tomatoes"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Brand (Optional)"}),(0,s.jsx)("input",{type:"text",value:X.brand||"",onChange:e=>Q({...X,brand:e.target.value}),className:"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all",placeholder:"e.g., Coles, Woolworths"})]})]}),(0,s.jsxs)("div",{className:"bg-[#2a2a2a]/30 p-6 rounded-2xl border border-[#2a2a2a]/50",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:"\uD83D\uDCE6 Packaging Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Pack Size *"}),(0,s.jsx)("input",{type:"text",required:!0,value:X.pack_size||"",onChange:e=>{let t=e.target.value;if(Q({...X,pack_size:t}),X.pack_price&&t&&X.pack_size_unit&&X.unit){let e=$(X.pack_price,parseFloat(t),X.pack_size_unit,X.unit);Q(a=>({...a,pack_size:t,cost_per_unit:e,cost_per_unit_as_purchased:e,cost_per_unit_incl_trim:e}))}},className:"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all",placeholder:"e.g., 5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Pack Unit *"}),(0,s.jsxs)("select",{value:X.pack_size_unit||"",onChange:e=>{let t=e.target.value;if(Q({...X,pack_size_unit:t}),X.pack_price&&X.pack_size&&t&&X.unit){let e=$(X.pack_price,parseFloat(X.pack_size),t,X.unit);Q(a=>({...a,pack_size_unit:t,cost_per_unit:e,cost_per_unit_as_purchased:e,cost_per_unit_incl_trim:e}))}},className:"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all",children:[(0,s.jsx)("option",{value:"",children:"Select pack unit"}),(0,s.jsx)("option",{value:"GM",children:"Grams (g)"}),(0,s.jsx)("option",{value:"KG",children:"Kilograms (kg)"}),(0,s.jsx)("option",{value:"ML",children:"Milliliters (ml)"}),(0,s.jsx)("option",{value:"L",children:"Liters (L)"}),(0,s.jsx)("option",{value:"PC",children:"Pieces"}),(0,s.jsx)("option",{value:"BOX",children:"Box"}),(0,s.jsx)("option",{value:"PACK",children:"Pack"}),(0,s.jsx)("option",{value:"BAG",children:"Bag"}),(0,s.jsx)("option",{value:"BOTTLE",children:"Bottle"}),(0,s.jsx)("option",{value:"CAN",children:"Can"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Individual Unit *"}),(0,s.jsxs)("select",{value:X.unit||"",onChange:e=>{let t=e.target.value;if(Q({...X,unit:t}),X.pack_price&&X.pack_size&&X.pack_size_unit&&t){let e=$(X.pack_price,parseFloat(X.pack_size),X.pack_size_unit,t);Q(a=>({...a,unit:t,cost_per_unit:e,cost_per_unit_as_purchased:e,cost_per_unit_incl_trim:e}))}},className:"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all",children:[(0,s.jsx)("option",{value:"",children:"Select individual unit"}),(0,s.jsx)("option",{value:"GM",children:"Grams (g)"}),(0,s.jsx)("option",{value:"KG",children:"Kilograms (kg)"}),(0,s.jsx)("option",{value:"ML",children:"Milliliters (ml)"}),(0,s.jsx)("option",{value:"L",children:"Liters (L)"}),(0,s.jsx)("option",{value:"PC",children:"Pieces"})]})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Pack Price ($) *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"absolute left-3 top-3 text-gray-400",children:"$"}),(0,s.jsx)("input",{type:"number",step:"0.01",required:!0,value:X.pack_price||"",onChange:e=>{let t=parseFloat(e.target.value)||0;if(Q({...X,pack_price:t}),t&&X.pack_size&&X.pack_size_unit&&X.unit){let e=$(t,parseFloat(X.pack_size),X.pack_size_unit,X.unit);Q(a=>({...a,pack_price:t,cost_per_unit:e,cost_per_unit_as_purchased:e,cost_per_unit_incl_trim:e}))}},className:"w-full pl-8 pr-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all",placeholder:"13.54"})]}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-[#29E7CD]/10 border border-[#29E7CD]/20 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-[#29E7CD]",children:"\uD83D\uDCA1 Enter the total pack price (e.g., $13.54 for a 5L tub of yogurt). The system will automatically calculate the price per unit."}),X.pack_price&&X.pack_size&&X.pack_size_unit&&X.unit&&(0,s.jsxs)("p",{className:"text-sm text-[#29E7CD] mt-2 font-medium",children:["✅ Price per ",X.unit,": $",T(X.cost_per_unit||0)]})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>g(!1),className:"px-6 py-3 bg-[#2a2a2a] text-gray-300 rounded-2xl hover:bg-[#2a2a2a]/80 transition-all duration-200 font-medium",children:"Cancel"}),(0,s.jsx)("button",{type:"button",onClick:et,disabled:!X.ingredient_name||!X.pack_price||!X.pack_size,className:"px-6 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-2xl hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Step →"})]})]}),2===P&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"⚙️ Advanced Settings"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Configure wastage, yield, and supplier information"})]}),(0,s.jsxs)("div",{className:"bg-[#2a2a2a]/30 p-6 rounded-2xl border border-[#2a2a2a]/50",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:"\uD83C\uDFAF Wastage & Yield Management"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Trim/Waste Percentage"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"number",step:"1",min:"0",max:"100",value:X.trim_peel_waste_percentage||0,onChange:e=>(e=>{let t=Math.max(0,Math.min(100,Math.round(e)));Q({...X,trim_peel_waste_percentage:t,yield_percentage:100-t})})(parseInt(e.target.value)||0),className:"flex-1 px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all"}),(0,s.jsx)("span",{className:"text-gray-400",children:"%"})]}),X.ingredient_name&&(0,s.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["\uD83D\uDCA1 AI suggests: ",(e=>{let t=e.toLowerCase();return t.includes("whole")||t.includes("bone")||t.includes("shell")||t.includes("peel")||t.includes("skin")||t.includes("rind")||t.includes("head")||t.includes("stalk")||t.includes("stem")?Math.floor(21*Math.random())+30:t.includes("fresh")||t.includes("raw")||t.includes("uncooked")||t.includes("leafy")||t.includes("herb")||t.includes("lettuce")||t.includes("spinach")||t.includes("kale")||t.includes("cabbage")?Math.floor(16*Math.random())+10:t.includes("frozen")||t.includes("canned")||t.includes("dried")||t.includes("powder")||t.includes("oil")||t.includes("sauce")||t.includes("paste")||t.includes("concentrate")?Math.floor(11*Math.random()):Math.floor(11*Math.random())+5})(X.ingredient_name),'% based on "',X.ingredient_name,'"']})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Yield Percentage"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"number",step:"1",min:"0",max:"100",value:X.yield_percentage||100,onChange:e=>(e=>{let t=Math.max(0,Math.min(100,Math.round(e)));Q({...X,yield_percentage:t,trim_peel_waste_percentage:100-t})})(parseInt(e.target.value)||100),className:"flex-1 px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all"}),(0,s.jsx)("span",{className:"text-gray-400",children:"%"})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-[#2a2a2a]/30 p-6 rounded-2xl border border-[#2a2a2a]/50",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:"\uD83C\uDFEA Supplier Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Supplier"}),(0,s.jsxs)("select",{value:X.supplier||"",onChange:e=>Q({...X,supplier:e.target.value}),className:"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all",children:[(0,s.jsx)("option",{value:"",children:"Select supplier"}),o.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id)),(0,s.jsx)("option",{value:"custom",children:"+ Add new supplier"})]}),"custom"===X.supplier&&(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)("input",{type:"text",value:S,onChange:e=>z(e.target.value),className:"flex-1 px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all",placeholder:"Enter new supplier name"}),(0,s.jsx)("button",{type:"button",onClick:()=>ee(S),disabled:!S.trim(),className:"px-4 py-3 bg-[#29E7CD]/10 text-[#29E7CD] rounded-2xl hover:bg-[#29E7CD]/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Storage Location"}),(0,s.jsx)("input",{type:"text",value:X.storage_location||"",onChange:e=>Q({...X,storage_location:e.target.value}),className:"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all",placeholder:"e.g., Cold Room A, Dry Storage"})]})]})]}),(0,s.jsxs)("div",{className:"bg-[#2a2a2a]/30 p-6 rounded-2xl border border-[#2a2a2a]/50",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:"\uD83D\uDCCB Additional Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product Code (Optional)"}),(0,s.jsx)("input",{type:"text",value:X.product_code||"",onChange:e=>Q({...X,product_code:e.target.value}),className:"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all",placeholder:"e.g., SKU123456"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Min Stock Level"}),(0,s.jsx)("input",{type:"number",value:X.min_stock_level||0,onChange:e=>Q({...X,min_stock_level:parseInt(e.target.value)||0}),className:"w-full px-4 py-3 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#29E7CD] transition-all",placeholder:"0"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between space-x-4",children:[(0,s.jsx)("button",{type:"button",onClick:ea,className:"px-6 py-3 bg-[#2a2a2a] text-gray-300 rounded-2xl hover:bg-[#2a2a2a]/80 transition-all duration-200 font-medium",children:"← Previous Step"}),(0,s.jsx)("button",{type:"button",onClick:et,className:"px-6 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-2xl hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Next Step →"})]})]}),3===P&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"✅ Review & Save"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Review your ingredient details before saving"})]}),(0,s.jsxs)("div",{className:"bg-[#2a2a2a]/30 p-6 rounded-2xl border border-[#2a2a2a]/50",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:"\uD83D\uDCCB Ingredient Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Ingredient Name:"}),(0,s.jsx)("div",{className:"text-white font-medium",children:X.ingredient_name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Brand:"}),(0,s.jsx)("div",{className:"text-white font-medium",children:X.brand||"Not specified"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Pack Size:"}),(0,s.jsxs)("div",{className:"text-white font-medium",children:[X.pack_size," ",X.pack_size_unit]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Pack Price:"}),(0,s.jsxs)("div",{className:"text-white font-medium",children:["$",X.pack_price]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Individual Unit:"}),(0,s.jsx)("div",{className:"text-white font-medium",children:X.unit})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-sm text-gray-400",children:["Price per ",X.unit,":"]}),(0,s.jsxs)("div",{className:"text-white font-medium",children:["$",T(X.cost_per_unit||0)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Wastage:"}),(0,s.jsxs)("div",{className:"text-white font-medium",children:[X.trim_peel_waste_percentage,"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Yield:"}),(0,s.jsxs)("div",{className:"text-white font-medium",children:[X.yield_percentage,"%"]})]})]})]}),(X.supplier||X.storage_location||X.product_code)&&(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t border-[#2a2a2a]",children:[(0,s.jsx)("h4",{className:"text-md font-semibold text-white mb-3",children:"Additional Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[X.supplier&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Supplier:"}),(0,s.jsx)("div",{className:"text-white font-medium",children:X.supplier})]}),X.storage_location&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Storage Location:"}),(0,s.jsx)("div",{className:"text-white font-medium",children:X.storage_location})]}),X.product_code&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Product Code:"}),(0,s.jsx)("div",{className:"text-white font-medium",children:X.product_code})]})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between space-x-4",children:[(0,s.jsx)("button",{type:"button",onClick:ea,className:"px-6 py-3 bg-[#2a2a2a] text-gray-300 rounded-2xl hover:bg-[#2a2a2a]/80 transition-all duration-200 font-medium",children:"← Previous Step"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("button",{type:"button",onClick:es,className:"px-6 py-3 bg-[#2a2a2a] text-gray-300 rounded-2xl hover:bg-[#2a2a2a]/80 transition-all duration-200 font-medium",children:"Start Over"}),(0,s.jsx)("button",{type:"button",onClick:er,className:"px-6 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-2xl hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"✅ Save Ingredient"})]})]})]})]}),j&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-[#1f1f1f] rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:"\uD83D\uDCC1 Import Ingredients from CSV"}),(0,s.jsx)("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("input",{type:"file",accept:".csv",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(!a)return;let s=new FileReader;s.onload=e=>{var t;let a=null==(t=e.target)?void 0:t.result;_(a),(e=>{try{let t=e.split("\n").filter(e=>e.trim());if(t.length<2)return void p("CSV must have at least a header row and one data row");let a=t[0].split(",").map(e=>e.trim().toLowerCase()),s=[];for(let e=1;e<t.length;e++){let i=t[e].split(",").map(e=>e.trim()),r={};a.forEach((e,t)=>{let a=i[t]||"";e.includes("name")||e.includes("ingredient")?r.ingredient_name=(0,l._J)(a):e.includes("brand")?r.brand=(0,l.SC)(a):e.includes("cost")||e.includes("price")?r.cost_per_unit=parseFloat(a)||0:e.includes("unit")?r.unit=a.toUpperCase():e.includes("supplier")?r.supplier=(0,l.zl)(a):e.includes("code")||e.includes("sku")?r.product_code=a:e.includes("location")||e.includes("storage")?r.storage_location=(0,l.M$)(a):(e.includes("pack")||e.includes("size"))&&(r.pack_size=a||"1")}),r.ingredient_name&&(r.cost_per_unit||(r.cost_per_unit=0),r.cost_per_unit_as_purchased||(r.cost_per_unit_as_purchased=r.cost_per_unit||0),r.cost_per_unit_incl_trim||(r.cost_per_unit_incl_trim=r.cost_per_unit||0),r.trim_peel_waste_percentage||(r.trim_peel_waste_percentage=0),r.yield_percentage||(r.yield_percentage=100),r.unit||(r.unit="GM"),r.pack_size||(r.pack_size="1"),s.push(r))}w(s),p(null)}catch(e){p("Failed to parse CSV file")}})(a)},s.readAsText(a)},className:"w-full px-3 py-2 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-md focus:outline-none focus:ring-2 focus:ring-[#29E7CD]"})}),y.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-white",children:["Preview (",y.length," ingredients found)"]}),(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsx)("button",{onClick:()=>E(new Set(y.map((e,t)=>t.toString()))),className:"text-sm text-[#29E7CD] hover:text-[#29E7CD]/80",children:"Select All"}),(0,s.jsx)("button",{onClick:()=>E(new Set),className:"text-sm text-gray-400 hover:text-white",children:"Clear All"})]})]}),(0,s.jsx)("div",{className:"max-h-60 overflow-y-auto border border-[#2a2a2a] rounded-md",children:y.map((e,t)=>(0,s.jsx)("div",{className:"p-3 border-b border-[#2a2a2a] last:border-b-0",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"checkbox",checked:D.has(t.toString()),onChange:e=>{let a=new Set(D);e.target.checked?a.add(t.toString()):a.delete(t.toString()),E(a)},className:"rounded"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-white font-medium",children:(0,l._J)(e.ingredient_name)}),(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:[e.brand&&"Brand: ".concat(e.brand," • "),(()=>{if(!e.cost_per_unit||!e.unit)return"Cost: N/A";let t=W(e);return"Cost: $".concat(t.formattedCost,"/").concat(t.unit)})(),(()=>{if(!e.cost_per_unit||!e.unit)return"";let t=W(e);return t.packInfo?" • ".concat(t.packInfo):""})()]})]})]})},t))}),(0,s.jsxs)("div",{className:"mt-4 flex justify-end space-x-3",children:[(0,s.jsx)("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancel"}),(0,s.jsx)("button",{onClick:eo,disabled:C||0===D.size,className:"bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white px-4 py-2 rounded-lg hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Importing...":"Import Selected (".concat(D.size,")")})]})]})]})}),(0,s.jsx)("div",{className:"bg-[#1f1f1f] p-4 sm:p-6 rounded-lg shadow mb-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"\uD83D\uDD0D Search"}),(0,s.jsx)("input",{type:"text",placeholder:"Search ingredients...",value:O,onChange:e=>K(e.target.value),className:"w-full px-3 py-2 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-md focus:outline-none focus:ring-2 focus:ring-[#29E7CD]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"\uD83C\uDFEA Supplier"}),(0,s.jsxs)("select",{value:q,onChange:e=>H(e.target.value),className:"w-full px-3 py-2 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-md focus:outline-none focus:ring-2 focus:ring-[#29E7CD]",children:[(0,s.jsx)("option",{value:"",children:"All Suppliers"}),Array.from(new Set(e.map(e=>e.supplier).filter(Boolean))).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"\uD83D\uDCCD Storage"}),(0,s.jsxs)("select",{value:V,onChange:e=>Y(e.target.value),className:"w-full px-3 py-2 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-md focus:outline-none focus:ring-2 focus:ring-[#29E7CD]",children:[(0,s.jsx)("option",{value:"",children:"All Locations"}),Array.from(new Set(e.map(e=>e.storage_location).filter(Boolean))).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"\uD83D\uDCCA Sort By"}),(0,s.jsxs)("select",{value:R,onChange:e=>J(e.target.value),className:"w-full px-3 py-2 border border-[#2a2a2a] bg-[#0a0a0a] text-white rounded-md focus:outline-none focus:ring-2 focus:ring-[#29E7CD]",children:[(0,s.jsx)("option",{value:"name",children:"Name"}),(0,s.jsx)("option",{value:"cost_asc",children:"Cost (Low to High)"}),(0,s.jsx)("option",{value:"cost_desc",children:"Cost (High to Low)"}),(0,s.jsx)("option",{value:"supplier",children:"Supplier"})]})]})]})}),(0,s.jsxs)("div",{className:"bg-[#1f1f1f] rounded-3xl shadow-lg border border-[#2a2a2a] overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-5 border-b border-[#2a2a2a] bg-gradient-to-r from-[#1f1f1f] to-[#2a2a2a]/20",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-1",children:"\uD83E\uDD58 Ingredients"}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[a.length," of ",e.length," ingredients"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-[#29E7CD] rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-xs text-gray-400",children:"Live Data"})]})]})}),(0,s.jsx)("div",{className:"md:hidden",children:a.map((e,t)=>(0,s.jsxs)("div",{className:"group relative p-5 border-b border-[#2a2a2a]/50 last:border-b-0 hover:bg-[#2a2a2a]/20 transition-all duration-200 animate-fadeInUp",style:{animationDelay:"".concat(50*t,"ms")},children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-white text-lg mb-1 group-hover:text-[#29E7CD] transition-colors",children:(0,l._J)(e.ingredient_name)}),e.brand&&(0,s.jsx)("p",{className:"text-sm text-gray-400 font-medium",children:(0,l.SC)(e.brand)})]}),(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)("button",{onClick:()=>ed(e.id),className:"p-2 rounded-full bg-[#29E7CD]/10 hover:bg-[#29E7CD]/20 text-[#29E7CD] hover:text-white transition-all duration-200 shadow-sm hover:shadow-md",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,s.jsx)("button",{onClick:()=>el(e.id),className:"p-2 rounded-full bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-white transition-all duration-200 shadow-sm hover:shadow-md",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"bg-[#2a2a2a]/30 rounded-2xl p-3 border border-[#2a2a2a]/50",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Cost"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-white",children:(()=>{let t=W(e);return"$".concat(t.formattedCost)})()}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:(()=>{let t=W(e);return"per ".concat(t.unit)})()}),(()=>{let t=W(e);return t.packInfo?(0,s.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:t.packInfo}):null})()]}),(0,s.jsxs)("div",{className:"bg-[#2a2a2a]/30 rounded-2xl p-3 border border-[#2a2a2a]/50",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Yield"}),(0,s.jsxs)("div",{className:"text-lg font-semibold text-[#29E7CD]",children:[e.yield_percentage||100,"%"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:[e.trim_peel_waste_percentage||0,"% waste"]})]}),(0,s.jsxs)("div",{className:"bg-[#2a2a2a]/30 rounded-2xl p-3 border border-[#2a2a2a]/50",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Pack Size"}),(0,s.jsx)("div",{className:"text-lg font-semibold text-white",children:e.pack_size||"N/A"}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:e.unit||"units"})]}),(0,s.jsxs)("div",{className:"bg-[#2a2a2a]/30 rounded-2xl p-3 border border-[#2a2a2a]/50",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-1",children:"Supplier"}),(0,s.jsx)("div",{className:"text-sm font-medium text-white truncate",children:(0,l.zl)(e.supplier)||"N/A"}),(0,s.jsx)("div",{className:"text-xs text-gray-400 truncate",children:(0,l.M$)(e.storage_location)||"No location"})]})]})]},e.id))}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gradient-to-r from-[#2a2a2a]/50 to-[#2a2a2a]/20",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wide",children:"Ingredient"}),(0,s.jsx)("div",{className:"w-1 h-1 bg-[#29E7CD] rounded-full"})]})}),(0,s.jsx)("th",{className:"px-6 py-4 text-left",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wide",children:"Pack Size"})}),(0,s.jsx)("th",{className:"px-6 py-4 text-left",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wide",children:"Unit"})}),(0,s.jsx)("th",{className:"px-6 py-4 text-left",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wide",children:"Cost"})}),(0,s.jsx)("th",{className:"px-6 py-4 text-left",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wide",children:"Waste %"})}),(0,s.jsx)("th",{className:"px-6 py-4 text-left",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wide",children:"Yield %"})}),(0,s.jsx)("th",{className:"px-6 py-4 text-left",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wide",children:"Supplier"})}),(0,s.jsx)("th",{className:"px-6 py-4 text-center",children:(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-300 uppercase tracking-wide",children:"Actions"})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-[#2a2a2a]/30",children:a.map((e,t)=>(0,s.jsxs)("tr",{className:"group hover:bg-[#2a2a2a]/20 transition-all duration-200 animate-fadeInUp",style:{animationDelay:"".concat(30*t,"ms")},children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#29E7CD]/20 to-[#D925C7]/20 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-lg",children:"\uD83E\uDD58"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-white group-hover:text-[#29E7CD] transition-colors",children:(0,l._J)(e.ingredient_name)}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:(0,l.SC)(e.brand)||"No brand"})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"text-sm text-white font-medium",children:e.pack_size||"N/A"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#29E7CD]/10 text-[#29E7CD] border border-[#29E7CD]/20",children:e.unit||"N/A"})}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-white",children:(()=>{let t=W(e);return"$".concat(t.formattedCost,"/").concat(t.unit)})()}),(()=>{let t=W(e);return t.packInfo?(0,s.jsx)("div",{className:"text-xs text-gray-500",children:t.packInfo}):null})()]}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"text-sm text-white font-medium",children:[e.trim_peel_waste_percentage||0,"%"]}),(0,s.jsx)("div",{className:"w-8 h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-red-500 to-orange-500 transition-all duration-300",style:{width:"".concat(Math.min(2*(e.trim_peel_waste_percentage||0),100),"%")}})})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"text-sm text-[#29E7CD] font-semibold",children:[e.yield_percentage||100,"%"]}),(0,s.jsx)("div",{className:"w-8 h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] transition-all duration-300",style:{width:"".concat(Math.min(.8*(e.yield_percentage||100),100),"%")}})})]})}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[(0,s.jsx)("div",{className:"text-sm text-white",children:(0,l.zl)(e.supplier)||"N/A"}),e.storage_location&&(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:["\uD83D\uDCCD ",(0,l.M$)(e.storage_location)]})]}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>ed(e.id),className:"p-2 rounded-full bg-[#29E7CD]/10 hover:bg-[#29E7CD]/20 text-[#29E7CD] hover:text-white transition-all duration-200 shadow-sm hover:shadow-md group",title:"Edit ingredient",children:(0,s.jsx)("svg",{className:"w-4 h-4 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,s.jsx)("button",{onClick:()=>el(e.id),className:"p-2 rounded-full bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-white transition-all duration-200 shadow-sm hover:shadow-md group",title:"Delete ingredient",children:(0,s.jsx)("svg",{className:"w-4 h-4 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id))})]})})}),0===a.length&&(0,s.jsxs)("div",{className:"text-center py-16 px-6",children:[(0,s.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-[#29E7CD]/20 to-[#D925C7]/20 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-3xl",children:"\uD83E\uDD58"})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No ingredients found"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:O||q||V?"Try adjusting your search filters to find what you're looking for":"Add your first ingredient to start building your kitchen inventory"}),!O&&!q&&!V&&(0,s.jsx)("button",{onClick:()=>g(!0),className:"bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white px-6 py-3 rounded-2xl hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:"Add Your First Ingredient"})]})]})]}),b&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-[#1f1f1f] rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-[#2a2a2a]",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit Ingredient"}),(0,s.jsx)("button",{onClick:()=>f(null),className:"p-2 rounded-full bg-[#2a2a2a] hover:bg-[#3a3a3a] text-gray-400 hover:text-white transition-colors",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),en(b.id,b)},className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ingredient Name *"}),(0,s.jsx)("input",{type:"text",value:b.ingredient_name,onChange:e=>f({...b,ingredient_name:e.target.value}),className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Brand"}),(0,s.jsx)("input",{type:"text",value:b.brand||"",onChange:e=>f({...b,brand:e.target.value}),className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Pack Size"}),(0,s.jsx)("input",{type:"text",value:b.pack_size||"",onChange:e=>f({...b,pack_size:e.target.value}),className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Unit *"}),(0,s.jsxs)("select",{value:b.unit||"",onChange:e=>f({...b,unit:e.target.value}),className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Unit"}),G.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cost Per Unit ($) *"}),(0,s.jsx)("input",{type:"number",step:"0.01",min:"0",value:b.cost_per_unit,onChange:e=>f({...b,cost_per_unit:parseFloat(e.target.value)||0}),className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Trim/Waste Percentage (%)"}),(0,s.jsx)("input",{type:"number",step:"0.1",min:"0",max:"100",value:b.trim_peel_waste_percentage||0,onChange:e=>f({...b,trim_peel_waste_percentage:parseFloat(e.target.value)||0}),className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Yield Percentage (%)"}),(0,s.jsx)("input",{type:"number",step:"0.1",min:"0",max:"100",value:b.yield_percentage||100,onChange:e=>f({...b,yield_percentage:parseFloat(e.target.value)||100}),className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Supplier"}),(0,s.jsx)("input",{type:"text",value:b.supplier||"",onChange:e=>f({...b,supplier:e.target.value}),className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Storage Location"}),(0,s.jsx)("input",{type:"text",value:b.storage_location||"",onChange:e=>f({...b,storage_location:e.target.value}),className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product Code"}),(0,s.jsx)("input",{type:"text",value:b.product_code||"",onChange:e=>f({...b,product_code:e.target.value}),className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Min Stock Level"}),(0,s.jsx)("input",{type:"number",min:"0",value:b.min_stock_level||0,onChange:e=>f({...b,min_stock_level:parseFloat(e.target.value)||0}),className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent"})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-6 border-t border-[#2a2a2a]",children:[(0,s.jsx)("button",{type:"button",onClick:()=>f(null),className:"flex-1 bg-[#2a2a2a] text-gray-300 px-6 py-3 rounded-xl hover:bg-[#3a3a3a] transition-colors font-medium",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white px-6 py-3 rounded-xl hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:"Update Ingredient"})]})]})]})})]})}}},e=>{e.O(0,[8888,1459,2432,7979,1899,9744,2033,4495,9592,433,2652,3494,2574,2663,9173,2076,7358],()=>e(e.s=2114)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7090],{2863:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(5155),s=n(9269),a=n(2115),r=n(5695),l=n(6766),d=n(147),o=n(8081);function c(){let e=(0,r.useRouter)(),[t,n]=(0,a.useState)([]),[c,m]=(0,a.useState)(!0),[x,p]=(0,a.useState)(null),u=o.Ts,h=(e,t)=>{if(!t||0===t.length)return null;let n=0;t.forEach(e=>{let t=e.ingredients,i=e.quantity,s=t.cost_per_unit,a=(0,d.mT)(s,t.unit||"g",e.unit||"g",t.ingredient_name),r=t.trim_peel_waste_percentage||0,l=t.yield_percentage||100;n+=i*a*(1+r/100)/(l/100)});let i=Math.floor(n/.3)+.95;return{costPerServing:n,recommendedPrice:i,foodCostPercent:n/i*100}},[g,f]=(0,a.useState)(!1),[b,j]=(0,a.useState)({name:"",yield:1,yield_unit:"servings",instructions:""}),[v,y]=(0,a.useState)(null),[N,w]=(0,a.useState)([]),[C,k]=(0,a.useState)(!1),[D,_]=(0,a.useState)(""),[S,F]=(0,a.useState)(!1),[E,P]=(0,a.useState)(1),[L,B]=(0,a.useState)(null),[R,z]=(0,a.useState)(!1),[A,I]=(0,a.useState)(null),[G,M]=(0,a.useState)(new Set),[q,T]=(0,a.useState)(!1),[U,O]=(0,a.useState)({});(0,a.useEffect)(()=>{H()},[]),(0,a.useEffect)(()=>{if(0===t.length)return;let e=s.ND.channel("ingredient-price-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"ingredients",filter:"cost_per_unit=neq.null"},e=>{console.log("Ingredient price changed:",e),W()}).subscribe();return()=>{e.unsubscribe()}},[t]);let H=async()=>{try{let{data:e,error:t}=await s.ND.from("recipes").select("*").order("name");t?p(t.message):(n(e||[]),await Y(e||[]))}catch(e){p("Failed to fetch recipes")}finally{m(!1)}},Y=async e=>{let t={};for(let n of e)try{let e=await K(n.id),i=h(n,e);i&&(t[n.id]=i)}catch(e){console.log("Failed to calculate price for recipe ".concat(n.id,":"),e)}O(t)},W=async()=>{if(0!==t.length)try{await Y(t)}catch(e){console.log("Failed to refresh recipe prices:",e)}},K=async e=>{try{let{data:t,error:n}=await s.ND.from("recipe_ingredients").select("\n          id,\n          recipe_id,\n          ingredient_id,\n          quantity,\n          unit,\n          ingredients (\n            id,\n            ingredient_name,\n            cost_per_unit,\n            unit,\n            trim_peel_waste_percentage,\n            yield_percentage\n          )\n        ").eq("recipe_id",e);if(n)return p(n.message),[];return t||[]}catch(e){return p("Failed to fetch recipe ingredients"),[]}},J=async e=>{e.preventDefault();try{let{error:e}=await s.ND.from("recipes").insert([b]);e?p(e.message):(f(!1),j({name:"",yield:1,yield_unit:"servings",instructions:""}),H())}catch(e){p("Failed to add recipe")}},$=async t=>{try{let n=(await K(t.id)).map(e=>{let n=e.ingredients,i=e.quantity,s=n.cost_per_unit,a=i*s,r=n.trim_peel_waste_percentage||0,l=n.yield_percentage||100,d=a*(1+r/100);return{recipeId:t.id,ingredientId:n.id,ingredientName:n.ingredient_name,quantity:i,unit:e.unit,costPerUnit:s,totalCost:a,wasteAdjustedCost:d,yieldAdjustedCost:d/(l/100)}});sessionStorage.setItem("editingRecipe",JSON.stringify({recipe:t,calculations:n,dishName:t.name,dishPortions:t.yield,dishNameLocked:!0})),e.push("/webapp/cogs")}catch(e){p("Failed to load recipe for editing")}},Q=async e=>{try{console.log("\uD83D\uDD0D DEBUG: Fetching ingredients for recipe:",e.name,e.id);let t=await K(e.id);console.log("\uD83D\uDD0D DEBUG: Fetched ingredients:",t),y(e),w(t),P(e.yield),k(!0),await X(e,t)}catch(e){console.error("❌ Error in handlePreviewRecipe:",e),p("Failed to load recipe preview")}},V=(e,t)=>{let n=v?e*(E/v.yield):e;return("gm"===t.toLowerCase()||"g"===t.toLowerCase()||"gram"===t.toLowerCase())&&n>=1e3?{value:(n/1e3).toFixed(1),unit:"kg",original:"".concat(n.toFixed(1)," ").concat(t)}:("ml"===t.toLowerCase()||"milliliter"===t.toLowerCase())&&n>=1e3?{value:(n/1e3).toFixed(1),unit:"L",original:"".concat(n.toFixed(1)," ").concat(t)}:("mg"===t.toLowerCase()||"milligram"===t.toLowerCase())&&n>=1e3?{value:(n/1e3).toFixed(1),unit:"g",original:"".concat(n.toFixed(1)," ").concat(t)}:("kg"===t.toLowerCase()||"kilogram"===t.toLowerCase())&&n>=1e3?{value:(n/1e3).toFixed(1),unit:"tonne",original:"".concat(n.toFixed(1)," ").concat(t)}:("l"===t.toLowerCase()||"liter"===t.toLowerCase()||"litre"===t.toLowerCase())&&n>=1e3?{value:(n/1e3).toFixed(1),unit:"kL",original:"".concat(n.toFixed(1)," ").concat(t)}:n<1?{value:n.toFixed(2),unit:t,original:"".concat(n.toFixed(2)," ").concat(t)}:{value:n.toFixed(1),unit:t,original:"".concat(n.toFixed(1)," ").concat(t)}},X=async(e,t)=>{console.log("\uD83E\uDD16 DEBUG: Generating AI instructions for:",e.name),console.log("\uD83E\uDD16 DEBUG: Ingredients:",t),F(!0);try{var n,i,s,a,r,l;let d=t.map(e=>e.ingredients.ingredient_name.toLowerCase());console.log("\uD83E\uDD16 DEBUG: Ingredient names:",d);let o=d.some(e=>e.includes("beef")||e.includes("chicken")||e.includes("pork")||e.includes("fish")||e.includes("lamb")||e.includes("mince")),c=d.some(e=>e.includes("carrot")||e.includes("onion")||e.includes("garlic")||e.includes("tomato")||e.includes("pepper")||e.includes("celery")),m=d.some(e=>e.includes("cheese")||e.includes("milk")||e.includes("cream")||e.includes("butter")||e.includes("yogurt")),x=d.some(e=>e.includes("rice")||e.includes("pasta")||e.includes("bread")||e.includes("flour")||e.includes("quinoa")),p="general",u="stovetop";e.name.toLowerCase().includes("burger")||e.name.toLowerCase().includes("patty")?(p="burger",u="grill/pan"):e.name.toLowerCase().includes("soup")||e.name.toLowerCase().includes("stew")?(p="soup",u="stovetop"):e.name.toLowerCase().includes("salad")?(p="salad",u="cold prep"):(e.name.toLowerCase().includes("pasta")||e.name.toLowerCase().includes("noodle"))&&(p="pasta",u="stovetop");let h="";h="burger"===p?"**Burger Preparation:**\n\n**Mise en Place:**\n1. Gather all ingredients and equipment\n2. Prepare work station with cutting board, knives, and mixing bowls\n3. Preheat ".concat("grill/pan"===u?"grill or large skillet":"cooking surface"," to medium-high heat\n\n**Ingredient Prep:**\n").concat(o?"1. Prepare protein: ".concat((null==(n=t.find(e=>e.ingredients.ingredient_name.toLowerCase().includes("beef")||e.ingredients.ingredient_name.toLowerCase().includes("mince")))?void 0:n.ingredients.ingredient_name)||"main protein"," - season and form into patties"):"","\n").concat(c?"2. Prep vegetables: Wash, peel, and chop all vegetables as needed":"","\n").concat(m?"3. Prepare dairy: ".concat((null==(i=t.find(e=>e.ingredients.ingredient_name.toLowerCase().includes("cheese")))?void 0:i.ingredients.ingredient_name)||"cheese"," - slice or grate as needed"):"","\n\n**Cooking Method:**\n1. Heat cooking surface to medium-high (375\xb0F/190\xb0C)\n2. ").concat(o?"Cook protein patties for 4-5 minutes per side for medium doneness":"Cook main ingredients","\n3. ").concat(c?"Saut\xe9 vegetables until tender-crisp":"Cook vegetables as needed","\n4. ").concat(m?"Add cheese in final 1-2 minutes of cooking":"Add finishing ingredients","\n\n**Assembly & Service:**\n1. Toast buns if desired\n2. Layer ingredients: protein, vegetables, condiments\n3. Serve immediately while hot\n4. Yield: ").concat(e.yield," ").concat(e.yield_unit,"\n\n**Professional Tips:**\n- Maintain consistent heat for even cooking\n- Don't press patties while cooking\n- Let meat rest 2-3 minutes before serving\n- Keep ingredients warm during assembly"):"soup"===p?"**Soup Preparation:**\n\n**Mise en Place:**\n1. Gather all ingredients and large pot\n2. Prepare cutting board and sharp knives\n3. Have stock or broth ready at room temperature\n\n**Ingredient Prep:**\n".concat(o?"1. Prepare protein: Cut ".concat((null==(s=t.find(e=>e.ingredients.ingredient_name.toLowerCase().includes("beef")||e.ingredients.ingredient_name.toLowerCase().includes("chicken")))?void 0:s.ingredients.ingredient_name)||"protein"," into bite-sized pieces"):"","\n").concat(c?"2. Prep vegetables: Dice aromatics (onions, carrots, celery) uniformly":"","\n").concat(x?"3. Prepare grains: ".concat((null==(a=t.find(e=>e.ingredients.ingredient_name.toLowerCase().includes("rice")||e.ingredients.ingredient_name.toLowerCase().includes("pasta")))?void 0:a.ingredients.ingredient_name)||"grains"," - rinse if needed"):"","\n\n**Cooking Method:**\n1. Heat large pot over medium heat\n2. ").concat(o?"Sear protein until browned, remove and set aside":"Start with aromatics","\n3. ").concat(c?"Saut\xe9 vegetables until softened (5-7 minutes)":"Cook base ingredients","\n4. Add liquid and bring to boil, then reduce to simmer\n5. ").concat(o?"Return protein to pot":"Add main ingredients","\n6. Simmer until all ingredients are tender (20-30 minutes)\n\n**Final Steps:**\n1. Taste and adjust seasoning\n2. Skim any excess fat from surface\n3. Serve hot with garnishes\n4. Yield: ").concat(e.yield," ").concat(e.yield_unit,"\n\n**Professional Tips:**\n- Build layers of flavor (saut\xe9 aromatics first)\n- Simmer gently to avoid breaking ingredients\n- Taste frequently and adjust seasoning\n- Cool quickly if storing"):"**".concat(e.name," Preparation:**\n\n**Mise en Place:**\n1. Gather all ingredients and equipment\n2. Prepare work station with cutting board and knives\n3. Preheat cooking equipment as needed\n\n**Ingredient Prep:**\n").concat(o?"1. Prepare protein: ".concat((null==(r=t.find(e=>e.ingredients.ingredient_name.toLowerCase().includes("beef")||e.ingredients.ingredient_name.toLowerCase().includes("chicken")||e.ingredients.ingredient_name.toLowerCase().includes("mince")))?void 0:r.ingredients.ingredient_name)||"main protein"," - cut, season, or prepare as needed"):"","\n").concat(c?"2. Prep vegetables: Wash, peel, and cut vegetables uniformly":"","\n").concat(m?"3. Prepare dairy: ".concat((null==(l=t.find(e=>e.ingredients.ingredient_name.toLowerCase().includes("cheese")||e.ingredients.ingredient_name.toLowerCase().includes("milk")))?void 0:l.ingredients.ingredient_name)||"dairy products"," - prepare as needed"):"","\n\n**Cooking Method:**\n1. Heat cooking surface to appropriate temperature\n2. ").concat(o?"Cook protein first, then remove and set aside":"Start with base ingredients","\n3. ").concat(c?"Cook vegetables until desired doneness":"Cook main ingredients","\n4. ").concat(o?"Return protein to pan":"Combine all ingredients","\n5. Season and finish cooking\n\n**Final Steps:**\n1. Taste and adjust seasoning\n2. Plate attractively for ").concat(e.yield," ").concat(e.yield_unit,"\n3. Serve immediately while hot\n\n**Professional Tips:**\n- Maintain consistent heat throughout cooking\n- Use proper knife skills for uniform cuts\n- Keep work area clean and organized\n- Taste frequently and adjust seasoning"),console.log("\uD83E\uDD16 DEBUG: Generated instructions:",h),_(h),console.log("\uD83E\uDD16 DEBUG: AI instructions state set")}catch(e){console.error("\uD83E\uDD16 DEBUG: Error generating instructions:",e),p("Failed to generate cooking instructions")}finally{F(!1)}},Z=e=>{I(e),z(!0)},ee=async()=>{if(A)try{let{error:e}=await s.ND.from("recipe_ingredients").delete().eq("recipe_id",A.id);if(e)return void p(e.message);let{error:t}=await s.ND.from("recipes").delete().eq("id",A.id);if(t)return void p(t.message);await H(),B('Recipe "'.concat(u(A.name),'" deleted successfully!')),setTimeout(()=>B(null),3e3),z(!1),I(null)}catch(e){p("Failed to delete recipe")}},et=e=>{M(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},en=async()=>{if(0!==G.size)try{let e=Array.from(G),{error:t}=await s.ND.from("recipe_ingredients").delete().in("recipe_id",e);if(t)return void p(t.message);let{error:n}=await s.ND.from("recipes").delete().in("id",e);if(n)return void p(n.message);await H(),B("".concat(G.size," recipe").concat(G.size>1?"s":""," deleted successfully!")),setTimeout(()=>B(null),3e3),M(new Set),T(!1)}catch(e){p("Failed to delete recipes")}};return c?(0,i.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] p-4 sm:p-6",children:(0,i.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,i.jsxs)("div",{className:"animate-pulse",children:[(0,i.jsx)("div",{className:"h-8 bg-[#2a2a2a] rounded-3xl w-1/2 mb-8"}),(0,i.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,i.jsxs)("div",{className:"bg-[#1f1f1f] p-6 rounded-3xl shadow-lg border border-[#2a2a2a]",children:[(0,i.jsx)("div",{className:"h-4 bg-[#2a2a2a] rounded-xl w-3/4 mb-3"}),(0,i.jsx)("div",{className:"h-3 bg-[#2a2a2a] rounded-xl w-1/2"})]},t))})]})})}):(0,i.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] p-4 sm:p-6",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,i.jsx)(l.default,{src:"/images/prepflow-logo.png",alt:"PrepFlow Logo",width:40,height:40,className:"rounded-lg",priority:!0}),(0,i.jsx)("h1",{className:"text-4xl font-bold text-white",children:"\uD83D\uDCD6 Recipe Book"})]}),(0,i.jsx)("p",{className:"text-gray-400",children:"Manage your saved recipes and create new ones"})]}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-3 mb-8",children:[(0,i.jsx)("button",{onClick:()=>f(!g),className:"bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white px-6 py-3 rounded-2xl hover:from-[#29E7CD]/80 hover:to-[#D925C7]/80 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:g?"Cancel":"+ Add Manual Recipe"}),(0,i.jsx)("a",{href:"/webapp/cogs",className:"bg-gradient-to-r from-[#3B82F6] to-[#29E7CD] text-white px-6 py-3 rounded-2xl hover:from-[#3B82F6]/80 hover:to-[#29E7CD]/80 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:"Create Recipe from COGS"}),(0,i.jsx)("button",{onClick:()=>{m(!0),H()},className:"bg-gradient-to-r from-[#D925C7] to-[#3B82F6] text-white px-6 py-3 rounded-2xl hover:from-[#D925C7]/80 hover:to-[#3B82F6]/80 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:"\uD83D\uDD04 Refresh Recipes"})]}),(0,i.jsxs)("div",{className:"bg-gradient-to-br from-[#29E7CD]/10 to-[#D925C7]/10 border border-[#29E7CD]/30 p-4 sm:p-6 rounded-xl mb-6",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold text-white mb-2",children:"How Recipe Book Works"}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-300",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium text-[#3B82F6] mb-2",children:"✍️ Manual Recipes"}),(0,i.jsx)("p",{children:"Add recipes manually with instructions and portion counts. Perfect for documenting cooking methods and procedures."})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium text-[#29E7CD] mb-2",children:"\uD83D\uDCCA From COGS Calculations"}),(0,i.jsx)("p",{children:"Create cost calculations in the COGS screen, then save them as recipes. These recipes include all ingredient costs and portion calculations."})]})]})]}),G.size>0&&(0,i.jsx)("div",{className:"bg-gradient-to-r from-[#ef4444]/10 to-[#dc2626]/10 border border-[#ef4444]/30 p-4 rounded-xl mb-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-[#ef4444] to-[#dc2626] rounded-full flex items-center justify-center mr-3",children:(0,i.jsx)("span",{className:"text-white font-bold text-sm",children:G.size})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{className:"text-white font-semibold",children:[G.size," recipe",G.size>1?"s":""," selected"]}),(0,i.jsx)("p",{className:"text-gray-400 text-sm",children:"Choose an action for the selected recipes"})]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("button",{onClick:()=>{0!==G.size&&T(!0)},className:"bg-gradient-to-r from-[#ef4444] to-[#dc2626] text-white px-4 py-2 rounded-lg hover:from-[#ef4444]/80 hover:to-[#dc2626]/80 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"\uD83D\uDDD1️ Delete Selected"}),(0,i.jsx)("button",{onClick:()=>M(new Set),className:"bg-[#2a2a2a] text-gray-300 px-4 py-2 rounded-lg hover:bg-[#3a3a3a] transition-all duration-200 font-medium",children:"Clear Selection"})]})]})}),x&&(0,i.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:x}),L&&(0,i.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-6 flex items-center",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,i.jsx)("span",{className:"font-medium",children:L})]})}),g&&(0,i.jsxs)("div",{className:"bg-[#1f1f1f] p-4 sm:p-6 rounded-lg shadow mb-6",children:[(0,i.jsx)("h2",{className:"text-lg sm:text-xl font-semibold mb-4",children:"Add New Recipe"}),(0,i.jsxs)("form",{onSubmit:J,className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Recipe Name *"}),(0,i.jsx)("input",{type:"text",required:!0,value:b.name,onChange:e=>j({...b,name:e.target.value}),className:"w-full px-3 py-2 border border-[#2a2a2a] rounded-md focus:outline-none focus:ring-2 focus:ring-[#29E7CD]",placeholder:"e.g., Chicken Stir-fry"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Yield Portions"}),(0,i.jsx)("input",{type:"number",min:"1",value:b.yield,onChange:e=>j({...b,yield:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-[#2a2a2a] rounded-md focus:outline-none focus:ring-2 focus:ring-[#29E7CD]"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Instructions"}),(0,i.jsx)("textarea",{value:b.instructions,onChange:e=>j({...b,instructions:e.target.value}),rows:4,className:"w-full px-3 py-2 border border-[#2a2a2a] rounded-md focus:outline-none focus:ring-2 focus:ring-[#29E7CD]",placeholder:"Step-by-step cooking instructions..."})]}),(0,i.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Add Recipe"})]})]}),(0,i.jsxs)("div",{className:"bg-[#1f1f1f] rounded-lg shadow overflow-hidden",children:[(0,i.jsx)("div",{className:"sticky top-0 z-10 bg-[#1f1f1f] px-4 sm:px-6 py-4 border-b border-[#2a2a2a]",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("h2",{className:"text-lg font-semibold text-white",children:["Recipes (",t.length,")"]}),G.size>0&&(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-[#ef4444] to-[#dc2626] rounded-full flex items-center justify-center mr-2",children:(0,i.jsx)("span",{className:"text-white font-bold text-xs",children:G.size})}),(0,i.jsxs)("span",{className:"text-sm text-gray-300",children:[G.size," selected"]})]})]})}),(0,i.jsx)("div",{className:"block md:hidden",children:(0,i.jsx)("div",{className:"divide-y divide-[#2a2a2a]",children:t.map(e=>(0,i.jsxs)("div",{className:"p-4 hover:bg-[#2a2a2a]/20 transition-colors",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",checked:G.has(e.id),onChange:()=>et(e.id),className:"w-4 h-4 text-[#29E7CD] bg-[#0a0a0a] border-[#2a2a2a] rounded focus:ring-[#29E7CD] focus:ring-2 mr-3"}),(0,i.jsx)("h3",{className:"text-sm font-medium text-white cursor-pointer",onClick:()=>Q(e),children:u(e.name)})]}),(0,i.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,i.jsxs)("div",{className:"space-y-1 text-xs text-gray-500 mb-3 ml-7",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Recommended Price:"}),U[e.id]?(0,i.jsxs)("span",{className:"text-white font-semibold ml-1",children:["$",U[e.id].recommendedPrice.toFixed(2)]}):(0,i.jsx)("span",{className:"text-gray-500 ml-1",children:"Calculating..."})]}),U[e.id]&&(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Food Cost:"}),(0,i.jsxs)("span",{className:"text-gray-400 ml-1",children:[U[e.id].foodCostPercent.toFixed(1),"%"]})]}),e.instructions&&(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Instructions:"}),(0,i.jsx)("p",{className:"mt-1 text-gray-400 line-clamp-2",children:e.instructions})]})]}),(0,i.jsxs)("div",{className:"flex gap-2 ml-7",children:[(0,i.jsx)("button",{onClick:()=>$(e),className:"flex-1 bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] text-white px-3 py-2 rounded-lg text-xs font-medium hover:from-[#29E7CD]/80 hover:to-[#3B82F6]/80 transition-all duration-200",children:"✏️ Edit in COGS"}),(0,i.jsx)("button",{onClick:()=>Z(e),className:"flex-1 bg-gradient-to-r from-[#ef4444] to-[#dc2626] text-white px-3 py-2 rounded-lg text-xs font-medium hover:from-[#ef4444]/80 hover:to-[#dc2626]/80 transition-all duration-200",children:"\uD83D\uDDD1️ Delete"})]})]},e.id))})}),(0,i.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-[#2a2a2a]",children:[(0,i.jsx)("thead",{className:"sticky top-0 z-10 bg-gradient-to-r from-[#2a2a2a]/50 to-[#2a2a2a]/20",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",checked:G.size===t.length&&t.length>0,onChange:()=>{G.size===t.length?M(new Set):M(new Set(t.map(e=>e.id)))},className:"w-4 h-4 text-[#29E7CD] bg-[#0a0a0a] border-[#2a2a2a] rounded focus:ring-[#29E7CD] focus:ring-2"}),(0,i.jsx)("span",{className:"ml-2",children:"Select"})]})}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Name"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Recommended Price"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Instructions"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Created"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,i.jsx)("tbody",{className:"bg-[#1f1f1f] divide-y divide-[#2a2a2a]",children:t.map(e=>(0,i.jsxs)("tr",{className:"hover:bg-[#2a2a2a]/20 transition-colors",children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",onClick:e=>e.stopPropagation(),children:(0,i.jsx)("input",{type:"checkbox",checked:G.has(e.id),onChange:()=>et(e.id),className:"w-4 h-4 text-[#29E7CD] bg-[#0a0a0a] border-[#2a2a2a] rounded focus:ring-[#29E7CD] focus:ring-2"})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white cursor-pointer",onClick:()=>Q(e),children:u(e.name)}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300 cursor-pointer",onClick:()=>Q(e),children:U[e.id]?(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("span",{className:"text-white font-semibold",children:["$",U[e.id].recommendedPrice.toFixed(2)]}),(0,i.jsxs)("span",{className:"text-xs text-gray-400",children:[U[e.id].foodCostPercent.toFixed(1),"% food cost"]})]}):(0,i.jsx)("span",{className:"text-gray-500",children:"Calculating..."})}),(0,i.jsx)("td",{className:"px-6 py-4 text-sm text-gray-300 cursor-pointer",onClick:()=>Q(e),children:e.instructions?(0,i.jsx)("div",{className:"max-w-xs truncate",children:e.instructions}):"-"}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300 cursor-pointer",onClick:()=>Q(e),children:new Date(e.created_at).toLocaleDateString()}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:(0,i.jsxs)("div",{className:"flex gap-2",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("button",{onClick:()=>$(e),className:"bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] text-white px-3 py-1 rounded-lg text-xs font-medium hover:from-[#29E7CD]/80 hover:to-[#3B82F6]/80 transition-all duration-200",children:"✏️ Edit"}),(0,i.jsx)("button",{onClick:()=>Z(e),className:"bg-gradient-to-r from-[#ef4444] to-[#dc2626] text-white px-3 py-1 rounded-lg text-xs font-medium hover:from-[#ef4444]/80 hover:to-[#dc2626]/80 transition-all duration-200",children:"\uD83D\uDDD1️ Delete"})]})})]},e.id))})]})})]}),0===t.length&&(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83C\uDF73"}),(0,i.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No recipes yet"}),(0,i.jsx)("p",{className:"text-gray-500 mb-4",children:"Start by adding your first recipe to begin managing your kitchen costs."}),(0,i.jsx)("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] text-white px-4 py-2 rounded-lg hover:from-[#29E7CD]/80 hover:to-[#3B82F6]/80 transition-colors",children:"Add Your First Recipe"})]}),C&&v&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,i.jsxs)("div",{className:"bg-[#1f1f1f] rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,i.jsx)("div",{className:"p-6 border-b border-[#2a2a2a]",children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:u(v.name)}),(0,i.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-gray-400 text-sm",children:"Original Yield:"}),(0,i.jsxs)("span",{className:"text-white font-medium",children:[v.yield," ",v.yield_unit]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-gray-400 text-sm",children:"Adjust for:"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("button",{onClick:()=>P(Math.max(1,E-1)),className:"bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white w-8 h-8 rounded-lg flex items-center justify-center text-sm font-medium transition-colors",children:"−"}),(0,i.jsx)("input",{type:"number",value:E,onChange:e=>P(Math.max(1,parseInt(e.target.value)||1)),className:"bg-[#0a0a0a] border border-[#2a2a2a] text-white text-center w-16 h-8 rounded-lg text-sm font-medium focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",min:"1"}),(0,i.jsx)("button",{onClick:()=>P(E+1),className:"bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white w-8 h-8 rounded-lg flex items-center justify-center text-sm font-medium transition-colors",children:"+"})]}),(0,i.jsx)("span",{className:"text-white font-medium",children:v.yield_unit})]}),E!==v.yield&&(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-xs text-gray-400",children:"Scale:"}),(0,i.jsxs)("span",{className:"text-sm font-medium ".concat(E>v.yield?"text-[#29E7CD]":"text-[#3B82F6]"),children:[E>v.yield?"+":"",((E/v.yield-1)*100).toFixed(0),"%"]})]})]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("button",{onClick:()=>(()=>{if(!v||!N.length)return void p("No recipe data available for editing");try{console.log("\uD83D\uDD0D DEBUG: Recipe ingredients from preview:",N),console.log("\uD83D\uDD0D DEBUG: Selected recipe:",v);let t=N.map(e=>{let t=e.ingredients,n=e.quantity,i=t.cost_per_unit,s=n*i,a=t.trim_peel_waste_percentage||0,r=t.yield_percentage||100,l=s*(1+a/100);return console.log("\uD83D\uDD0D DEBUG: Converting ingredient:",{ingredientName:t.ingredient_name,quantity:n,unit:e.unit,costPerUnit:i}),{recipeId:v.id,ingredientId:t.id,ingredientName:t.ingredient_name,quantity:n,unit:e.unit,costPerUnit:i,totalCost:s,wasteAdjustedCost:l,yieldAdjustedCost:l/(r/100)}});console.log("\uD83D\uDD0D DEBUG: Final calculations array:",t),sessionStorage.setItem("editingRecipe",JSON.stringify({recipe:v,recipeId:v.id,calculations:t,dishName:v.name,dishPortions:v.yield,dishNameLocked:!0})),k(!1),e.push("/webapp/cogs")}catch(e){console.error("❌ Error in handleEditFromPreview:",e),p("Failed to load recipe for editing")}})(),className:"bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-[#29E7CD]/80 hover:to-[#3B82F6]/80 transition-all duration-200",children:"✏️ Edit Recipe"}),(0,i.jsx)("button",{onClick:()=>{window.print()},className:"bg-gradient-to-r from-[#D925C7] to-[#29E7CD] text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-[#D925C7]/80 hover:to-[#29E7CD]/80 transition-all duration-200",children:"\uD83D\uDDA8️ Print"}),(0,i.jsx)("button",{onClick:()=>k(!1),className:"bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors",children:"✕ Close"})]})]})}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,i.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCB"}),"Ingredients",(0,i.jsxs)("span",{className:"text-sm font-normal text-gray-400 ml-2",children:["(",N.length," item",1!==N.length?"s":"",")"]})]}),(0,i.jsxs)("div",{className:"bg-[#0a0a0a] rounded-xl border border-[#2a2a2a]/50 overflow-hidden",children:[(0,i.jsx)("div",{className:"bg-gradient-to-r from-[#2a2a2a]/50 to-[#2a2a2a]/20 px-4 py-3 border-b border-[#2a2a2a]/50",children:(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-4 text-sm font-medium text-gray-300",children:[(0,i.jsx)("div",{className:"col-span-1 text-center",children:"#"}),(0,i.jsx)("div",{className:"col-span-8",children:"Ingredient"}),(0,i.jsx)("div",{className:"col-span-3 text-center",children:"Quantity"})]})}),(0,i.jsx)("div",{className:"divide-y divide-[#2a2a2a]/30",children:N.map((e,t)=>{let n=e.ingredients,s=e.quantity;return(0,i.jsx)("div",{className:"px-4 py-3 hover:bg-[#2a2a2a]/20 transition-colors",children:(0,i.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center",children:[(0,i.jsx)("div",{className:"col-span-1 text-center",children:(0,i.jsx)("span",{className:"text-sm text-gray-400 font-mono",children:String(t+1).padStart(2,"0")})}),(0,i.jsx)("div",{className:"col-span-8",children:(0,i.jsx)("div",{className:"text-white font-medium",children:n.ingredient_name})}),(0,i.jsx)("div",{className:"col-span-3 text-center",children:(0,i.jsx)("span",{className:"text-white font-medium",children:(()=>{let t=V(s,e.unit),n=t.unit!==e.unit.toLowerCase();return(0,i.jsxs)(i.Fragment,{children:[t.value," ",t.unit,n&&(0,i.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["(",t.original,")"]}),E!==v.yield&&!n&&(0,i.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["(orig: ",s," ",e.unit,")"]})]})})()})})]})},e.id)})})]})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83E\uDD16 AI-Generated Cooking Method"}),(0,i.jsx)("div",{className:"bg-[#0a0a0a] rounded-lg p-4",children:S?(0,i.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#29E7CD]"}),(0,i.jsx)("span",{className:"ml-3 text-gray-400",children:"Generating cooking instructions..."})]}):(0,i.jsx)("div",{className:"text-gray-300 whitespace-pre-wrap",children:D})})]}),v.instructions&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"\uD83D\uDC68‍\uD83C\uDF73 Manual Instructions"}),(0,i.jsx)("div",{className:"bg-[#0a0a0a] rounded-lg p-4",children:(0,i.jsx)("div",{className:"text-gray-300 whitespace-pre-wrap",children:v.instructions})})]})]})]})}),R&&A&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,i.jsxs)("div",{className:"bg-[#1f1f1f] rounded-2xl shadow-2xl max-w-md w-full border border-[#2a2a2a]",children:[(0,i.jsx)("div",{className:"p-6 border-b border-[#2a2a2a]",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-[#ef4444] to-[#dc2626] rounded-full flex items-center justify-center mr-4",children:(0,i.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-white",children:"Delete Recipe"}),(0,i.jsx)("p",{className:"text-gray-400 text-sm",children:"This action cannot be undone"})]})]})}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to delete ",(0,i.jsxs)("span",{className:"font-semibold text-white",children:['"',u(A.name),'"']}),"? This will permanently remove the recipe and all its ingredients from your Recipe Book."]}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsx)("button",{onClick:()=>{z(!1),I(null)},className:"flex-1 bg-[#2a2a2a] text-gray-300 px-4 py-3 rounded-xl hover:bg-[#3a3a3a] transition-all duration-200 font-medium",children:"Cancel"}),(0,i.jsx)("button",{onClick:ee,className:"flex-1 bg-gradient-to-r from-[#ef4444] to-[#dc2626] text-white px-4 py-3 rounded-xl hover:from-[#ef4444]/80 hover:to-[#dc2626]/80 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Delete Recipe"})]})]})]})}),q&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,i.jsxs)("div",{className:"bg-[#1f1f1f] rounded-2xl shadow-2xl max-w-md w-full border border-[#2a2a2a]",children:[(0,i.jsx)("div",{className:"p-6 border-b border-[#2a2a2a]",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-[#ef4444] to-[#dc2626] rounded-full flex items-center justify-center mr-4",children:(0,i.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-white",children:"Delete Multiple Recipes"}),(0,i.jsx)("p",{className:"text-gray-400 text-sm",children:"This action cannot be undone"})]})]})}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to delete ",(0,i.jsxs)("span",{className:"font-semibold text-white",children:[G.size," recipe",G.size>1?"s":""]}),"? This will permanently remove all selected recipes and their ingredients from your Recipe Book."]}),(0,i.jsxs)("div",{className:"bg-[#0a0a0a] rounded-lg p-4 mb-6 max-h-32 overflow-y-auto",children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-white mb-2",children:"Selected Recipes:"}),(0,i.jsx)("div",{className:"space-y-1",children:Array.from(G).map(e=>{let n=t.find(t=>t.id===e);return n?(0,i.jsxs)("div",{className:"text-xs text-gray-400",children:["• ",u(n.name)]},e):null})})]}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsx)("button",{onClick:()=>{T(!1)},className:"flex-1 bg-[#2a2a2a] text-gray-300 px-4 py-3 rounded-xl hover:bg-[#3a3a3a] transition-all duration-200 font-medium",children:"Cancel"}),(0,i.jsxs)("button",{onClick:en,className:"flex-1 bg-gradient-to-r from-[#ef4444] to-[#dc2626] text-white px-4 py-3 rounded-xl hover:from-[#ef4444]/80 hover:to-[#dc2626]/80 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:["Delete ",G.size," Recipe",G.size>1?"s":""]})]})]})]})}),v&&(0,i.jsx)("div",{className:"hidden print-recipe-card print:block print:fixed print:inset-0 print:bg-white print:p-8 print:z-[9999] print:m-0",children:(0,i.jsxs)("div",{className:"print:max-w-none print:w-full print:h-full print:overflow-visible print:m-0 print:p-0",children:[(0,i.jsxs)("div",{className:"print:flex print:justify-between print:items-center print:mb-8 print:border-b print:border-gray-300 print:pb-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"print:text-3xl print:font-bold print:text-black print:mb-2",children:u(v.name)}),(0,i.jsxs)("p",{className:"print:text-lg print:text-gray-600",children:["Yield: ",E," ",v.yield_unit,E!==v.yield&&(0,i.jsxs)("span",{className:"print:ml-2 print:text-sm print:text-gray-500",children:["(scaled from ",v.yield," ",v.yield_unit,")"]})]})]}),(0,i.jsxs)("div",{className:"print:flex print:items-center print:gap-3",children:[(0,i.jsx)("img",{src:"/images/prepflow-logo.png",alt:"PrepFlow",className:"print:w-16 print:h-16 print:object-contain"}),(0,i.jsxs)("div",{className:"print:text-right",children:[(0,i.jsx)("div",{className:"print:text-sm print:font-semibold print:text-black",children:"PrepFlow"}),(0,i.jsx)("div",{className:"print:text-xs print:text-gray-500",children:"Kitchen Management"})]})]})]}),(0,i.jsxs)("div",{className:"print:mb-8",children:[(0,i.jsx)("h2",{className:"print:text-2xl print:font-bold print:text-black print:mb-4 print:border-b print:border-gray-300 print:pb-2",children:"\uD83D\uDCCB Ingredients"}),(0,i.jsx)("div",{className:"print:space-y-2",children:N.map((e,t)=>{let n=e.ingredients,s=V(e.quantity,e.unit);return(0,i.jsxs)("div",{className:"print:flex print:justify-between print:items-center print:py-1 print:border-b print:border-gray-100 print:last:border-b-0",children:[(0,i.jsxs)("div",{className:"print:flex print:items-center print:gap-3",children:[(0,i.jsxs)("span",{className:"print:text-sm print:text-gray-500 print:font-mono print:w-6",children:[String(t+1).padStart(2,"0"),"."]}),(0,i.jsx)("span",{className:"print:text-black print:font-medium",children:n.ingredient_name})]}),(0,i.jsxs)("span",{className:"print:text-black print:font-semibold",children:[s.value," ",s.unit]})]},e.id)})})]}),(0,i.jsxs)("div",{className:"print:mb-8",children:[(0,i.jsx)("h2",{className:"print:text-2xl print:font-bold print:text-black print:mb-4 print:border-b print:border-gray-300 print:pb-2",children:"\uD83E\uDD16 Cooking Instructions"}),(0,i.jsx)("div",{className:"print:text-black print:leading-relaxed print:whitespace-pre-line",children:D})]}),(0,i.jsxs)("div",{className:"print:mt-12 print:pt-4 print:border-t print:border-gray-300 print:text-center print:text-xs print:text-gray-500",children:[(0,i.jsx)("p",{children:"Generated by PrepFlow Kitchen Management System"}),(0,i.jsxs)("p",{children:["Printed on ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]})]})]})})]})})}},6535:(e,t,n)=>{Promise.resolve().then(n.bind(n,2863))}},e=>{e.O(0,[8888,1459,2432,7979,1899,9744,2033,4495,9592,433,2652,3494,2574,2663,9173,2076,7358],()=>e(e.s=6535)),_N_E=e.O()}]);
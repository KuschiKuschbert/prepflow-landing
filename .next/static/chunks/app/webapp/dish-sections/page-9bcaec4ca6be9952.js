(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3738],{45610:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var i=t(95155),a=t(12115),n=t(34908),o=t(12104);function r(){let{t:e}=(0,n.Bd)(),[s,t]=(0,a.useState)([]),[r,c]=(0,a.useState)([]),[l,d]=(0,a.useState)(!1),[h,x]=(0,a.useState)(null),[m,u]=(0,a.useState)(!1),[p,b]=(0,a.useState)(null),[f,j]=(0,a.useState)({name:"",description:"",color:"#29E7CD"}),g="user-123";(0,a.useEffect)(()=>{v(),N()},[]);let v=async()=>{try{let e=await fetch("/api/kitchen-sections?userId=".concat(g)),s=await e.json();s.success?t(s.data):x(s.message||"Failed to fetch kitchen sections")}catch(e){x("Failed to fetch kitchen sections")}finally{d(!1)}},N=async()=>{try{let e=await fetch("/api/menu-dishes?userId=".concat(g)),s=await e.json();s.success&&c(s.data)}catch(e){console.error("Failed to fetch menu dishes:",e)}},y=async e=>{e.preventDefault();try{let e=p?"PUT":"POST",s=p?{id:p.id,name:f.name,description:f.description,color:f.color}:{userId:g,name:f.name,description:f.description,color:f.color},t=await fetch("/api/kitchen-sections",{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),i=await t.json();i.success?(await v(),S(),x(null)):x(i.message||"Failed to save kitchen section")}catch(e){x("Failed to save kitchen section")}},w=async e=>{if(confirm("Are you sure you want to delete this kitchen section? All dishes will be unassigned."))try{let s=await fetch("/api/kitchen-sections?id=".concat(e),{method:"DELETE"}),t=await s.json();t.success?(await v(),await N()):x(t.message||"Failed to delete kitchen section")}catch(e){x("Failed to delete kitchen section")}},C=async(e,s)=>{try{let t=await fetch("/api/assign-dish-section",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dishId:e,sectionId:s})}),i=await t.json();i.success?(await N(),await v()):x(i.message||"Failed to assign dish to section")}catch(e){x("Failed to assign dish to section")}},S=()=>{j({name:"",description:"",color:"#29E7CD"}),u(!1),b(null)},k=()=>r.filter(e=>!e.kitchen_section_id);return l?(0,i.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsx)(o.O0,{variant:"stats",height:"64px"}),(0,i.jsx)("div",{className:"space-y-4 mt-6",children:(0,i.jsx)(o.O0,{variant:"card",count:5,height:"80px"})})]})}):(0,i.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2",children:["\uD83C\uDF7D️ ",e("dishSections.title","Dish Sections")]}),(0,i.jsx)("p",{className:"text-gray-400",children:e("dishSections.subtitle","Organize dishes by kitchen sections for prep lists")})]}),(0,i.jsxs)("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-2xl hover:shadow-xl transition-all duration-200 font-semibold",children:["+ ",e("dishSections.addSection","Add Section")]})]}),h&&(0,i.jsx)("div",{className:"mb-6 p-4 bg-red-400/10 border border-red-400/20 rounded-2xl",children:(0,i.jsx)("p",{className:"text-red-400",children:h})}),(0,i.jsx)("div",{className:"space-y-6",children:0===s.length?(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-[#29E7CD]/20 to-[#D925C7]/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,i.jsx)("span",{className:"text-3xl",children:"\uD83C\uDF7D️"})}),(0,i.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:e("dishSections.noSections","No Kitchen Sections")}),(0,i.jsx)("p",{className:"text-gray-400 mb-6",children:e("dishSections.noSectionsDesc","Create kitchen sections to organize your dishes for prep lists")}),(0,i.jsx)("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-2xl hover:shadow-xl transition-all duration-200 font-semibold",children:e("dishSections.createFirstSection","Create Your First Section")})]}):s.map(s=>(0,i.jsxs)("div",{className:"bg-[#1f1f1f] border border-[#2a2a2a] rounded-2xl p-6 hover:shadow-xl hover:border-[#29E7CD]/50 transition-all duration-200",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:"".concat(s.color,"20")},children:(0,i.jsx)("span",{className:"text-lg",children:"\uD83C\uDF7D️"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-white text-lg",children:s.name}),s.description&&(0,i.jsx)("p",{className:"text-sm text-gray-400",children:s.description})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsx)("button",{onClick:()=>{b(s),j({name:s.name,description:s.description||"",color:s.color}),u(!0)},className:"p-2 text-[#29E7CD] hover:bg-[#29E7CD]/10 rounded-xl transition-colors",title:"Edit",children:(0,i.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,i.jsx)("button",{onClick:()=>w(s.id),className:"p-2 text-red-400 hover:bg-red-400/10 rounded-xl transition-colors",title:"Delete",children:(0,i.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,i.jsxs)("div",{className:"bg-[#2a2a2a]/30 rounded-xl p-4",children:[(0,i.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3",children:[e("dishSections.dishesInSection","Dishes in this section")," (",s.menu_dishes.length,")"]}),0===s.menu_dishes.length?(0,i.jsx)("p",{className:"text-sm text-gray-400",children:e("dishSections.noDishesInSection","No dishes assigned to this section")}):(0,i.jsx)("div",{className:"space-y-2",children:s.menu_dishes.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between bg-[#1f1f1f] rounded-lg p-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-white font-semibold text-sm",children:e.name}),(0,i.jsx)("p",{className:"text-gray-400 text-xs",children:e.category})]}),(0,i.jsx)("button",{onClick:()=>C(e.id,null),className:"p-1 text-red-400 hover:bg-red-400/10 rounded transition-colors",title:"Unassign",children:(0,i.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e.id))})]})]},s.id))}),k().length>0&&(0,i.jsxs)("div",{className:"mt-8",children:[(0,i.jsxs)("h2",{className:"text-xl font-semibold text-white mb-4",children:[e("dishSections.unassignedDishes","Unassigned Dishes")," (",k().length,")"]}),(0,i.jsx)("div",{className:"bg-[#1f1f1f] border border-[#2a2a2a] rounded-2xl p-6",children:(0,i.jsx)("div",{className:"space-y-3",children:k().map(t=>(0,i.jsxs)("div",{className:"flex items-center justify-between bg-[#2a2a2a]/30 rounded-lg p-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-white font-semibold",children:t.name}),(0,i.jsx)("p",{className:"text-gray-400 text-sm",children:t.category})]}),(0,i.jsx)("div",{className:"flex items-center space-x-2",children:(0,i.jsxs)("select",{value:"",onChange:e=>C(t.id,e.target.value||null),className:"px-3 py-2 bg-[#1f1f1f] border border-[#2a2a2a] rounded-lg text-white text-sm focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",children:[(0,i.jsx)("option",{value:"",children:e("dishSections.assignToSection","Assign to section")}),s.map(e=>(0,i.jsx)("option",{value:e.id,children:e.name},e.id))]})})]},t.id))})})]}),m&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,i.jsxs)("div",{className:"bg-[#1f1f1f] border border-[#2a2a2a] rounded-3xl p-6 w-full max-w-md",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-white",children:p?e("dishSections.editSection","Edit Section"):e("dishSections.addSection","Add Section")}),(0,i.jsx)("button",{onClick:S,className:"p-2 text-gray-400 hover:text-white transition-colors",children:(0,i.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,i.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("dishSections.sectionName","Section Name")}),(0,i.jsx)("input",{type:"text",value:f.name,onChange:e=>j({...f,name:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",placeholder:"e.g., Hot Kitchen, Cold Kitchen, Pastry",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("dishSections.description","Description")}),(0,i.jsx)("textarea",{value:f.description,onChange:e=>j({...f,description:e.target.value}),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",rows:3,placeholder:"Optional description of this section"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:e("dishSections.color","Color")}),(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("input",{type:"color",value:f.color,onChange:e=>j({...f,color:e.target.value}),className:"w-12 h-12 rounded-xl border border-[#2a2a2a] cursor-pointer"}),(0,i.jsx)("input",{type:"text",value:f.color,onChange:e=>j({...f,color:e.target.value}),className:"flex-1 px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-xl text-white focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent",placeholder:"#29E7CD"})]})]}),(0,i.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,i.jsx)("button",{type:"button",onClick:S,className:"flex-1 px-4 py-3 bg-[#2a2a2a] text-gray-300 rounded-xl hover:bg-[#2a2a2a]/80 transition-colors",children:e("dishSections.cancel","Cancel")}),(0,i.jsx)("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-[#29E7CD] to-[#D925C7] text-white rounded-xl hover:shadow-xl transition-all duration-200 font-semibold",children:p?e("dishSections.update","Update"):e("dishSections.create","Create")})]})]})]})})]})})}},57011:(e,s,t)=>{Promise.resolve().then(t.bind(t,45610))}},e=>{e.O(0,[2076,563,8650,8405,9420,622,7979,1899,4450,9324,8585,9592,433,2652,3494,2574,9173,3023,1356,309,4191,2834,957,6691,1151,9473,9219,6053,3376,7358],()=>e(e.s=57011)),_N_E=e.O()}]);
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/performance/components/PerformanceHeader.tsx"],"sourcesContent":["'use client';\n\nimport { PerformanceAlert } from '../types';\n\ninterface PerformanceHeaderProps {\n  performanceScore: number;\n  realtimeEnabled: boolean;\n  lastUpdate: Date | null;\n  performanceAlerts: PerformanceAlert[];\n}\n\nexport default function PerformanceHeader({\n  performanceScore,\n  realtimeEnabled,\n  lastUpdate,\n  performanceAlerts\n}: PerformanceHeaderProps) {\n  return (\n    <div className=\"mb-8\">\n      <div className=\"flex justify-between items-start mb-4\">\n        <div>\n          <h1 className=\"text-4xl font-bold text-white mb-2\">\n            Performance Analysis\n          </h1>\n          <p className=\"text-gray-300 text-lg\">\n            Analyze your menu performance and profitability\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"text-right\">\n            <div className=\"text-sm text-gray-400\">Performance Score</div>\n            <div className={`text-2xl font-bold ${\n              performanceScore >= 90 ? 'text-green-400' :\n              performanceScore >= 70 ? 'text-yellow-400' : 'text-red-400'\n            }`}>\n              {performanceScore}/100\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className={`w-3 h-3 rounded-full ${\n              realtimeEnabled ? 'bg-green-400 animate-pulse' : 'bg-gray-400'\n            }`}></div>\n            <span className=\"text-sm text-gray-300\">\n              {realtimeEnabled ? 'Live' : 'Offline'}\n            </span>\n          </div>\n          {lastUpdate && (\n            <div className=\"text-right\">\n              <div className=\"text-xs text-gray-400\">Last Update</div>\n              <div className=\"text-xs text-gray-300\">\n                {lastUpdate.toLocaleTimeString()}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      {performanceAlerts.length > 0 && (\n        <div className=\"mb-4 p-4 bg-yellow-900/20 border border-yellow-500/30 rounded-lg\">\n          <div className=\"flex items-center space-x-2 mb-2\">\n            <svg className=\"w-5 h-5 text-yellow-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\"/>\n            </svg>\n            <span className=\"text-yellow-400 font-medium\">Performance Alerts</span>\n          </div>\n          <div className=\"space-y-1\">\n            {performanceAlerts.slice(-3).map((alert) => (\n              <div key={alert.id} className=\"text-sm text-yellow-300\">\n                {alert.message}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAWe,SAAS,kBAAkB,KAKjB;QALiB,EACxC,gBAAgB,EAChB,eAAe,EACf,UAAU,EACV,iBAAiB,EACM,GALiB;IAMxC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAqC;;;;;;0CAGnD,6LAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAIvC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAAwB;;;;;;kDACvC,6LAAC;wCAAI,WAAW,AAAC,sBAGhB,OAFC,oBAAoB,KAAK,mBACzB,oBAAoB,KAAK,oBAAoB;;4CAE5C;4CAAiB;;;;;;;;;;;;;0CAGtB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAW,AAAC,wBAEhB,OADC,kBAAkB,+BAA+B;;;;;;kDAEnD,6LAAC;wCAAK,WAAU;kDACb,kBAAkB,SAAS;;;;;;;;;;;;4BAG/B,4BACC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDAAwB;;;;;;kDACvC,6LAAC;wCAAI,WAAU;kDACZ,WAAW,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;YAMvC,kBAAkB,MAAM,GAAG,mBAC1B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;gCAA0B,MAAK;gCAAe,SAAQ;0CACnE,cAAA,6LAAC;oCAAK,UAAS;oCAAU,GAAE;oCAAoN,UAAS;;;;;;;;;;;0CAE1P,6LAAC;gCAAK,WAAU;0CAA8B;;;;;;;;;;;;kCAEhD,6LAAC;wBAAI,WAAU;kCACZ,kBAAkB,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,sBAChC,6LAAC;gCAAmB,WAAU;0CAC3B,MAAM,OAAO;+BADN,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;AAShC;KAhEwB","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/performance/components/PerformanceMetadata.tsx"],"sourcesContent":["'use client';\n\nimport { PerformanceMetadata as PerformanceMetadataType } from '../types';\n\ninterface PerformanceMetadataProps {\n  metadata: PerformanceMetadataType | null;\n}\n\nexport default function PerformanceMetadata({ metadata }: PerformanceMetadataProps) {\n  if (!metadata) return null;\n\n  return (\n    <div className=\"bg-[#1f1f1f] rounded-2xl border border-[#2a2a2a] p-6 mb-8\">\n      <h3 className=\"text-xl font-semibold text-white mb-4\">PrepFlow COGS Dynamic Methodology</h3>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <div className=\"text-center\">\n          <div className=\"text-sm text-gray-400 mb-1\">Methodology</div>\n          <div className=\"text-lg font-semibold text-[#29E7CD]\">{metadata.methodology}</div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-sm text-gray-400 mb-1\">Average Profit Margin</div>\n          <div className=\"text-lg font-semibold text-white\">{metadata.averageProfitMargin?.toFixed(1)}%</div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-sm text-gray-400 mb-1\">Average Popularity</div>\n          <div className=\"text-lg font-semibold text-white\">{metadata.averagePopularity?.toFixed(1)}%</div>\n        </div>\n        <div className=\"text-center\">\n          <div className=\"text-sm text-gray-400 mb-1\">Popularity Threshold</div>\n          <div className=\"text-lg font-semibold text-[#D925C7]\">{metadata.popularityThreshold?.toFixed(1)}%</div>\n        </div>\n      </div>\n      <div className=\"mt-4 text-sm text-gray-300\">\n        <p><strong>Profit Check:</strong> HIGH if above menu average ({metadata.averageProfitMargin?.toFixed(1)}%), LOW if below</p>\n        <p><strong>Popularity Check:</strong> HIGH if â‰¥ 80% of average popularity ({metadata.popularityThreshold?.toFixed(1)}%), LOW if below</p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAQe,SAAS,oBAAoB,KAAsC;QAAtC,EAAE,QAAQ,EAA4B,GAAtC;QAaiB,+BAIA,6BAII,+BAIM,gCACa;IAzBlF,IAAI,CAAC,UAAU,OAAO;IAEtB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAwC;;;;;;0BACtD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAA6B;;;;;;0CAC5C,6LAAC;gCAAI,WAAU;0CAAwC,SAAS,WAAW;;;;;;;;;;;;kCAE7E,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAA6B;;;;;;0CAC5C,6LAAC;gCAAI,WAAU;;qCAAoC,gCAAA,SAAS,mBAAmB,cAA5B,oDAAA,8BAA8B,OAAO,CAAC;oCAAG;;;;;;;;;;;;;kCAE9F,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAA6B;;;;;;0CAC5C,6LAAC;gCAAI,WAAU;;qCAAoC,8BAAA,SAAS,iBAAiB,cAA1B,kDAAA,4BAA4B,OAAO,CAAC;oCAAG;;;;;;;;;;;;;kCAE5F,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAA6B;;;;;;0CAC5C,6LAAC;gCAAI,WAAU;;qCAAwC,gCAAA,SAAS,mBAAmB,cAA5B,oDAAA,8BAA8B,OAAO,CAAC;oCAAG;;;;;;;;;;;;;;;;;;;0BAGpG,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CAAE,6LAAC;0CAAO;;;;;;4BAAsB;6BAA8B,iCAAA,SAAS,mBAAmB,cAA5B,qDAAA,+BAA8B,OAAO,CAAC;4BAAG;;;;;;;kCACxG,6LAAC;;0CAAE,6LAAC;0CAAO;;;;;;4BAA0B;6BAAuC,iCAAA,SAAS,mBAAmB,cAA5B,qDAAA,+BAA8B,OAAO,CAAC;4BAAG;;;;;;;;;;;;;;;;;;;AAI7H;KA9BwB","debugId":null}},
    {"offset": {"line": 413, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/performance/components/PerformanceFilters.tsx"],"sourcesContent":["'use client';\n\nimport { PerformanceFilters as PerformanceFiltersType } from '../types';\n\ninterface PerformanceFiltersProps {\n  filters: PerformanceFiltersType;\n  onFiltersChange: (filters: PerformanceFiltersType) => void;\n}\n\nexport default function PerformanceFilters({ filters, onFiltersChange }: PerformanceFiltersProps) {\n  const handleFilterChange = (key: keyof PerformanceFiltersType, value: any) => {\n    onFiltersChange({\n      ...filters,\n      [key]: value\n    });\n  };\n\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n      <div className=\"flex flex-col\">\n        <label className=\"text-sm font-medium text-gray-300 mb-2\">Search</label>\n        <input\n          type=\"text\"\n          placeholder=\"Search dishes...\"\n          value={filters.searchTerm}\n          onChange={(e) => handleFilterChange('searchTerm', e.target.value)}\n          className=\"px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent text-base\"\n        />\n      </div>\n      \n      <div className=\"flex flex-col\">\n        <label className=\"text-sm font-medium text-gray-300 mb-2\">Sort By</label>\n        <select\n          value={filters.sortBy}\n          onChange={(e) => handleFilterChange('sortBy', e.target.value)}\n          className=\"px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent text-base\"\n        >\n          <option value=\"gross_profit_percentage\">Gross Profit %</option>\n          <option value=\"number_sold\">Number Sold</option>\n          <option value=\"popularity_percentage\">Popularity %</option>\n          <option value=\"name\">Name</option>\n        </select>\n      </div>\n      \n      <div className=\"flex flex-col\">\n        <label className=\"text-sm font-medium text-gray-300 mb-2\">Order</label>\n        <select\n          value={filters.sortOrder}\n          onChange={(e) => handleFilterChange('sortOrder', e.target.value as 'asc' | 'desc')}\n          className=\"px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent text-base\"\n        >\n          <option value=\"desc\">Descending</option>\n          <option value=\"asc\">Ascending</option>\n        </select>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AASe,SAAS,mBAAmB,KAAqD;QAArD,EAAE,OAAO,EAAE,eAAe,EAA2B,GAArD;IACzC,MAAM,qBAAqB,CAAC,KAAmC;QAC7D,gBAAgB;YACd,GAAG,OAAO;YACV,CAAC,IAAI,EAAE;QACT;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAM,WAAU;kCAAyC;;;;;;kCAC1D,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,QAAQ,UAAU;wBACzB,UAAU,CAAC,IAAM,mBAAmB,cAAc,EAAE,MAAM,CAAC,KAAK;wBAChE,WAAU;;;;;;;;;;;;0BAId,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAM,WAAU;kCAAyC;;;;;;kCAC1D,6LAAC;wBACC,OAAO,QAAQ,MAAM;wBACrB,UAAU,CAAC,IAAM,mBAAmB,UAAU,EAAE,MAAM,CAAC,KAAK;wBAC5D,WAAU;;0CAEV,6LAAC;gCAAO,OAAM;0CAA0B;;;;;;0CACxC,6LAAC;gCAAO,OAAM;0CAAc;;;;;;0CAC5B,6LAAC;gCAAO,OAAM;0CAAwB;;;;;;0CACtC,6LAAC;gCAAO,OAAM;0CAAO;;;;;;;;;;;;;;;;;;0BAIzB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAM,WAAU;kCAAyC;;;;;;kCAC1D,6LAAC;wBACC,OAAO,QAAQ,SAAS;wBACxB,UAAU,CAAC,IAAM,mBAAmB,aAAa,EAAE,MAAM,CAAC,KAAK;wBAC/D,WAAU;;0CAEV,6LAAC;gCAAO,OAAM;0CAAO;;;;;;0CACrB,6LAAC;gCAAO,OAAM;0CAAM;;;;;;;;;;;;;;;;;;;;;;;;AAK9B;KAhDwB","debugId":null}},
    {"offset": {"line": 580, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/performance/components/PerformanceActions.tsx"],"sourcesContent":["'use client';\n\ninterface PerformanceActionsProps {\n  showImportModal: boolean;\n  showCharts: boolean;\n  realtimeEnabled: boolean;\n  onImportClick: () => void;\n  onExportCSV: () => void;\n  onToggleCharts: () => void;\n  onToggleRealtime: () => void;\n}\n\nexport default function PerformanceActions({\n  showImportModal,\n  showCharts,\n  realtimeEnabled,\n  onImportClick,\n  onExportCSV,\n  onToggleCharts,\n  onToggleRealtime\n}: PerformanceActionsProps) {\n  return (\n    <div className=\"flex flex-wrap gap-3 sm:gap-4 mb-8\">\n      <button\n        onClick={onImportClick}\n        className=\"bg-[#29E7CD] hover:bg-[#29E7CD]/80 text-black px-4 sm:px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 text-sm sm:text-base min-h-[44px]\"\n      >\n        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fillRule=\"evenodd\" d=\"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z\" clipRule=\"evenodd\"/>\n        </svg>\n        <span className=\"hidden sm:inline\">Import Sales Data</span>\n        <span className=\"sm:hidden\">Import</span>\n      </button>\n      <button\n        onClick={onExportCSV}\n        className=\"bg-[#3B82F6] hover:bg-[#3B82F6]/80 text-white px-4 sm:px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 text-sm sm:text-base min-h-[44px]\"\n      >\n        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path fillRule=\"evenodd\" d=\"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z\" clipRule=\"evenodd\"/>\n        </svg>\n        <span className=\"hidden sm:inline\">Export CSV</span>\n        <span className=\"sm:hidden\">Export</span>\n      </button>\n      <button\n        onClick={onToggleCharts}\n        className=\"bg-gray-600 hover:bg-gray-700 text-white px-4 sm:px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 text-sm sm:text-base min-h-[44px]\"\n      >\n        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path d={showCharts ? \"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\" : \"M10 12a2 2 0 100-4 2 2 0 000 4zM3.05 13a1 1 0 011.414 0L9 16.536V19a1 1 0 11-2 0v-2.464L4.464 13a1 1 0 010-1.414zM16.95 7a1 1 0 010 1.414L14.536 10H17a1 1 0 110 2h-2.464l2.414 2.414a1 1 0 11-1.414 1.414L12 13.414V16a1 1 0 11-2 0v-2.586l-2.414 2.414a1 1 0 11-1.414-1.414L10.536 12H8a1 1 0 110-2h2.536L8.122 7.586a1 1 0 111.414-1.414L12 8.586V6a1 1 0 112 0v2.586l2.414-2.414A1 1 0 0116.95 7z\"}/>\n        </svg>\n        <span className=\"hidden sm:inline\">{showCharts ? 'Hide Charts' : 'Show Charts'}</span>\n        <span className=\"sm:hidden\">{showCharts ? 'Hide' : 'Charts'}</span>\n      </button>\n      <button\n        onClick={onToggleRealtime}\n        className={`px-4 sm:px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 text-sm sm:text-base min-h-[44px] ${\n          realtimeEnabled\n            ? 'bg-green-600 hover:bg-green-700 text-white'\n            : 'bg-gray-600 hover:bg-gray-700 text-white'\n        }`}\n      >\n        <div className={`w-3 h-3 rounded-full ${\n          realtimeEnabled ? 'bg-green-400 animate-pulse' : 'bg-gray-400'\n        }`}></div>\n        <span className=\"hidden sm:inline\">{realtimeEnabled ? 'Disable Real-time' : 'Enable Real-time'}</span>\n        <span className=\"sm:hidden\">{realtimeEnabled ? 'Disable' : 'Real-time'}</span>\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAYe,SAAS,mBAAmB,KAQjB;QARiB,EACzC,eAAe,EACf,UAAU,EACV,eAAe,EACf,aAAa,EACb,WAAW,EACX,cAAc,EACd,gBAAgB,EACQ,GARiB;IASzC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,6LAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAe,SAAQ;kCACnD,cAAA,6LAAC;4BAAK,UAAS;4BAAU,GAAE;4BAAyL,UAAS;;;;;;;;;;;kCAE/N,6LAAC;wBAAK,WAAU;kCAAmB;;;;;;kCACnC,6LAAC;wBAAK,WAAU;kCAAY;;;;;;;;;;;;0BAE9B,6LAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,6LAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAe,SAAQ;kCACnD,cAAA,6LAAC;4BAAK,UAAS;4BAAU,GAAE;4BAAyL,UAAS;;;;;;;;;;;kCAE/N,6LAAC;wBAAK,WAAU;kCAAmB;;;;;;kCACnC,6LAAC;wBAAK,WAAU;kCAAY;;;;;;;;;;;;0BAE9B,6LAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,6LAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAe,SAAQ;kCACnD,cAAA,6LAAC;4BAAK,GAAG,aAAa,4HAA4H;;;;;;;;;;;kCAEpJ,6LAAC;wBAAK,WAAU;kCAAoB,aAAa,gBAAgB;;;;;;kCACjE,6LAAC;wBAAK,WAAU;kCAAa,aAAa,SAAS;;;;;;;;;;;;0BAErD,6LAAC;gBACC,SAAS;gBACT,WAAW,AAAC,wHAIX,OAHC,kBACI,+CACA;;kCAGN,6LAAC;wBAAI,WAAW,AAAC,wBAEhB,OADC,kBAAkB,+BAA+B;;;;;;kCAEnD,6LAAC;wBAAK,WAAU;kCAAoB,kBAAkB,sBAAsB;;;;;;kCAC5E,6LAAC;wBAAK,WAAU;kCAAa,kBAAkB,YAAY;;;;;;;;;;;;;;;;;;AAInE;KAzDwB","debugId":null}},
    {"offset": {"line": 772, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/performance/components/PerformanceCharts.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, Legend } from 'recharts';\nimport { PerformanceItem } from '../types';\n\ninterface PerformanceChartsProps {\n  performanceItems: PerformanceItem[];\n}\n\nexport default function PerformanceCharts({ performanceItems }: PerformanceChartsProps) {\n  const [isMobile, setIsMobile] = useState(false);\n\n  useEffect(() => {\n    const checkIsMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    \n    checkIsMobile();\n    window.addEventListener('resize', checkIsMobile);\n    \n    return () => window.removeEventListener('resize', checkIsMobile);\n  }, []);\n  const chartData = [\n    {\n      name: 'Chef\\'s Kiss',\n      profit: performanceItems.filter(item => item.menu_item_class === 'Chef\\'s Kiss').reduce((acc, item) => acc + item.gross_profit_percentage, 0) / Math.max(1, performanceItems.filter(item => item.menu_item_class === 'Chef\\'s Kiss').length)\n    },\n    {\n      name: 'Hidden Gem',\n      profit: performanceItems.filter(item => item.menu_item_class === 'Hidden Gem').reduce((acc, item) => acc + item.gross_profit_percentage, 0) / Math.max(1, performanceItems.filter(item => item.menu_item_class === 'Hidden Gem').length)\n    },\n    {\n      name: 'Bargain Bucket',\n      profit: performanceItems.filter(item => item.menu_item_class === 'Bargain Bucket').reduce((acc, item) => acc + item.gross_profit_percentage, 0) / Math.max(1, performanceItems.filter(item => item.menu_item_class === 'Bargain Bucket').length)\n    },\n    {\n      name: 'Burnt Toast',\n      profit: performanceItems.filter(item => item.menu_item_class === 'Burnt Toast').reduce((acc, item) => acc + item.gross_profit_percentage, 0) / Math.max(1, performanceItems.filter(item => item.menu_item_class === 'Burnt Toast').length)\n    }\n  ];\n\n  const pieData = [\n    { name: 'Chef\\'s Kiss', value: performanceItems.filter(item => item.menu_item_class === 'Chef\\'s Kiss').length, color: '#22c55e' },\n    { name: 'Hidden Gem', value: performanceItems.filter(item => item.menu_item_class === 'Hidden Gem').length, color: '#3b82f6' },\n    { name: 'Bargain Bucket', value: performanceItems.filter(item => item.menu_item_class === 'Bargain Bucket').length, color: '#f97316' },\n    { name: 'Burnt Toast', value: performanceItems.filter(item => item.menu_item_class === 'Burnt Toast').length, color: '#ef4444' }\n  ];\n\n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n      {/* Bar Chart - Profit by Category */}\n      <div className=\"bg-[#1f1f1f] rounded-2xl border border-[#2a2a2a] p-4 md:p-6\">\n        <h3 className=\"text-lg md:text-xl font-semibold text-white mb-4\">Profit by Category</h3>\n        <div className=\"h-64 md:h-80 w-full\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <BarChart\n              data={chartData}\n              margin={{ \n                top: 20, \n                right: isMobile ? 10 : 30, \n                left: isMobile ? 10 : 20, \n                bottom: 5 \n              }}\n            >\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#2a2a2a\" />\n              <XAxis \n                dataKey=\"name\" \n                stroke=\"#9ca3af\"\n                fontSize={isMobile ? 10 : 12}\n                tick={{ fill: '#9ca3af' }}\n                angle={isMobile ? -45 : 0}\n                textAnchor={isMobile ? 'end' : 'middle'}\n                height={isMobile ? 60 : 30}\n              />\n              <YAxis \n                stroke=\"#9ca3af\"\n                fontSize={isMobile ? 10 : 12}\n                tick={{ fill: '#9ca3af' }}\n                tickFormatter={(value) => `${value}%`}\n              />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: 'rgba(31, 31, 31, 0.95)',\n                  border: '1px solid #29E7CD',\n                  borderRadius: '8px',\n                  color: '#ffffff',\n                  fontSize: isMobile ? '12px' : '14px'\n                }}\n                labelStyle={{ color: '#ffffff' }}\n                formatter={(value: any) => [`${value.toFixed(1)}%`, 'Average Profit']}\n              />\n              <Bar \n                dataKey=\"profit\" \n                fill=\"#29E7CD\"\n                radius={[4, 4, 0, 0]}\n              />\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Pie Chart - Category Distribution */}\n      <div className=\"bg-[#1f1f1f] rounded-2xl border border-[#2a2a2a] p-4 md:p-6\">\n        <h3 className=\"text-lg md:text-xl font-semibold text-white mb-4\">Category Distribution</h3>\n        <div className=\"h-64 md:h-80 w-full\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <PieChart>\n              <Pie\n                data={pieData}\n                cx=\"50%\"\n                cy=\"50%\"\n                labelLine={false}\n                label={({ name, value }) => isMobile ? `${name}` : `${name}: ${value}`}\n                outerRadius={isMobile ? 60 : 80}\n                fill=\"#8884d8\"\n                dataKey=\"value\"\n              >\n                {pieData.map((entry, index) => (\n                  <Cell key={`cell-${index}`} fill={entry.color} />\n                ))}\n              </Pie>\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: 'rgba(31, 31, 31, 0.95)',\n                  border: '1px solid #29E7CD',\n                  borderRadius: '8px',\n                  color: '#ffffff',\n                  fontSize: isMobile ? '12px' : '14px'\n                }}\n                labelStyle={{ color: '#ffffff' }}\n                formatter={(value: any, name: any) => [`${value} items`, name]}\n              />\n              <Legend \n                wrapperStyle={{ \n                  color: '#ffffff',\n                  fontSize: isMobile ? '10px' : '12px'\n                }}\n                verticalAlign=\"bottom\"\n                height={isMobile ? 30 : 36}\n              />\n            </PieChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1085, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/performance/components/PerformanceTable.tsx"],"sourcesContent":["'use client';\n\nimport { PerformanceItem } from '../types';\n\ninterface PerformanceTableProps {\n  performanceItems: PerformanceItem[];\n}\n\nexport default function PerformanceTable({ performanceItems }: PerformanceTableProps) {\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('en-AU', {\n      style: 'currency',\n      currency: 'AUD'\n    }).format(amount);\n  };\n\n  const formatPercentage = (value: number) => {\n    return `${value.toFixed(2)}%`;\n  };\n\n  return (\n    <div className=\"bg-[#1f1f1f] rounded-2xl border border-[#2a2a2a] overflow-hidden\">\n      {/* Mobile Card Layout */}\n      <div className=\"block md:hidden\">\n        <div className=\"p-4 space-y-4\">\n          {performanceItems.map((item, index) => (\n            <div key={item.id} className=\"bg-[#2a2a2a]/30 rounded-xl border border-[#3a3a3a] p-4 space-y-3\">\n              {/* Header */}\n              <div className=\"flex justify-between items-start\">\n                <h3 className=\"text-lg font-semibold text-white\">{item.name}</h3>\n                <span className={`px-3 py-1 rounded-full text-xs font-medium ${\n                  item.menu_item_class === 'Chef\\'s Kiss' ? 'bg-green-500/20 text-green-400 border border-green-500/30' :\n                  item.menu_item_class === 'Hidden Gem' ? 'bg-blue-500/20 text-blue-400 border border-blue-500/30' :\n                  item.menu_item_class === 'Bargain Bucket' ? 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30' :\n                  'bg-red-500/20 text-red-400 border border-red-500/30'\n                }`}>\n                  {item.menu_item_class}\n                </span>\n              </div>\n              \n              {/* Key Metrics */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"bg-[#1f1f1f] rounded-lg p-3\">\n                  <div className=\"text-xs text-gray-400 mb-1\">Number Sold</div>\n                  <div className=\"text-lg font-bold text-white\">{item.number_sold}</div>\n                </div>\n                <div className=\"bg-[#1f1f1f] rounded-lg p-3\">\n                  <div className=\"text-xs text-gray-400 mb-1\">Popularity</div>\n                  <div className=\"text-lg font-bold text-[#3B82F6]\">{item.popularity_percentage.toFixed(1)}%</div>\n                </div>\n              </div>\n              \n              {/* Financial Data */}\n              <div className=\"space-y-2\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-400\">Gross Profit %</span>\n                  <span className=\"text-lg font-bold text-[#29E7CD]\">{formatPercentage(item.gross_profit_percentage)}</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-400\">Total Revenue</span>\n                  <span className=\"text-sm text-gray-300\">{formatCurrency((item.selling_price * item.number_sold) / 1.1)}</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-400\">Total Cost</span>\n                  <span className=\"text-sm text-gray-300\">{formatCurrency(item.food_cost * item.number_sold)}</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-400\">Total Profit</span>\n                  <span className=\"text-sm font-medium text-white\">{formatCurrency(item.gross_profit * item.number_sold)}</span>\n                </div>\n              </div>\n              \n              {/* Categories */}\n              <div className=\"flex flex-wrap gap-2\">\n                <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                  item.profit_category === 'High' \n                    ? 'bg-green-500/20 text-green-400 border border-green-500/30' \n                    : 'bg-red-500/20 text-red-400 border border-red-500/30'\n                }`}>\n                  Profit: {item.profit_category}\n                </span>\n                <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                  item.popularity_category === 'High' \n                    ? 'bg-blue-500/20 text-blue-400 border border-blue-500/30' \n                    : 'bg-orange-500/20 text-orange-400 border border-orange-500/30'\n                }`}>\n                  Popularity: {item.popularity_category}\n                </span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Desktop Table Layout */}\n      <div className=\"hidden md:block overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead>\n            <tr className=\"bg-gradient-to-r from-[#2a2a2a]/50 to-[#2a2a2a]/20\">\n              <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-300\">\n                Dish\n              </th>\n              <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-300\">\n                Number Sold\n              </th>\n              <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-300\">\n                Popularity %\n              </th>\n              <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-300\">\n                Total Revenue ex GST\n              </th>\n              <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-300\">\n                Total Cost\n              </th>\n              <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-300\">\n                Total Profit ex GST\n              </th>\n              <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-300\">\n                Gross Profit %\n              </th>\n              <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-300\">\n                Profit Cat\n              </th>\n              <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-300\">\n                Popularity Cat\n              </th>\n              <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-300\">\n                Menu Item Class\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {performanceItems.map((item, index) => (\n              <tr key={item.id} className=\"border-t border-[#2a2a2a] hover:bg-[#2a2a2a]/20 transition-colors\">\n                <td className=\"px-4 py-3 text-white font-medium\">\n                  {item.name}\n                </td>\n                <td className=\"px-4 py-3 text-gray-300 text-center\">\n                  {item.number_sold}\n                </td>\n                <td className=\"px-4 py-3 text-gray-300 text-center\">\n                  {item.popularity_percentage.toFixed(2)}%\n                </td>\n                <td className=\"px-4 py-3 text-gray-300 text-center\">\n                  {formatCurrency((item.selling_price * item.number_sold) / 1.1)}\n                </td>\n                <td className=\"px-4 py-3 text-gray-300 text-center\">\n                  {formatCurrency(item.food_cost * item.number_sold)}\n                </td>\n                <td className=\"px-4 py-3 text-gray-300 text-center\">\n                  {formatCurrency(item.gross_profit * item.number_sold)}\n                </td>\n                <td className=\"px-4 py-3 text-gray-300 text-center\">\n                  {formatPercentage(item.gross_profit_percentage)}\n                </td>\n                <td className=\"px-4 py-3 text-center\">\n                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                    item.profit_category === 'High' \n                      ? 'bg-green-500/20 text-green-400 border border-green-500/30' \n                      : 'bg-red-500/20 text-red-400 border border-red-500/30'\n                  }`}>\n                    {item.profit_category}\n                  </span>\n                </td>\n                <td className=\"px-4 py-3 text-center\">\n                  <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                    item.popularity_category === 'High' \n                      ? 'bg-blue-500/20 text-blue-400 border border-blue-500/30' \n                      : 'bg-orange-500/20 text-orange-400 border border-orange-500/30'\n                  }`}>\n                    {item.popularity_category}\n                  </span>\n                </td>\n                <td className=\"px-4 py-3 text-center\">\n                  <span className={`px-3 py-1 rounded-full text-xs font-medium ${\n                    item.menu_item_class === 'Chef\\'s Kiss' ? 'bg-green-500/20 text-green-400 border border-green-500/30' :\n                    item.menu_item_class === 'Hidden Gem' ? 'bg-blue-500/20 text-blue-400 border border-blue-500/30' :\n                    item.menu_item_class === 'Bargain Bucket' ? 'bg-yellow-500/20 text-yellow-400 border border-yellow-500/30' :\n                    'bg-red-500/20 text-red-400 border border-red-500/30'\n                  }`}>\n                    {item.menu_item_class}\n                  </span>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1603, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/performance/components/PerformancePagination.tsx"],"sourcesContent":["'use client';\n\ninterface PerformancePaginationProps {\n  currentPage: number;\n  totalPages: number;\n  onPageChange: (page: number) => void;\n}\n\nexport default function PerformancePagination({ \n  currentPage, \n  totalPages, \n  onPageChange \n}: PerformancePaginationProps) {\n  if (totalPages <= 1) return null;\n\n  return (\n    <div className=\"flex justify-center items-center space-x-2 mt-8\">\n      <button\n        onClick={() => onPageChange(Math.max(1, currentPage - 1))}\n        disabled={currentPage === 1}\n        className=\"px-4 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 disabled:text-gray-500 text-white rounded-lg transition-colors\"\n      >\n        Previous\n      </button>\n      <span className=\"px-4 py-2 text-gray-300\">\n        Page {currentPage} of {totalPages}\n      </span>\n      <button\n        onClick={() => onPageChange(Math.min(totalPages, currentPage + 1))}\n        disabled={currentPage === totalPages}\n        className=\"px-4 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 disabled:text-gray-500 text-white rounded-lg transition-colors\"\n      >\n        Next\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAQe,SAAS,sBAAsB,KAIjB;QAJiB,EAC5C,WAAW,EACX,UAAU,EACV,YAAY,EACe,GAJiB;IAK5C,IAAI,cAAc,GAAG,OAAO;IAE5B,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,SAAS,IAAM,aAAa,KAAK,GAAG,CAAC,GAAG,cAAc;gBACtD,UAAU,gBAAgB;gBAC1B,WAAU;0BACX;;;;;;0BAGD,6LAAC;gBAAK,WAAU;;oBAA0B;oBAClC;oBAAY;oBAAK;;;;;;;0BAEzB,6LAAC;gBACC,SAAS,IAAM,aAAa,KAAK,GAAG,CAAC,YAAY,cAAc;gBAC/D,UAAU,gBAAgB;gBAC1B,WAAU;0BACX;;;;;;;;;;;;AAKP;KA5BwB","debugId":null}},
    {"offset": {"line": 1666, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/performance/components/PerformanceImportModal.tsx"],"sourcesContent":["'use client';\n\nimport { ImportCSVData } from '../types';\n\ninterface PerformanceImportModalProps {\n  showImportModal: boolean;\n  csvData: ImportCSVData;\n  onClose: () => void;\n  onImport: () => void;\n  onCsvDataChange: (csvData: string) => void;\n}\n\nexport default function PerformanceImportModal({\n  showImportModal,\n  csvData,\n  onClose,\n  onImport,\n  onCsvDataChange\n}: PerformanceImportModalProps) {\n  if (!showImportModal) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div className=\"bg-[#1f1f1f] rounded-2xl border border-[#2a2a2a] p-6 w-full max-w-2xl\">\n        <h3 className=\"text-xl font-semibold text-white mb-4\">Import Sales Data</h3>\n        <p className=\"text-gray-300 mb-4\">\n          Paste your CSV data below. Format: Dish, Number Sold, Popularity %\n        </p>\n        <textarea\n          value={csvData.csvData}\n          onChange={(e) => onCsvDataChange(e.target.value)}\n          placeholder=\"Dish, Number Sold, Popularity %&#10;Double Cheese Burger, 175, 10.85&#10;Hot Dog, 158, 9.80\"\n          className=\"w-full h-40 px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent resize-none\"\n        />\n        <div className=\"flex justify-end space-x-4 mt-6\">\n          <button\n            onClick={onClose}\n            className=\"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={onImport}\n            disabled={csvData.importing || !csvData.csvData.trim()}\n            className=\"px-6 py-2 bg-[#29E7CD] hover:bg-[#29E7CD]/80 disabled:bg-gray-600 text-black rounded-lg transition-colors\"\n          >\n            {csvData.importing ? 'Importing...' : 'Import'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAYe,SAAS,uBAAuB,KAMjB;QANiB,EAC7C,eAAe,EACf,OAAO,EACP,OAAO,EACP,QAAQ,EACR,eAAe,EACa,GANiB;IAO7C,IAAI,CAAC,iBAAiB,OAAO;IAE7B,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAwC;;;;;;8BACtD,6LAAC;oBAAE,WAAU;8BAAqB;;;;;;8BAGlC,6LAAC;oBACC,OAAO,QAAQ,OAAO;oBACtB,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;oBAC/C,aAAY;oBACZ,WAAU;;;;;;8BAEZ,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,6LAAC;4BACC,SAAS;4BACT,UAAU,QAAQ,SAAS,IAAI,CAAC,QAAQ,OAAO,CAAC,IAAI;4BACpD,WAAU;sCAET,QAAQ,SAAS,GAAG,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;AAMlD;KAxCwB","debugId":null}},
    {"offset": {"line": 1757, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\n// Client-side Supabase client\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables. Please check your .env.local file.')\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\n\n// Server-side Supabase client with service role key (only available on server)\nexport function createSupabaseAdmin() {\n  const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY\n\n  if (!serviceRoleKey) {\n    throw new Error('Missing SUPABASE_SERVICE_ROLE_KEY environment variable.')\n  }\n\n  if (!supabaseUrl) {\n    throw new Error('Missing NEXT_PUBLIC_SUPABASE_URL environment variable.')\n  }\n\n  return createClient(supabaseUrl, serviceRoleKey)\n}\n\n// For backward compatibility, create admin client only on server-side\nexport const supabaseAdmin = typeof window === 'undefined' ? createSupabaseAdmin() : null\n"],"names":[],"mappings":";;;;;;;;AAGoB;AAHpB;;AAEA,8BAA8B;AAC9B,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,0MAAY,EAAC,aAAa;AAG3C,SAAS;IACd,MAAM,iBAAiB,2KAAO,CAAC,GAAG,CAAC,yBAAyB;IAE5D,IAAI,CAAC,gBAAgB;QACnB,MAAM,IAAI,MAAM;IAClB;IAEA;;IAIA,OAAO,IAAA,0MAAY,EAAC,aAAa;AACnC;AAGO,MAAM,gBAAgB,sCAAgC,0BAAwB","debugId":null}},
    {"offset": {"line": 1791, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/performance/hooks/usePerformanceData.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport { PerformanceItem, PerformanceMetadata, PerformanceAlert, PerformanceState } from '../types';\n\nexport function usePerformanceData() {\n  const [state, setState] = useState<PerformanceState>({\n    performanceItems: [],\n    metadata: null,\n    performanceAlerts: [],\n    performanceScore: 0,\n    realtimeEnabled: false,\n    lastUpdate: null,\n    showCharts: false,\n    showImportModal: false,\n    csvData: '',\n    importing: false\n  });\n\n  const realtimeSubscription = useRef<any>(null);\n\n  const fetchPerformanceData = async () => {\n    try {\n      const response = await fetch('/api/performance');\n      if (!response.ok) {\n        throw new Error('Failed to fetch performance data');\n      }\n      \n      const data = await response.json();\n      \n      setState(prev => ({\n        ...prev,\n        performanceItems: data.performanceItems || [],\n        metadata: data.metadata || null,\n        performanceAlerts: data.performanceAlerts || [],\n        performanceScore: data.performanceScore || 0,\n        lastUpdate: new Date()\n      }));\n    } catch (error) {\n      console.error('Error fetching performance data:', error);\n      setState(prev => ({\n        ...prev,\n        performanceAlerts: [\n          ...prev.performanceAlerts,\n          {\n            id: Date.now().toString(),\n            message: 'Failed to fetch performance data',\n            timestamp: new Date()\n          }\n        ]\n      }));\n    }\n  };\n\n  const setupRealtimeSubscription = () => {\n    if (realtimeSubscription.current) {\n      realtimeSubscription.current.unsubscribe();\n    }\n\n    realtimeSubscription.current = supabase\n      .channel('performance-updates')\n      .on('postgres_changes', \n        { event: '*', schema: 'public', table: 'sales_data' },\n        (payload) => {\n          console.log('Performance data updated:', payload);\n          fetchPerformanceData();\n        }\n      )\n      .subscribe();\n  };\n\n  const handleImport = async () => {\n    if (!state.csvData.trim()) return;\n\n    setState(prev => ({ ...prev, importing: true }));\n\n    try {\n      const lines = state.csvData.trim().split('\\n');\n      const headers = lines[0].split(',').map(h => h.trim());\n      \n      if (headers.length < 3) {\n        throw new Error('CSV must have at least 3 columns: Dish, Number Sold, Popularity %');\n      }\n\n      const salesData = lines.slice(1).map(line => {\n        const values = line.split(',').map(v => v.trim());\n        return {\n          dish_name: values[0],\n          number_sold: parseInt(values[1]) || 0,\n          popularity_percentage: parseFloat(values[2]) || 0\n        };\n      });\n\n      const response = await fetch('/api/performance', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ salesData }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to import sales data');\n      }\n\n      setState(prev => ({\n        ...prev,\n        csvData: '',\n        showImportModal: false,\n        importing: false\n      }));\n\n      // Refresh data after import\n      await fetchPerformanceData();\n    } catch (error) {\n      console.error('Error importing data:', error);\n      setState(prev => ({\n        ...prev,\n        importing: false,\n        performanceAlerts: [\n          ...prev.performanceAlerts,\n          {\n            id: Date.now().toString(),\n            message: 'Failed to import sales data',\n            timestamp: new Date()\n          }\n        ]\n      }));\n    }\n  };\n\n  const handleExportCSV = () => {\n    const csvContent = [\n      'Dish,Number Sold,Popularity %,Total Revenue ex GST,Total Cost,Total Profit ex GST,Gross Profit %,Profit Cat,Popularity Cat,Menu Item Class',\n      ...state.performanceItems.map(item => [\n        item.name,\n        item.number_sold,\n        item.popularity_percentage.toFixed(2),\n        ((item.selling_price * item.number_sold) / 1.1).toFixed(2),\n        (item.food_cost * item.number_sold).toFixed(2),\n        (item.gross_profit * item.number_sold).toFixed(2),\n        item.gross_profit_percentage.toFixed(2),\n        item.profit_category,\n        item.popularity_category,\n        item.menu_item_class\n      ].join(','))\n    ].join('\\n');\n\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `performance-data-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n  const updateState = (updates: Partial<PerformanceState>) => {\n    setState(prev => ({ ...prev, ...updates }));\n  };\n\n  useEffect(() => {\n    fetchPerformanceData();\n  }, []);\n\n  return {\n    state,\n    updateState,\n    fetchPerformanceData,\n    setupRealtimeSubscription,\n    handleImport,\n    handleExportCSV,\n    realtimeSubscription\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1972, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/performance/hooks/usePerformanceFilters.ts"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport { PerformanceItem, PerformanceFilters as PerformanceFiltersType } from '../types';\n\nexport function usePerformanceFilters(performanceItems: PerformanceItem[]) {\n  const [filters, setFilters] = useState<PerformanceFiltersType>({\n    searchTerm: '',\n    sortBy: 'gross_profit_percentage',\n    sortOrder: 'desc',\n    currentPage: 1,\n    itemsPerPage: 20\n  });\n\n  const filteredAndSortedItems = useMemo(() => {\n    let filtered = performanceItems.filter(item =>\n      item.name.toLowerCase().includes(filters.searchTerm.toLowerCase())\n    );\n\n    filtered.sort((a, b) => {\n      let aValue: any;\n      let bValue: any;\n\n      switch (filters.sortBy) {\n        case 'gross_profit_percentage':\n          aValue = a.gross_profit_percentage;\n          bValue = b.gross_profit_percentage;\n          break;\n        case 'number_sold':\n          aValue = a.number_sold;\n          bValue = b.number_sold;\n          break;\n        case 'popularity_percentage':\n          aValue = a.popularity_percentage;\n          bValue = b.popularity_percentage;\n          break;\n        case 'name':\n          aValue = a.name.toLowerCase();\n          bValue = b.name.toLowerCase();\n          break;\n        default:\n          aValue = a.gross_profit_percentage;\n          bValue = b.gross_profit_percentage;\n      }\n\n      if (filters.sortOrder === 'asc') {\n        return aValue > bValue ? 1 : -1;\n      } else {\n        return aValue < bValue ? 1 : -1;\n      }\n    });\n\n    return filtered;\n  }, [performanceItems, filters.searchTerm, filters.sortBy, filters.sortOrder]);\n\n  const paginatedItems = useMemo(() => {\n    const startIndex = (filters.currentPage - 1) * filters.itemsPerPage;\n    const endIndex = startIndex + filters.itemsPerPage;\n    return filteredAndSortedItems.slice(startIndex, endIndex);\n  }, [filteredAndSortedItems, filters.currentPage, filters.itemsPerPage]);\n\n  const totalPages = Math.ceil(filteredAndSortedItems.length / filters.itemsPerPage);\n\n  const updateFilters = (updates: Partial<PerformanceFiltersType>) => {\n    setFilters(prev => ({\n      ...prev,\n      ...updates,\n      // Reset to page 1 when changing search or sort\n      currentPage: updates.searchTerm !== undefined || updates.sortBy !== undefined || updates.sortOrder !== undefined ? 1 : prev.currentPage\n    }));\n  };\n\n  return {\n    filters,\n    updateFilters,\n    filteredAndSortedItems,\n    paginatedItems,\n    totalPages\n  };\n}\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAKO,SAAS,sBAAsB,gBAAmC;;IACvE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAyB;QAC7D,YAAY;QACZ,QAAQ;QACR,WAAW;QACX,aAAa;QACb,cAAc;IAChB;IAEA,MAAM,yBAAyB,IAAA,wKAAO;iEAAC;YACrC,IAAI,WAAW,iBAAiB,MAAM;kFAAC,CAAA,OACrC,KAAK,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,QAAQ,UAAU,CAAC,WAAW;;YAGjE,SAAS,IAAI;yEAAC,CAAC,GAAG;oBAChB,IAAI;oBACJ,IAAI;oBAEJ,OAAQ,QAAQ,MAAM;wBACpB,KAAK;4BACH,SAAS,EAAE,uBAAuB;4BAClC,SAAS,EAAE,uBAAuB;4BAClC;wBACF,KAAK;4BACH,SAAS,EAAE,WAAW;4BACtB,SAAS,EAAE,WAAW;4BACtB;wBACF,KAAK;4BACH,SAAS,EAAE,qBAAqB;4BAChC,SAAS,EAAE,qBAAqB;4BAChC;wBACF,KAAK;4BACH,SAAS,EAAE,IAAI,CAAC,WAAW;4BAC3B,SAAS,EAAE,IAAI,CAAC,WAAW;4BAC3B;wBACF;4BACE,SAAS,EAAE,uBAAuB;4BAClC,SAAS,EAAE,uBAAuB;oBACtC;oBAEA,IAAI,QAAQ,SAAS,KAAK,OAAO;wBAC/B,OAAO,SAAS,SAAS,IAAI,CAAC;oBAChC,OAAO;wBACL,OAAO,SAAS,SAAS,IAAI,CAAC;oBAChC;gBACF;;YAEA,OAAO;QACT;gEAAG;QAAC;QAAkB,QAAQ,UAAU;QAAE,QAAQ,MAAM;QAAE,QAAQ,SAAS;KAAC;IAE5E,MAAM,iBAAiB,IAAA,wKAAO;yDAAC;YAC7B,MAAM,aAAa,CAAC,QAAQ,WAAW,GAAG,CAAC,IAAI,QAAQ,YAAY;YACnE,MAAM,WAAW,aAAa,QAAQ,YAAY;YAClD,OAAO,uBAAuB,KAAK,CAAC,YAAY;QAClD;wDAAG;QAAC;QAAwB,QAAQ,WAAW;QAAE,QAAQ,YAAY;KAAC;IAEtE,MAAM,aAAa,KAAK,IAAI,CAAC,uBAAuB,MAAM,GAAG,QAAQ,YAAY;IAEjF,MAAM,gBAAgB,CAAC;QACrB,WAAW,CAAA,OAAQ,CAAC;gBAClB,GAAG,IAAI;gBACP,GAAG,OAAO;gBACV,+CAA+C;gBAC/C,aAAa,QAAQ,UAAU,KAAK,aAAa,QAAQ,MAAM,KAAK,aAAa,QAAQ,SAAS,KAAK,YAAY,IAAI,KAAK,WAAW;YACzI,CAAC;IACH;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF;GA1EgB","debugId":null}},
    {"offset": {"line": 2070, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/webapp/performance/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport PerformanceHeader from './components/PerformanceHeader';\nimport PerformanceMetadata from './components/PerformanceMetadata';\nimport PerformanceFilters from './components/PerformanceFilters';\nimport PerformanceActions from './components/PerformanceActions';\nimport PerformanceCharts from './components/PerformanceCharts';\nimport PerformanceTable from './components/PerformanceTable';\nimport PerformancePagination from './components/PerformancePagination';\nimport PerformanceImportModal from './components/PerformanceImportModal';\nimport { usePerformanceData } from './hooks/usePerformanceData';\nimport { usePerformanceFilters } from './hooks/usePerformanceFilters';\n\nexport default function PerformancePageContent() {\n  const {\n    state,\n    updateState,\n    setupRealtimeSubscription,\n    handleImport,\n    handleExportCSV,\n    realtimeSubscription\n  } = usePerformanceData();\n\n  const {\n    filters,\n    updateFilters,\n    paginatedItems,\n    totalPages\n  } = usePerformanceFilters(state.performanceItems);\n\n  // Handle realtime toggle\n  const handleToggleRealtime = () => {\n    const newRealtimeEnabled = !state.realtimeEnabled;\n    updateState({ realtimeEnabled: newRealtimeEnabled });\n    \n    if (newRealtimeEnabled) {\n      setupRealtimeSubscription();\n    } else {\n      if (realtimeSubscription.current) {\n        realtimeSubscription.current.unsubscribe();\n      }\n    }\n  };\n\n  // Handle page change\n  const handlePageChange = (page: number) => {\n    updateFilters({ currentPage: page });\n  };\n\n  // Handle CSV data change\n  const handleCsvDataChange = (csvData: string) => {\n    updateState({ csvData });\n  };\n\n  // Handle import modal\n  const handleImportClick = () => {\n    updateState({ showImportModal: true });\n  };\n\n  const handleCloseImportModal = () => {\n    updateState({ showImportModal: false, csvData: '' });\n  };\n\n  // Handle charts toggle\n  const handleToggleCharts = () => {\n    updateState({ showCharts: !state.showCharts });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#0a0a0a] text-white p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <PerformanceHeader\n          performanceScore={state.performanceScore}\n          realtimeEnabled={state.realtimeEnabled}\n          lastUpdate={state.lastUpdate}\n          performanceAlerts={state.performanceAlerts}\n        />\n\n        <PerformanceMetadata metadata={state.metadata} />\n\n        <PerformanceFilters\n          filters={filters}\n          onFiltersChange={updateFilters}\n        />\n\n        <PerformanceActions\n          showImportModal={state.showImportModal}\n          showCharts={state.showCharts}\n          realtimeEnabled={state.realtimeEnabled}\n          onImportClick={handleImportClick}\n          onExportCSV={handleExportCSV}\n          onToggleCharts={handleToggleCharts}\n          onToggleRealtime={handleToggleRealtime}\n        />\n\n        {state.showCharts && (\n          <PerformanceCharts performanceItems={state.performanceItems} />\n        )}\n\n        <PerformanceTable performanceItems={paginatedItems} />\n\n        <PerformancePagination\n          currentPage={filters.currentPage}\n          totalPages={totalPages}\n          onPageChange={handlePageChange}\n        />\n\n        <PerformanceImportModal\n          showImportModal={state.showImportModal}\n          csvData={{ csvData: state.csvData, importing: state.importing }}\n          onClose={handleCloseImportModal}\n          onImport={handleImport}\n          onCsvDataChange={handleCsvDataChange}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAZA;;;;;;;;;;;AAce,SAAS;;IACtB,MAAM,EACJ,KAAK,EACL,WAAW,EACX,yBAAyB,EACzB,YAAY,EACZ,eAAe,EACf,oBAAoB,EACrB,GAAG,IAAA,oLAAkB;IAEtB,MAAM,EACJ,OAAO,EACP,aAAa,EACb,cAAc,EACd,UAAU,EACX,GAAG,IAAA,0LAAqB,EAAC,MAAM,gBAAgB;IAEhD,yBAAyB;IACzB,MAAM,uBAAuB;QAC3B,MAAM,qBAAqB,CAAC,MAAM,eAAe;QACjD,YAAY;YAAE,iBAAiB;QAAmB;QAElD,IAAI,oBAAoB;YACtB;QACF,OAAO;YACL,IAAI,qBAAqB,OAAO,EAAE;gBAChC,qBAAqB,OAAO,CAAC,WAAW;YAC1C;QACF;IACF;IAEA,qBAAqB;IACrB,MAAM,mBAAmB,CAAC;QACxB,cAAc;YAAE,aAAa;QAAK;IACpC;IAEA,yBAAyB;IACzB,MAAM,sBAAsB,CAAC;QAC3B,YAAY;YAAE;QAAQ;IACxB;IAEA,sBAAsB;IACtB,MAAM,oBAAoB;QACxB,YAAY;YAAE,iBAAiB;QAAK;IACtC;IAEA,MAAM,yBAAyB;QAC7B,YAAY;YAAE,iBAAiB;YAAO,SAAS;QAAG;IACpD;IAEA,uBAAuB;IACvB,MAAM,qBAAqB;QACzB,YAAY;YAAE,YAAY,CAAC,MAAM,UAAU;QAAC;IAC9C;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,8KAAiB;oBAChB,kBAAkB,MAAM,gBAAgB;oBACxC,iBAAiB,MAAM,eAAe;oBACtC,YAAY,MAAM,UAAU;oBAC5B,mBAAmB,MAAM,iBAAiB;;;;;;8BAG5C,6LAAC,gLAAmB;oBAAC,UAAU,MAAM,QAAQ;;;;;;8BAE7C,6LAAC,+KAAkB;oBACjB,SAAS;oBACT,iBAAiB;;;;;;8BAGnB,6LAAC,+KAAkB;oBACjB,iBAAiB,MAAM,eAAe;oBACtC,YAAY,MAAM,UAAU;oBAC5B,iBAAiB,MAAM,eAAe;oBACtC,eAAe;oBACf,aAAa;oBACb,gBAAgB;oBAChB,kBAAkB;;;;;;gBAGnB,MAAM,UAAU,kBACf,6LAAC,8KAAiB;oBAAC,kBAAkB,MAAM,gBAAgB;;;;;;8BAG7D,6LAAC,6KAAgB;oBAAC,kBAAkB;;;;;;8BAEpC,6LAAC,kLAAqB;oBACpB,aAAa,QAAQ,WAAW;oBAChC,YAAY;oBACZ,cAAc;;;;;;8BAGhB,6LAAC,mLAAsB;oBACrB,iBAAiB,MAAM,eAAe;oBACtC,SAAS;wBAAE,SAAS,MAAM,OAAO;wBAAE,WAAW,MAAM,SAAS;oBAAC;oBAC9D,SAAS;oBACT,UAAU;oBACV,iBAAiB;;;;;;;;;;;;;;;;;AAK3B;GAxGwB;;QAQlB,oLAAkB;QAOlB,0LAAqB;;;KAfH","debugId":null}}]
}
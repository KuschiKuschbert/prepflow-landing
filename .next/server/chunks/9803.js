exports.id=9803,exports.ids=[9803],exports.modules={1787:(a,b,c)=>{Promise.resolve().then(c.bind(c,23807)),Promise.resolve().then(c.bind(c,18353)),Promise.resolve().then(c.bind(c,47816)),Promise.resolve().then(c.bind(c,74509)),Promise.resolve().then(c.bind(c,25927))},9184:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k,metadata:()=>j});var d=c(75338);c(82704);var e=c(25927),f=c(18353),g=c(47816),h=c(23807),i=c(74509);let j={title:"PrepFlow â€“ COGS & Menu Profit Tool | Get Menu Clarity & Profit Insights",description:"Your menu profitability tool built from 20 years of real kitchen experience. PrepFlow helps identify profit opportunities with contributing margin analysis, COGS tracking, and profit insights. Built for global hospitality with multi-currency support. Start your profit journey now.",keywords:["restaurant COGS","menu profitability","contributing margin","gross profit optimization","global hospitality","international restaurants","multi-currency support","restaurant management","menu costing","profit analysis","worldwide restaurant software"],authors:[{name:"PrepFlow Team"}],creator:"PrepFlow",publisher:"PrepFlow",formatDetection:{email:!1,address:!1,telephone:!1},metadataBase:new URL("https://www.prepflow.org"),alternates:{canonical:"/"},openGraph:{title:"PrepFlow â€“ COGS & Menu Profit Tool | Get Menu Clarity & Profit Insights",description:"Your menu profitability tool built from 20 years of real kitchen experience. PrepFlow helps identify profit opportunities with contributing margin analysis, COGS tracking, and profit insights. Built for global hospitality with multi-currency support.",url:"https://www.prepflow.org",siteName:"PrepFlow",images:[{url:"/images/dashboard-screenshot.png",width:1200,height:630,alt:"PrepFlow Dashboard showing COGS metrics and profit analysis"}],locale:"en",type:"website"},twitter:{card:"summary_large_image",title:"PrepFlow â€“ COGS & Menu Profit Tool | Get Menu Clarity & Profit Insights",description:"Your menu profitability tool built from 20 years of real kitchen experience. PrepFlow helps identify profit opportunities with contributing margin analysis, COGS tracking, and profit insights. Built for global hospitality with multi-currency support.",images:["/images/dashboard-screenshot.png"]},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},icons:{icon:"/favicon.svg",apple:"/favicon.svg"}};function k({children:a}){return(0,d.jsxs)("html",{lang:"en",children:[(0,d.jsxs)("head",{children:[(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes"}),(0,d.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,d.jsx)("meta",{name:"theme-color",content:"#29E7CD"}),(0,d.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,d.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),(0,d.jsx)("meta",{name:"apple-mobile-web-app-title",content:"PrepFlow"}),(0,d.jsx)("link",{rel:"apple-touch-icon",href:"/icons/icon-192x192.png"}),(0,d.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/icons/icon-32x32.png"}),(0,d.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/icons/icon-16x16.png"})]}),(0,d.jsxs)("body",{className:"geist-sans-variable geist-mono-variable antialiased",children:[(0,d.jsx)(h.default,{}),(0,d.jsx)(i.default,{}),a,(0,d.jsx)(e.Analytics,{}),(0,d.jsx)(f.default,{measurementId:"G-W1D5LQXGJT"}),(0,d.jsx)(g.default,{gtmId:"GTM-WQMV22RD",ga4MeasurementId:"G-W1D5LQXGJT"}),(0,d.jsx)("script",{dangerouslySetInnerHTML:{__html:`
              // FOUC prevention handled by CSS and component-level loading states
              
              if ('serviceWorker' in navigator) {
                window.addEventListener('load', function() {
                  navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                      console.log('âœ… PrepFlow SW: Registration successful');
                    })
                    .catch(function(error) {
                      console.log('âŒ PrepFlow SW: Registration failed');
                    });
                });
              }
            `}})]})]})}},18353:(a,b,c)=>{"use strict";c.d(b,{default:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/danielkuschmierz/prepflow-landing/components/GoogleAnalytics.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielkuschmierz/prepflow-landing/components/GoogleAnalytics.tsx","default");(0,d.registerClientReference)(function(){throw Error("Attempted to call GoogleAnalyticsDefault() from the server but GoogleAnalyticsDefault is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielkuschmierz/prepflow-landing/components/GoogleAnalytics.tsx","GoogleAnalyticsDefault")},23807:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/danielkuschmierz/prepflow-landing/components/ClientPerformanceTracker.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielkuschmierz/prepflow-landing/components/ClientPerformanceTracker.tsx","default")},24895:(a,b,c)=>{"use strict";function d({enabled:a=!0,onMetric:b}){return null}c.d(b,{default:()=>d}),c(38301),c(91222),c(30903)},30903:(a,b,c)=>{"use strict";c.d(b,{_N:()=>i,jY:()=>d.jY,sx:()=>g,u0:()=>j,yM:()=>h});var d=c(64972);class e{constructor(){this.events=[],this.conversions=[],this.performance=[],this.sessionId=this.generateSessionId(),this.loadUserId(),this.initializeAnalytics()}generateSessionId(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}loadUserId(){}generateStableUserId(){return"user_"+Math.random().toString(36).substr(2,9)+"_"+Date.now().toString(36)}initializeAnalytics(){}trackPageView(){let a={action:"page_view",category:"navigation",timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,page:window.location.pathname,referrer:document.referrer,userAgent:navigator.userAgent};this.events.push(a),this.sendToAnalytics(a)}trackPerformance(){"performance"in window&&new PerformanceObserver(a=>{for(let b of a.getEntries())if("navigation"===b.entryType){let a={pageLoadTime:b.loadEventEnd-b.loadEventStart,firstContentfulPaint:0,largestContentfulPaint:0,firstInputDelay:0,cumulativeLayoutShift:0,timestamp:Date.now(),page:window.location.pathname,sessionId:this.sessionId};this.performance.push(a),this.sendPerformanceMetrics(a)}}).observe({entryTypes:["navigation"]})}trackUserInteractions(){document.addEventListener("click",a=>{let b=a.target.closest("a, button");if(b){let a=b.textContent?.trim()||"",c=b.href;c&&c.includes("gumroad.com/l/prepflow")&&this.trackConversion({type:"cta_click",element:"gumroad_purchase",page:window.location.pathname,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,metadata:{href:c,text:a,action:"purchase_start"}}),(a.includes("Watch Demo")||a.includes("Demo"))&&this.trackConversion({type:"demo_watch",element:a,page:window.location.pathname,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,metadata:{href:c,text:a,action:"demo_start"}}),(a.includes("Get Started")||a.includes("Start"))&&this.trackConversion({type:"cta_click",element:a,page:window.location.pathname,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,metadata:{href:c,text:a,action:"cta_click"}})}});let a=0,b=["#features","#demo","#pricing","#faq"];window.addEventListener("scroll",()=>{let c=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);c>a&&(a=c)%25==0&&this.trackEvent("scroll_depth","engagement",`${a}%`),b.forEach(a=>{let b=document.querySelector(a);if(b){let c=b.getBoundingClientRect();if(c.top<window.innerHeight&&c.bottom>0&&!b.hasAttribute("data-tracked")){b.setAttribute("data-tracked","true");let c=a.replace("#","");this.trackEvent("section_view","engagement",c)}}})})}trackConversions(){let a=document.querySelector('iframe[src*="youtube"]');if(a){let b=new IntersectionObserver(a=>{a.forEach(a=>{a.isIntersecting&&(this.trackConversion({type:"demo_watch",element:"demo_section",page:window.location.pathname,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,metadata:{section:"demo"}}),b.disconnect())})});b.observe(a)}}trackEvent(a,b,c,d){let e={action:a,category:b,label:c,value:d,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,page:"/",referrer:void 0,userAgent:void 0};this.events.push(e),this.sendToAnalytics(e)}trackConversion(a){this.conversions.push(a),this.sendConversionData(a),this.trackEvent("conversion","business",a.type,1)}trackPerformanceMetrics(a){let b={pageLoadTime:0,firstContentfulPaint:0,largestContentfulPaint:0,firstInputDelay:0,cumulativeLayoutShift:0,timestamp:Date.now(),page:"/",sessionId:this.sessionId,...a};this.performance.push(b),this.sendPerformanceMetrics(b)}sendToAnalytics(a){}sendConversionData(a){}sendPerformanceMetrics(a){}getSessionId(){return this.sessionId}getUserId(){return this.userId}setUserId(a){this.userId=a}getEvents(){return[...this.events]}getConversions(){return[...this.conversions]}getPerformance(){return[...this.performance]}exportData(){return{sessionId:this.sessionId,userId:this.userId,events:this.events,conversions:this.conversions,performance:this.performance}}}let f=new e,g=f.trackEvent.bind(f),h=f.trackConversion.bind(f),i=f.trackPerformanceMetrics.bind(f),j=f.getSessionId.bind(f);f.setUserId.bind(f)},46055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},47816:(a,b,c)=>{"use strict";c.d(b,{default:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/danielkuschmierz/prepflow-landing/components/GoogleTagManager.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielkuschmierz/prepflow-landing/components/GoogleTagManager.tsx","default");(0,d.registerClientReference)(function(){throw Error("Attempted to call pushToDataLayer() from the server but pushToDataLayer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielkuschmierz/prepflow-landing/components/GoogleTagManager.tsx","pushToDataLayer"),(0,d.registerClientReference)(function(){throw Error("Attempted to call trackGTMEvent() from the server but trackGTMEvent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielkuschmierz/prepflow-landing/components/GoogleTagManager.tsx","trackGTMEvent"),(0,d.registerClientReference)(function(){throw Error("Attempted to call trackGTMConversion() from the server but trackGTMConversion is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielkuschmierz/prepflow-landing/components/GoogleTagManager.tsx","trackGTMConversion"),(0,d.registerClientReference)(function(){throw Error("Attempted to call trackGTMEngagement() from the server but trackGTMEngagement is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielkuschmierz/prepflow-landing/components/GoogleTagManager.tsx","trackGTMEngagement")},63692:(a,b,c)=>{"use strict";c.d(b,{default:()=>o});var d=c(21124),e=c(38301);c(30903);let f={coreWebVitals:{lcp:2500,fid:100,cls:.1,fcp:1800,tti:3800,si:3e3,tbt:300},resources:{totalSize:5e5,jsSize:2e5,cssSize:5e4,imageSize:1e5,fontSize:3e4,thirdPartySize:1e5},network:{totalRequests:50,jsRequests:10,cssRequests:3,imageRequests:15,fontRequests:5,thirdPartyRequests:10},scores:{performance:80,accessibility:90,bestPractices:80,seo:80},pages:{landing:{lcp:2e3,fid:80,cls:.08,totalSize:4e5,jsSize:15e4},webapp:{lcp:3e3,fid:100,cls:.1,totalSize:6e5,jsSize:25e4},auth:{lcp:1500,fid:60,cls:.05,totalSize:2e5,jsSize:1e5}}};class g{static getInstance(){return g.instance||(g.instance=new g),g.instance}checkBudget(a,b="landing"){let c=[],d=this.budgets.pages[b]||this.budgets.pages.landing;return a.lcp&&a.lcp>d.lcp&&c.push({metric:"lcp",actual:a.lcp,budget:d.lcp,severity:this.getSeverity(a.lcp,d.lcp),message:`LCP ${a.lcp}ms exceeds budget of ${d.lcp}ms`}),a.fid&&a.fid>d.fid&&c.push({metric:"fid",actual:a.fid,budget:d.fid,severity:this.getSeverity(a.fid,d.fid),message:`FID ${a.fid}ms exceeds budget of ${d.fid}ms`}),a.cls&&a.cls>d.cls&&c.push({metric:"cls",actual:a.cls,budget:d.cls,severity:this.getSeverity(a.cls,d.cls),message:`CLS ${a.cls} exceeds budget of ${d.cls}`}),a.resources&&(a.resources.totalSize>d.totalSize&&c.push({metric:"totalSize",actual:a.resources.totalSize,budget:d.totalSize,severity:this.getSeverity(a.resources.totalSize,d.totalSize),message:`Total size ${a.resources.totalSize} bytes exceeds budget of ${d.totalSize} bytes`}),a.resources.jsSize>d.jsSize&&c.push({metric:"jsSize",actual:a.resources.jsSize,budget:d.jsSize,severity:this.getSeverity(a.resources.jsSize,d.jsSize),message:`JavaScript size ${a.resources.jsSize} bytes exceeds budget of ${d.jsSize} bytes`})),this.violations.push(...c),{passed:0===c.length,violations:c,score:this.calculateScore(c),timestamp:Date.now(),pageType:b}}getSeverity(a,b){let c=a/b;return c>=2?"critical":c>=1.5?"high":c>=1.2?"medium":"low"}calculateScore(a){if(0===a.length)return 100;let b=a.filter(a=>"critical"===a.severity).length,c=a.filter(a=>"high"===a.severity).length;return Math.round(Math.max(0,100-(25*b+15*c+10*a.filter(a=>"medium"===a.severity).length+5*a.filter(a=>"low"===a.severity).length)))}getViolations(){return[...this.violations]}getViolationsBySeverity(a){return this.violations.filter(b=>b.severity===a)}clearViolations(){this.violations=[]}generateBudgetReport(){let a=this.violations.length,b=this.getViolationsBySeverity("critical").length,c=this.getViolationsBySeverity("high").length;return{totalViolations:a,criticalViolations:b,highViolations:c,mediumViolations:this.getViolationsBySeverity("medium").length,lowViolations:this.getViolationsBySeverity("low").length,score:this.calculateScore(this.violations),violations:this.violations,timestamp:Date.now()}}isWithinBudget(a,b="landing"){return this.checkBudget(a,b).passed}getBudgetRecommendations(a){let b=[];return a.forEach(a=>{switch(a.metric){case"lcp":b.push("Optimize images, reduce server response time, or eliminate render-blocking resources");break;case"fid":b.push("Reduce JavaScript execution time or break up long tasks");break;case"cls":b.push("Add size attributes to images and videos, avoid inserting content above existing content");break;case"totalSize":b.push("Enable compression, remove unused code, or optimize images");break;case"jsSize":b.push("Code splitting, tree shaking, or remove unused JavaScript");break;case"cssSize":b.push("Remove unused CSS or inline critical CSS");break;case"imageSize":b.push("Optimize images, use modern formats (WebP/AVIF), or implement lazy loading");break;case"fontSize":b.push("Font subsetting, preloading, or use system fonts")}}),[...new Set(b)]}constructor(){this.violations=[],this.budgets=f}}g.getInstance();let h={sampling:{performance:.1,errors:1,userInteractions:.05,resourceTiming:.2},thresholds:{lcp:2500,fid:100,cls:.1,fcp:1800,tti:3800,si:3e3,tbt:300},errorTracking:{enabled:!0,maxErrors:100,errorTimeout:5e3},session:{timeout:18e5,maxDuration:864e5}};class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}constructor(){this.observers=new Map,this.errorCount=0,this.isInitialized=!1,this.sessionId=this.generateSessionId(),this.startTime=Date.now(),this.data=this.initializeRUMData()}initialize(){this.isInitialized}initializePerformanceMonitoring(){if(!(Math.random()>h.sampling.performance)){if("PerformanceObserver"in window){let a=new PerformanceObserver(a=>{let b=a.getEntries(),c=b[b.length-1];c&&(this.data.performance.lcp=c.startTime,this.trackPerformanceMetric("lcp",c.startTime))});a.observe({entryTypes:["largest-contentful-paint"]}),this.observers.set("lcp",a)}if("PerformanceObserver"in window){let a=new PerformanceObserver(a=>{a.getEntries().forEach(a=>{let b=a.processingStart-a.startTime;this.data.performance.fid=b,this.trackPerformanceMetric("fid",b)})});a.observe({entryTypes:["first-input"]}),this.observers.set("fid",a)}if("PerformanceObserver"in window){let a=0,b=new PerformanceObserver(b=>{b.getEntries().forEach(b=>{b.hadRecentInput||(a+=b.value)})});b.observe({entryTypes:["layout-shift"]}),this.observers.set("cls",b),setTimeout(()=>{this.data.performance.cls=a,this.trackPerformanceMetric("cls",a)},5e3)}if("memory"in performance){let a=performance.memory;this.data.performance.memory={usedJSHeapSize:a.usedJSHeapSize,totalJSHeapSize:a.totalJSHeapSize,jsHeapSizeLimit:a.jsHeapSizeLimit}}}}initializeErrorTracking(){h.errorTracking.enabled&&(window.addEventListener("error",a=>{this.trackError({message:a.message,stack:a.error?.stack,filename:a.filename,lineno:a.lineno,colno:a.colno,timestamp:Date.now(),severity:this.getErrorSeverity(a.error),context:{url:window.location.href,userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight}}})}),window.addEventListener("unhandledrejection",a=>{this.trackError({message:`Unhandled Promise Rejection: ${a.reason}`,stack:a.reason?.stack,timestamp:Date.now(),severity:"high",context:{url:window.location.href,userAgent:navigator.userAgent}})}))}initializeInteractionTracking(){Math.random()>h.sampling.userInteractions||["click","scroll","keydown","resize","focus","blur"].forEach(a=>{window.addEventListener(a,b=>{this.trackInteraction({type:a,target:this.getElementSelector(b.target),timestamp:Date.now(),x:b.clientX,y:b.clientY,key:b.key,deltaX:b.deltaX,deltaY:b.deltaY})})})}initializeResourceMonitoring(){if(!(Math.random()>h.sampling.resourceTiming)&&"PerformanceObserver"in window){let a=new PerformanceObserver(a=>{a.getEntries().forEach(a=>{"resource"===a.entryType&&this.trackResource({name:a.name,type:a.initiatorType,duration:a.duration,size:a.transferSize||0,startTime:a.startTime,endTime:a.startTime+a.duration,success:a.transferSize>0,error:0===a.transferSize?"Failed to load":void 0})})});a.observe({entryTypes:["resource"]}),this.observers.set("resource",a)}}initializeNavigationMonitoring(){if("PerformanceObserver"in window){let a=new PerformanceObserver(a=>{a.getEntries().forEach(a=>{"navigation"===a.entryType&&(this.data.navigation={type:a.type,startTime:a.startTime,endTime:a.loadEventEnd,duration:a.loadEventEnd-a.startTime,redirectCount:a.redirectCount,transferSize:a.transferSize,encodedBodySize:a.encodedBodySize,decodedBodySize:a.decodedBodySize})})});a.observe({entryTypes:["navigation"]}),this.observers.set("navigation",a)}}initializeSessionManagement(){setTimeout(()=>{this.endSession()},h.session.timeout),document.addEventListener("visibilitychange",()=>{document.hidden?this.pauseSession():this.resumeSession()}),window.addEventListener("beforeunload",()=>{this.endSession()})}trackPerformanceMetric(a,b){let c=h.thresholds[a];c&&b>c&&console.warn(`âš ï¸ Performance threshold exceeded: ${a} = ${b}ms (threshold: ${c}ms)`)}trackError(a){this.errorCount>=h.errorTracking.maxErrors||(this.data.errors.push(a),this.errorCount++,console.error("\uD83D\uDEA8 RUM Error tracked:",a))}trackInteraction(a){this.data.interactions.push(a)}trackResource(a){this.data.resources.push(a)}getErrorSeverity(a){return"ChunkLoadError"===a.name||"Loading chunk failed"===a.name?"critical":"TypeError"===a.name||"ReferenceError"===a.name?"high":"SyntaxError"===a.name?"medium":"low"}getElementSelector(a){return a.id?`#${a.id}`:a.className?`.${a.className.split(" ")[0]}`:a.tagName.toLowerCase()}generateSessionId(){return"rum_"+Math.random().toString(36).substr(2,9)+"_"+Date.now()}initializeRUMData(){return{sessionId:this.sessionId,userId:this.userId,page:"/",timestamp:Date.now(),userAgent:"Server",viewport:{width:0,height:0},connection:{effectiveType:"unknown",downlink:0,rtt:0},performance:{},errors:[],interactions:[],resources:[],navigation:{type:"navigate",startTime:0,endTime:0,duration:0,redirectCount:0,transferSize:0,encodedBodySize:0,decodedBodySize:0}}}pauseSession(){console.log("â¸ï¸ RUM session paused")}resumeSession(){console.log("â–¶ï¸ RUM session resumed")}endSession(){console.log("\uD83C\uDFC1 RUM session ended"),this.sendRUMData(),this.observers.forEach(a=>a.disconnect()),this.observers.clear()}sendRUMData(){}getRUMData(){return{...this.data}}setUserId(a){this.userId=a,this.data.userId=a}getSessionId(){return this.sessionId}}i.getInstance();let j={successCriteria:{lcp:{threshold:2500,weight:.3},fid:{threshold:100,weight:.2},cls:{threshold:.1,weight:.2},fcp:{threshold:1800,weight:.15},tti:{threshold:3800,weight:.1},si:{threshold:3e3,weight:.05}},testDuration:12096e5,minSampleSize:100,maxSampleSize:1e4};class k{static getInstance(){return k.instance||(k.instance=new k),k.instance}createTest(a){let b=this.generateTestId(),c={...a,id:b,startDate:Date.now(),status:"draft"};return this.activeTests.set(b,c),this.testData.set(b,[]),console.log(`ðŸ§ª A/B test created: ${a.name} (${b})`),b}startTest(a){let b=this.activeTests.get(a);return!!b&&(b.status="running",b.startDate=Date.now(),b.endDate=b.startDate+j.testDuration,console.log(`ðŸš€ A/B test started: ${b.name}`),!0)}assignVariant(a,b){let c=this.activeTests.get(a);if(!c||"running"!==c.status)return null;let d=this.getUserAssignment(a,b);if(d)return d;let e=this.selectVariant(c.variants);return e?(this.storeUserAssignment(a,b,e.id),this.trackVariantAssignment(a,e.id,b),e.id):null}trackPerformance(a,b,c,d){let e=this.activeTests.get(a);if(!e||"running"!==e.status)return;let f={testId:a,variantId:b,userId:d,metrics:c,timestamp:Date.now(),sessionId:this.getSessionId()};this.testData.get(a)?.push(f),this.updateVariantPerformance(a,b,c),this.checkTestCompletion(a),this.trackPerformanceMetric(a,b,c,d)}getCurrentVariant(a,b){return this.getUserAssignment(a,b)}getTestResults(a){let b=this.activeTests.get(a);return b&&b.results?b.results:null}getActiveTests(){return Array.from(this.activeTests.values()).filter(a=>"running"===a.status)}selectVariant(a){let b=Math.random(),c=0;for(let d of a)if(b<=(c+=d.weight))return d;return a[0]}updateVariantPerformance(a,b,c){let d=this.activeTests.get(a);if(!d)return;let e=d.variants.find(a=>a.id===b);e&&(Object.keys(c).forEach(a=>{let b=c[a];"number"==typeof b&&(e.performance[a]=b)}),e.performance.score=this.calculatePerformanceScore(c))}calculatePerformanceScore(a){let b=0,c=0;return Object.keys(j.successCriteria).forEach(d=>{let e=j.successCriteria[d],f=a[d];if("number"==typeof f){let a=Math.min(f/e.threshold,1);b+=a*e.weight,c+=e.weight}}),c>0?b/c*100:0}checkTestCompletion(a){let b=this.activeTests.get(a);if(!b)return;let c=(this.testData.get(a)||[]).length;if(!(c<j.minSampleSize)&&(Date.now()>b.endDate||c>=j.maxSampleSize||this.isStatisticallySignificant(a)))return void this.completeTest(a)}completeTest(a){let b=this.activeTests.get(a);b&&(b.status="completed",b.results=this.calculateTestResults(a),console.log(`ðŸ A/B test completed: ${b.name}`),console.log(`ðŸ† Winner: ${b.results?.winner}`),console.log(`ðŸ“Š Confidence: ${b.results?.confidence}%`))}calculateTestResults(a){let b=this.activeTests.get(a);if(!b)return{};let c=this.testData.get(a)||[],d=b.variants.map(a=>{let b=c.filter(b=>b.variantId===a.id),d=b.length>0?b.reduce((a,b)=>a+(b.metrics.score||0),0)/b.length:0;return{variantId:a.id,score:d,sampleSize:b.length}}),e=d.reduce((a,b)=>b.score>a.score?b:a),f=this.calculateConfidence(d),g=this.calculatePValue(d),h=this.calculateEffectSize(d),i=this.generateRecommendations(b,d);return{winner:e.variantId,confidence:f,pValue:g,effectSize:h,sampleSize:c.length,duration:Date.now()-b.startDate,recommendations:i}}calculateConfidence(a){let b=a.map(a=>a.score),c=Math.max(...b),d=c-Math.min(...b);return d>0?Math.min(95,d/c*100):50}calculatePValue(a){let b=a.map(a=>a.score),c=Math.max(...b),d=c-Math.min(...b);return d>0?Math.max(.01,1-d/c):.5}calculateEffectSize(a){let b=a.map(a=>a.score),c=b.reduce((a,b)=>a+b,0)/b.length,d=Math.sqrt(b.reduce((a,b)=>a+Math.pow(b-c,2),0)/b.length);return d>0?(Math.max(...b)-Math.min(...b))/d:0}isStatisticallySignificant(a){let b=this.activeTests.get(a);if(!b)return!1;let c=this.testData.get(a)||[],d=b.variants.map(a=>{let b=c.filter(b=>b.variantId===a.id);return b.length>0?b.reduce((a,b)=>a+(b.metrics.score||0),0)/b.length:0});return Math.max(...d)-Math.min(...d)>10&&c.length>=j.minSampleSize}generateRecommendations(a,b){let c=[],d=b.reduce((a,b)=>b.score>a.score?b:a);c.push(`Winner: ${d.variantId} with score ${d.score.toFixed(2)}`),d.score>80?c.push("Consider implementing the winning variant as the default"):d.score<60&&c.push("Consider running additional tests or refining the variants");let e=b.filter(a=>a.score<50);return e.length>0&&c.push(`Consider removing low-performing variants: ${e.map(a=>a.variantId).join(", ")}`),c}trackVariantAssignment(a,b,c){}trackPerformanceMetric(a,b,c,d){}storeUserAssignment(a,b,c){}getUserAssignment(a,b){return null}getSessionId(){return"session_"+Math.random().toString(36).substr(2,9)}generateTestId(){return"test_"+Math.random().toString(36).substr(2,9)+"_"+Date.now()}constructor(){this.activeTests=new Map,this.testData=new Map,this.currentVariant=null}}k.getInstance();let l={thresholds:{lcp:{warning:2e3,critical:3e3},fid:{warning:80,critical:120},cls:{warning:.08,critical:.12},fcp:{warning:1500,critical:2e3},tti:{warning:3e3,critical:4e3},si:{warning:2500,critical:3500},tbt:{warning:200,critical:300}},regression:{sensitivity:.15,minSamples:10,timeWindow:864e5},channels:{console:!0,analytics:!0,webhook:!1,email:!1},webhook:{url:process.env.PERFORMANCE_WEBHOOK_URL||"",timeout:5e3,retries:3},email:{to:process.env.ALERT_EMAIL_TO||"",from:process.env.ALERT_EMAIL_FROM||"alerts@prepflow.org",subject:"PrepFlow Performance Alert"}};class m{static getInstance(){return m.instance||(m.instance=new m),m.instance}constructor(){this.alerts=new Map,this.alertRules=new Map,this.performanceHistory=new Map,this.cooldowns=new Map,this.initializeDefaultRules()}initializeDefaultRules(){[{id:"lcp_critical",name:"LCP Critical Alert",metric:"lcp",condition:"greater_than",threshold:l.thresholds.lcp.critical,severity:"critical",enabled:!0,cooldown:18e5},{id:"lcp_warning",name:"LCP Warning Alert",metric:"lcp",condition:"greater_than",threshold:l.thresholds.lcp.warning,severity:"warning",enabled:!0,cooldown:9e5},{id:"fid_critical",name:"FID Critical Alert",metric:"fid",condition:"greater_than",threshold:l.thresholds.fid.critical,severity:"critical",enabled:!0,cooldown:18e5},{id:"cls_critical",name:"CLS Critical Alert",metric:"cls",condition:"greater_than",threshold:l.thresholds.cls.critical,severity:"critical",enabled:!0,cooldown:18e5}].forEach(a=>{this.alertRules.set(a.id,a)})}checkPerformance(a,b,c,d){let e=Date.now(),f=d||this.generateSessionId();this.storePerformanceData(b,a,e),this.alertRules.forEach(d=>{if(!d.enabled)return;let g=a[d.metric];"number"==typeof g&&!this.isInCooldown(d.id,e)&&this.evaluateCondition(g,d.condition,d.threshold)&&(this.triggerAlert(d,g,b,c,f,e),this.setCooldown(d.id,e+d.cooldown))}),this.checkRegressions(b,a,e)}checkRegressions(a,b,c){let d=(this.performanceHistory.get(a)||[]).filter(a=>c-a.timestamp<l.regression.timeWindow);if(d.length<l.regression.minSamples)return;let e=this.calculateBaseline(d);Object.keys(b).forEach(f=>{let g=b[f];if("number"!=typeof g)return;let h=e[f];if("number"!=typeof h)return;let i=(g-h)/h*100;if(Math.abs(i)>=100*l.regression.sensitivity){let b={metric:f,currentValue:g,previousValue:h,changePercent:i,severity:this.getRegressionSeverity(i),trend:i>0?"degrading":"improving",confidence:this.calculateRegressionConfidence(d,f)};this.triggerRegressionAlert(b,a,c)}})}calculateBaseline(a){let b={},c={};return a.forEach(a=>{Object.keys(a.metrics).forEach(b=>{let d=a.metrics[b];"number"==typeof d&&(c[b]||(c[b]=[]),c[b].push(d))})}),Object.keys(c).forEach(a=>{let d=c[a].sort((a,b)=>a-b),e=Math.floor(d.length/2);b[a]=d.length%2==0?(d[e-1]+d[e])/2:d[e]}),b}getRegressionSeverity(a){let b=Math.abs(a);return b>=50?"critical":b>=30?"high":b>=15?"medium":"low"}calculateRegressionConfidence(a,b){let c=a.map(a=>a.metrics[b]).filter(a=>"number"==typeof a);if(c.length<3)return .5;let d=c.reduce((a,b)=>a+b,0)/c.length;return Math.max(.5,1-Math.sqrt(c.reduce((a,b)=>a+Math.pow(b-d,2),0)/c.length)/d)}triggerAlert(a,b,c,d,e,f){let g=this.generateAlertId(),h=f||Date.now(),i={id:g,type:a.severity,metric:a.metric,currentValue:b,threshold:a.threshold,message:`${a.name}: ${a.metric} = ${b} (threshold: ${a.threshold})`,timestamp:h,page:c,userId:d,sessionId:e||this.generateSessionId(),resolved:!1};this.alerts.set(g,i),this.sendAlert(i),console.warn(`ðŸš¨ Performance Alert: ${i.message}`)}triggerRegressionAlert(a,b,c){let d=this.generateAlertId(),e={id:d,type:"regression",metric:a.metric,currentValue:a.currentValue,threshold:a.previousValue,previousValue:a.previousValue,changePercent:a.changePercent,message:`Performance Regression: ${a.metric} ${a.trend} by ${a.changePercent.toFixed(1)}% (${a.currentValue} vs ${a.previousValue})`,timestamp:c,page:b,sessionId:this.generateSessionId(),resolved:!1};this.alerts.set(d,e),this.sendAlert(e),console.warn(`ðŸ“‰ Performance Regression: ${e.message}`)}sendAlert(a){l.channels.console&&this.sendConsoleAlert(a),l.channels.analytics&&this.sendAnalyticsAlert(a),l.channels.webhook&&l.webhook.url&&this.sendWebhookAlert(a),l.channels.email&&l.email.to&&this.sendEmailAlert(a)}sendConsoleAlert(a){let b="critical"===a.type?"\uD83D\uDEA8":"warning"===a.type?"âš ï¸":"\uD83D\uDCC9";console.error(`${b} ${a.message} (${a.page})`)}sendAnalyticsAlert(a){}sendWebhookAlert(a){l.webhook.url&&fetch(l.webhook.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).catch(a=>{console.error("Failed to send webhook alert:",a)})}sendEmailAlert(a){console.log(`ðŸ“§ Email alert would be sent: ${a.message}`)}evaluateCondition(a,b,c){switch(b){case"greater_than":return a>c;case"less_than":return a<c;case"equals":return a===c;case"not_equals":return a!==c;default:return!1}}isInCooldown(a,b){let c=this.cooldowns.get(a);return!!c&&b<c}setCooldown(a,b){this.cooldowns.set(a,b)}storePerformanceData(a,b,c){let d=this.performanceHistory.get(a)||[];d.push({metrics:b,timestamp:c});let e=c-l.regression.timeWindow,f=d.filter(a=>a.timestamp>e);this.performanceHistory.set(a,f)}generateAlertId(){return"alert_"+Math.random().toString(36).substr(2,9)+"_"+Date.now()}generateSessionId(){return"session_"+Math.random().toString(36).substr(2,9)}getAlerts(){return Array.from(this.alerts.values())}getActiveAlerts(){return Array.from(this.alerts.values()).filter(a=>!a.resolved)}resolveAlert(a){let b=this.alerts.get(a);return!!b&&(b.resolved=!0,b.resolvedAt=Date.now(),console.log(`âœ… Alert resolved: ${b.message}`),!0)}addAlertRule(a){this.alertRules.set(a.id,a)}removeAlertRule(a){return this.alertRules.delete(a)}getAlertRules(){return Array.from(this.alertRules.values())}getPerformanceHistory(a){return this.performanceHistory.get(a)||[]}clearOldAlerts(a=6048e5){let b=Date.now()-a;for(let[a,c]of this.alerts)c.timestamp<b&&this.alerts.delete(a)}}function n({onMetrics:a,enabled:b=!0,sampleRate:c=.1}){let[d,f]=(0,e.useState)(null);return(0,e.useRef)(!1),(0,e.useRef)(!1),(0,e.useRef)(!1),(0,e.useRef)(!1),(0,e.useRef)(null),(0,e.useRef)(null),(0,e.useRef)(null),(0,e.useRef)(null),null}function o(){return(0,d.jsx)(n,{})}m.getInstance()},64972:(a,b,c)=>{"use strict";c.d(b,{jY:()=>f});class d{constructor(){this.tests=new Map,this.events=[],this.userVariants=new Map,this.initializeDefaultTests()}initializeDefaultTests(){this.addTest("landing_page_variants",[{id:"control",name:"Control",description:"Original landing page",trafficSplit:25,isControl:!0},{id:"variant_a",name:"Variant A",description:"Alternative hero section",trafficSplit:25,isControl:!1},{id:"variant_b",name:"Variant B",description:"Different pricing layout",trafficSplit:25,isControl:!1},{id:"variant_c",name:"Variant C",description:"New CTA positioning",trafficSplit:25,isControl:!1}])}addTest(a,b){this.tests.set(a,b)}assignVariant(a,b){console.log("\uD83C\uDFAF Assigning variant for:",{testId:a,userId:b});let c=this.tests.get(a);if(!c)return console.warn(`AB test ${a} not found`),"control";let d=this.getPersistentVariant(b);if(d)return console.log("\uD83C\uDFAF Returning existing persistent variant:",d),d;let e=this.assignNewPersistentVariant(a,b,c);return console.log("\uD83C\uDFAF Assigned new persistent variant:",e),this.trackEvent({testId:a,variantId:e,userId:b,sessionId:this.getSessionId(),eventType:"variant_assigned",timestamp:Date.now(),metadata:{variant_name:c.find(a=>a.id===e)?.name||e,is_control:"control"===e,assignment_type:"persistent",rotation_period:"1_month"}}),e}getPersistentVariant(a){return null}assignNewPersistentVariant(a,b,c){let d=100*Math.random(),e=0;for(let a of c)if(d<=(e+=a.trafficSplit)){let c=a.id;return this.storePersistentVariant(b,c),c}let f="control";return this.storePersistentVariant(b,f),f}storePersistentVariant(a,b){}getCurrentVariant(a,b){return this.assignVariant(a,b)}trackEvent(a){this.events.push(a)}trackConversion(a,b,c,d){let e=this.getCurrentVariant(a,b);this.trackEvent({testId:a,variantId:e,userId:b,sessionId:this.getSessionId(),eventType:"conversion",eventValue:c,timestamp:Date.now(),metadata:d})}trackEngagement(a,b,c,d){let e=this.getCurrentVariant(a,b);this.trackEvent({testId:a,variantId:e,userId:b,sessionId:this.getSessionId(),eventType:"engagement",timestamp:Date.now(),metadata:{engagement_type:c,...d}})}getTestResults(a){let b=this.tests.get(a);if(!b)return[];let c=[];for(let d of b){let b=this.events.filter(b=>b.testId===a&&b.variantId===d.id),e=new Set(b.map(a=>a.userId)).size,f=b.filter(a=>"conversion"===a.eventType).length,g=e>0?f/e*100:0,h=b.filter(a=>"conversion"===a.eventType).reduce((a,b)=>a+(b.eventValue||0),0),i=f>0?h/f:0;c.push({testId:a,variantId:d.id,totalUsers:e,conversions:f,conversionRate:g,averageOrderValue:i,revenue:h,statisticalSignificance:this.calculateStatisticalSignificance(a,d.id)})}return c.sort((a,b)=>b.conversionRate-a.conversionRate)}calculateStatisticalSignificance(a,b){let c=this.events.filter(c=>c.testId===a&&c.variantId===b),d=this.events.filter(b=>b.testId===a&&"control"===b.variantId),e=c.filter(a=>"conversion"===a.eventType).length,f=c.length,g=d.filter(a=>"conversion"===a.eventType).length,h=d.length;return 0===f||0===h?0:Math.round(Math.min(100*Math.abs(e/f-g/h),100))}getSessionId(){return"server_session_"+Date.now()}exportData(){return{tests:this.tests,events:this.events,userVariants:this.userVariants}}getActiveTests(){return Array.from(this.tests.keys())}getVariantInfo(a,b){let c=this.tests.get(a);return c?.find(a=>a.id===b)}getVariantAssignmentInfo(a){return null}}let e=new d;e.assignVariant.bind(e),e.getCurrentVariant.bind(e),e.trackConversion.bind(e);let f=e.trackEngagement.bind(e);e.getTestResults.bind(e),e.getActiveTests.bind(e),e.getVariantInfo.bind(e),e.getVariantAssignmentInfo.bind(e)},65994:(a,b,c)=>{"use strict";c.d(b,{WH:()=>j,default:()=>i});var d=c(21124),e=c(19127),f=c(42378),g=c(38301);function h({gtmId:a,ga4MeasurementId:b}){return(0,f.usePathname)(),(0,f.useSearchParams)(),(0,g.useRef)(!1),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("noscript",{children:(0,d.jsx)("iframe",{src:`https://www.googletagmanager.com/ns.html?id=${a}`,height:"0",width:"0",style:{display:"none",visibility:"hidden"}})}),(0,d.jsx)(e.default,{id:"gtm-script",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:`
            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
            })(window,document,'script','dataLayer','${a}');
          `},onLoad:()=>{console.log("\uD83D\uDCE5 Google Tag Manager loaded")},onError:()=>{console.error("âŒ Failed to load Google Tag Manager")}})]})}function i({gtmId:a,ga4MeasurementId:b}){return(0,d.jsx)(g.Suspense,{fallback:null,children:(0,d.jsx)(h,{gtmId:a,ga4MeasurementId:b})})}function j(a,b={}){Date.now()}},72736:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},74509:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/danielkuschmierz/prepflow-landing/components/WebVitalsTracker.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielkuschmierz/prepflow-landing/components/WebVitalsTracker.tsx","default")},78227:(a,b,c)=>{Promise.resolve().then(c.bind(c,63692)),Promise.resolve().then(c.bind(c,86955)),Promise.resolve().then(c.bind(c,65994)),Promise.resolve().then(c.bind(c,24895)),Promise.resolve().then(c.bind(c,73329))},82704:()=>{},86955:(a,b,c)=>{"use strict";c.d(b,{default:()=>i});var d=c(21124),e=c(19127),f=c(42378),g=c(38301);function h({measurementId:a}){(0,f.usePathname)(),(0,f.useSearchParams)(),(0,g.useRef)(!1);let b=()=>{};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.default,{strategy:"afterInteractive",src:`https://www.googletagmanager.com/gtag/js?id=${a}`,onLoad:()=>{console.log("\uD83D\uDCE5 Google Analytics script loaded"),b()},onError:()=>{console.error("âŒ Failed to load Google Analytics script")}}),(0,d.jsx)(e.default,{id:"google-analytics-init",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:`
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', '${a}', {
              page_title: document.title,
              page_location: window.location.href,
              send_page_view: false,
            });
            console.log('ðŸ”§ Google Analytics gtag function initialized');
          `},onLoad:()=>{console.log("âœ… Google Analytics initialization script loaded"),b()}})]})}function i({measurementId:a}){return(0,d.jsx)(g.Suspense,{fallback:null,children:(0,d.jsx)(h,{measurementId:a})})}c(86955)}};
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\n// Client-side Supabase client\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables. Please check your .env.local file.')\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\n\n// Server-side Supabase client with service role key (only available on server)\nexport function createSupabaseAdmin() {\n  const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY\n\n  if (!serviceRoleKey) {\n    throw new Error('Missing SUPABASE_SERVICE_ROLE_KEY environment variable.')\n  }\n\n  if (!supabaseUrl) {\n    throw new Error('Missing NEXT_PUBLIC_SUPABASE_URL environment variable.')\n  }\n\n  return createClient(supabaseUrl, serviceRoleKey)\n}\n\n// For backward compatibility, create admin client only on server-side\nexport const supabaseAdmin = typeof window === 'undefined' ? createSupabaseAdmin() : null\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,8BAA8B;AAC9B,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,yMAAY,EAAC,aAAa;AAG3C,SAAS;IACd,MAAM,iBAAiB,QAAQ,GAAG,CAAC,yBAAyB;IAE5D,IAAI,CAAC,gBAAgB;QACnB,MAAM,IAAI,MAAM;IAClB;IAEA;;IAIA,OAAO,IAAA,yMAAY,EAAC,aAAa;AACnC;AAGO,MAAM,gBAAgB,uCAAgC,wBAAwB","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///Users/danielkuschmierz/prepflow-landing/app/api/check-table-structure/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { supabaseAdmin } from '@/lib/supabase';\n\nexport async function GET(request: NextRequest) {\n  try {\n    if (!supabaseAdmin) {\n      return NextResponse.json({ \n        error: 'Database connection not available' \n      }, { status: 500 });\n    }\n\n    // Check menu_dishes table structure\n    const { data: menuDishes, error: menuDishesError } = await supabaseAdmin\n      .from('menu_dishes')\n      .select('*')\n      .limit(1);\n\n    if (menuDishesError) {\n      console.error('Error checking menu_dishes table:', menuDishesError);\n      return NextResponse.json({\n        error: 'Failed to check menu_dishes table',\n        message: 'Could not retrieve table structure',\n        details: menuDishesError.message\n      }, { status: 500 });\n    }\n\n    // Check sales_data table structure\n    const { data: salesData, error: salesDataError } = await supabaseAdmin\n      .from('sales_data')\n      .select('*')\n      .limit(1);\n\n    if (salesDataError) {\n      console.error('Error checking sales_data table:', salesDataError);\n      return NextResponse.json({\n        error: 'Failed to check sales_data table',\n        message: 'Could not retrieve table structure',\n        details: salesDataError.message\n      }, { status: 500 });\n    }\n\n    return NextResponse.json({\n      success: true,\n      message: 'Table structure retrieved successfully',\n      data: {\n        menu_dishes: menuDishes,\n        sales_data: salesData,\n        menu_dishes_columns: menuDishes.length > 0 ? Object.keys(menuDishes[0]) : [],\n        sales_data_columns: salesData.length > 0 ? Object.keys(salesData[0]) : []\n      }\n    });\n\n  } catch (error) {\n    console.error('Error in GET /api/check-table-structure:', error);\n    return NextResponse.json({\n      error: 'Internal server error',\n      message: 'An unexpected error occurred while checking table structure',\n      details: error instanceof Error ? error.message : String(error)\n    }, { status: 500 });\n  }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,IAAI,CAAC,kIAAa,EAAE;YAClB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,oCAAoC;QACpC,MAAM,EAAE,MAAM,UAAU,EAAE,OAAO,eAAe,EAAE,GAAG,MAAM,kIAAa,CACrE,IAAI,CAAC,eACL,MAAM,CAAC,KACP,KAAK,CAAC;QAET,IAAI,iBAAiB;YACnB,QAAQ,KAAK,CAAC,qCAAqC;YACnD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,OAAO;gBACP,SAAS;gBACT,SAAS,gBAAgB,OAAO;YAClC,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,mCAAmC;QACnC,MAAM,EAAE,MAAM,SAAS,EAAE,OAAO,cAAc,EAAE,GAAG,MAAM,kIAAa,CACnE,IAAI,CAAC,cACL,MAAM,CAAC,KACP,KAAK,CAAC;QAET,IAAI,gBAAgB;YAClB,QAAQ,KAAK,CAAC,oCAAoC;YAClD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,OAAO;gBACP,SAAS;gBACT,SAAS,eAAe,OAAO;YACjC,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;YACT,MAAM;gBACJ,aAAa;gBACb,YAAY;gBACZ,qBAAqB,WAAW,MAAM,GAAG,IAAI,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE;gBAC5E,oBAAoB,UAAU,MAAM,GAAG,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE;YAC3E;QACF;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4CAA4C;QAC1D,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,OAAO;YACP,SAAS;YACT,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;QAC3D,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF","debugId":null}}]
}
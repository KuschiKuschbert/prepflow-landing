(()=>{var a={};a.id=6555,a.ids=[6555],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10003:(a,b)=>{"use strict";Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),b.isPlainObject=function(a){if("object"!=typeof a||null==a)return!1;if(null===Object.getPrototypeOf(a))return!0;if("[object Object]"!==Object.prototype.toString.call(a)){let b=a[Symbol.toStringTag];return null!=b&&!!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable&&a.toString()===`[object ${b}]`}let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:a=>{"use strict";a.exports=require("punycode")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25068:(a,b,c)=>{Promise.resolve().then(c.bind(c,61241))},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27910:a=>{"use strict";a.exports=require("stream")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},55591:a=>{"use strict";a.exports=require("https")},59009:(a,b,c)=>{"use strict";c.d(b,{ND:()=>g});var d=c(28913);let e="https://dulkrqgjfohsuxhsmofo.supabase.co",f="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR1bGtycWdqZm9oc3V4aHNtb2ZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NzYwMDMsImV4cCI6MjA3MjU1MjAwM30.b_P98mAantymNfWy1Qz18SaR-LwrPjuaebO2Uj_5JK8";if(!e||!f)throw Error("Missing Supabase environment variables. Please check your .env.local file.");let g=(0,d.UU)(e,f);!function(){let a=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!a)throw Error("Missing SUPABASE_SERVICE_ROLE_KEY environment variable.");if(!e)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL environment variable.");(0,d.UU)(e,a)}()},61241:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/danielkuschmierz/prepflow-landing/app/webapp/performance/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielkuschmierz/prepflow-landing/app/webapp/performance/page.tsx","default")},61526:(a,b,c)=>{a.exports=c(10003).isPlainObject},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:a=>{"use strict";a.exports=require("zlib")},76985:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["webapp",{children:["performance",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,61241)),"/Users/danielkuschmierz/prepflow-landing/app/webapp/performance/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,63611)),"/Users/danielkuschmierz/prepflow-landing/app/webapp/layout.tsx"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,16953)),"/Users/danielkuschmierz/prepflow-landing/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,46055))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,I=["/Users/danielkuschmierz/prepflow-landing/app/webapp/performance/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/webapp/performance/page",pathname:"/webapp/performance",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/webapp/performance/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw aF||b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},79551:a=>{"use strict";a.exports=require("url")},81630:a=>{"use strict";a.exports=require("http")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},88620:(a,b,c)=>{Promise.resolve().then(c.bind(c,89570))},89570:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>cJ});var d=c(21124);function e({performanceScore:a,realtimeEnabled:b,lastUpdate:c,performanceAlerts:e}){return(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Performance Analysis"}),(0,d.jsx)("p",{className:"text-gray-300 text-lg",children:"Analyze your menu performance and profitability"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"text-sm text-gray-400",children:"Performance Score"}),(0,d.jsxs)("div",{className:`text-2xl font-bold ${a>=90?"text-green-400":a>=70?"text-yellow-400":"text-red-400"}`,children:[a,"/100"]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:`w-3 h-3 rounded-full ${b?"bg-green-400 animate-pulse":"bg-gray-400"}`}),(0,d.jsx)("span",{className:"text-sm text-gray-300",children:b?"Live":"Offline"})]}),c&&(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"text-xs text-gray-400",children:"Last Update"}),(0,d.jsx)("div",{className:"text-xs text-gray-300",children:c.toLocaleTimeString()})]})]})]}),e.length>0&&(0,d.jsxs)("div",{className:"mb-4 p-4 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,d.jsx)("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,d.jsx)("span",{className:"text-yellow-400 font-medium",children:"Performance Alerts"})]}),(0,d.jsx)("div",{className:"space-y-1",children:e.slice(-3).map(a=>(0,d.jsx)("div",{className:"text-sm text-yellow-300",children:a.message},a.id))})]})]})}function f({metadata:a}){return a?(0,d.jsxs)("div",{className:"bg-[#1f1f1f] rounded-2xl border border-[#2a2a2a] p-6 mb-8",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"PrepFlow COGS Dynamic Methodology"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Methodology"}),(0,d.jsx)("div",{className:"text-lg font-semibold text-[#29E7CD]",children:a.methodology})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Average Profit Margin"}),(0,d.jsxs)("div",{className:"text-lg font-semibold text-white",children:[a.averageProfitMargin?.toFixed(1),"%"]})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Average Popularity"}),(0,d.jsxs)("div",{className:"text-lg font-semibold text-white",children:[a.averagePopularity?.toFixed(1),"%"]})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Popularity Threshold"}),(0,d.jsxs)("div",{className:"text-lg font-semibold text-[#D925C7]",children:[a.popularityThreshold?.toFixed(1),"%"]})]})]}),(0,d.jsxs)("div",{className:"mt-4 text-sm text-gray-300",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Profit Check:"})," HIGH if above menu average (",a.averageProfitMargin?.toFixed(1),"%), LOW if below"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Popularity Check:"})," HIGH if â‰¥ 80% of average popularity (",a.popularityThreshold?.toFixed(1),"%), LOW if below"]})]})]}):null}function g({filters:a,onFiltersChange:b}){let c=(c,d)=>{b({...a,[c]:d})};return(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-gray-300 mb-2",children:"Search"}),(0,d.jsx)("input",{type:"text",placeholder:"Search dishes...",value:a.searchTerm,onChange:a=>c("searchTerm",a.target.value),className:"px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent text-base"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-gray-300 mb-2",children:"Sort By"}),(0,d.jsxs)("select",{value:a.sortBy,onChange:a=>c("sortBy",a.target.value),className:"px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent text-base",children:[(0,d.jsx)("option",{value:"gross_profit_percentage",children:"Gross Profit %"}),(0,d.jsx)("option",{value:"number_sold",children:"Number Sold"}),(0,d.jsx)("option",{value:"popularity_percentage",children:"Popularity %"}),(0,d.jsx)("option",{value:"name",children:"Name"})]})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-gray-300 mb-2",children:"Order"}),(0,d.jsxs)("select",{value:a.sortOrder,onChange:a=>c("sortOrder",a.target.value),className:"px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent text-base",children:[(0,d.jsx)("option",{value:"desc",children:"Descending"}),(0,d.jsx)("option",{value:"asc",children:"Ascending"})]})]})]})}function h({showImportModal:a,showCharts:b,realtimeEnabled:c,onImportClick:e,onExportCSV:f,onToggleCharts:g,onToggleRealtime:h}){return(0,d.jsxs)("div",{className:"flex flex-wrap gap-3 sm:gap-4 mb-8",children:[(0,d.jsxs)("button",{onClick:e,className:"bg-[#29E7CD] hover:bg-[#29E7CD]/80 text-black px-4 sm:px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 text-sm sm:text-base min-h-[44px]",children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Import Sales Data"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Import"})]}),(0,d.jsxs)("button",{onClick:f,className:"bg-[#3B82F6] hover:bg-[#3B82F6]/80 text-white px-4 sm:px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 text-sm sm:text-base min-h-[44px]",children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Export CSV"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Export"})]}),(0,d.jsxs)("button",{onClick:g,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 sm:px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 text-sm sm:text-base min-h-[44px]",children:[(0,d.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{d:b?"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z":"M10 12a2 2 0 100-4 2 2 0 000 4zM3.05 13a1 1 0 011.414 0L9 16.536V19a1 1 0 11-2 0v-2.464L4.464 13a1 1 0 010-1.414zM16.95 7a1 1 0 010 1.414L14.536 10H17a1 1 0 110 2h-2.464l2.414 2.414a1 1 0 11-1.414 1.414L12 13.414V16a1 1 0 11-2 0v-2.586l-2.414 2.414a1 1 0 11-1.414-1.414L10.536 12H8a1 1 0 110-2h2.536L8.122 7.586a1 1 0 111.414-1.414L12 8.586V6a1 1 0 112 0v2.586l2.414-2.414A1 1 0 0116.95 7z"})}),(0,d.jsx)("span",{className:"hidden sm:inline",children:b?"Hide Charts":"Show Charts"}),(0,d.jsx)("span",{className:"sm:hidden",children:b?"Hide":"Charts"})]}),(0,d.jsxs)("button",{onClick:h,className:`px-4 sm:px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 text-sm sm:text-base min-h-[44px] ${c?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:[(0,d.jsx)("div",{className:`w-3 h-3 rounded-full ${c?"bg-green-400 animate-pulse":"bg-gray-400"}`}),(0,d.jsx)("span",{className:"hidden sm:inline",children:c?"Disable Real-time":"Enable Real-time"}),(0,d.jsx)("span",{className:"sm:hidden",children:c?"Disable":"Real-time"})]})]})}var i=c(38301),j=c(6077),k=c(29072),l=c(79325),m=["axis","item"],n=(0,i.forwardRef)((a,b)=>i.createElement(l.P,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:m,tooltipPayloadSearcher:k.uN,categoricalChartProps:a,ref:b})),o=c(57495),p=c(59296),q=c(52353),r=c(22743),s=c(43249),t=c(55413),u=a=>null;u.displayName="Cell";var v=c(54322),w=c(22688),x=c(72677),y=c(4702),z=c(79241),A=c(61188),B=c(61526),C=c.n(B),D=c(2215),E=c(65764),F=c(79896),G=c(27007),H=c(63409);function I(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function J(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?I(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):I(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function K(){return(K=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}var L=(a,b,c,d,e)=>{var f=c-d;return"M ".concat(a,",").concat(b)+"L ".concat(a+c,",").concat(b)+"L ".concat(a+c-f/2,",").concat(b+e)+"L ".concat(a+c-f/2-d,",").concat(b+e)+"L ".concat(a,",").concat(b," Z")},M={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N=a=>{var b=(0,E.e)(a,M),{x:c,y:d,upperWidth:e,lowerWidth:f,height:g,className:h}=b,{animationEasing:j,animationDuration:k,animationBegin:l,isUpdateAnimationActive:m}=b,n=(0,i.useRef)(),[o,p]=(0,i.useState)(-1),q=(0,i.useRef)(e),r=(0,i.useRef)(f),t=(0,i.useRef)(g),u=(0,i.useRef)(c),v=(0,i.useRef)(d),y=(0,G.n)(a,"trapezoid-");if((0,i.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var a=n.current.getTotalLength();a&&p(a)}catch(a){}},[]),c!==+c||d!==+d||e!==+e||f!==+f||g!==+g||0===e&&0===f||0===g)return null;var z=(0,s.$)("recharts-trapezoid",h);if(!m)return i.createElement("g",null,i.createElement("path",K({},(0,x.J9)(b,!0),{className:z,d:L(c,d,e,f,g)})));var A=q.current,B=r.current,C=t.current,D=u.current,I=v.current,N="0px ".concat(-1===o?1:o,"px"),O="".concat(o,"px 0px"),P=(0,H.dl)(["strokeDasharray"],k,j);return i.createElement(F.J,{animationId:y,key:y,canBegin:o>0,duration:k,easing:j,isActive:m,begin:l},a=>{var h=(0,w.GW)(A,e,a),j=(0,w.GW)(B,f,a),k=(0,w.GW)(C,g,a),l=(0,w.GW)(D,c,a),m=(0,w.GW)(I,d,a);n.current&&(q.current=h,r.current=j,t.current=k,u.current=l,v.current=m);var o=a>0?{transition:P,strokeDasharray:O}:{strokeDasharray:N};return i.createElement("path",K({},(0,x.J9)(b,!0),{className:z,d:L(l,m,h,j,k),ref:n,style:J(J({},o),b.style)}))})},O=c(45190);let P=Math.cos,Q=Math.sin,R=Math.sqrt,S=Math.PI,T=2*S,U={draw(a,b){let c=R(b/S);a.moveTo(c,0),a.arc(0,0,c,0,T)}},V=R(1/3),W=2*V,X=Q(S/10)/Q(7*S/10),Y=Q(T/10)*X,Z=-P(T/10)*X,$=R(3),_=R(3)/2,aa=1/R(12),ab=(aa/2+1)*3;var ac=c(89311),ad=c(89196);R(3),R(3);var ae=["type","size","sizeType"];function af(){return(af=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}function ag(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ah(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ag(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ag(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var ai={symbolCircle:U,symbolCross:{draw(a,b){let c=R(b/5)/2;a.moveTo(-3*c,-c),a.lineTo(-c,-c),a.lineTo(-c,-3*c),a.lineTo(c,-3*c),a.lineTo(c,-c),a.lineTo(3*c,-c),a.lineTo(3*c,c),a.lineTo(c,c),a.lineTo(c,3*c),a.lineTo(-c,3*c),a.lineTo(-c,c),a.lineTo(-3*c,c),a.closePath()}},symbolDiamond:{draw(a,b){let c=R(b/W),d=c*V;a.moveTo(0,-c),a.lineTo(d,0),a.lineTo(0,c),a.lineTo(-d,0),a.closePath()}},symbolSquare:{draw(a,b){let c=R(b),d=-c/2;a.rect(d,d,c,c)}},symbolStar:{draw(a,b){let c=R(.8908130915292852*b),d=Y*c,e=Z*c;a.moveTo(0,-c),a.lineTo(d,e);for(let b=1;b<5;++b){let f=T*b/5,g=P(f),h=Q(f);a.lineTo(h*c,-g*c),a.lineTo(g*d-h*e,h*d+g*e)}a.closePath()}},symbolTriangle:{draw(a,b){let c=-R(b/(3*$));a.moveTo(0,2*c),a.lineTo(-$*c,-c),a.lineTo($*c,-c),a.closePath()}},symbolWye:{draw(a,b){let c=R(b/ab),d=c/2,e=c*aa,f=c*aa+c,g=-d;a.moveTo(d,e),a.lineTo(d,f),a.lineTo(g,f),a.lineTo(-.5*d-_*e,_*d+-.5*e),a.lineTo(-.5*d-_*f,_*d+-.5*f),a.lineTo(-.5*g-_*f,_*g+-.5*f),a.lineTo(-.5*d+_*e,-.5*e-_*d),a.lineTo(-.5*d+_*f,-.5*f-_*d),a.lineTo(-.5*g+_*f,-.5*f-_*g),a.closePath()}}},aj=Math.PI/180,ak=a=>{var{type:b="circle",size:c=64,sizeType:d="area"}=a,e=ah(ah({},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,ae)),{},{type:b,size:c,sizeType:d}),f="circle";"string"==typeof b&&(f=b);var{className:g,cx:h,cy:j}=e,k=(0,x.J9)(e,!0);return h===+h&&j===+j&&c===+c?i.createElement("path",af({},k,{className:(0,s.$)("recharts-symbols",g),transform:"translate(".concat(h,", ").concat(j,")"),d:(()=>{var a,b=(a=f,ai["symbol".concat((0,w.Zb)(a))]||U);return(function(a,b){let c=null,d=(0,ad.i)(e);function e(){let e;if(c||(c=e=d()),a.apply(this,arguments).draw(c,+b.apply(this,arguments)),e)return c=null,e+""||null}return a="function"==typeof a?a:(0,ac.A)(a||U),b="function"==typeof b?b:(0,ac.A)(void 0===b?64:+b),e.type=function(b){return arguments.length?(a="function"==typeof b?b:(0,ac.A)(b),e):a},e.size=function(a){return arguments.length?(b="function"==typeof a?a:(0,ac.A)(+a),e):b},e.context=function(a){return arguments.length?(c=null==a?null:a,e):c},e})().type(b).size(((a,b,c)=>{if("area"===b)return a;switch(c){case"cross":return 5*a*a/9;case"diamond":return .5*a*a/Math.sqrt(3);case"square":return a*a;case"star":var d=18*aj;return 1.25*a*a*(Math.tan(d)-Math.tan(2*d)*Math.tan(d)**2);case"triangle":return Math.sqrt(3)*a*a/4;case"wye":return(21-10*Math.sqrt(3))*a*a/8;default:return Math.PI*a*a/4}})(c,d,f))()})()})):null};ak.registerSymbol=(a,b)=>{ai["symbol".concat((0,w.Zb)(a))]=b};var al=["option","shapeType","propTransformer","activeClassName","isActive"];function am(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function an(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?am(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):am(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ao(a,b){return an(an({},b),a)}function ap(a){var{shapeType:b,elementProps:c}=a;switch(b){case"rectangle":return i.createElement(D.M,c);case"trapezoid":return i.createElement(N,c);case"sector":return i.createElement(O.h,c);case"symbols":if("symbols"===b)return i.createElement(ak,c);break;default:return null}}function aq(a){var b,{option:c,shapeType:d,propTransformer:e=ao,activeClassName:f="recharts-active-shape",isActive:g}=a,h=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,al);if((0,i.isValidElement)(c))b=(0,i.cloneElement)(c,an(an({},h),(0,i.isValidElement)(c)?c.props:c));else if("function"==typeof c)b=c(h);else if(C()(c)&&"boolean"!=typeof c){var j=e(c,h);b=i.createElement(ap,{shapeType:d,elementProps:j})}else b=i.createElement(ap,{shapeType:d,elementProps:h});return g?i.createElement(t.W,{className:f},b):b}var ar=["x","y"];function as(){return(as=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}function at(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function au(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?at(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):at(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function av(a,b){var{x:c,y:d}=a,e=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,ar),f=parseInt("".concat(c),10),g=parseInt("".concat(d),10),h=parseInt("".concat(b.height||e.height),10),i=parseInt("".concat(b.width||e.width),10);return au(au(au(au(au({},b),e),f?{x:f}:{}),g?{y:g}:{}),{},{height:h,width:i,name:b.name,radius:b.radius})}function aw(a){return i.createElement(aq,as({shapeType:"rectangle",propTransformer:av,activeClassName:"recharts-active-bar"},a))}var ax=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(c,d)=>{if((0,w.Et)(a))return a;var e=(0,w.Et)(c)||(0,w.uy)(c);return e?a(c,d):(e||function(a,b){if(!a)throw Error("Invariant failed")}(!1),b)}},ay=c(56998),az=c(46279),aA=(a,b)=>{var c=(0,ay.j)();return(d,e)=>f=>{null==a||a(d,e,f),c((0,az.RD)({activeIndex:String(e),activeDataKey:b,activeCoordinate:d.tooltipPosition}))}},aB=a=>{var b=(0,ay.j)();return(c,d)=>e=>{null==a||a(c,d,e),b((0,az.oP)())}},aC=(a,b)=>{var c=(0,ay.j)();return(d,e)=>f=>{null==a||a(d,e,f),c((0,az.ML)({activeIndex:String(e),activeDataKey:b,activeCoordinate:d.tooltipPosition}))}},aD=c(51846),aE=c(15342),aF=c(62294),aG=c(15379),aH=c(54985),aI=c(60343),aJ=c(8693),aK=c(92173),aL=c(14851),aM=c(53053),aN=c(75309),aO=c(61711);function aP(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aQ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aP(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aP(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var aR=(0,aH.Mz)([aI.ld,(a,b,c,d,e)=>e],(a,b)=>a.filter(a=>"bar"===a.type).find(a=>a.id===b)),aS=(0,aH.Mz)([aR],a=>null==a?void 0:a.maxBarSize),aT=(a,b,c)=>{var d=null!=c?c:a;if(!(0,w.uy)(d))return(0,w.F4)(d,b,0)},aU=(0,aH.Mz)([aG.fz,aI.ld,(a,b)=>b,(a,b,c)=>c,(a,b,c,d)=>d],(a,b,c,d,e)=>b.filter(b=>"horizontal"===a?b.xAxisId===c:b.yAxisId===d).filter(a=>a.isPanorama===e).filter(a=>!1===a.hide).filter(a=>"bar"===a.type)),aV=(0,aH.Mz)([aU,aL.x3,(a,b,c)=>"horizontal"===(0,aG.fz)(a)?(0,aI.BQ)(a,"xAxis",b):(0,aI.BQ)(a,"yAxis",c)],(a,b,c)=>{var d=a.filter(aO.g),e=a.filter(a=>null==a.stackId);return[...Object.entries(d.reduce((a,b)=>(a[b.stackId]||(a[b.stackId]=[]),a[b.stackId].push(b),a),{})).map(a=>{var[d,e]=a;return{stackId:d,dataKeys:e.map(a=>a.dataKey),barSize:aT(b,c,e[0].barSize)}}),...e.map(a=>({stackId:void 0,dataKeys:[a.dataKey].filter(a=>null!=a),barSize:aT(b,c,a.barSize)}))]}),aW=(a,b,c,d)=>{var e,f;return"horizontal"===(0,aG.fz)(a)?(e=(0,aI.Gx)(a,"xAxis",b,d),f=(0,aI.CR)(a,"xAxis",b,d)):(e=(0,aI.Gx)(a,"yAxis",c,d),f=(0,aI.CR)(a,"yAxis",c,d)),(0,z.Hj)(e,f)},aX=(0,aH.Mz)([aV,aL.JN,aL._5,aL.gY,(a,b,c,d,e)=>{var f,g,h,i,j=aR(a,b,c,d,e);if(null!=j){var k=(0,aG.fz)(a),l=(0,aL.JN)(a),{maxBarSize:m}=j,n=(0,w.uy)(m)?l:m;return"horizontal"===k?(h=(0,aI.Gx)(a,"xAxis",b,d),i=(0,aI.CR)(a,"xAxis",b,d)):(h=(0,aI.Gx)(a,"yAxis",c,d),i=(0,aI.CR)(a,"yAxis",c,d)),null!=(f=null!=(g=(0,z.Hj)(h,i,!0))?g:n)?f:0}},aW,aS],(a,b,c,d,e,f,g)=>{var h=function(a,b,c,d,e){var f,g=d.length;if(!(g<1)){var h=(0,w.F4)(a,c,0,!0),i=[];if((0,aM.H)(d[0].barSize)){var j=!1,k=c/g,l=d.reduce((a,b)=>a+(b.barSize||0),0);(l+=(g-1)*h)>=c&&(l-=(g-1)*h,h=0),l>=c&&k>0&&(j=!0,k*=.9,l=g*k);var m={offset:((c-l)/2|0)-h,size:0};f=d.reduce((a,b)=>{var c,d=[...a,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+h,size:j?k:null!=(c=b.barSize)?c:0}}];return m=d[d.length-1].position,d},i)}else{var n=(0,w.F4)(b,c,0,!0);c-2*n-(g-1)*h<=0&&(h=0);var o=(c-2*n-(g-1)*h)/g;o>1&&(o>>=0);var p=(0,aM.H)(e)?Math.min(o,e):o;f=d.reduce((a,b,c)=>[...a,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:n+(o+h)*c+(o-p)/2,size:p}}],i)}return f}}(c,d,e!==f?e:f,a,(0,w.uy)(g)?b:g);return e!==f&&null!=h&&(h=h.map(a=>aQ(aQ({},a),{},{position:aQ(aQ({},a.position),{},{offset:a.position.offset-e/2})}))),h}),aY=(0,aH.Mz)([aX,aR],(a,b)=>{if(null!=a&&null!=b){var c=a.find(a=>a.stackId===b.stackId&&null!=b.dataKey&&a.dataKeys.includes(b.dataKey));if(null!=c)return c.position}}),aZ=(0,aH.Mz)([(a,b,c,d)=>"horizontal"===(0,aG.fz)(a)?(0,aI.TC)(a,"yAxis",c,d):(0,aI.TC)(a,"xAxis",b,d),aR],(a,b)=>{var c=(0,aN.x)(b);if(!a||null==c||null==b)return;var{stackId:d}=b;if(null!=d){var e=a[d];if(e){var{stackedData:f}=e;if(f)return f.find(a=>a.key===c)}}}),a$=(0,aH.Mz)([aK.HZ,aK.c2,(a,b,c,d)=>(0,aI.Gx)(a,"xAxis",b,d),(a,b,c,d)=>(0,aI.Gx)(a,"yAxis",c,d),(a,b,c,d)=>(0,aI.CR)(a,"xAxis",b,d),(a,b,c,d)=>(0,aI.CR)(a,"yAxis",c,d),aY,aG.fz,aJ.HS,aW,aZ,aR,(a,b,c,d,e,f)=>f],(a,b,c,d,e,f,g,h,i,j,k,l,m)=>{var n,{chartData:o,dataStartIndex:p,dataEndIndex:q}=i;if(null!=l&&null!=g&&null!=b&&("horizontal"===h||"vertical"===h)&&null!=c&&null!=d&&null!=e&&null!=f&&null!=j){var{data:r}=l;if(null!=(n=null!=r&&r.length>0?r:null==o?void 0:o.slice(p,q+1)))return function(a){var{layout:b,barSettings:{dataKey:c,minPointSize:d},pos:e,bandSize:f,xAxis:g,yAxis:h,xAxisTicks:i,yAxisTicks:j,stackedData:k,displayedData:l,offset:m,cells:n,parentViewBox:o}=a,p="horizontal"===b?h:g,q=k?p.scale.domain():null,r=(0,z.DW)({numericAxis:p});return l.map((a,l)=>{k?s=(0,z._f)(k[l],q):Array.isArray(s=(0,z.kr)(a,c))||(s=[r,s]);var p=ax(d,0)(s[1],l);if("horizontal"===b){var s,t,u,v,x,y,A,[B,C]=[h.scale(s[0]),h.scale(s[1])];t=(0,z.y2)({axis:g,ticks:i,bandSize:f,offset:e.offset,entry:a,index:l}),u=null!=(A=null!=C?C:B)?A:void 0,v=e.size;var D=B-C;if(x=(0,w.M8)(D)?0:D,y={x:t,y:m.top,width:v,height:m.height},Math.abs(p)>0&&Math.abs(x)<Math.abs(p)){var E=(0,w.sA)(x||p)*(Math.abs(p)-Math.abs(x));u-=E,x+=E}}else{var[F,G]=[g.scale(s[0]),g.scale(s[1])];if(t=F,u=(0,z.y2)({axis:h,ticks:j,bandSize:f,offset:e.offset,entry:a,index:l}),v=G-F,x=e.size,y={x:m.left,y:u,width:m.width,height:x},Math.abs(p)>0&&Math.abs(v)<Math.abs(p)){var H=(0,w.sA)(v||p)*(Math.abs(p)-Math.abs(v));v+=H}}return null==t||null==u||null==v||null==x?null:bb(bb({},a),{},{x:t,y:u,width:v,height:x,value:k?s:s[1],payload:a,background:y,tooltipPosition:{x:t+v/2,y:u+x/2},parentViewBox:o},n&&n[l]&&n[l].props)}).filter(Boolean)}({layout:h,barSettings:l,pos:g,parentViewBox:b,bandSize:j,xAxis:c,yAxis:d,xAxisTicks:e,yAxisTicks:f,stackedData:k,displayedData:n,offset:a,cells:m})}}),a_=c(53530),a0=c(76265),a1=c(76341),a2=c(33344),a3=c(72650),a4=c(41800),a5=["onMouseEnter","onMouseLeave","onClick"],a6=["value","background","tooltipPosition"],a7=["id"],a8=["onMouseEnter","onClick","onMouseLeave"];function a9(){return(a9=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}function ba(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bb(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ba(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ba(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function bc(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function bd(a){var{dataKey:b,stroke:c,strokeWidth:d,fill:e,name:f,hide:g,unit:h}=a;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:c,strokeWidth:d,fill:e,dataKey:b,nameKey:void 0,name:(0,z.uM)(f,b),hide:g,type:a.tooltipType,color:a.fill,unit:h}}}function be(a){var b=(0,ay.G)(a0.A2),{data:c,dataKey:d,background:e,allOtherBarProps:f}=a,{onMouseEnter:g,onMouseLeave:h,onClick:j}=f,k=bc(f,a5),l=aA(g,d),m=aB(h),n=aC(j,d);if(!e||null==c)return null;var o=(0,x.J9)(e,!1);return i.createElement(i.Fragment,null,c.map((a,c)=>{var{value:f,background:g,tooltipPosition:h}=a,j=bc(a,a6);if(!g)return null;var p=l(a,c),q=m(a,c),r=n(a,c),s=bb(bb(bb(bb(bb({option:e,isActive:String(c)===b},j),{},{fill:"#eee"},g),o),(0,A.XC)(k,a,c)),{},{onMouseEnter:p,onMouseLeave:q,onClick:r,dataKey:d,index:c,className:"recharts-bar-background-rectangle"});return i.createElement(aw,a9({key:"background-bar-".concat(c)},s))}))}function bf(a){var{showLabels:b,children:c,rects:d}=a,e=null==d?void 0:d.map(a=>{var b={x:a.x,y:a.y,width:a.width,height:a.height};return bb(bb({},b),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:b,fill:a.fill})});return i.createElement(v.h8,{value:b?e:void 0},c)}function bg(a){var{shape:b,activeBar:c,baseProps:d,entry:e,index:f,dataKey:g}=a,h=(0,ay.G)(a0.A2),j=(0,ay.G)(a0.Xb),k=c&&String(f)===h&&(null==j||g===j),l=k?c:b;return i.createElement(aw,a9({},d,e,{isActive:k,option:l,index:f,dataKey:g}))}function bh(a){var{shape:b,baseProps:c,entry:d,index:e,dataKey:f}=a;return i.createElement(aw,a9({},c,d,{isActive:!1,option:b,index:e,dataKey:f}))}function bi(a){var{data:b,props:c}=a,d=(0,a4.u)(c),{id:e}=d,f=bc(d,a7),{shape:g,dataKey:h,activeBar:j}=c,{onMouseEnter:k,onClick:l,onMouseLeave:m}=c,n=bc(c,a8),o=aA(k,h),p=aB(m),q=aC(l,h);return b?i.createElement(i.Fragment,null,b.map((a,b)=>i.createElement(t.W,a9({className:"recharts-bar-rectangle"},(0,A.XC)(n,a,b),{onMouseEnter:o(a,b),onMouseLeave:p(a,b),onClick:q(a,b),key:"rectangle-".concat(null==a?void 0:a.x,"-").concat(null==a?void 0:a.y,"-").concat(null==a?void 0:a.value,"-").concat(b)}),j?i.createElement(bg,{shape:g,activeBar:j,baseProps:f,entry:a,index:b,dataKey:h}):i.createElement(bh,{shape:g,baseProps:f,entry:a,index:b,dataKey:h})))):null}function bj(a){var{props:b,previousRectanglesRef:c}=a,{data:d,layout:e,isAnimationActive:f,animationBegin:g,animationDuration:h,animationEasing:j,onAnimationEnd:k,onAnimationStart:l}=b,m=c.current,n=(0,G.n)(b,"recharts-bar-"),[o,p]=(0,i.useState)(!1),q=(0,i.useCallback)(()=>{"function"==typeof k&&k(),p(!1)},[k]),r=(0,i.useCallback)(()=>{"function"==typeof l&&l(),p(!0)},[l]);return i.createElement(bf,{showLabels:!o,rects:d},i.createElement(F.J,{animationId:n,begin:g,duration:h,isActive:f,easing:j,onAnimationEnd:q,onAnimationStart:r,key:n},a=>{var f=1===a?d:null==d?void 0:d.map((b,c)=>{var d=m&&m[c];if(d)return bb(bb({},b),{},{x:(0,w.GW)(d.x,b.x,a),y:(0,w.GW)(d.y,b.y,a),width:(0,w.GW)(d.width,b.width,a),height:(0,w.GW)(d.height,b.height,a)});if("horizontal"===e){var f=(0,w.GW)(0,b.height,a);return bb(bb({},b),{},{y:b.y+b.height-f,height:f})}var g=(0,w.GW)(0,b.width,a);return bb(bb({},b),{},{width:g})});return(a>0&&(c.current=null!=f?f:null),null==f)?null:i.createElement(t.W,null,i.createElement(bi,{props:b,data:f}))}),i.createElement(v.qY,{label:b.label}),b.children)}function bk(a){var b=(0,i.useRef)(null);return i.createElement(bj,{previousRectanglesRef:b,props:a})}var bl=(a,b)=>{var c=Array.isArray(a.value)?a.value[1]:a.value;return{x:a.x,y:a.y,value:c,errorVal:(0,z.kr)(a,b)}};class bm extends i.PureComponent{render(){var{hide:a,data:b,dataKey:c,className:d,xAxisId:e,yAxisId:f,needClip:g,background:h,id:j}=this.props;if(a||null==b)return null;var k=(0,s.$)("recharts-bar",d);return i.createElement(t.W,{className:k,id:j},g&&i.createElement("defs",null,i.createElement(aF.Q,{clipPathId:j,xAxisId:e,yAxisId:f})),i.createElement(t.W,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(j,")"):void 0},i.createElement(be,{data:b,dataKey:c,background:h,allOtherBarProps:this.props}),i.createElement(bk,this.props)))}}var bn={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!y.m.isSsr,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function bo(a){var b,{xAxisId:c,yAxisId:d,hide:e,legendType:f,minPointSize:g,activeBar:h,animationBegin:j,animationDuration:k,animationEasing:l,isAnimationActive:m}=a,{needClip:n}=(0,aF.l)(c,d),o=(0,aG.WX)(),p=(0,a_.r)(),q=(0,x.aS)(a.children,u),r=(0,ay.G)(b=>a$(b,c,d,p,a.id,q));if("vertical"!==o&&"horizontal"!==o)return null;var s=null==r?void 0:r[0];return b=null==s||null==s.height||null==s.width?0:"vertical"===o?s.height/2:s.width/2,i.createElement(aE.zk,{xAxisId:c,yAxisId:d,data:r,dataPointFormatter:bl,errorBarOffset:b},i.createElement(bm,a9({},a,{layout:o,needClip:n,data:r,xAxisId:c,yAxisId:d,hide:e,legendType:f,minPointSize:g,activeBar:h,animationBegin:j,animationDuration:k,animationEasing:l,isAnimationActive:m})))}function bp(a){var b=(0,E.e)(a,bn),c=(0,a_.r)();return i.createElement(a2.x,{id:b.id,type:"bar"},a=>i.createElement(i.Fragment,null,i.createElement(a1.A,{legendPayload:(a=>{var{dataKey:b,name:c,fill:d,legendType:e,hide:f}=a;return[{inactive:f,dataKey:b,type:e,color:d,value:(0,z.uM)(c,b),payload:a}]})(b)}),i.createElement(aD.r,{fn:bd,args:b}),i.createElement(a3.p,{type:"bar",id:a,data:void 0,xAxisId:b.xAxisId,yAxisId:b.yAxisId,zAxisId:0,dataKey:b.dataKey,stackId:(0,z.$8)(b.stackId),hide:b.hide,barSize:b.barSize,minPointSize:b.minPointSize,maxBarSize:b.maxBarSize,isPanorama:c}),i.createElement(bo,a9({},b,{id:a}))))}bp.displayName="Bar";var bq=c(61317),br=c(18189),bs=c(20853),bt=c(11267);function bu(a){return(0,ay.j)(),null}c(74030);var bv=c(54818),bw=["width","height","layout"];function bx(){return(bx=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}var by={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},bz=(0,i.forwardRef)(function(a,b){var c,d=(0,E.e)(a.categoricalChartProps,by),{width:e,height:f,layout:g}=d,h=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(d,bw);if(!(0,aM.F)(e)||!(0,aM.F)(f))return null;var{chartName:j,defaultTooltipEventType:k,validateTooltipEventTypes:l,tooltipPayloadSearcher:m}=a;return i.createElement(bq.J,{preloadedState:{options:{chartName:j,defaultTooltipEventType:k,validateTooltipEventTypes:l,tooltipPayloadSearcher:m,eventEmitter:void 0}},reduxStoreName:null!=(c=d.id)?c:j},i.createElement(br.TK,{chartData:d.data}),i.createElement(bs.s,{width:e,height:f,layout:g,margin:d.margin}),i.createElement(bt.p,{accessibilityLayer:d.accessibilityLayer,barCategoryGap:d.barCategoryGap,maxBarSize:d.maxBarSize,stackOffset:d.stackOffset,barGap:d.barGap,barSize:d.barSize,syncId:d.syncId,syncMethod:d.syncMethod,className:d.className}),i.createElement(bu,{cx:d.cx,cy:d.cy,startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:d.innerRadius,outerRadius:d.outerRadius}),i.createElement(bv.L,bx({width:e,height:f},h,{ref:b})))}),bA=["item"],bB={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},bC=(0,i.forwardRef)((a,b)=>{var c=(0,E.e)(a,bB);return i.createElement(bz,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:bA,tooltipPayloadSearcher:k.uN,categoricalChartProps:c,ref:b})}),bD=c(37177),bE=c.n(bD),bF=c(39683),bG=c(25610),bH=a=>a.graphicalItems.polarItems,bI=(0,aH.Mz)([bF.N,bG.E],aI.eo),bJ=(0,aH.Mz)([bH,aI.DP,bI],aI.ec),bK=(0,aH.Mz)([bJ],aI.rj),bL=(0,aH.Mz)([bK,aJ.z3],aI.Nk),bM=(0,aH.Mz)([bL,aI.DP,bJ],aI.fb),bN=(0,aH.Mz)([bL,aI.DP,bJ],(a,b,c)=>c.length>0?a.flatMap(a=>c.flatMap(c=>{var d;return{value:(0,z.kr)(a,null!=(d=b.dataKey)?d:c.dataKey),errorDomain:[]}})).filter(Boolean):(null==b?void 0:b.dataKey)!=null?a.map(a=>({value:(0,z.kr)(a,b.dataKey),errorDomain:[]})):a.map(a=>({value:a,errorDomain:[]}))),bO=()=>void 0,bP=(0,aH.Mz)([aI.DP,aI.AV,bO,bN,bO,aG.fz,bF.N],aI.wL),bQ=(0,aH.Mz)([aI.DP,aG.fz,bL,bM,aL.eC,bF.N,bP],aI.tP),bR=(0,aH.Mz)([bQ,aI.DP,aI.xM],aI.xp);function bS(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bT(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bS(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bS(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}(0,aH.Mz)([aI.DP,bQ,bR,bF.N],aI.g1);var bU=(0,aH.Mz)([bH,(a,b)=>b],(a,b)=>a.filter(a=>"pie"===a.type).find(a=>a.id===b)),bV=[],bW=(a,b,c)=>(null==c?void 0:c.length)===0?bV:c,bX=(0,aH.Mz)([aJ.z3,bU,bW],(a,b,c)=>{var d,{chartData:e}=a;if(null!=b&&((d=(null==b?void 0:b.data)!=null&&b.data.length>0?b.data:e)&&d.length||null==c||(d=c.map(a=>bT(bT({},b.presentationProps),a.props))),null!=d))return d}),bY=(0,aH.Mz)([bX,bU,bW],(a,b,c)=>{if(null!=a&&null!=b)return a.map((a,d)=>{var e,f,g=(0,z.kr)(a,b.nameKey,b.name);return f=null!=c&&null!=(e=c[d])&&null!=(e=e.props)&&e.fill?c[d].props.fill:"object"==typeof a&&null!=a&&"fill"in a?a.fill:b.fill,{value:(0,z.uM)(g,b.dataKey),color:f,payload:a,type:b.legendType}})}),bZ=(0,aH.Mz)([bX,bU,bW,aK.HZ],(a,b,c,d)=>{if(null!=b&&null!=a)return function(a){var b,c,d,{pieSettings:e,displayedData:f,cells:g,offset:h}=a,{cornerRadius:i,startAngle:j,endAngle:k,dataKey:l,nameKey:m,tooltipType:n}=e,o=Math.abs(e.minAngle),p=(0,w.sA)(k-j)*Math.min(Math.abs(k-j),360),q=Math.abs(p),r=f.length<=1?0:null!=(b=e.paddingAngle)?b:0,s=f.filter(a=>0!==(0,z.kr)(a,l,0)).length,t=q-s*o-(q>=360?s:s-1)*r,u=f.reduce((a,b)=>{var c=(0,z.kr)(b,l,0);return a+((0,w.Et)(c)?c:0)},0);return u>0&&(c=f.map((a,b)=>{var c,f=(0,z.kr)(a,l,0),k=(0,z.kr)(a,m,b),q=((a,b,c)=>{let d,e,f;var{top:g,left:h,width:i,height:j}=b,k=(0,b0.lY)(i,j),l=h+(0,w.F4)(a.cx,i,i/2),m=g+(0,w.F4)(a.cy,j,j/2),n=(0,w.F4)(a.innerRadius,k,0);return{cx:l,cy:m,innerRadius:n,outerRadius:(d=c,e=a.outerRadius,f=k,"function"==typeof e?(0,w.F4)(e(d),f,.8*f):(0,w.F4)(e,f,.8*f)),maxRadius:a.maxRadius||Math.sqrt(i*i+j*j)/2}})(e,h,a),s=((0,w.Et)(f)?f:0)/u,v=b7(b7({},a),g&&g[b]&&g[b].props),x=(c=b?d.endAngle+(0,w.sA)(p)*r*(0!==f):j)+(0,w.sA)(p)*((0!==f?o:0)+s*t),y=(c+x)/2,A=(q.innerRadius+q.outerRadius)/2,B=[{name:k,value:f,payload:v,dataKey:l,type:n}],C=(0,b0.IZ)(q.cx,q.cy,A,y);return d=b7(b7(b7(b7({},e.presentationProps),{},{percent:s,cornerRadius:i,name:k,tooltipPayload:B,midAngle:y,middleRadius:A,tooltipPosition:C},v),q),{},{value:(0,z.kr)(a,l),startAngle:c,endAngle:x,payload:v,paddingAngle:(0,w.sA)(p)*r})})),c}({offset:d,pieSettings:b,displayedData:a,cells:c})}),b$=c(6487),b_=c(81249),b0=c(29160),b1=c(71156),b2=["onMouseEnter","onClick","onMouseLeave"],b3=["id"],b4=["id"];function b5(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function b6(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function b7(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?b6(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):b6(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function b8(){return(b8=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}function b9(a){var b=(0,i.useMemo)(()=>(0,x.aS)(a.children,u),[a.children]),c=(0,ay.G)(c=>bY(c,a.id,b));return null==c?null:i.createElement(a1._,{legendPayload:c})}function ca(a){var{dataKey:b,nameKey:c,sectors:d,stroke:e,strokeWidth:f,fill:g,name:h,hide:i,tooltipType:j}=a;return{dataDefinedOnItem:d.map(a=>a.tooltipPayload),positions:d.map(a=>a.tooltipPosition),settings:{stroke:e,strokeWidth:f,fill:g,dataKey:b,nameKey:c,name:(0,z.uM)(h,b),hide:i,type:j,color:g,unit:""}}}function cb(a){var{sectors:b,props:c,showLabels:d}=a,{label:e,labelLine:f,dataKey:g}=c;if(!d||!e||!b)return null;var h=(0,a4.u)(c),j=(0,x.J9)(e,!1),k=(0,x.J9)(f,!1),l="object"==typeof e&&"offsetRadius"in e&&"number"==typeof e.offsetRadius&&e.offsetRadius||20,m=b.map((a,b)=>{var c,d,m=(a.startAngle+a.endAngle)/2,n=(0,b0.IZ)(a.cx,a.cy,a.outerRadius+l,m),o=b7(b7(b7(b7({},h),a),{},{stroke:"none"},j),{},{index:b,textAnchor:(c=n.x)>(d=a.cx)?"start":c<d?"end":"middle"},n),p=b7(b7(b7(b7({},h),a),{},{fill:"none",stroke:a.fill},k),{},{index:b,points:[(0,b0.IZ)(a.cx,a.cy,a.outerRadius,m),n],key:"line"});return i.createElement(t.W,{key:"label-".concat(a.startAngle,"-").concat(a.endAngle,"-").concat(a.midAngle,"-").concat(b)},f&&((a,b)=>{if(i.isValidElement(a))return i.cloneElement(a,b);if("function"==typeof a)return a(b);var c=(0,s.$)("recharts-pie-label-line","boolean"!=typeof a?a.className:"");return i.createElement(b$.I,b8({},b,{type:"linear",className:c}))})(f,p),((a,b,c)=>{if(i.isValidElement(a))return i.cloneElement(a,b);var d,e=c;if("function"==typeof a&&(e=a(b),i.isValidElement(e)))return e;var f=(0,s.$)("recharts-pie-label-text",(d=a)&&"object"==typeof d&&"className"in d&&"string"==typeof d.className?d.className:"");return i.createElement(b_.E,b8({},b,{alignmentBaseline:"middle",className:f}),e)})(e,o,(0,z.kr)(a,g)))});return i.createElement(t.W,{className:"recharts-pie-labels"},m)}function cc(a){var{sectors:b,props:c,showLabels:d}=a,{label:e}=c;return"object"==typeof e&&null!=e&&"position"in e?i.createElement(v.qY,{label:c.label}):i.createElement(cb,{sectors:b,props:c,showLabels:d})}function cd(a){var{sectors:b,activeShape:c,inactiveShape:d,allOtherPieProps:e}=a,f=(0,ay.G)(a0.A2),{onMouseEnter:g,onClick:h,onMouseLeave:j}=e,k=b5(e,b2),l=aA(g,e.dataKey),m=aB(j),n=aC(h,e.dataKey);return null==b||0===b.length?null:i.createElement(i.Fragment,null,b.map((a,g)=>{if((null==a?void 0:a.startAngle)===0&&(null==a?void 0:a.endAngle)===0&&1!==b.length)return null;var h=c&&String(g)===f,j=h?c:f?d:null,o=b7(b7({},a),{},{stroke:a.stroke,tabIndex:-1,[b1.F0]:g,[b1.um]:e.dataKey});return i.createElement(t.W,b8({tabIndex:-1,className:"recharts-pie-sector"},(0,A.XC)(k,a,g),{onMouseEnter:l(a,g),onMouseLeave:m(a,g),onClick:n(a,g),key:"sector-".concat(null==a?void 0:a.startAngle,"-").concat(null==a?void 0:a.endAngle,"-").concat(a.midAngle,"-").concat(g)}),i.createElement(aq,b8({option:j,isActive:h,shapeType:"sector"},o)))}))}function ce(a){var{showLabels:b,sectors:c,children:d}=a,e=(0,i.useMemo)(()=>b&&c?c.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})):[],[c,b]);return i.createElement(v.dL,{value:b?e:void 0},d)}function cf(a){var{props:b,previousSectorsRef:c}=a,{sectors:d,isAnimationActive:e,animationBegin:f,animationDuration:g,animationEasing:h,activeShape:j,inactiveShape:k,onAnimationStart:l,onAnimationEnd:m}=b,n=(0,G.n)(b,"recharts-pie-"),o=c.current,[p,q]=(0,i.useState)(!1),r=(0,i.useCallback)(()=>{"function"==typeof m&&m(),q(!1)},[m]),s=(0,i.useCallback)(()=>{"function"==typeof l&&l(),q(!0)},[l]);return i.createElement(ce,{showLabels:!p,sectors:d},i.createElement(F.J,{animationId:n,begin:f,duration:g,isActive:e,easing:h,onAnimationStart:s,onAnimationEnd:r,key:n},a=>{var e=[],f=d&&d[0],g=null==f?void 0:f.startAngle;return null==d||d.forEach((b,c)=>{var d=o&&o[c],f=c>0?bE()(b,"paddingAngle",0):0;if(d){var h=(0,w.GW)(d.endAngle-d.startAngle,b.endAngle-b.startAngle,a),i=b7(b7({},b),{},{startAngle:g+f,endAngle:g+h+f});e.push(i),g=i.endAngle}else{var{endAngle:j,startAngle:k}=b,l=(0,w.GW)(0,j-k,a),m=b7(b7({},b),{},{startAngle:g+f,endAngle:g+l+f});e.push(m),g=m.endAngle}}),c.current=e,i.createElement(t.W,null,i.createElement(cd,{sectors:e,activeShape:j,inactiveShape:k,allOtherPieProps:b}))}),i.createElement(cc,{showLabels:!p,sectors:d,props:b}),b.children)}var cg={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!y.m.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function ch(a){var{id:b}=a,c=b5(a,b3),{hide:d,className:e,rootTabIndex:f}=a,g=(0,i.useMemo)(()=>(0,x.aS)(a.children,u),[a.children]),h=(0,ay.G)(a=>bZ(a,b,g)),j=(0,i.useRef)(null),k=(0,s.$)("recharts-pie",e);return d||null==h?(j.current=null,i.createElement(t.W,{tabIndex:f,className:k})):i.createElement(i.Fragment,null,i.createElement(aD.r,{fn:ca,args:b7(b7({},a),{},{sectors:h})}),i.createElement(t.W,{tabIndex:f,className:k},i.createElement(cf,{props:b7(b7({},c),{},{sectors:h}),previousSectorsRef:j})))}function ci(a){var b=(0,E.e)(a,cg),{id:c}=b,d=b5(b,b4),e=(0,a4.u)(d);return i.createElement(a2.x,{id:c,type:"pie"},a=>i.createElement(i.Fragment,null,i.createElement(a3.v,{type:"pie",id:a,data:d.data,dataKey:d.dataKey,hide:d.hide,angleAxisId:0,radiusAxisId:0,name:d.name,nameKey:d.nameKey,tooltipType:d.tooltipType,legendType:d.legendType,fill:d.fill,cx:d.cx,cy:d.cy,startAngle:d.startAngle,endAngle:d.endAngle,paddingAngle:d.paddingAngle,minAngle:d.minAngle,innerRadius:d.innerRadius,outerRadius:d.outerRadius,cornerRadius:d.cornerRadius,presentationProps:e}),i.createElement(b9,b8({},d,{id:a})),i.createElement(ch,b8({},d,{id:a}))))}ci.displayName="Pie";var cj=c(23312),ck=c(63258),cl=c(99539);function cm(){return(cm=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}function cn(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function co(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}class cp extends i.PureComponent{renderIcon(a,b){var{inactiveColor:c}=this.props,d=32/6,e=32/3,f=a.inactive?c:a.color,g=null!=b?b:a.type;if("none"===g)return null;if("plainline"===g)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===g)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(16,"h").concat(e,"\n            A").concat(d,",").concat(d,",0,1,1,").concat(2*e,",").concat(16,"\n            H").concat(32,"M").concat(2*e,",").concat(16,"\n            A").concat(d,",").concat(d,",0,1,1,").concat(e,",").concat(16),className:"recharts-legend-icon"});if("rect"===g)return i.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(a.legendIcon)){var h=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?cn(Object(c),!0).forEach(function(b){co(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):cn(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a);return delete h.legendIcon,i.cloneElement(a.legendIcon,h)}return i.createElement(ak,{fill:f,cx:16,cy:16,size:32,sizeType:"diameter",type:g})}renderItems(){var{payload:a,iconSize:b,layout:c,formatter:d,inactiveColor:e,iconType:f}=this.props,g={x:0,y:0,width:32,height:32},h={display:"horizontal"===c?"inline-block":"block",marginRight:10},j={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map((a,c)=>{var k=a.formatter||d,l=(0,s.$)({"recharts-legend-item":!0,["legend-item-".concat(c)]:!0,inactive:a.inactive});if("none"===a.type)return null;var m=a.inactive?e:a.color,n=k?k(a.value,a,c):a.value;return i.createElement("li",cm({className:l,style:h,key:"legend-item-".concat(c)},(0,A.XC)(this.props,a,c)),i.createElement(cl.u,{width:b,height:b,viewBox:g,style:j,"aria-label":"".concat(n," legend icon")},this.renderIcon(a,f)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},n))})}render(){var{payload:a,layout:b,align:c}=this.props;return a&&a.length?i.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===b?c:"left"}},this.renderItems()):null}}co(cp,"displayName","Legend"),co(cp,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var cq=c(65427),cr=c(54758),cs=c(58483);c(75959);var ct=["contextPayload"];function cu(){return(cu=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}function cv(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function cw(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?cv(Object(c),!0).forEach(function(b){cx(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):cv(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function cx(a,b,c){var d;return(b="symbol"==typeof(d=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"))?d:d+"")in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function cy(a){return a.value}function cz(a){var{contextPayload:b}=a,c=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,ct),d=(0,cq.s)(b,a.payloadUniqBy,cy),e=cw(cw({},c),{},{payload:d});return i.isValidElement(a.content)?i.cloneElement(a.content,e):"function"==typeof a.content?i.createElement(a.content,e):i.createElement(cp,e)}function cA(a){return(0,ay.j)(),null}function cB(a){return(0,ay.j)(),null}function cC(a){var b=(0,ay.G)(cr.g0),c=(0,ck.M)(),d=(0,aG.Kp)(),{width:e,height:f,wrapperStyle:g,portal:h}=a,[j,k]=(0,cs.V)([b]),l=(0,aG.yi)(),m=(0,aG.rY)();if(null==l||null==m)return null;var n=l-(d.left||0)-(d.right||0),o=cD.getWidthOrHeight(a.layout,f,e,n),p=h?g:cw(cw({position:"absolute",width:(null==o?void 0:o.width)||e||"auto",height:(null==o?void 0:o.height)||f||"auto"},function(a,b,c,d,e,f){var g,h,{layout:i,align:j,verticalAlign:k}=b;return a&&(void 0!==a.left&&null!==a.left||void 0!==a.right&&null!==a.right)||(g="center"===j&&"vertical"===i?{left:((d||0)-f.width)/2}:"right"===j?{right:c&&c.right||0}:{left:c&&c.left||0}),a&&(void 0!==a.top&&null!==a.top||void 0!==a.bottom&&null!==a.bottom)||(h="middle"===k?{top:((e||0)-f.height)/2}:"bottom"===k?{bottom:c&&c.bottom||0}:{top:c&&c.top||0}),cw(cw({},g),h)}(g,a,d,l,m,j)),g),q=null!=h?h:c;if(null==q)return null;var r=i.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:k},i.createElement(cA,{layout:a.layout,align:a.align,verticalAlign:a.verticalAlign,itemSorter:a.itemSorter}),i.createElement(cB,{width:j.width,height:j.height}),i.createElement(cz,cu({},a,o,{margin:d,chartWidth:l,chartHeight:m,contextPayload:b})));return(0,cj.createPortal)(r,q)}class cD extends i.PureComponent{static getWidthOrHeight(a,b,c,d){return"vertical"===a&&(0,w.Et)(b)?{height:b}:"horizontal"===a?{width:c||d}:null}render(){return i.createElement(cC,this.props)}}function cE({performanceItems:a}){let[b,c]=(0,i.useState)(!1),e=[{name:"Chef's Kiss",profit:a.filter(a=>"Chef's Kiss"===a.menu_item_class).reduce((a,b)=>a+b.gross_profit_percentage,0)/Math.max(1,a.filter(a=>"Chef's Kiss"===a.menu_item_class).length)},{name:"Hidden Gem",profit:a.filter(a=>"Hidden Gem"===a.menu_item_class).reduce((a,b)=>a+b.gross_profit_percentage,0)/Math.max(1,a.filter(a=>"Hidden Gem"===a.menu_item_class).length)},{name:"Bargain Bucket",profit:a.filter(a=>"Bargain Bucket"===a.menu_item_class).reduce((a,b)=>a+b.gross_profit_percentage,0)/Math.max(1,a.filter(a=>"Bargain Bucket"===a.menu_item_class).length)},{name:"Burnt Toast",profit:a.filter(a=>"Burnt Toast"===a.menu_item_class).reduce((a,b)=>a+b.gross_profit_percentage,0)/Math.max(1,a.filter(a=>"Burnt Toast"===a.menu_item_class).length)}],f=[{name:"Chef's Kiss",value:a.filter(a=>"Chef's Kiss"===a.menu_item_class).length,color:"#22c55e"},{name:"Hidden Gem",value:a.filter(a=>"Hidden Gem"===a.menu_item_class).length,color:"#3b82f6"},{name:"Bargain Bucket",value:a.filter(a=>"Bargain Bucket"===a.menu_item_class).length,color:"#f97316"},{name:"Burnt Toast",value:a.filter(a=>"Burnt Toast"===a.menu_item_class).length,color:"#ef4444"}];return(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,d.jsxs)("div",{className:"bg-[#1f1f1f] rounded-2xl border border-[#2a2a2a] p-4 md:p-6",children:[(0,d.jsx)("h3",{className:"text-lg md:text-xl font-semibold text-white mb-4",children:"Profit by Category"}),(0,d.jsx)("div",{className:"h-64 md:h-80 w-full",children:(0,d.jsx)(j.u,{width:"100%",height:"100%",children:(0,d.jsxs)(n,{data:e,margin:{top:20,right:b?10:30,left:b?10:20,bottom:5},children:[(0,d.jsx)(o.d,{strokeDasharray:"3 3",stroke:"#2a2a2a"}),(0,d.jsx)(p.W,{dataKey:"name",stroke:"#9ca3af",fontSize:b?10:12,tick:{fill:"#9ca3af"},angle:b?-45:0,textAnchor:b?"end":"middle",height:b?60:30}),(0,d.jsx)(q.h,{stroke:"#9ca3af",fontSize:b?10:12,tick:{fill:"#9ca3af"},tickFormatter:a=>`${a}%`}),(0,d.jsx)(r.m,{contentStyle:{backgroundColor:"rgba(31, 31, 31, 0.95)",border:"1px solid #29E7CD",borderRadius:"8px",color:"#ffffff",fontSize:b?"12px":"14px"},labelStyle:{color:"#ffffff"},formatter:a=>[`${a.toFixed(1)}%`,"Average Profit"]}),(0,d.jsx)(bp,{dataKey:"profit",fill:"#29E7CD",radius:[4,4,0,0]})]})})})]}),(0,d.jsxs)("div",{className:"bg-[#1f1f1f] rounded-2xl border border-[#2a2a2a] p-4 md:p-6",children:[(0,d.jsx)("h3",{className:"text-lg md:text-xl font-semibold text-white mb-4",children:"Category Distribution"}),(0,d.jsx)("div",{className:"h-64 md:h-80 w-full",children:(0,d.jsx)(j.u,{width:"100%",height:"100%",children:(0,d.jsxs)(bC,{children:[(0,d.jsx)(ci,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,value:c})=>b?`${a}`:`${a}: ${c}`,outerRadius:b?60:80,fill:"#8884d8",dataKey:"value",children:f.map((a,b)=>(0,d.jsx)(u,{fill:a.color},`cell-${b}`))}),(0,d.jsx)(r.m,{contentStyle:{backgroundColor:"rgba(31, 31, 31, 0.95)",border:"1px solid #29E7CD",borderRadius:"8px",color:"#ffffff",fontSize:b?"12px":"14px"},labelStyle:{color:"#ffffff"},formatter:(a,b)=>[`${a} items`,b]}),(0,d.jsx)(cD,{wrapperStyle:{color:"#ffffff",fontSize:b?"10px":"12px"},verticalAlign:"bottom",height:b?30:36})]})})})]})]})}function cF({performanceItems:a}){let b=a=>new Intl.NumberFormat("en-AU",{style:"currency",currency:"AUD"}).format(a),c=a=>`${a.toFixed(2)}%`;return(0,d.jsxs)("div",{className:"bg-[#1f1f1f] rounded-2xl border border-[#2a2a2a] overflow-hidden",children:[(0,d.jsx)("div",{className:"block md:hidden",children:(0,d.jsx)("div",{className:"p-4 space-y-4",children:a.map((a,e)=>(0,d.jsxs)("div",{className:"bg-[#2a2a2a]/30 rounded-xl border border-[#3a3a3a] p-4 space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-white",children:a.name}),(0,d.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"Chef's Kiss"===a.menu_item_class?"bg-green-500/20 text-green-400 border border-green-500/30":"Hidden Gem"===a.menu_item_class?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"Bargain Bucket"===a.menu_item_class?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:a.menu_item_class})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"bg-[#1f1f1f] rounded-lg p-3",children:[(0,d.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Number Sold"}),(0,d.jsx)("div",{className:"text-lg font-bold text-white",children:a.number_sold})]}),(0,d.jsxs)("div",{className:"bg-[#1f1f1f] rounded-lg p-3",children:[(0,d.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Popularity"}),(0,d.jsxs)("div",{className:"text-lg font-bold text-[#3B82F6]",children:[a.popularity_percentage.toFixed(1),"%"]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm text-gray-400",children:"Gross Profit %"}),(0,d.jsx)("span",{className:"text-lg font-bold text-[#29E7CD]",children:c(a.gross_profit_percentage)})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm text-gray-400",children:"Total Revenue"}),(0,d.jsx)("span",{className:"text-sm text-gray-300",children:b(a.selling_price*a.number_sold/1.1)})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm text-gray-400",children:"Total Cost"}),(0,d.jsx)("span",{className:"text-sm text-gray-300",children:b(a.food_cost*a.number_sold)})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-sm text-gray-400",children:"Total Profit"}),(0,d.jsx)("span",{className:"text-sm font-medium text-white",children:b(a.gross_profit*a.number_sold)})]})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,d.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"High"===a.profit_category?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:["Profit: ",a.profit_category]}),(0,d.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"High"===a.popularity_category?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-orange-500/20 text-orange-400 border border-orange-500/30"}`,children:["Popularity: ",a.popularity_category]})]})]},a.id))})}),(0,d.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,d.jsxs)("table",{className:"w-full",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"bg-gradient-to-r from-[#2a2a2a]/50 to-[#2a2a2a]/20",children:[(0,d.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Dish"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Number Sold"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Popularity %"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Total Revenue ex GST"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Total Cost"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Total Profit ex GST"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Gross Profit %"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Profit Cat"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Popularity Cat"}),(0,d.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Menu Item Class"})]})}),(0,d.jsx)("tbody",{children:a.map((a,e)=>(0,d.jsxs)("tr",{className:"border-t border-[#2a2a2a] hover:bg-[#2a2a2a]/20 transition-colors",children:[(0,d.jsx)("td",{className:"px-4 py-3 text-white font-medium",children:a.name}),(0,d.jsx)("td",{className:"px-4 py-3 text-gray-300 text-center",children:a.number_sold}),(0,d.jsxs)("td",{className:"px-4 py-3 text-gray-300 text-center",children:[a.popularity_percentage.toFixed(2),"%"]}),(0,d.jsx)("td",{className:"px-4 py-3 text-gray-300 text-center",children:b(a.selling_price*a.number_sold/1.1)}),(0,d.jsx)("td",{className:"px-4 py-3 text-gray-300 text-center",children:b(a.food_cost*a.number_sold)}),(0,d.jsx)("td",{className:"px-4 py-3 text-gray-300 text-center",children:b(a.gross_profit*a.number_sold)}),(0,d.jsx)("td",{className:"px-4 py-3 text-gray-300 text-center",children:c(a.gross_profit_percentage)}),(0,d.jsx)("td",{className:"px-4 py-3 text-center",children:(0,d.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"High"===a.profit_category?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:a.profit_category})}),(0,d.jsx)("td",{className:"px-4 py-3 text-center",children:(0,d.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"High"===a.popularity_category?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-orange-500/20 text-orange-400 border border-orange-500/30"}`,children:a.popularity_category})}),(0,d.jsx)("td",{className:"px-4 py-3 text-center",children:(0,d.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"Chef's Kiss"===a.menu_item_class?"bg-green-500/20 text-green-400 border border-green-500/30":"Hidden Gem"===a.menu_item_class?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"Bargain Bucket"===a.menu_item_class?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:a.menu_item_class})})]},a.id))})]})})]})}function cG({currentPage:a,totalPages:b,onPageChange:c}){return b<=1?null:(0,d.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[(0,d.jsx)("button",{onClick:()=>c(Math.max(1,a-1)),disabled:1===a,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 disabled:text-gray-500 text-white rounded-lg transition-colors",children:"Previous"}),(0,d.jsxs)("span",{className:"px-4 py-2 text-gray-300",children:["Page ",a," of ",b]}),(0,d.jsx)("button",{onClick:()=>c(Math.min(b,a+1)),disabled:a===b,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-800 disabled:text-gray-500 text-white rounded-lg transition-colors",children:"Next"})]})}function cH({showImportModal:a,csvData:b,onClose:c,onImport:e,onCsvDataChange:f}){return a?(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,d.jsxs)("div",{className:"bg-[#1f1f1f] rounded-2xl border border-[#2a2a2a] p-6 w-full max-w-2xl",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Import Sales Data"}),(0,d.jsx)("p",{className:"text-gray-300 mb-4",children:"Paste your CSV data below. Format: Dish, Number Sold, Popularity %"}),(0,d.jsx)("textarea",{value:b.csvData,onChange:a=>f(a.target.value),placeholder:"Dish, Number Sold, Popularity % Double Cheese Burger, 175, 10.85 Hot Dog, 158, 9.80",className:"w-full h-40 px-4 py-3 bg-[#2a2a2a] border border-[#2a2a2a] rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#29E7CD] focus:border-transparent resize-none"}),(0,d.jsxs)("div",{className:"flex justify-end space-x-4 mt-6",children:[(0,d.jsx)("button",{onClick:c,className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),(0,d.jsx)("button",{onClick:e,disabled:b.importing||!b.csvData.trim(),className:"px-6 py-2 bg-[#29E7CD] hover:bg-[#29E7CD]/80 disabled:bg-gray-600 text-black rounded-lg transition-colors",children:b.importing?"Importing...":"Import"})]})]})}):null}cx(cD,"displayName","Legend"),cx(cD,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var cI=c(59009);function cJ(){let{state:a,updateState:b,setupRealtimeSubscription:c,handleImport:j,handleExportCSV:k,realtimeSubscription:l}=function(){let[a,b]=(0,i.useState)({performanceItems:[],metadata:null,performanceAlerts:[],performanceScore:0,realtimeEnabled:!1,lastUpdate:null,showCharts:!1,showImportModal:!1,csvData:"",importing:!1}),c=(0,i.useRef)(null),d=async()=>{try{let a=await fetch("/api/performance");if(!a.ok)throw Error("Failed to fetch performance data");let c=await a.json();b(a=>({...a,performanceItems:c.performanceItems||[],metadata:c.metadata||null,performanceAlerts:c.performanceAlerts||[],performanceScore:c.performanceScore||0,lastUpdate:new Date}))}catch(a){console.error("Error fetching performance data:",a),b(a=>({...a,performanceAlerts:[...a.performanceAlerts,{id:Date.now().toString(),message:"Failed to fetch performance data",timestamp:new Date}]}))}},e=async()=>{if(a.csvData.trim()){b(a=>({...a,importing:!0}));try{let c=a.csvData.trim().split("\n");if(c[0].split(",").map(a=>a.trim()).length<3)throw Error("CSV must have at least 3 columns: Dish, Number Sold, Popularity %");let e=c.slice(1).map(a=>{let b=a.split(",").map(a=>a.trim());return{dish_name:b[0],number_sold:parseInt(b[1])||0,popularity_percentage:parseFloat(b[2])||0}});if(!(await fetch("/api/performance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({salesData:e})})).ok)throw Error("Failed to import sales data");b(a=>({...a,csvData:"",showImportModal:!1,importing:!1})),await d()}catch(a){console.error("Error importing data:",a),b(a=>({...a,importing:!1,performanceAlerts:[...a.performanceAlerts,{id:Date.now().toString(),message:"Failed to import sales data",timestamp:new Date}]}))}}};return{state:a,updateState:a=>{b(b=>({...b,...a}))},fetchPerformanceData:d,setupRealtimeSubscription:()=>{c.current&&c.current.unsubscribe(),c.current=cI.ND.channel("performance-updates").on("postgres_changes",{event:"*",schema:"public",table:"sales_data"},a=>{console.log("Performance data updated:",a),d()}).subscribe()},handleImport:e,handleExportCSV:()=>{let b=new Blob([["Dish,Number Sold,Popularity %,Total Revenue ex GST,Total Cost,Total Profit ex GST,Gross Profit %,Profit Cat,Popularity Cat,Menu Item Class",...a.performanceItems.map(a=>[a.name,a.number_sold,a.popularity_percentage.toFixed(2),(a.selling_price*a.number_sold/1.1).toFixed(2),(a.food_cost*a.number_sold).toFixed(2),(a.gross_profit*a.number_sold).toFixed(2),a.gross_profit_percentage.toFixed(2),a.profit_category,a.popularity_category,a.menu_item_class].join(","))].join("\n")],{type:"text/csv"}),c=window.URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`performance-data-${new Date().toISOString().split("T")[0]}.csv`,d.click(),window.URL.revokeObjectURL(c)},realtimeSubscription:c}}(),{filters:m,updateFilters:n,paginatedItems:o,totalPages:p}=function(a){let[b,c]=(0,i.useState)({searchTerm:"",sortBy:"gross_profit_percentage",sortOrder:"desc",currentPage:1,itemsPerPage:20}),d=(0,i.useMemo)(()=>{let c=a.filter(a=>a.name.toLowerCase().includes(b.searchTerm.toLowerCase()));return c.sort((a,c)=>{let d,e;switch(b.sortBy){case"gross_profit_percentage":default:d=a.gross_profit_percentage,e=c.gross_profit_percentage;break;case"number_sold":d=a.number_sold,e=c.number_sold;break;case"popularity_percentage":d=a.popularity_percentage,e=c.popularity_percentage;break;case"name":d=a.name.toLowerCase(),e=c.name.toLowerCase()}return"asc"===b.sortOrder?d>e?1:-1:d<e?1:-1}),c},[a,b.searchTerm,b.sortBy,b.sortOrder]),e=(0,i.useMemo)(()=>{let a=(b.currentPage-1)*b.itemsPerPage,c=a+b.itemsPerPage;return d.slice(a,c)},[d,b.currentPage,b.itemsPerPage]),f=Math.ceil(d.length/b.itemsPerPage);return{filters:b,updateFilters:a=>{c(b=>({...b,...a,currentPage:void 0!==a.searchTerm||void 0!==a.sortBy||void 0!==a.sortOrder?1:b.currentPage}))},filteredAndSortedItems:d,paginatedItems:e,totalPages:f}}(a.performanceItems);return(0,d.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] text-white p-6",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,d.jsx)(e,{performanceScore:a.performanceScore,realtimeEnabled:a.realtimeEnabled,lastUpdate:a.lastUpdate,performanceAlerts:a.performanceAlerts}),(0,d.jsx)(f,{metadata:a.metadata}),(0,d.jsx)(g,{filters:m,onFiltersChange:n}),(0,d.jsx)(h,{showImportModal:a.showImportModal,showCharts:a.showCharts,realtimeEnabled:a.realtimeEnabled,onImportClick:()=>{b({showImportModal:!0})},onExportCSV:k,onToggleCharts:()=>{b({showCharts:!a.showCharts})},onToggleRealtime:()=>{let d=!a.realtimeEnabled;b({realtimeEnabled:d}),d?c():l.current&&l.current.unsubscribe()}}),a.showCharts&&(0,d.jsx)(cE,{performanceItems:a.performanceItems}),(0,d.jsx)(cF,{performanceItems:o}),(0,d.jsx)(cG,{currentPage:m.currentPage,totalPages:p,onPageChange:a=>{n({currentPage:a})}}),(0,d.jsx)(cH,{showImportModal:a.showImportModal,csvData:{csvData:a.csvData,importing:a.importing},onClose:()=>{b({showImportModal:!1,csvData:""})},onImport:j,onCsvDataChange:a=>{b({csvData:a})}})]})})}}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[4586,9707,3991,4515,8254,8913,5246,9803,617,7767],()=>b(b.s=76985));module.exports=c})();
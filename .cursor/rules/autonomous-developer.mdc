---
alwaysApply: true
---

# Autonomous Developer System

This file documents the comprehensive autonomous developer system that extends beyond error learning to provide senior-level development intelligence.

## Overview

The autonomous developer system provides 10 intelligence modules that work together to review code, suggest improvements, predict issues, and learn from patterns.

## Available Intelligence Modules

### 1. Code Review Intelligence

**Purpose:** Automated code review with pattern detection, code smell identification, and best practice suggestions.

**Usage:**
```bash
npm run dev:code-review <file>
```

**Capabilities:**
- Detects architectural patterns (Singleton, Factory, Repository, etc.)
- Identifies code smells (long methods, deep nesting, duplicate code, magic numbers, god objects)
- Suggests best practices based on learned error patterns
- Generates comprehensive code review reports

**Integration:** Learned-patterns runs via `npm run cleanup:staged` or `npm run cleanup:check`; not in the default pre-commit flow.

### 2. Refactoring Intelligence

**Purpose:** Tracks technical debt and suggests refactoring opportunities.

**Usage:**
```bash
npm run dev:refactoring <file>
```

**Capabilities:**
- Detects refactoring opportunities (extract function, simplify conditional, remove duplication)
- Tracks technical debt with priority scoring
- Analyzes code complexity (cyclomatic complexity, nesting, duplication)
- Suggests preventive refactoring based on predicted bugs

**Integration:** Technical debt tracked in `docs/autonomous-developer/technical-debt.json`.

### 3. Testing Intelligence

**Purpose:** Generates test cases from error patterns and detects coverage gaps.

**Usage:**
```bash
npm run dev:generate-tests from-errors <error-id1> [error-id2] ...
npm run dev:generate-tests coverage <source-files> <test-files>
```

**Capabilities:**
- Generates regression tests from fixed errors
- Detects test coverage gaps
- Suggests missing test cases
- Auto-generates test file templates

**Integration:** Test cases generated in `__tests__/generated/`.

### 4. Documentation Intelligence

**Purpose:** Auto-generates and maintains documentation.

**Usage:**
```bash
npm run dev:generate-docs analyze <file>
npm run dev:generate-docs generate <file> --auto-fix
npm run dev:generate-docs readme <file>
```

**Capabilities:**
- Detects missing JSDoc comments
- Identifies outdated documentation
- Auto-generates JSDoc from code analysis
- Generates README files for components/utilities

**Integration:** Documentation gaps tracked and auto-fixed when requested.

### 5. Performance Intelligence

**Purpose:** Detects performance regressions and optimization opportunities.

**Usage:**
```bash
npm run dev:performance file <file>
npm run dev:performance bundle [path]
npm run dev:performance record
```

**Capabilities:**
- Detects N+1 query patterns
- Identifies memory leaks
- Suggests render optimizations
- Tracks bundle size regressions
- Monitors performance metrics over time

**Integration:** Performance metrics stored in `docs/autonomous-developer/performance-metrics.json`.

### 6. Architecture Intelligence

**Purpose:** Detects design patterns, anti-patterns, and generates ADRs.

**Usage:**
```bash
npm run dev:architecture analyze <file> [--generate-adr]
npm run dev:architecture list
```

**Capabilities:**
- Detects design patterns (Singleton, Factory, Repository, Strategy, Observer)
- Identifies anti-patterns (God Object, Spaghetti Code, Magic Numbers, Copy-Paste)
- Generates Architecture Decision Records (ADRs)
- Tracks pattern usage across codebase

**Integration:** ADRs stored in `docs/autonomous-developer/adr/`, patterns in `docs/autonomous-developer/design-patterns.json`.

### 7. Predictive Intelligence

**Purpose:** Predicts bugs before they happen and assesses code health.

**Usage:**
```bash
npm run dev:predict <file>
```

**Capabilities:**
- Predicts likely bugs based on learned patterns
- Calculates risk scores and code health metrics
- Suggests preventive refactoring
- Assesses overall file risk level

**Integration:** Predictions use error learning knowledge base to identify high-risk patterns.

### 8. Dependency Intelligence

**Purpose:** Learns from dependency issues and tracks health.

**Usage:**
```bash
npm run dev:dependencies health <package>
npm run dev:dependencies upgrades
npm run dev:dependencies unused
npm run dev:dependencies learn <package> <error> <error-id>
```

**Capabilities:**
- Analyzes dependency health scores
- Predicts breaking changes from upgrade history
- Detects unused dependencies
- Learns from dependency upgrade errors
- Suggests safe upgrade paths

**Integration:** Dependency issues tracked in `docs/autonomous-developer/dependency-issues.json`.

### 9. Communication Intelligence

**Purpose:** Generates PR descriptions, commit messages, and changelog entries.

**Usage:**
```bash
npm run dev:pr pr [base-branch]
npm run dev:pr commit [files...]
npm run dev:pr changelog
```

**Capabilities:**
- Auto-generates PR descriptions from git diff
- Suggests commit messages based on changes
- Generates changelog entries from commits
- Learns from code review feedback

**Integration:** PR descriptions saved to `docs/autonomous-developer/prs/`.

### 10. Contextual Learning

**Purpose:** Learns from user behavior and adapts suggestions.

**Usage:**
```bash
npm run dev:learn record <action> <suggestion> [key=value...]
npm run dev:learn learn
npm run dev:learn preferences
npm run dev:learn successes
npm run dev:learn style
```

**Capabilities:**
- Records user behavior (accepted/rejected suggestions)
- Learns coding style preferences
- Adapts suggestions based on context (time of day, project phase)
- Identifies successful patterns

**Integration:** Behavior tracked in `docs/autonomous-developer/user-behavior.json`, preferences in `docs/autonomous-developer/learned-preferences.json`.

## Comprehensive Analysis

**Usage:**
```bash
npm run dev:analyze <file>
```

Runs all intelligence modules on a file and generates a comprehensive report including:
- Code review issues
- Refactoring opportunities
- Testing gaps
- Documentation gaps
- Performance issues
- Architecture patterns
- Bug predictions
- Code health score

## Integration with Error Learning

All intelligence modules leverage the error learning system:
- **Code Review:** Uses learned error patterns to suggest fixes
- **Refactoring:** Prioritizes debt based on error-causing patterns
- **Testing:** Generates tests from error patterns
- **Predictive:** Uses error history to predict bugs
- **Performance:** Learns from performance-related errors

## Knowledge Base Structure

```
docs/autonomous-developer/
├── code-reviews/          # Code review reports
├── technical-debt.json    # Technical debt tracking
├── performance-metrics.json # Performance history
├── adr/                    # Architecture Decision Records
├── design-patterns.json    # Detected design patterns
├── dependency-issues.json  # Dependency problem tracking
├── dependency-health.json  # Dependency health scores
├── prs/                    # Generated PR descriptions
├── user-behavior.json      # User behavior tracking
├── learned-preferences.json # Learned preferences
└── analyses/               # Comprehensive analysis reports
```

## Agent Integration

The autonomous developer system is automatically available to the agent through:
- `.cursor/rules/error-patterns.mdc` - Learned error patterns
- `.cursor/rules/autonomous-developer.mdc` - This file (all capabilities)
- Knowledge bases in `docs/autonomous-developer/`

The agent can:
- Reference learned patterns when reviewing code
- Use predictive intelligence to prevent bugs
- Apply contextual learning to adapt suggestions
- Generate documentation and tests automatically
- Suggest refactoring based on technical debt

## Usage Examples

### Comprehensive File Analysis
```bash
npm run dev:analyze app/api/route.ts
```

### Code Review Before Commit
```bash
npm run dev:code-review app/api/route.ts
```

### Predict Bugs Proactively
```bash
npm run dev:predict app/components/MyComponent.tsx
```

### Generate Tests from Errors
```bash
npm run dev:generate-tests from-errors error-123 error-456
```

### Check Performance
```bash
npm run dev:performance file app/api/route.ts
```

### Generate PR Description
```bash
npm run dev:pr pr main
```

## Success Metrics

- **Code Quality:** Track code health scores over time
- **Bug Prevention:** Measure predicted vs actual bugs
- **Refactoring Impact:** Track technical debt reduction
- **Performance:** Monitor bundle size and query performance
- **Documentation:** Track documentation coverage
- **Test Coverage:** Monitor test coverage improvements

## Continuous Learning

The system continuously learns from:
- Error fixes and patterns
- User behavior (accepted/rejected suggestions)
- Code review feedback
- Dependency upgrade issues
- Performance regressions
- Successful refactoring patterns

All learnings are stored in knowledge bases and automatically applied to future suggestions.

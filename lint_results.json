
> curbos@0.6.7 lint
> eslint . --format json

[{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/.lighthouserc.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/__mocks__/auth0-mock.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/__tests__/allowlist.test.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[147,150],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[147,150],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { isEmailAllowed } from '../lib/allowlist';\n\ndescribe('allowlist', () => {\n  it('denies when env empty', () => {\n    delete (process.env as any).ALLOWED_EMAILS;\n    expect(isEmailAllowed('user@example.com')).toBe(false);\n  });\n  it('allows listed email', () => {\n    process.env.ALLOWED_EMAILS = 'user@example.com, second@example.com';\n    expect(isEmailAllowed('user@example.com')).toBe(true);\n    expect(isEmailAllowed('USER@example.com')).toBe(true);\n    expect(isEmailAllowed('third@example.com')).toBe(false);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/__tests__/basic.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/__tests__/db.seed.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/__tests__/exports/formatting-functions.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/__tests__/exports/template-generation.test.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":123,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":123,"endColumn":22,"suggestions":[{"fix":{"range":[4380,4430],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/__tests__/exports/template-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/__tests__/ingredients.api.test.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[110,113],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[110,113],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":37,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1217,1220],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1217,1220],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1257,1260],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1257,1260],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":39,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1305,1308],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1305,1308],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":39,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1317,1320],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1317,1320],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1529,1532],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1529,1532],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":77,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2493,2496],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2493,2496],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":90,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2857,2860],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2857,2860],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2921,2924],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2921,2924],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2971,2974],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2971,2974],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"jest.mock('next/server', () => {\n  return {\n    NextRequest: class {},\n    NextResponse: {\n      json: (body: any) => ({ json: async () => body }),\n    },\n  };\n});\n\njest.mock('@/lib/supabase', () => {\n  const rows = [\n    { id: 'ri1', recipe_id: 'r1', ingredient_id: 'i1', quantity: 1, unit: 'g', ingredients: null },\n    { id: 'ri2', recipe_id: 'r1', ingredient_id: 'i2', quantity: 2, unit: 'ml', ingredients: null },\n  ];\n  const ingredients = [\n    { id: 'i1', ingredient_name: 'Tomato', cost_per_unit: 1, unit: 'g' },\n    { id: 'i2', name: 'Olive Oil', cost_per_unit: 2, unit: 'ml' }, // name fallback\n  ];\n  return {\n    supabaseAdmin: {\n      from: (table: string) => ({\n        select: () => ({\n          eq: () => ({\n            in: (_: string, __: string[]) => ({ data: ingredients, error: null }),\n            then: undefined,\n          }),\n          in: (_: string, __: string[]) => ({ data: ingredients, error: null }),\n        }),\n      }),\n    },\n  };\n});\n\ndescribe('GET /api/recipes/[id]/ingredients (no demo)', () => {\n  it('returns items with normalized ingredient_name and backfilled nested join', async () => {\n    // Polyfill minimal Request to satisfy Next internals during import\n    (global as any).Request = class {};\n    (global as any).Response = class {\n      static json(body: any, init?: any) {\n        return { body, init };\n      }\n    };\n    const route = await import('@/app/api/recipes/[id]/ingredients/route');\n    // Arrange: mock supabaseAdmin calls inside the route via spies\n    const req: any = {};\n\n    // Mock first query to recipe_ingredients\n    const supabase = require('@/lib/supabase');\n    const fromSpy = jest.spyOn(supabase.supabaseAdmin, 'from');\n    fromSpy.mockImplementation((table: unknown) => {\n      const tableName = table as string;\n      if (tableName === 'recipe_ingredients') {\n        return {\n          select: () => ({\n            eq: () => ({\n              data: [\n                {\n                  id: 'ri1',\n                  recipe_id: 'r1',\n                  ingredient_id: 'i1',\n                  quantity: 1,\n                  unit: 'g',\n                  ingredients: null,\n                },\n                {\n                  id: 'ri2',\n                  recipe_id: 'r1',\n                  ingredient_id: 'i2',\n                  quantity: 2,\n                  unit: 'ml',\n                  ingredients: null,\n                },\n              ],\n              error: null,\n            }),\n          }),\n        } as any;\n      }\n      // ingredients backfill\n      return {\n        select: () => ({\n          in: () => ({\n            data: [\n              { id: 'i1', ingredient_name: 'Tomato', cost_per_unit: 1, unit: 'g' },\n              { id: 'i2', name: 'Olive Oil', cost_per_unit: 2, unit: 'ml' },\n            ],\n            error: null,\n          }),\n        }),\n      } as any;\n    });\n\n    // Act\n    const res = await route.GET(req as any, { params: Promise.resolve({ id: 'r1' }) } as any);\n    const json = await res.json();\n\n    // Assert\n    expect(Array.isArray(json.items)).toBe(true);\n    expect(json.items.length).toBe(2);\n    expect(json.items[0].ingredients.ingredient_name).toBe('Tomato');\n    expect(json.items[1].ingredients.ingredient_name).toBe('Olive Oil'); // fallback to name\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/__tests__/personality.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/__tests__/reset-self.api.test.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[110,113],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[110,113],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"jest.mock('next/server', () => {\n  return {\n    NextRequest: class {},\n    NextResponse: {\n      json: (body: any) => ({ json: async () => body }),\n    },\n  };\n});\n\njest.mock('next-auth', () => {\n  return {\n    getServerSession: jest.fn(),\n  };\n});\n\njest.mock(\n  '@/lib/auth-options',\n  () => ({\n    authOptions: {},\n  }),\n  { virtual: true },\n);\n\njest.mock('@/lib/supabase', () => ({\n  createSupabaseAdmin: jest.fn(),\n}));\n\njest.mock('@/lib/populate-helpers', () => ({\n  cleanExistingData: jest.fn(),\n}));\n\n/**\n * Basic presence tests for the reset-self API route\n */\ndescribe('reset-self API route', () => {\n  test('should export POST handler', async () => {\n    const mod = await import('../app/api/db/reset-self/route');\n    expect(typeof mod.POST).toBe('function');\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/__tests__/reset-self.ui.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/analytics/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/billing/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/components/AdminNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/data/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[276,279],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[276,279],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useEffect, useState } from 'react';\nimport { Icon } from '@/components/ui/Icon';\nimport { Database, Search, Download, Filter } from 'lucide-react';\nimport { logger } from '@/lib/logger';\n\ninterface SearchResult {\n  table: string;\n  id: string;\n  data: any;\n  created_at?: string;\n}\n\n/**\n * Data audit page component for admin dashboard.\n * Provides search and export functionality across all database tables.\n *\n * @component\n * @returns {JSX.Element} Data audit page with search and export capabilities\n */\nexport default function DataAuditPage() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedTable, setSelectedTable] = useState<string>('all');\n  const [results, setResults] = useState<SearchResult[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  const tables = [\n    { value: 'all', label: 'All Tables' },\n    { value: 'ingredients', label: 'Ingredients' },\n    { value: 'recipes', label: 'Recipes' },\n    { value: 'dishes', label: 'Dishes' },\n    { value: 'users', label: 'Users' },\n    { value: 'temperature_logs', label: 'Temperature Logs' },\n    { value: 'cleaning_tasks', label: 'Cleaning Tasks' },\n  ];\n\n  const handleSearch = async () => {\n    if (!searchQuery.trim()) {\n      setResults([]);\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const params = new URLSearchParams({\n        query: searchQuery,\n        ...(selectedTable !== 'all' && { table: selectedTable }),\n      });\n      const response = await fetch(`/api/admin/data/search?${params}`);\n      if (response.ok) {\n        const data = await response.json();\n        setResults(data.results || []);\n      }\n    } catch (error) {\n      logger.error('Failed to search data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleExport = async () => {\n    try {\n      const params = new URLSearchParams({\n        query: searchQuery,\n        ...(selectedTable !== 'all' && { table: selectedTable }),\n        format: 'csv',\n      });\n      const response = await fetch(`/api/admin/data/export?${params}`);\n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `data-export-${new Date().toISOString()}.csv`;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        window.URL.revokeObjectURL(url);\n      }\n    } catch (error) {\n      logger.error('Failed to export data:', error);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-3xl font-bold text-white\">Data Audit</h1>\n        <p className=\"mt-2 text-gray-400\">Search and export data across all tables</p>\n      </div>\n\n      {/* Search Controls */}\n      <div className=\"rounded-2xl border border-[#2a2a2a] bg-[#1f1f1f] p-6\">\n        <div className=\"mb-4 flex gap-4\">\n          <div className=\"relative flex-1\">\n            <Icon\n              icon={Search}\n              size=\"sm\"\n              className=\"absolute top-1/2 left-3 -translate-y-1/2 text-gray-400\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Search across all tables...\"\n              value={searchQuery}\n              onChange={e => setSearchQuery(e.target.value)}\n              onKeyDown={e => e.key === 'Enter' && handleSearch()}\n              className=\"w-full rounded-lg border border-[#2a2a2a] bg-[#0a0a0a] py-2 pr-4 pl-10 text-white placeholder-gray-500 focus:border-[#29E7CD] focus:outline-none\"\n            />\n          </div>\n          <select\n            value={selectedTable}\n            onChange={e => setSelectedTable(e.target.value)}\n            className=\"rounded-lg border border-[#2a2a2a] bg-[#0a0a0a] px-4 py-2 text-white focus:border-[#29E7CD] focus:outline-none\"\n          >\n            {tables.map(table => (\n              <option key={table.value} value={table.value}>\n                {table.label}\n              </option>\n            ))}\n          </select>\n          <button\n            onClick={handleSearch}\n            disabled={loading}\n            className=\"rounded-lg bg-[#29E7CD]/10 px-6 py-2 text-[#29E7CD] transition-colors hover:bg-[#29E7CD]/20 disabled:opacity-50\"\n          >\n            {loading ? 'Searching...' : 'Search'}\n          </button>\n          {results.length > 0 && (\n            <button\n              onClick={handleExport}\n              className=\"flex items-center gap-2 rounded-lg bg-[#D925C7]/10 px-6 py-2 text-[#D925C7] transition-colors hover:bg-[#D925C7]/20\"\n            >\n              <Icon icon={Download} size=\"sm\" />\n              Export\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Results */}\n      {results.length > 0 && (\n        <div className=\"rounded-2xl border border-[#2a2a2a] bg-[#1f1f1f] p-6\">\n          <h2 className=\"mb-4 text-xl font-bold text-white\">Results ({results.length})</h2>\n          <div className=\"space-y-4\">\n            {results.map((result, index) => (\n              <div\n                key={`${result.table}-${result.id}-${index}`}\n                className=\"rounded-lg border border-[#2a2a2a] bg-[#0a0a0a] p-4\"\n              >\n                <div className=\"mb-2 flex items-center justify-between\">\n                  <span className=\"text-sm font-semibold text-[#29E7CD]\">{result.table}</span>\n                  {result.created_at && (\n                    <span className=\"text-xs text-gray-400\">\n                      {new Date(result.created_at).toLocaleString()}\n                    </span>\n                  )}\n                </div>\n                <pre className=\"max-h-48 overflow-auto text-xs text-gray-300\">\n                  {JSON.stringify(result.data, null, 2)}\n                </pre>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {results.length === 0 && !loading && searchQuery && (\n        <div className=\"rounded-2xl border border-[#2a2a2a] bg-[#1f1f1f] p-12 text-center\">\n          <Icon icon={Database} size=\"xl\" className=\"mx-auto mb-4 text-gray-400\" />\n          <p className=\"text-gray-400\">No results found</p>\n        </div>\n      )}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/errors/components/ErrorDetailModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/errors/components/ErrorFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/errors/components/ErrorLogsTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/errors/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/errors/hooks/useErrorLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/errors/hooks/useErrorLogsFetch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/errors/hooks/useErrorLogsMutations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/errors/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/errors/types.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[190,193],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[190,193],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Error Logs Types\n */\n\nexport interface ErrorLog {\n  id: string;\n  user_id: string | null;\n  endpoint: string | null;\n  error_message: string;\n  stack_trace: string | null;\n  context: any;\n  created_at: string;\n  severity: 'safety' | 'critical' | 'high' | 'medium' | 'low';\n  status: 'new' | 'investigating' | 'resolved' | 'ignored';\n  category: 'security' | 'database' | 'api' | 'client' | 'system' | 'other';\n  notes: string | null;\n  resolved_at: string | null;\n  resolved_by: string | null;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/errors/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/components/AddFlagModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/components/FeatureFlagsTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/components/HiddenFeatureFlagsTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/components/SuggestedFlagsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/hooks/useFeatureFlags.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/hooks/useFeatureFlagsFetch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/hooks/useFeatureFlagsMutations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/hooks/useFlagAutoCreate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/hooks/useFlagDiscovery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/hooks/useHiddenFeatureFlags.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/hooks/useHiddenFeatureFlagsMutations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/features/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/support-tickets/components/TicketDetailModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/support-tickets/components/TicketFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/support-tickets/components/TicketsTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/support-tickets/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/support-tickets/hooks/useSupportTickets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/support-tickets/hooks/useSupportTicketsFetch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/support-tickets/hooks/useSupportTicketsLink.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/support-tickets/hooks/useSupportTicketsMutations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/support-tickets/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/support-tickets/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/support/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/system/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/tiers/components/FeatureMappingRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/tiers/components/FeaturesTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/tiers/components/TierCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/tiers/components/TiersTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/tiers/hooks/useCacheInvalidation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/tiers/hooks/useFeatures.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/tiers/hooks/useTiers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/tiers/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/tiers/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/users/[id]/data/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[474,477],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[474,477],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[494,497],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[494,497],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[513,516],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[513,516],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[541,544],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[541,544],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[567,570],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[567,570],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":116,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3549,3552],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3549,3552],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { Icon } from '@/components/ui/Icon';\nimport { ArrowLeft, Package, BookOpen, Utensils, Thermometer, Sparkles } from 'lucide-react';\nimport { logger } from '@/lib/logger';\n\ninterface UserData {\n  ingredients: number;\n  recipes: number;\n  dishes: number;\n  temperatureLogs: number;\n  cleaningTasks: number;\n  data: {\n    ingredients: any[];\n    recipes: any[];\n    dishes: any[];\n    temperatureLogs: any[];\n    cleaningTasks: any[];\n  };\n}\n\n/**\n * User data page component for admin dashboard.\n * Displays all data associated with a specific user (ingredients, recipes, dishes, etc.).\n *\n * @component\n * @returns {JSX.Element} User data admin page\n */\nexport default function UserDataPage() {\n  const params = useParams();\n  const userId = params.id as string;\n  const [userData, setUserData] = useState<UserData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<\n    'ingredients' | 'recipes' | 'dishes' | 'temperature' | 'cleaning'\n  >('ingredients');\n\n  useEffect(() => {\n    async function fetchUserData() {\n      setLoading(true);\n      try {\n        const response = await fetch(`/api/admin/users/${userId}/data`);\n        if (response.ok) {\n          const data = await response.json();\n          setUserData(data);\n        }\n      } catch (error) {\n        logger.error('Failed to fetch user data:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    if (userId) {\n      fetchUserData();\n    }\n  }, [userId]);\n\n  const tabs = [\n    {\n      id: 'ingredients' as const,\n      label: 'Ingredients',\n      icon: Package,\n      count: userData?.ingredients || 0,\n    },\n    { id: 'recipes' as const, label: 'Recipes', icon: BookOpen, count: userData?.recipes || 0 },\n    { id: 'dishes' as const, label: 'Dishes', icon: Utensils, count: userData?.dishes || 0 },\n    {\n      id: 'temperature' as const,\n      label: 'Temperature Logs',\n      icon: Thermometer,\n      count: userData?.temperatureLogs || 0,\n    },\n    {\n      id: 'cleaning' as const,\n      label: 'Cleaning Tasks',\n      icon: Sparkles,\n      count: userData?.cleaningTasks || 0,\n    },\n  ];\n\n  const renderDataTable = () => {\n    if (!userData) return null;\n\n    const dataKey =\n      activeTab === 'temperature'\n        ? 'temperatureLogs'\n        : activeTab === 'cleaning'\n          ? 'cleaningTasks'\n          : activeTab;\n    const data = userData.data[dataKey as keyof typeof userData.data];\n    if (!data || data.length === 0) {\n      return (\n        <div className=\"py-12 text-center text-gray-400\">No {activeTab} found for this user</div>\n      );\n    }\n\n    // Simple table rendering - can be enhanced based on data structure\n    return (\n      <div className=\"overflow-hidden rounded-2xl border border-[#2a2a2a] bg-[#1f1f1f]\">\n        <table className=\"min-w-full divide-y divide-[#2a2a2a]\">\n          <thead className=\"sticky top-0 z-10 bg-gradient-to-r from-[#2a2a2a]/50 to-[#2a2a2a]/20\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-300 uppercase\">\n                Name\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-300 uppercase\">\n                Created\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-[#2a2a2a] bg-[#1f1f1f]\">\n            {data.map((item: any, index: number) => (\n              <tr key={item.id || index} className=\"transition-colors hover:bg-[#2a2a2a]/20\">\n                <td className=\"px-6 py-4 text-sm text-white\">\n                  {item.name || item.ingredient_name || item.recipe_name || item.dish_name || 'N/A'}\n                </td>\n                <td className=\"px-6 py-4 text-sm text-gray-300\">\n                  {item.created_at ? new Date(item.created_at).toLocaleDateString() : '-'}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"animate-pulse\">\n          <div className=\"mb-4 h-8 w-64 rounded bg-[#2a2a2a]\"></div>\n          <div className=\"h-96 rounded-2xl border border-[#2a2a2a] bg-[#1f1f1f]\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center gap-4\">\n        <Link\n          href={`/admin/users/${userId}`}\n          className=\"text-gray-400 transition-colors hover:text-white\"\n        >\n          <Icon icon={ArrowLeft} size=\"md\" />\n        </Link>\n        <div>\n          <h1 className=\"text-3xl font-bold text-white\">User Data</h1>\n          <p className=\"mt-2 text-gray-400\">View all data associated with this user</p>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"border-b border-[#2a2a2a]\">\n        <nav className=\"-mb-px flex space-x-8\">\n          {tabs.map(tab => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`flex items-center gap-2 border-b-2 px-1 py-4 text-sm font-medium transition-colors ${\n                activeTab === tab.id\n                  ? 'border-[#29E7CD] text-[#29E7CD]'\n                  : 'border-transparent text-gray-400 hover:border-gray-300 hover:text-gray-300'\n              }`}\n            >\n              <Icon icon={tab.icon} size=\"sm\" />\n              <span>{tab.label}</span>\n              <span className=\"rounded-full bg-[#2a2a2a] px-2 py-0.5 text-xs\">{tab.count}</span>\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {/* Data Table */}\n      {renderDataTable()}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/users/[id]/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/admin/users/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/account/delete/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/account/export/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/analytics/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/billing/health/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/billing/overview/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/billing/sync-subscriptions/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/check/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/dashboard/stats/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/data/export/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/data/search/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/errors/[id]/helpers/fetchError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/errors/[id]/helpers/handleError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/errors/[id]/helpers/updateError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/errors/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/errors/client/helpers/buildErrorContext.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/errors/client/helpers/getUserId.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/errors/client/helpers/handleAutoReport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/errors/client/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/errors/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/features/[flag]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/features/auto-create/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/features/discover/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/features/enable-all/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/features/hidden/helpers/deleteHiddenFlag.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/features/hidden/helpers/fetchHiddenFlags.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/features/hidden/helpers/updateHiddenFlag.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/features/hidden/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/features/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/features/seed/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/security/breach-report/helpers/handleError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/security/breach-report/helpers/logBreach.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/security/breach-report/helpers/sendNotifications.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/security/breach-report/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/support-tickets/[id]/helpers/fetchTicket.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/support-tickets/[id]/helpers/handleError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/support-tickets/[id]/helpers/updateTicket.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/support-tickets/[id]/link-error/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/support-tickets/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/support-tickets/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/support/impersonate/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/support/reset-password/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/system/health/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/tiers/cache/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/tiers/features/helpers/bulkUpdate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/tiers/features/helpers/handleError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/tiers/features/helpers/updateMapping.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/tiers/features/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/tiers/helpers/createTier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/tiers/helpers/deleteTier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/tiers/helpers/fetchTiers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/tiers/helpers/updateTier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/tiers/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/users/[id]/data/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/users/[id]/helpers/deleteUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/users/[id]/helpers/fetchUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/users/[id]/helpers/handleError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/users/[id]/helpers/updateUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/users/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/admin/users/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai-specials/helpers/fetchAISpecialsHistory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai-specials/helpers/generateAISpecials.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai-specials/helpers/handleAISpecialsError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai-specials/helpers/handleGetRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai-specials/helpers/handlePostRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai-specials/helpers/processImageWithAI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai-specials/helpers/safeLogger.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":16,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":16,"endColumn":20,"suggestions":[{"fix":{"range":[519,566],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":23,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":23,"endColumn":19,"suggestions":[{"fix":{"range":[695,741],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":30,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":30,"endColumn":19,"suggestions":[{"fix":{"range":[870,916],"text":""},"messageId":"removeConsole","data":{"propertyName":"info"},"desc":"Remove the console.info()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":37,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":37,"endColumn":20,"suggestions":[{"fix":{"range":[1047,1094],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai-specials/helpers/saveAISpecials.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai-specials/helpers/validateRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai-specials/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai/chat/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai/menu-item-description/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai/performance-insights/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai/performance-tips/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai/prep-details/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ai/recipe-instructions/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/allergens/[code]/dishes/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/allergens/[code]/ingredients/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/allergens/[code]/recipes/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/allergens/re-aggregate-all/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/assign-dish-section/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/auth/[auth0]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/auth/error/error-messages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/auth/error/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/background/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/create/helpers/storeMetadata.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/create/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/cron/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/drive/download/[fileId]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/drive/list/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/google-auth/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/google-callback/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/list/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/restore/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/schedule/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/settings/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/backup/upload-to-drive/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/billing/cancel-subscription/helpers/cancelStripeSubscription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/billing/cancel-subscription/helpers/getCancellationMessage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/billing/cancel-subscription/helpers/getUserSubscription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/billing/cancel-subscription/helpers/scheduleDeletion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/billing/cancel-subscription/helpers/updateDatabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/billing/cancel-subscription/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/billing/create-checkout-session/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/billing/create-portal-session/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/billing/extend-subscription/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/billing/reactivate-subscription/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-areas/[id]/qr-code/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-areas/helpers/createCleaningArea.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-areas/helpers/createCleaningAreaHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-areas/helpers/deleteCleaningArea.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-areas/helpers/deleteCleaningAreaHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-areas/helpers/handleCleaningAreaError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-areas/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-areas/helpers/updateCleaningArea.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-areas/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/[id]/complete/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/[id]/uncomplete/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/buildCleaningTasksQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/buildUpdateData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/createCleaningTask.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/createCleaningTaskHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/deleteCleaningTask.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/deleteCleaningTaskHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/fetchPaginatedTasks.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1180,1183],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1180,1183],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1244,1247],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1244,1247],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper for fetching paginated cleaning tasks\n */\n\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\n\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Fetches paginated cleaning tasks\n *\n * @param {any} query - Pre-built Supabase query\n * @param {number} page - Page number (1-based)\n * @param {number} pageSize - Page size\n * @returns {Promise<{ data: any[]; total: number }>} Paginated tasks and total count\n */\nexport async function fetchPaginatedTasks(\n  query: unknown,\n  page: number,\n  pageSize: number,\n): Promise<{ data: unknown[]; total: number }> {\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  const from = (page - 1) * pageSize;\n  const to = from + pageSize - 1;\n\n  const { count, error: countError } = await supabaseAdmin\n    .from('cleaning_tasks')\n    .select('*', { count: 'exact', head: true });\n\n  if (countError && countError.code !== '42P01') {\n    logger.error('[Cleaning Tasks API] Database error fetching count:', {\n      error: countError.message,\n      code: countError.code,\n    });\n  }\n\n  query = (query as any).range(from, to);\n  const { data, error } = await (query as any);\n\n  if (error) {\n    const errorCode = error.code;\n\n    if (errorCode === '42P01') {\n      logger.dev('[Cleaning Tasks API] Table does not exist, returning empty array');\n      return { data: [], total: 0 };\n    }\n\n    logger.error('[Cleaning Tasks API] Database error fetching tasks:', {\n      error: error.message,\n      code: errorCode,\n      context: { endpoint: '/api/cleaning-tasks', operation: 'GET', table: 'cleaning_tasks' },\n    });\n\n    throw ApiErrorHandler.fromSupabaseError(error, 500);\n  }\n\n  return {\n    data: data || [],\n    total: count || 0,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/fetchTasksWithCompletions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[718,721],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[718,721],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1435,1438],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1435,1438],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":68,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2110,2113],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2110,2113],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":69,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2154,2157],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2154,2157],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":77,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2402,2405],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2402,2405],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper for fetching cleaning tasks with completions for a date range\n */\n\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\n\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Fetches cleaning tasks with completions for a date range\n *\n * @param {string} startDate - Start date (ISO date string)\n * @param {string} endDate - End date (ISO date string)\n * @param {any} query - Pre-built Supabase query\n * @returns {Promise<any[]>} Tasks with completions attached\n */\nexport async function fetchTasksWithCompletions(\n  startDate: string,\n  endDate: string,\n  query: unknown,\n): Promise<unknown[]> {\n  const { data: tasks, error: tasksError } = await (query as any);\n\n  if (tasksError) {\n    const errorCode = tasksError.code;\n\n    if (errorCode === '42P01') {\n      logger.dev('[Cleaning Tasks API] Table does not exist, returning empty array');\n      return [];\n    }\n\n    logger.error('[Cleaning Tasks API] Database error fetching tasks:', {\n      error: tasksError.message,\n      code: errorCode,\n      context: { endpoint: '/api/cleaning-tasks', operation: 'GET', table: 'cleaning_tasks' },\n    });\n\n    throw ApiErrorHandler.fromSupabaseError(tasksError, 500);\n  }\n\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  // Fetch completions for date range\n  const taskIds = (tasks || []).map((t: any) => t.id);\n  let completionsQuery = supabaseAdmin\n    .from('cleaning_task_completions')\n    .select('*')\n    .gte('completion_date', startDate)\n    .lte('completion_date', endDate);\n\n  if (taskIds.length > 0) {\n    completionsQuery = completionsQuery.in('task_id', taskIds);\n  }\n\n  const { data: completions, error: completionsError } = await completionsQuery;\n\n  if (completionsError && completionsError.code !== '42P01') {\n    logger.error('[Cleaning Tasks API] Database error fetching completions:', {\n      error: completionsError.message,\n      code: completionsError.code,\n    });\n  }\n\n  // Group completions by task_id\n  const completionsByTask = new Map<string, any[]>();\n  (completions || []).forEach((c: any) => {\n    if (!completionsByTask.has(c.task_id)) {\n      completionsByTask.set(c.task_id, []);\n    }\n    completionsByTask.get(c.task_id)!.push(c);\n  });\n\n  // Attach completions to tasks\n  const tasksWithCompletions = (tasks || []).map((task: any) => ({\n    ...task,\n    completions: completionsByTask.get(task.id) || [],\n  }));\n\n  return tasksWithCompletions;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/handleCleaningTaskError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/handleGetRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/parseCreateTaskBody.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/updateCleaningTask.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/updateCleaningTaskHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/helpers/validateCleaningTaskRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/populate-standard/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleaning-tasks/standard-templates/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cleanup-test-data/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance-records/[id]/qr-code/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance-records/helpers/calculateComplianceStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance-records/helpers/createComplianceRecord.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance-records/helpers/createComplianceRecordHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance-records/helpers/deleteComplianceRecord.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance-records/helpers/deleteComplianceRecordHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance-records/helpers/handleComplianceError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance-records/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance-records/helpers/updateComplianceRecord.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance-records/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance-types/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/allergens/export/helpers/aggregateDishAllergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/allergens/export/helpers/aggregateRecipeAllergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/allergens/export/helpers/fetchAllergenExportData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/allergens/export/helpers/fetchMenuItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/allergens/export/helpers/generateCSVExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/allergens/export/helpers/generateHTMLExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/allergens/export/helpers/htmlExportStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/allergens/export/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/allergens/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/fetchBusinessInfo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/fetchCleaningRecords.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/fetchComplianceRecords.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/fetchComplianceSections.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/fetchEmployees.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/fetchHygieneSections.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/fetchOperationsSections.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/fetchReportSections.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/fetchSafetySections.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/fetchTemperatureData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/generateComplianceGaps.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/helpers/generateExecutiveSummary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/health-inspector-report/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/validate/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/validate/helpers/validateCompliance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/compliance/validate/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/cron/data-retention/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/curbos/auth/exchange-token/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/curbos/check-access/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/curbos/public-token/curbos/helpers/auth-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/curbos/public-token/curbos/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/curbos/public-token/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/curbos/public/validate/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/curbos/setup-public-tokens/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/customers/upload-photo/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/menu-summary/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/performance-summary/helpers/fetchPerformanceDishes.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[359,362],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[359,362],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper for fetching dishes for performance analysis\n */\n\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\n\nexport interface PerformanceDish {\n  id: string;\n  name: string;\n  selling_price: number;\n  profit_margin: number | null | undefined;\n  sales_data: any[] | null | undefined;\n}\n\n/**\n * Fetches dishes for performance analysis with optional menu filtering\n *\n * @param {string | null} targetMenuId - Optional menu ID to filter by\n * @returns {Promise<{ dishes: any[] | null; isEmpty: boolean }>} Dishes data and empty flag\n */\nexport async function fetchPerformanceDishes(targetMenuId: string | null): Promise<{\n  dishes: PerformanceDish[] | null;\n  isEmpty: boolean;\n}> {\n  if (!supabaseAdmin) {\n    logger.error('[Performance Summary API] Database connection not available');\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  // Build base query\n  let dishesQuery = supabaseAdmin.from('menu_dishes').select(\n    `\n      id,\n      name,\n      selling_price,\n      profit_margin,\n      sales_data (\n        id,\n        number_sold,\n        popularity_percentage,\n        date\n      )\n    `,\n  );\n\n  // Filter by menu if menuId is provided\n  if (targetMenuId) {\n    // Get dish IDs from menu_items for this menu\n    const { data: menuItems, error: menuItemsError } = await supabaseAdmin\n      .from('menu_items')\n      .select('dish_id')\n      .eq('menu_id', targetMenuId)\n      .not('dish_id', 'is', null);\n\n    if (menuItemsError) {\n      logger.error('[Performance Summary API] Error fetching menu items:', menuItemsError);\n      // Continue without filtering if there's an error\n    } else if (menuItems && menuItems.length > 0) {\n      const dishIds = menuItems.map(item => item.dish_id).filter(Boolean) as string[];\n      dishesQuery = dishesQuery.in('id', dishIds);\n      logger.dev('[Performance Summary API] Filtering dishes by menu:', {\n        menuId: targetMenuId,\n        dishCount: dishIds.length,\n      });\n    } else {\n      // No dishes in this menu, return empty result\n      logger.dev('[Performance Summary API] No dishes found in menu:', { menuId: targetMenuId });\n      return { dishes: null, isEmpty: true };\n    }\n  }\n\n  const { data: dishes, error: dishesError } = await dishesQuery.order('created_at', {\n    ascending: false,\n  });\n\n  if (dishesError) {\n    logger.error('[Performance Summary API] Error fetching dishes:', {\n      error: dishesError.message,\n      code: dishesError.code,\n    });\n    throw ApiErrorHandler.fromSupabaseError(dishesError, 500);\n  }\n\n  return { dishes: (dishes as unknown as PerformanceDish[]) || [], isEmpty: false };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/performance-summary/helpers/findTargetMenuId.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/performance-summary/helpers/generatePerformanceSummary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/performance-summary/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/recipe-readiness/helpers/calculateRecipeReadiness.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/recipe-readiness/helpers/checkTableExists.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/recipe-readiness/helpers/fetchRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/recipe-readiness/helpers/handleRecipeReadinessError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/recipe-readiness/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/stats/helpers/checkQueryErrors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/stats/helpers/fetchWithTimeout.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dashboard/stats/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-costs/helpers/auditDish.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-costs/helpers/calculateAPICost.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-costs/helpers/calculateSummary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-costs/helpers/calculateUICost.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-costs/helpers/fetchDishData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-costs/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-costs/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-prices/helpers/auditDish.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-prices/helpers/auditRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-prices/helpers/calculateSummary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-prices/helpers/fetchDishes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-prices/helpers/fetchRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-prices/helpers/validateAdmin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-prices/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/audit-prices/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/diagnose-dishes/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/integrity/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/populate-empty-dishes/helpers/auth-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/populate-empty-dishes/helpers/populateDishes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/populate-empty-dishes/helpers/populateRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/populate-empty-dishes/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/populate-empty-dishes/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/reset-self/helpers/deleteByUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/reset-self/helpers/getUserTableIds.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/reset-self/helpers/handleGlobalWipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/reset-self/helpers/isMissingTableError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/reset-self/helpers/performDeleteIn.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/reset-self/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/db/reset/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/debug/auth-test/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/debug/auth/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/debug/nextauth-validation/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/debug/token/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/debug/user-data/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dedupe/execute/helpers/buildUsageMap.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[550,553],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[550,553],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Build usage map from recipe_ingredients rows\n *\n * @param {Array<{ingredient_id?: string; recipe_id?: string}>} rows - Recipe ingredient rows\n * @param {string} idField - Field name ('ingredient_id' or 'recipe_id')\n * @returns {Record<string, number>} Usage count by ID\n */\nexport function buildUsageMap(\n  rows: Array<{ ingredient_id?: string; recipe_id?: string }>,\n  idField: 'ingredient_id' | 'recipe_id',\n): Record<string, number> {\n  const usageMap: Record<string, number> = {};\n  rows.forEach(r => {\n    const row = r as Record<string, any>;\n    const id = row[idField];\n    if (!id) return;\n    usageMap[id] = (usageMap[id] || 0) + 1;\n  });\n  return usageMap;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dedupe/execute/helpers/processIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dedupe/execute/helpers/processRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dedupe/execute/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dedupe/preview/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/detect-country/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/allergen-sources/helpers/processIngredientAllergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/allergen-sources/helpers/processRecipeAllergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/allergen-sources/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/cost/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/generate-image/helpers/aggregateIngredients.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":140,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":140,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4417,4420],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4417,4420],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Aggregate ingredients from dish and recipes\n * Combines direct dish ingredients with recipe ingredients\n */\n\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { DishIngredient, DishRecipe } from '@/types/dish';\n\nimport { fetchDishIngredients } from '../../helpers/fetchDishIngredients';\nimport { fetchDishRecipes } from '../../helpers/fetchDishRecipes';\n\ninterface RawAggregatedIngredient {\n  ingredient_name?: string;\n  name?: string;\n}\n\n/**\n * Aggregate all ingredient names from dish and recipes\n *\n * @param {string} dishId - Dish ID\n * @returns {Promise<{ingredientNames: string[], recipeInstructions: string[]}>} Aggregated ingredient names and recipe instructions\n */\nexport async function aggregateDishIngredients(dishId: string): Promise<{\n  ingredientNames: string[];\n  recipeInstructions: string[];\n}> {\n  // Fetch dish ingredients using helper function\n  let dishIngredients: DishIngredient[] = [];\n\n  try {\n    dishIngredients = await fetchDishIngredients(dishId);\n    logger.dev('[Dish Image Generation] Fetched dish ingredients:', {\n      dishId,\n      count: dishIngredients.length,\n      ingredients: dishIngredients.map(di => ({\n        ingredientName: di.ingredient?.ingredient_name,\n\n        quantity: di.quantity,\n        unit: di.unit,\n      })),\n    });\n  } catch (error) {\n    logger.error('[Dish Image Generation] Failed to fetch dish ingredients:', {\n      error: error instanceof Error ? error.message : String(error),\n      dishId,\n    });\n  }\n\n  // Fetch dish recipes using helper function\n  let dishRecipes: DishRecipe[] = [];\n\n  let recipeInstructions: string[] = [];\n  try {\n    dishRecipes = await fetchDishRecipes(dishId);\n    logger.dev('[Dish Image Generation] Fetched dish recipes:', {\n      dishId,\n      count: dishRecipes.length,\n      recipeIds: dishRecipes.map(dr => dr.recipe_id),\n    });\n\n    // Collect instructions from all recipes\n    dishRecipes.forEach(dr => {\n      const recipe = dr.recipe;\n\n      if (recipe?.instructions && recipe.instructions.trim().length > 0) {\n        recipeInstructions.push(recipe.instructions.trim());\n      }\n    });\n\n    logger.dev('[Dish Image Generation] Collected recipe instructions:', {\n      dishId,\n      instructionCount: recipeInstructions.length,\n      hasInstructions: recipeInstructions.length > 0,\n    });\n  } catch (error) {\n    logger.error('[Dish Image Generation] Failed to fetch dish recipes:', {\n      error: error instanceof Error ? error.message : String(error),\n      dishId,\n    });\n  }\n\n  // Fetch recipe ingredients for each recipe\n  const recipeIngredientNamesSet = new Set<string>();\n  for (const dishRecipe of dishRecipes) {\n    const recipeId = dishRecipe.recipe_id || dishRecipe.id;\n    if (!recipeId) continue;\n\n    try {\n      if (!supabaseAdmin) {\n        logger.error('[Dish Image Generation] Supabase admin not available');\n        continue;\n      }\n      const { data: recipeIngredients, error: recipeIngredientsError } = await supabaseAdmin\n        .from('recipe_ingredients')\n        .select(\n          `\n            ingredients (\n              ingredient_name\n            )\n          `,\n        )\n        .eq('recipe_id', recipeId);\n\n      if (recipeIngredientsError) {\n        logger.error('[Dish Image Generation] Failed to fetch recipe ingredients:', {\n          error: recipeIngredientsError.message,\n          recipeId,\n          dishId,\n        });\n        continue;\n      }\n\n      if (recipeIngredients && Array.isArray(recipeIngredients)) {\n        recipeIngredients.forEach(ri => {\n          const ingredient = ri.ingredients;\n          if (ingredient && typeof ingredient === 'object' && ingredient !== null) {\n            const rawIng = ingredient as unknown as RawAggregatedIngredient;\n            const name = rawIng.ingredient_name || rawIng.name;\n            if (name && typeof name === 'string') {\n              recipeIngredientNamesSet.add(name);\n            }\n          }\n        });\n      }\n    } catch (error) {\n      logger.error('[Dish Image Generation] Error fetching recipe ingredients:', {\n        error: error instanceof Error ? error.message : String(error),\n        recipeId,\n        dishId,\n      });\n    }\n  }\n\n  // Aggregate all ingredient names\n  const ingredientNamesSet = new Set<string>();\n\n  // Add direct dish ingredients\n  dishIngredients.forEach(di => {\n    const ingredient = di.ingredient as Record<string, any> | undefined;\n    if (ingredient) {\n      const name = ingredient.ingredient_name || ingredient.name;\n\n      if (name && typeof name === 'string') {\n        ingredientNamesSet.add(name);\n      }\n    }\n  });\n\n  // Add ingredients from recipes\n  recipeIngredientNamesSet.forEach(name => {\n    ingredientNamesSet.add(name);\n  });\n\n  const ingredientNames = Array.from(ingredientNamesSet);\n\n  logger.dev('[Dish Image Generation] Aggregated ingredient names:', {\n    dishId,\n    directIngredientsCount: dishIngredients.length,\n    recipesCount: dishRecipes.length,\n    recipeIngredientsCount: recipeIngredientNamesSet.size,\n    totalUniqueIngredients: ingredientNames.length,\n    ingredientNames,\n  });\n\n  return {\n    ingredientNames,\n    recipeInstructions,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/generate-image/helpers/fetchDish.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/generate-image/helpers/formatResponse.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/generate-image/helpers/generateImages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/generate-image/helpers/parsePlatingMethods.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/generate-image/helpers/rateLimit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/generate-image/helpers/uploadAndSaveImages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/generate-image/helpers/validateRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/generate-image/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/buildDishUpdateData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/detectDishChanges.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/enrichDishWithAllergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/fetchDishIngredients.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":131,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":131,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4547,4550],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4547,4550],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":173,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":173,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5723,5726],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5723,5726],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":177,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":177,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5880,5883],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5880,5883],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":197,"column":79,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":197,"endColumn":82,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6691,6694],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6691,6694],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport type { PostgrestError } from '@supabase/supabase-js';\nimport { DishRelationIngredient } from '../../helpers/schemas';\n\n// Define types for raw database rows\ninterface RawDishIngredientRow {\n  id: string;\n  dish_id: string;\n  ingredient_id: string | null;\n  quantity: number;\n  unit: string;\n}\n\ninterface RawIngredientRow {\n  id: string;\n  ingredient_name: string;\n  cost_per_unit: number;\n  cost_per_unit_incl_trim: number | null;\n  trim_peel_waste_percentage: number | null;\n  yield_percentage: number | null;\n  unit: string;\n  supplier: string | null;\n  supplier_name?: string; // Sometimes aliased or joined\n  category: string | null;\n  brand: string | null;\n  allergens: string[] | null;\n  allergen_source: Record<string, unknown> | null;\n}\n\n/** Fetches ingredients for a dish with fallback logic */\nexport async function fetchDishIngredients(dishId: string): Promise<DishRelationIngredient[]> {\n  if (!supabaseAdmin) {\n    logger.error('[Dishes API] Database connection not available for fetchDishIngredients');\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  // First, try to fetch with join to ingredients table\n  let { data: dishIngredients, error: ingredientsError } = await supabaseAdmin\n    .from('dish_ingredients')\n    .select(\n      `\n      id,\n      dish_id,\n      ingredient_id,\n      quantity,\n      unit,\n      ingredients (\n        id,\n        ingredient_name,\n        cost_per_unit,\n        cost_per_unit_incl_trim,\n        trim_peel_waste_percentage,\n        yield_percentage,\n        unit,\n        supplier,\n        category,\n        brand,\n        allergens,\n        allergen_source\n      )\n    `,\n    )\n    .eq('dish_id', dishId);\n\n  // If join fails or returns empty but we know rows exist, fetch without join and manually join\n  const pgError = ingredientsError as PostgrestError | null;\n  if (\n    (!dishIngredients || dishIngredients.length === 0) &&\n    (!pgError || pgError.code !== '42703')\n  ) {\n    logger.dev('[Dishes API] Join returned empty, fetching dish_ingredients without join', {\n      dishId,\n    });\n\n    const { data: rawDishIngredients, error: rawError } = await supabaseAdmin\n      .from('dish_ingredients')\n      .select('id, ingredient_id, quantity, unit')\n      .eq('dish_id', dishId);\n\n    if (rawError) {\n      const rawPgError = rawError as PostgrestError;\n      logger.warn('[Dishes API] Error fetching raw dish_ingredients:', {\n        error: rawPgError.message,\n        code: rawPgError.code,\n      });\n    } else if (rawDishIngredients && rawDishIngredients.length > 0) {\n      // Manually fetch ingredients and join\n      const ingredientIds = rawDishIngredients\n        .map(di => di.ingredient_id)\n        .filter((id): id is string => Boolean(id));\n      if (ingredientIds.length > 0) {\n        const { data: ingredientsData, error: ingFetchError } = await supabaseAdmin\n          .from('ingredients')\n          .select(\n            'id, ingredient_name, cost_per_unit, cost_per_unit_incl_trim, trim_peel_waste_percentage, yield_percentage, unit, supplier, category, brand, allergens, allergen_source',\n          )\n          .in('id', ingredientIds);\n\n        if (ingFetchError) {\n          logger.warn('[Dishes API] Error fetching ingredients for manual join:', {\n            error: ingFetchError.message,\n          });\n        } else if (ingredientsData) {\n          // Create a map for quick lookup\n          const ingredientsMap = new Map<string, RawIngredientRow>(\n            (ingredientsData as RawIngredientRow[]).map(ing => [ing.id, ing]),\n          );\n\n          // Manually join the data\n          dishIngredients = rawDishIngredients.map(di => {\n            const ingredient = di.ingredient_id ? ingredientsMap.get(di.ingredient_id) : undefined;\n            return {\n              ...di,\n              ingredients: ingredient\n                ? [\n                    {\n                      ...ingredient,\n                      supplier_name: ingredient.supplier || ingredient.supplier_name,\n                    },\n                  ]\n                : [],\n            };\n          }) as unknown as typeof dishIngredients;\n\n          logger.dev('[Dishes API] Manually joined dish ingredients', {\n            dishId,\n            count: dishIngredients?.length || 0,\n            joinedCount: Array.isArray(dishIngredients)\n              ? dishIngredients.filter((di: any) => di.ingredients !== null).length\n              : 0,\n          });\n        }\n      }\n    }\n  }\n\n  // If category column doesn't exist, retry without it\n  const retryError = ingredientsError as PostgrestError | null;\n  if (retryError && retryError.code === '42703' && retryError.message?.includes('category')) {\n    logger.warn('[Dishes API] Category column not found, retrying without category', {\n      context: { endpoint: '/api/dishes/[id]', operation: 'GET', dishId },\n    });\n\n    const retryResult = await supabaseAdmin\n      .from('dish_ingredients')\n      .select(\n        `\n        id,\n        dish_id,\n        ingredient_id,\n        quantity,\n        unit,\n        ingredients (\n          id,\n          ingredient_name,\n          cost_per_unit,\n          cost_per_unit_incl_trim,\n          trim_peel_waste_percentage,\n          yield_percentage,\n          unit,\n          supplier,\n          brand,\n          allergens,\n          allergen_source\n        )\n      `,\n      )\n      .eq('dish_id', dishId);\n\n    // Normalize the retry result to include category as null/undefined for type compatibility\n    const retryData = (retryResult.data || []) as unknown as any[];\n    dishIngredients = retryData.map(item => ({\n      ...item,\n      ingredients: Array.isArray(item.ingredients)\n        ? item.ingredients.map((ing: any) => ({ ...ing, category: null }))\n        : item.ingredients\n          ? { ...item.ingredients, category: null }\n          : null,\n    })) as unknown as typeof dishIngredients;\n    ingredientsError = retryResult.error;\n  }\n\n  // Log error if still present (but don't fail the whole request)\n\n  if (ingredientsError) {\n    logger.warn('[Dishes API] Error fetching dish ingredients (non-fatal):', {\n      error: ingredientsError.message,\n      code: ingredientsError.code,\n      context: { endpoint: '/api/dishes/[id]', operation: 'GET', dishId },\n    });\n  }\n\n  // Filter out dish_ingredients entries where the ingredients relation is null (deleted ingredients)\n  // Also map 'supplier' to 'supplier_name' to match frontend types\n  const rawIngredients = (dishIngredients || []) as unknown as Record<string, any>[];\n\n  const validDishIngredients = rawIngredients\n    .filter(di => di.ingredients !== null && di.ingredients !== undefined)\n    .map(di => {\n      const ing = Array.isArray(di.ingredients) ? di.ingredients[0] : di.ingredients;\n\n      if (!ing) return null;\n\n      return {\n        id: di.id,\n        dish_id: di.dish_id,\n        ingredient_id: di.ingredient_id,\n        quantity: di.quantity,\n        unit: di.unit,\n        ingredients: {\n          ...ing,\n          supplier_name: ing.supplier || ing.supplier_name || 'Unknown',\n        },\n      } as DishRelationIngredient;\n    })\n    .filter((di): di is DishRelationIngredient => di !== null);\n\n  return validDishIngredients;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/fetchDishRecipes.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":66,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2337,2340],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2337,2340],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { DishRecipe } from '@/types/dish';\nimport { RecipeRecord } from '../../types';\n\n/**\n * Fetches recipes for a dish\n *\n * @param {string} dishId - Dish ID\n * @returns {Promise<DishRecipe[]>} Valid dish recipes\n */\nexport async function fetchDishRecipes(dishId: string): Promise<DishRecipe[]> {\n  if (!supabaseAdmin) {\n    logger.error('[Dishes API] Database connection not available for fetchDishRecipes');\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  logger.dev('[fetchDishRecipes] Starting fetch for dishId:', { dishId });\n  logger.dev('[fetchDishRecipes] Using supabaseAdmin:', { available: !!supabaseAdmin });\n\n  // Fetch dish_recipes separately to avoid nested relation issues (same approach as audit endpoint)\n\n  const { data: dishRecipesData, error: dishRecipesError } = await supabaseAdmin\n    .from('dish_recipes')\n    .select('recipe_id, quantity')\n    .eq('dish_id', dishId);\n\n  // Log error if present (but don't fail the whole request)\n\n  if (dishRecipesError) {\n    logger.warn('[Dishes API] Error fetching dish recipes (non-fatal):', {\n      error: dishRecipesError.message,\n      code: dishRecipesError.code,\n      context: { endpoint: '/api/dishes/[id]', operation: 'GET', dishId },\n    });\n    return [];\n  }\n\n  if (!dishRecipesData || dishRecipesData.length === 0) {\n    return [];\n  }\n\n  // Fetch recipe details separately\n  const recipeIds = dishRecipesData.map(dr => dr.recipe_id).filter(Boolean);\n  if (recipeIds.length === 0) {\n    return [];\n  }\n\n  // Fetch recipe details - use both 'name' and 'recipe_name' column (database uses 'name', not 'recipe_name')\n\n  const { data: recipesData, error: recipesError } = await supabaseAdmin\n    .from('recipes')\n    .select('id, name, recipe_name, description, yield, yield_unit, instructions')\n    .in('id', recipeIds);\n\n  if (recipesError) {\n    logger.warn('[Dishes API] Error fetching recipe details (non-fatal):', {\n      error: recipesError.message,\n      code: recipesError.code,\n      context: { endpoint: '/api/dishes/[id]', operation: 'GET', dishId },\n    });\n  }\n\n  // Create a map of recipe_id -> recipe data\n  const recipesMap = new Map<string, any>(\n    (recipesData || []).map(r => {\n      const recipeRecord = r as unknown as RecipeRecord;\n      return [\n        r.id,\n        {\n          id: r.id,\n          name: recipeRecord.name || '',\n          recipe_name: recipeRecord.recipe_name || '',\n          description: r.description,\n          yield: r.yield,\n          yield_unit: r.yield_unit,\n          instructions: r.instructions,\n        },\n      ];\n    }),\n  );\n\n  // Combine dish_recipes with recipe data\n  const validDishRecipes = dishRecipesData\n    .filter(dr => {\n      const hasRecipe = recipesMap.has(dr.recipe_id);\n      if (!hasRecipe && dr.recipe_id) {\n        logger.warn('[Dishes API] dish_recipes entry references non-existent recipe:', {\n          dishId,\n          recipeId: dr.recipe_id,\n        });\n      }\n      return hasRecipe;\n    })\n    .map((dr, index) => {\n      const recipeData = recipesMap.get(dr.recipe_id);\n      return {\n        id: `temp-${index}`,\n        dish_id: dishId,\n        recipe_id: dr.recipe_id,\n        quantity: typeof dr.quantity === 'string' ? parseFloat(dr.quantity) : dr.quantity,\n        recipes: recipeData,\n      };\n    });\n\n  return validDishRecipes as unknown as DishRecipe[];\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/fetchDishWithRelations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/getUserEmail.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/handleDishError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/handlePutRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/invalidateDishCaches.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/updateDishIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/updateDishRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/helpers/updateDishRelations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/revalidate-dietary/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/bulk-delete/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/cost/batch/helpers/calculateDishCost.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":96,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":96,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2897,2900],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2897,2900],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper to calculate cost for a single dish.\n */\n\nimport { calculateRecommendedPrice } from '@/app/api/dishes/helpers/calculateRecommendedPrice';\nimport { calculateRecipeCost } from '@/app/api/menus/[id]/statistics/helpers/calculateRecipeCost';\nimport { logger } from '@/lib/logger';\nimport { DishIngredientRecord, DishRecipeRecord } from '../../../types';\n\nexport interface BatchCostResult {\n  total_cost: number;\n  selling_price: number;\n  gross_profit: number;\n  gross_profit_margin: number;\n  food_cost_percent: number;\n  contributingMargin: number;\n  contributingMarginPercent: number;\n  recommendedPrice: number;\n}\n\n/**\n * Calculate cost and recommended price for a single dish.\n */\n// Basic interfaces for batch calculation\nexport interface BatchDishInput {\n  selling_price: string | number | null;\n}\n\nexport interface BatchDishRecipeInput {\n  recipe_id: string;\n  quantity: string | number | null;\n}\n\nexport interface BatchIngredient {\n  cost_per_unit_incl_trim?: number;\n  cost_per_unit?: number;\n  category?: string;\n  trim_peel_waste_percentage?: number;\n  yield_percentage?: number;\n}\n\nexport interface BatchDishIngredientInput {\n  ingredients: BatchIngredient | null;\n  quantity: string | number | null;\n}\n\nexport interface DishCostResult {\n  total_cost: number;\n  selling_price: number;\n  gross_profit: number;\n  gross_profit_margin: number;\n  food_cost_percent: number;\n  contributingMargin: number;\n  contributingMarginPercent: number;\n  recommendedPrice: number | null; // calculateRecommendedPrice can return null based on its impl, assuming number | null here\n}\n\n/**\n * Calculate cost and recommended price for a single dish.\n */\nexport async function calculateDishCost(\n  dishId: string,\n  dish: { selling_price: number | string | null } | null,\n  dishRecipes: DishRecipeRecord[],\n  dishIngredients: DishIngredientRecord[],\n): Promise<{ dishId: string; cost: BatchCostResult } | { dishId: string; cost: null }> {\n  if (!dish) {\n    logger.warn(`[Dishes API] Dish ${dishId} not found in batch`);\n    return { dishId, cost: null };\n  }\n\n  let totalCost = 0;\n\n  // Calculate cost from recipes\n  for (const dishRecipe of dishRecipes) {\n    try {\n      const recipeQuantity =\n        typeof dishRecipe.quantity === 'string'\n          ? parseFloat(dishRecipe.quantity)\n          : dishRecipe.quantity || 1;\n\n      const recipeCost = await calculateRecipeCost(dishRecipe.recipe_id, recipeQuantity);\n      totalCost += recipeCost;\n    } catch (err) {\n      logger.error('[Dishes API] Error calculating recipe cost in batch:', {\n        dishId,\n        recipeId: dishRecipe.recipe_id,\n        error: err instanceof Error ? err.message : String(err),\n      });\n      // Continue with other recipes instead of failing completely\n    }\n  }\n\n  // Calculate cost from standalone ingredients\n  for (const di of dishIngredients) {\n    const ingredient = di.ingredients as Record<string, any> | undefined;\n    if (ingredient) {\n      const costPerUnit =\n        (ingredient.cost_per_unit_incl_trim as number) || (ingredient.cost_per_unit as number) || 0;\n      const quantity = typeof di.quantity === 'string' ? parseFloat(di.quantity) : di.quantity || 0;\n\n      const isConsumable = ingredient.category === 'Consumables';\n\n      // For consumables: simple calculation (no waste/yield)\n      if (isConsumable) {\n        totalCost += quantity * costPerUnit;\n        continue;\n      }\n\n      // For regular ingredients: apply waste/yield adjustments\n      const wastePercent = ingredient.trim_peel_waste_percentage || 0;\n      const yieldPercent = ingredient.yield_percentage || 100;\n\n      let adjustedCost = quantity * costPerUnit;\n      if (!ingredient.cost_per_unit_incl_trim && wastePercent > 0) {\n        adjustedCost = adjustedCost / (1 - wastePercent / 100);\n      }\n      adjustedCost = adjustedCost / (yieldPercent / 100);\n\n      totalCost += adjustedCost;\n    }\n  }\n\n  const sellingPrice = (dish.selling_price as number) || 0;\n\n  const grossProfit = sellingPrice - totalCost;\n  const grossProfitMargin = sellingPrice > 0 ? (grossProfit / sellingPrice) * 100 : 0;\n  const foodCostPercent = sellingPrice > 0 ? (totalCost / sellingPrice) * 100 : 0;\n\n  // Calculate contributing margin (Revenue excl GST - Food Cost)\n  const gstRate = 0.1; // 10% GST for Australia\n  const sellingPriceExclGST = sellingPrice / (1 + gstRate);\n  const contributingMargin = sellingPriceExclGST - totalCost;\n  const contributingMarginPercent =\n    sellingPriceExclGST > 0 ? (contributingMargin / sellingPriceExclGST) * 100 : 0;\n\n  // Calculate recommended price using same formula as recipes\n  const recommendedPrice = calculateRecommendedPrice(totalCost);\n\n  return {\n    dishId,\n    cost: {\n      total_cost: totalCost,\n      selling_price: sellingPrice,\n      gross_profit: grossProfit,\n      gross_profit_margin: grossProfitMargin,\n      food_cost_percent: foodCostPercent,\n      contributingMargin: contributingMargin,\n      contributingMarginPercent: contributingMarginPercent,\n      recommendedPrice: recommendedPrice,\n    },\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/cost/batch/helpers/fetchDishIngredients.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1151,1154],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1151,1154],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper to fetch and group dish_ingredients for batch cost calculation.\n */\n\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { DishIngredientRecord } from '../../../types';\n\n/**\n * Fetch dish_ingredients and group by dish_id.\n */\nexport async function fetchDishIngredients(\n  dishIds: string[],\n): Promise<Map<string, DishIngredientRecord[]>> {\n  if (!supabaseAdmin) {\n    return new Map();\n  }\n\n  const { data: allDishIngredients, error: dishIngredientsError } = await supabaseAdmin\n    .from('dish_ingredients')\n    .select(\n      `\n      dish_id,\n      quantity,\n      unit,\n      ingredients (\n        cost_per_unit,\n        cost_per_unit_incl_trim,\n        trim_peel_waste_percentage,\n        yield_percentage,\n        category\n      )\n    `,\n    )\n    .in('dish_id', dishIds);\n\n  if (dishIngredientsError) {\n    logger.error('[Dishes API] Error fetching dish ingredients for batch:', {\n      error: dishIngredientsError,\n    });\n    return new Map();\n  }\n\n  // Group dish_ingredients by dish_id\n  const dishIngredientsMap = new Map<string, DishIngredientRecord[]>();\n  ((allDishIngredients as any[]) || []).forEach(di => {\n    if (!dishIngredientsMap.has(di.dish_id)) {\n      dishIngredientsMap.set(di.dish_id, []);\n    }\n    dishIngredientsMap.get(di.dish_id)!.push(di as DishIngredientRecord);\n  });\n\n  return dishIngredientsMap;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/cost/batch/helpers/fetchDishRecipes.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[982,985],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[982,985],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper to fetch and group dish_recipes for batch cost calculation.\n */\n\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { DishRecipeRecord } from '../../../types';\n\n/**\n * Fetch dish_recipes and group by dish_id.\n */\nexport async function fetchDishRecipes(\n  dishIds: string[],\n): Promise<Map<string, DishRecipeRecord[]>> {\n  if (!supabaseAdmin) {\n    return new Map();\n  }\n\n  const { data: allDishRecipes, error: dishRecipesError } = await supabaseAdmin\n    .from('dish_recipes')\n    .select(\n      `\n      dish_id,\n      recipe_id,\n      quantity,\n      recipes (\n        id,\n        name\n      )\n    `,\n    )\n    .in('dish_id', dishIds);\n\n  if (dishRecipesError) {\n    logger.error('[Dishes API] Error fetching dish recipes for batch:', {\n      error: dishRecipesError,\n    });\n    return new Map();\n  }\n\n  // Group dish_recipes by dish_id\n  const dishRecipesMap = new Map<string, DishRecipeRecord[]>();\n  ((allDishRecipes as any[]) || []).forEach(dr => {\n    if (!dishRecipesMap.has(dr.dish_id)) {\n      dishRecipesMap.set(dr.dish_id, []);\n    }\n    dishRecipesMap.get(dr.dish_id)!.push(dr as DishRecipeRecord);\n  });\n\n  return dishRecipesMap;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/cost/batch/helpers/fetchDishes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/cost/batch/helpers/validateRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/cost/batch/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/helpers/calculateRecommendedPrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/helpers/createDishWithRelations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/helpers/handleDishListError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/dishes/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/[id]/qr-code/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/[id]/qualifications/[qual_id]/helpers/deleteQualification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/[id]/qualifications/[qual_id]/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/[id]/qualifications/[qual_id]/helpers/updateQualification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/[id]/qualifications/[qual_id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/[id]/qualifications/helpers/createQualification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/[id]/qualifications/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/[id]/qualifications/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/helpers/createEmployee.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/helpers/deleteEmployee.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/helpers/deleteEmployeeHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/helpers/handleEmployeeError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/helpers/updateEmployee.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/populate/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/employees/upload-photo/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/entitlements/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/equipment-maintenance/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/equipment/[id]/qr-code/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/features/[flagKey]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/fix/auth0-callback-urls/helpers/buildRequiredUrls.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/fix/auth0-callback-urls/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":116,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4536,4539],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4536,4539],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport {\n    enableGoogleConnectionForApp,\n    verifyGoogleConnection,\n} from '@/lib/auth0-google-connection';\nimport { getSocialConnections, verifyCallbackUrls } from '@/lib/auth0-management';\nimport { logger } from '@/lib/logger';\nimport { ManagementClient } from 'auth0';\nimport { NextResponse } from 'next/server';\nimport { buildRequiredUrls } from './helpers/buildRequiredUrls';\n\n/**\n * Fix Auth0 Callback URLs via Management API\n * Automatically adds missing callback URLs, logout URLs, and web origins\n */\nexport async function POST() {\n  try {\n    const auth0Issuer = process.env.AUTH0_ISSUER_BASE_URL;\n    // Try M2M credentials first (more secure), fall back to regular app credentials\n    const m2mClientId = process.env.AUTH0_M2M_CLIENT_ID;\n    const m2mClientSecret = process.env.AUTH0_M2M_CLIENT_SECRET;\n    const auth0ClientId = process.env.AUTH0_CLIENT_ID;\n    const auth0ClientSecret = process.env.AUTH0_CLIENT_SECRET;\n    // Use AUTH0_BASE_URL (Auth0 SDK)\n    const baseUrl = process.env.AUTH0_BASE_URL;\n\n    if (!auth0Issuer) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('AUTH0_ISSUER_BASE_URL must be set', 'MISSING_ENV_VAR', 400),\n        { status: 400 },\n      );\n    }\n\n    if (!baseUrl) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('AUTH0_BASE_URL must be set', 'MISSING_ENV_VAR', 400),\n        { status: 400 },\n      );\n    }\n\n    // Determine which credentials to use (M2M preferred, fall back to regular app)\n    const useM2M = m2mClientId && m2mClientSecret;\n    const managementClientId = useM2M ? m2mClientId : auth0ClientId;\n    const managementClientSecret = useM2M ? m2mClientSecret : auth0ClientSecret;\n\n    if (!managementClientId || !managementClientSecret) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          'Either AUTH0_M2M_CLIENT_ID/AUTH0_M2M_CLIENT_SECRET (recommended) or AUTH0_CLIENT_ID/AUTH0_CLIENT_SECRET must be set',\n          'MISSING_AUTH0_CREDENTIALS',\n          400,\n          {\n            hint: 'See docs/AUTH0_MANAGEMENT_API_SETUP.md for setup instructions',\n          },\n        ),\n        { status: 400 },\n      );\n    }\n\n    // The application client ID to update (always use the main app, not M2M)\n    const applicationClientId = auth0ClientId;\n    if (!applicationClientId) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          'AUTH0_CLIENT_ID must be set to identify which application to update',\n          'MISSING_ENV_VAR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    const domain = auth0Issuer.replace(/^https?:\\/\\//, '').replace(/\\/$/, '');\n    const managementClient = new ManagementClient({\n      domain,\n      clientId: managementClientId,\n      clientSecret: managementClientSecret,\n    });\n\n    interface Auth0ClientData {\n      callbacks?: string[];\n      allowed_logout_urls?: string[];\n      logout_urls?: string[];\n      web_origins?: string[];\n    }\n\n    // Get current application configuration\n    const appResponse = await managementClient.clients.get({ client_id: applicationClientId });\n    // Handle both potential response structures (axios-like with data or direct)\n    const app = (('data' in appResponse ? appResponse.data : appResponse) as unknown) as Auth0ClientData;\n\n    // Build required URLs (Auth0 SDK uses /api/auth/callback, not /api/auth/callback/auth0)\n    const { requiredCallbacks, requiredLogoutUrls, requiredWebOrigins } =\n      buildRequiredUrls(baseUrl);\n\n    // Merge with existing URLs (avoid duplicates)\n    const currentCallbacks = app.callbacks || [];\n    // Auth0 Management API uses 'allowed_logout_urls' (with underscores, not 'logout_urls')\n    const currentLogoutUrls = app.allowed_logout_urls || app.logout_urls || [];\n    const currentWebOrigins = app.web_origins || [];\n\n    const updatedCallbacks = [...new Set([...currentCallbacks, ...requiredCallbacks])];\n    const updatedLogoutUrls = [...new Set([...currentLogoutUrls, ...requiredLogoutUrls])];\n    const updatedWebOrigins = [...new Set([...currentWebOrigins, ...requiredWebOrigins])];\n\n    // Update application\n    // Auth0 Management API expects 'allowed_logout_urls' (not 'logout_urls')\n    const updateData: Record<string, unknown> = {\n      callbacks: updatedCallbacks,\n      allowed_logout_urls: updatedLogoutUrls,\n      web_origins: updatedWebOrigins,\n    };\n\n    await managementClient.clients.update(\n      { client_id: applicationClientId },\n      updateData as any, // Cast required due to strict SDK types not matching exact update payload sometimes\n    );\n\n    logger.info('[Auth0 Fix] Updated Auth0 application configuration', {\n      usingM2M: useM2M,\n      callbacks: updatedCallbacks,\n      logoutUrls: updatedLogoutUrls,\n      webOrigins: updatedWebOrigins,\n    });\n\n    // Verify social connections\n    const socialConnections = await getSocialConnections();\n    let googleConnectionVerified = await verifyGoogleConnection();\n\n    // Try to enable Google connection if it exists but isn't enabled\n    if (!googleConnectionVerified) {\n      const enableResult = await enableGoogleConnectionForApp();\n      if (enableResult.success && enableResult.enabled) {\n        googleConnectionVerified = true;\n        logger.info('[Auth0 Fix] Auto-enabled Google connection for application');\n      }\n    }\n\n    const callbackUrlStatus = await verifyCallbackUrls(updatedCallbacks);\n\n    // Build response with social connection status\n    const response = {\n      success: true,\n      message: 'Auth0 configuration updated successfully',\n      changes: {\n        callbacks: {\n          before: currentCallbacks,\n          after: updatedCallbacks,\n          added: requiredCallbacks.filter(url => !currentCallbacks.includes(url)),\n        },\n        logoutUrls: {\n          before: currentLogoutUrls,\n          after: updatedLogoutUrls,\n          added: requiredLogoutUrls.filter(url => !currentLogoutUrls.includes(url)),\n        },\n        webOrigins: {\n          before: currentWebOrigins,\n          after: updatedWebOrigins,\n          added: requiredWebOrigins.filter(url => !currentWebOrigins.includes(url)),\n        },\n      },\n      socialConnections: {\n        total: socialConnections.length,\n        connections: socialConnections.map(conn => ({\n          id: conn.id,\n          name: conn.name,\n          strategy: conn.strategy,\n          enabled: conn.enabled_clients?.includes(applicationClientId) || false,\n        })),\n        google: {\n          verified: googleConnectionVerified,\n          status: googleConnectionVerified ? 'enabled' : 'disabled_or_misconfigured',\n          message: googleConnectionVerified\n            ? 'Google connection is enabled and configured correctly'\n            : 'Google connection is not enabled or misconfigured. Please enable it in Auth0 Dashboard > Connections > Social > Google',\n        },\n      },\n      callbackUrlVerification: {\n        verified: callbackUrlStatus.isValid,\n        configured: callbackUrlStatus.configuredUrls,\n        expected: callbackUrlStatus.expectedUrls,\n        missing: callbackUrlStatus.missingUrls,\n      },\n    };\n\n    return NextResponse.json(response);\n  } catch (error) {\n    logger.error('[Auth0 Fix] Error updating Auth0 configuration:', error);\n    return NextResponse.json(\n      ApiErrorHandler.createError('Failed to update Auth0 configuration', 'SERVER_ERROR', 500, {\n        details: error instanceof Error ? error.message : String(error),\n      }),\n      { status: 500 },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/fix/enable-google-connection/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/generate-sales-data/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/generate-test-temperature-logs/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/image-proxy/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/[id]/qr-code/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/add-consumables/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/ai-detect-allergens/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/auto-categorize/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/batch-ai-detect-allergens/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/bulk-update/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/detect-missing-allergens/helpers/buildIngredientQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/detect-missing-allergens/helpers/invalidateAndReaggregate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/detect-missing-allergens/helpers/processIngredient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/detect-missing-allergens/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/exists/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/helpers/buildChangeDetails.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/helpers/createIngredient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/helpers/deleteIngredient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/helpers/deleteIngredientHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/helpers/formatIngredientUpdates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/helpers/handleIngredientError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/helpers/updateIngredient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/migrate-units/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/populate-all-allergens/helpers/processIngredientBatch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/populate-all-allergens/helpers/rateLimit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/populate-all-allergens/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/ingredients/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/kds/update-status/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/kitchen-sections/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/kitchen-sections/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/latest-release/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/leads/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/me/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menu-dishes/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/allergen-matrix/export/helpers/allergenMatrixStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/allergen-matrix/export/helpers/generateHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/allergen-matrix/export/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/allergen-matrix/export/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/changes/helpers/validateRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/changes/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/allergenMatrixStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/combinedExportStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/fetchRecipeCards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/generateAllergenMatrixHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/generateCombinedCSV.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/generateCombinedHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/generateMenuDisplayHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/generateRecipeCardsHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/menuDisplayStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/recalculateDietaryStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/recipe-card-styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/transformMatrixData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/transformMenuData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/helpers/validateRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/export-combined/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/buildMenuUpdateData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/deleteMenu.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/enrichment/calculateRecommendedPrices.test.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1619,1622],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1619,1622],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\nimport { RawMenuItem } from '../../../types';\nimport { calculateDishSellingPrice } from '../../statistics/helpers/calculateDishSellingPrice';\nimport { calculateRecipeSellingPrice } from '../../statistics/helpers/calculateRecipeSellingPrice';\nimport { calculateRecommendedPrice } from './calculateRecommendedPrices';\n\n// Mock dependencies\njest.mock('@/lib/logger', () => ({\n  logger: {\n    error: jest.fn(),\n  },\n}));\n\njest.mock('../../items/[itemId]/helpers/cacheRecommendedPrice', () => ({\n  cacheRecommendedPrice: jest.fn().mockResolvedValue(undefined),\n}));\n\njest.mock('../../statistics/helpers/calculateDishSellingPrice', () => ({\n  calculateDishSellingPrice: jest.fn(),\n}));\n\njest.mock('../../statistics/helpers/calculateRecipeSellingPrice', () => ({\n  calculateRecipeSellingPrice: jest.fn(),\n}));\n\ndescribe('calculateRecommendedPrice', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  const mockItemBase: Partial<RawMenuItem> = {\n    id: 'item-1',\n  };\n\n  it('should return existing recommended price if present and columns exist', async () => {\n    const item = { ...mockItemBase, recommended_selling_price: 15.00 } as RawMenuItem;\n    const result = await calculateRecommendedPrice(item, 'menu-1', true);\n    expect(result).toBe(15.00);\n    expect(calculateDishSellingPrice).not.toHaveBeenCalled();\n    expect(calculateRecipeSellingPrice).not.toHaveBeenCalled();\n  });\n\n  it('should calculate dish price if no existing price', async () => {\n    const item = {\n        ...mockItemBase,\n        dish_id: 'dish-1',\n        dishes: { id: 'dish-1' },\n        recommended_selling_price: null\n    } as any as RawMenuItem;\n\n    (calculateDishSellingPrice as jest.Mock).mockResolvedValue(20.00);\n\n    const result = await calculateRecommendedPrice(item, 'menu-1', true);\n    expect(result).toBe(20.00);\n    expect(calculateDishSellingPrice).toHaveBeenCalledWith('dish-1');\n    // Check background caching was triggered (difficult to await, but jest mocks capture it)\n    // We can simulate waiting for promise queue if needed, but for now just checks duplication logic\n  });\n\n  it('should calculate recipe price if no existing price and no dish', async () => {\n    const item = {\n        ...mockItemBase,\n        recipe_id: 'recipe-1',\n        recommended_selling_price: null\n    } as RawMenuItem;\n\n    (calculateRecipeSellingPrice as jest.Mock).mockResolvedValue(12.50);\n\n    const result = await calculateRecommendedPrice(item, 'menu-1', true);\n    expect(result).toBe(12.50);\n    expect(calculateRecipeSellingPrice).toHaveBeenCalledWith('recipe-1');\n  });\n\n  it('should return null if no ID matches', async () => {\n    const item = { ...mockItemBase, recommended_selling_price: null } as RawMenuItem;\n    const result = await calculateRecommendedPrice(item, 'menu-1', true);\n    expect(result).toBeNull();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/enrichment/calculateRecommendedPrices.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/enrichment/enrichDishItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/enrichment/enrichMenuItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/enrichment/enrichRecipeItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/enrichment/normalizeAllergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/enrichment/validateDietaryStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/errorDetection/detectMissingColumns.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[797,800],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[797,800],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Error detection helpers for missing columns\n */\n\nimport { extractColumnName } from '../fetchMenuWithItems.helpers';\n\nexport interface ColumnErrorInfo {\n  isMissingPricing: boolean;\n  isMissingDietary: boolean;\n  isMissingDescription: boolean;\n  isColumnNotFound: boolean;\n  columnName: string | null;\n}\n\n/**\n * Detects which columns are missing from an error\n *\n * @param {unknown} error - Supabase error\n * @returns {ColumnErrorInfo} Information about missing columns\n */\nexport function detectMissingColumns(error: unknown): ColumnErrorInfo {\n  if (!error || typeof error !== 'object') {\n    return {\n      isMissingPricing: false,\n      isMissingDietary: false,\n      isMissingDescription: false,\n      isColumnNotFound: false,\n      columnName: null,\n    };\n  }\n\n  const err = error as any;\n  const errorCode = err.code;\n  const errorMessage = err.message || '';\n  const errorDetails = err.details || '';\n  const errorHint = err.hint || '';\n  const fullErrorText = `${errorMessage} ${errorDetails} ${errorHint}`.toLowerCase();\n\n  const isColumnNotFound = errorCode === '42703' || errorCode === 'COLUMN_NOT_FOUND';\n  const columnName = extractColumnName(error);\n\n  const isMissingPricing =\n    isColumnNotFound &&\n    (fullErrorText.includes('actual_selling_price') ||\n      fullErrorText.includes('recommended_selling_price') ||\n      errorMessage.includes('actual_selling_price') ||\n      errorMessage.includes('recommended_selling_price'));\n\n  const isMissingDietary =\n    isColumnNotFound &&\n    (fullErrorText.includes('allergens') ||\n      fullErrorText.includes('is_vegetarian') ||\n      fullErrorText.includes('is_vegan') ||\n      fullErrorText.includes('dietary_confidence') ||\n      fullErrorText.includes('dietary_method') ||\n      errorMessage.includes('allergens') ||\n      errorMessage.includes('is_vegetarian') ||\n      errorMessage.includes('is_vegan') ||\n      errorMessage.includes('dietary_confidence') ||\n      errorMessage.includes('dietary_method'));\n\n  const isMissingDescription =\n    isColumnNotFound &&\n    (fullErrorText.includes('description') || errorMessage.includes('description'));\n\n  return {\n    isMissingPricing,\n    isMissingDietary,\n    isMissingDescription,\n    isColumnNotFound,\n    columnName,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/fetchMenuItemsWithFallback.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/fetchMenuItemsWithFallback/helpers/handlePricingFallback.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/fetchMenuItemsWithFallback/helpers/handleUltimateFallback.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/fetchMenuWithItems.helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/fetchMenuWithItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/formatErrorResponse.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[454,457],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[454,457],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[502,505],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[502,505],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[557,560],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[557,560],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[764,767],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[764,767],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[805,808],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[805,808],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { PostgrestError } from '@supabase/supabase-js';\nimport { NextResponse } from 'next/server';\n\n/**\n * Format error response for menu API.\n *\n * @param {PostgrestError | any} err - Error object with status, error, and message\n * @returns {NextResponse} Formatted error response\n */\nexport function formatErrorResponse(err: PostgrestError | unknown): NextResponse {\n  const status = (err as any).status || 500;\n  const errorCode = (err as any).code || 'SERVER_ERROR';\n  const message = (err as any).message || 'An error occurred';\n\n  return NextResponse.json(\n    ApiErrorHandler.createError(message, errorCode, status, {\n      ...(process.env.NODE_ENV === 'development' && {\n        details: (err as any).details,\n        timestamp: (err as any).timestamp,\n      }),\n    }),\n    { status },\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/handleMenuError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/queryBuilders/menuItemQueries-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/queryBuilders/menuItemQueries.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/updateMenu.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/helpers/validateMenuId.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/ingredients/helpers/collectIngredientIds.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/ingredients/helpers/fetchIngredientsWithParLevels.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/ingredients/helpers/groupIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/ingredients/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/helpers/cacheRecommendedPrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/helpers/deleteMenuItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/helpers/fetchMenuItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/helpers/syncPrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/helpers/updateMenuItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/helpers/validateMenuItemRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/statistics/helpers/calculateItemCOGS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/statistics/helpers/calculateRecommendedPrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/statistics/helpers/calculateStatistics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/[itemId]/statistics/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/bulk/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/items/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/aiGeneration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/batchFetchDishes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/batchFetchMenuItemData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/batchFetchRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/cardBuilding.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/cardManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/cardManagement/findBySignature.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/fetchMenuItemData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/fetchMenuItemData/fetchDish.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/fetchMenuItemData/fetchRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/generateRecipeCards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/generateRecipeCards/checkExistingCards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/generateRecipeCards/checkMigration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/generateRecipeCards/fetchMenuItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/generateRecipeCards/handleErrors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/generateRecipeCards/processBatches.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/generateRecipeCards/processMenuItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/generateRecipeCards/processMenuItem/saveCard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/lockOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/normalizeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/parseRecipeCard.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/parseRecipeCard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/recipe-card-types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/subRecipeCardGeneration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/subRecipeCardGeneration/saveSubRecipeCard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/subRecipeUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/helpers/validateLockRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/lock/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/menu-display/export/helpers/generateCSV.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/menu-display/export/helpers/generateHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/menu-display/export/helpers/menuDisplayStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/menu-display/export/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/export/helpers/generateCSV.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/export/helpers/generateHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/export/helpers/generateHTML/buildCardHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/export/helpers/generateHTML/buildCategoryHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/export/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":175,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":175,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5443,5446],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5443,5446],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":178,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":178,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5539,5542],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5539,5542],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":180,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":180,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5611,5614],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5611,5614],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Recipe Cards Export API Endpoint\n * GET /api/menus/[id]/recipe-cards/export - Export recipe cards in various formats\n */\n\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { checkFeatureAccess } from '@/lib/api-feature-gate';\nimport { requireAuth } from '@/lib/auth0-api-helpers';\nimport { logger } from '@/lib/logger';\nimport { createSupabaseAdmin } from '@/lib/supabase';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { generateCSV } from './helpers/generateCSV';\nimport { generateHTML } from './helpers/generateHTML';\n\nexport async function GET(request: NextRequest, context: { params: Promise<{ id: string }> }) {\n  try {\n    const { id: menuId } = await context.params;\n    const { searchParams } = new URL(request.url);\n    const format = searchParams.get('format') || 'html';\n\n    if (!menuId) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Menu ID is required', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    if (!['html', 'csv', 'pdf'].includes(format)) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          'Invalid format. Must be html, csv, or pdf',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    // Check feature access for CSV/PDF exports (requires Pro tier)\n    // HTML export is available to all tiers\n    if (format === 'csv' || format === 'pdf') {\n      try {\n        const user = await requireAuth(request);\n        const featureKey = format === 'csv' ? 'export_csv' : 'export_pdf';\n        await checkFeatureAccess(featureKey, user.email, request);\n      } catch (error) {\n        // requireAuth or checkFeatureAccess throws NextResponse, so return it\n        if (error instanceof NextResponse) {\n          return error;\n        }\n        throw error;\n      }\n    }\n\n    const supabase = createSupabaseAdmin();\n\n    // Fetch recipe cards with menu item and dish/recipe names\n    const { data: cards, error } = await supabase\n      .from('menu_recipe_cards')\n      .select(\n        `\n        id,\n        menu_item_id,\n        title,\n        base_yield,\n        ingredients,\n        method_steps,\n        notes,\n        card_content,\n        parsed_at,\n        menu_items!inner (\n          id,\n          dish_id,\n          recipe_id,\n          dishes (\n            dish_name\n          ),\n          recipes (\n            name\n          )\n        )\n      `,\n      )\n      .eq('menu_items.menu_id', menuId);\n\n    if (error) {\n      logger.error('[Recipe Cards Export] Failed to fetch recipe cards:', error);\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          'Failed to fetch recipe cards',\n          'DATABASE_ERROR',\n          500,\n          error.message || String(error),\n        ),\n        { status: 500 },\n      );\n    }\n\n    // Fetch menu items separately to get ordering\n    const { data: menuItems } = await supabase\n      .from('menu_items')\n      .select('id, category, position')\n      .eq('menu_id', menuId)\n      .order('category', { ascending: true })\n      .order('position', { ascending: true });\n\n    // Create a map for ordering\n    const itemOrderMap = new Map<string, { category: string; position: number }>();\n    if (menuItems) {\n      menuItems.forEach(item => {\n        itemOrderMap.set(item.id, {\n          category: item.category || '',\n          position: item.position || 0,\n        });\n      });\n    }\n\n    // Fetch menu name\n    const { data: menu } = await supabase\n      .from('menus')\n      .select('menu_name')\n      .eq('id', menuId)\n      .single();\n\n    const menuName = menu?.menu_name || 'Menu';\n\n    interface ExportCard {\n      id: string;\n      menu_item_id: string;\n      title: string;\n      base_yield: number;\n      ingredients: unknown[];\n      method_steps: unknown[];\n      notes: string | string[] | null;\n      menu_items: {\n        recipes: { name?: string; recipe_name?: string } | null;\n        dishes: { dish_name?: string } | null;\n      } | null;\n    }\n\n    // Transform data for export\n    const transformedCards = ((cards || []) as unknown as ExportCard[])\n      .map(card => {\n        const menuItem = card.menu_items;\n        const recipeName = menuItem?.recipes?.recipe_name || menuItem?.recipes?.name || null;\n        const menuItemName = menuItem?.dishes?.dish_name || recipeName || 'Unknown Item';\n        const title = card.title || menuItemName;\n\n        return {\n          id: card.id,\n          menuItemId: card.menu_item_id,\n          menuItemName,\n          title,\n          baseYield: card.base_yield || 1,\n          ingredients: card.ingredients || [],\n          methodSteps: card.method_steps || [],\n          notes:\n            card.notes && typeof card.notes === 'string'\n              ? card.notes.split('\\n').filter((n: string) => n.trim().length > 0)\n              : Array.isArray(card.notes)\n                ? card.notes\n                : [],\n          category: itemOrderMap.get(card.menu_item_id)?.category || 'Uncategorized',\n          position: itemOrderMap.get(card.menu_item_id)?.position || 999,\n        };\n      })\n      .sort((a, b) => {\n        const categoryCompare = a.category.localeCompare(b.category);\n        if (categoryCompare !== 0) return categoryCompare;\n        return a.position - b.position;\n      });\n\n    // Generate export based on format\n    if (format === 'csv') {\n      return generateCSV(menuName, transformedCards as any);\n    }\n    if (format === 'pdf') {\n      return generateHTML(menuName, transformedCards as any, true);\n    }\n    return generateHTML(menuName, transformedCards as any, false);\n  } catch (err) {\n    logger.error('[Recipe Cards Export API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      stack: err instanceof Error ? err.stack : undefined,\n    });\n    return NextResponse.json(\n      ApiErrorHandler.createError(\n        process.env.NODE_ENV === 'development'\n          ? err instanceof Error\n            ? err.message\n            : 'Unknown error'\n          : 'Internal server error',\n        'SERVER_ERROR',\n        500,\n      ),\n      { status: 500 },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/generate/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/helpers/fetchMenuItemNames.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/helpers/fetchMenuItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/helpers/fetchRecipeCardLinks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/helpers/processCards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/helpers/sortAndGroupCards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/helpers/transformCards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/recipe-cards/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/refresh-prices/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/reorder/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/statistics/helpers/calculateDishCost.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/statistics/helpers/calculateDishSellingPrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/statistics/helpers/calculateMenuStatistics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/statistics/helpers/calculateRecipeCost.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/statistics/helpers/calculateRecipeSellingPrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/statistics/helpers/handleMenuStatisticsError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/statistics/helpers/processDishItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/statistics/helpers/processRecipeItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/[id]/statistics/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/menus/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/navigation-optimization/log/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/navigation-optimization/patterns/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/navigation-optimization/preferences/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/order-lists/[id]/helpers/deleteOrderList.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[806,809],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[806,809],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1133,1136],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1133,1136],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\n\nexport async function deleteOrderList(\n  id: string,\n): Promise<{ success: boolean; message: string } | { error: unknown; status: number }> {\n  if (!supabaseAdmin) {\n    return {\n      error: ApiErrorHandler.createError(\n        'Database connection not available',\n        'DATABASE_ERROR',\n        500,\n      ),\n      status: 500,\n    };\n  }\n\n  const { error: deleteItemsError } = await supabaseAdmin\n    .from('order_list_items')\n    .delete()\n    .eq('order_list_id', id);\n\n  if (deleteItemsError) {\n    logger.warn('[Order Lists API] Warning: Could not delete order list items:', {\n      error: deleteItemsError.message,\n      code: (deleteItemsError as any).code,\n      orderListId: id,\n    });\n    // Continue with list deletion even if items deletion fails\n  }\n\n  const { error } = await supabaseAdmin.from('order_lists').delete().eq('id', id);\n\n  if (error) {\n    logger.error('[Order Lists API] Error deleting order list:', {\n      error: error.message,\n      code: (error as any).code,\n      orderListId: id,\n    });\n    return {\n      error: ApiErrorHandler.createError('Failed to delete order list', 'DATABASE_ERROR', 500, {\n        details: error.message,\n      }),\n      status: 500,\n    };\n  }\n\n  return { success: true, message: 'Order list deleted successfully' };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/order-lists/[id]/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/order-lists/[id]/helpers/updateOrderList.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[714,717],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[714,717],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1275,1278],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1275,1278],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":58,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1822,1825],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1822,1825],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":64,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1945,1948],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1945,1948],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":79,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2436,2439],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2436,2439],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { z } from 'zod';\nimport { updateOrderListSchema } from './schemas';\n\nexport async function updateOrderList(\n  id: string,\n  body: z.infer<typeof updateOrderListSchema>,\n): Promise<\n  { success: boolean; message: string; data: unknown } | { error: unknown; status: number }\n> {\n  if (!supabaseAdmin) {\n    return {\n      error: ApiErrorHandler.createError(\n        'Database connection not available',\n        'DATABASE_ERROR',\n        500,\n      ),\n      status: 500,\n    };\n  }\n\n  const { supplierId, name, notes, status, items } = body;\n\n  const updateData: any = { updated_at: new Date().toISOString() };\n  if (supplierId !== undefined) updateData.supplier_id = supplierId;\n  if (name !== undefined) updateData.name = name;\n  if (notes !== undefined) updateData.notes = notes;\n  if (status !== undefined) updateData.status = status;\n\n  const { data, error } = await supabaseAdmin\n    .from('order_lists')\n    .update(updateData)\n    .eq('id', id)\n    .select()\n    .single();\n\n  if (error) {\n    logger.error('[Order Lists API] Database error updating order list:', {\n      error: error.message,\n      code: (error as any).code,\n      orderListId: id,\n    });\n    const apiError = ApiErrorHandler.fromSupabaseError(error, 500);\n    return { error: apiError, status: apiError.status || 500 };\n  }\n\n  if (items !== undefined) {\n    const { error: deleteItemsError } = await supabaseAdmin\n      .from('order_list_items')\n      .delete()\n      .eq('order_list_id', id);\n\n    if (deleteItemsError) {\n      logger.warn('[Order Lists API] Warning: Could not delete existing order list items:', {\n        error: deleteItemsError.message,\n        code: (deleteItemsError as any).code,\n        orderListId: id,\n      });\n    }\n\n    if (items.length > 0) {\n      const orderItems = items.map((item: any) => ({\n        order_list_id: id,\n        ingredient_id: item.ingredientId,\n        quantity: item.quantity,\n        unit: item.unit,\n        notes: item.notes,\n      }));\n\n      const { error: insertItemsError } = await supabaseAdmin\n        .from('order_list_items')\n        .insert(orderItems);\n\n      if (insertItemsError) {\n        logger.error('[Order Lists API] Error inserting order list items:', {\n          error: insertItemsError.message,\n          code: (insertItemsError as any).code,\n          orderListId: id,\n        });\n        return {\n          error: ApiErrorHandler.createError(\n            'Failed to update order list items',\n            'DATABASE_ERROR',\n            500,\n            {\n              details: insertItemsError.message,\n            },\n          ),\n          status: 500,\n        };\n      }\n    }\n  }\n\n  return { success: true, message: 'Order list updated successfully', data };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/order-lists/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/order-lists/helpers/createOrderListWithItems.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1399,1402],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1399,1402],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":66,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2116,2119],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2116,2119],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\n\n/**\n * Create order list with items.\n *\n * @param {Object} orderListData - Order list data\n * @param {Array} items - Optional items array\n * @returns {Promise<Object>} Created order list\n * @throws {Error} If creation fails\n */\nexport async function createOrderListWithItems(\n  orderListData: {\n    user_id: string;\n    supplier_id: number;\n    name: string;\n    notes?: string;\n  },\n  items?: Array<{ ingredientId: string; quantity: number; unit: string; notes?: string }>,\n) {\n  if (!supabaseAdmin) {\n    logger.error('[API] Database connection not available');\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  // Create the order list\n  const { data: orderList, error: orderError } = await supabaseAdmin!\n    .from('order_lists')\n    .insert({\n      user_id: orderListData.user_id,\n      supplier_id: orderListData.supplier_id,\n      name: orderListData.name,\n      notes: orderListData.notes,\n      status: 'draft',\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    })\n    .select()\n    .single();\n\n  if (orderError) {\n    logger.error('[Order Lists API] Database error creating list:', {\n      error: orderError.message,\n      code: (orderError as any).code,\n      context: { endpoint: '/api/order-lists', operation: 'POST', table: 'order_lists' },\n    });\n    throw ApiErrorHandler.fromSupabaseError(orderError, 500);\n  }\n\n  // Add items if provided\n  if (items && items.length > 0) {\n    const orderItems = items.map(item => ({\n      order_list_id: orderList.id,\n      ingredient_id: item.ingredientId,\n      quantity: item.quantity,\n      unit: item.unit,\n      notes: item.notes,\n    }));\n\n    const { error: itemsError } = await supabaseAdmin.from('order_list_items').insert(orderItems);\n\n    if (itemsError) {\n      logger.warn('[Order Lists API] Warning: Could not create order list items:', {\n        error: itemsError.message,\n        code: (itemsError as any).code,\n        context: { endpoint: '/api/order-lists', operation: 'POST', orderListId: orderList.id },\n      });\n    }\n  }\n\n  return orderList;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/order-lists/helpers/handleOrderListError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/order-lists/helpers/normalizeOrderListData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[220,223],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[220,223],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[260,263],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[260,263],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[475,478],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[475,478],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Normalize order list data with nested ingredient_name.\n *\n * @param {Array} data - Raw order list data from database\n * @returns {Array} Normalized order list data\n */\nexport function normalizeOrderListData(data: any[]) {\n  return (data || []).map((ol: any) => ({\n    ...ol,\n    suppliers: ol.suppliers\n      ? { ...ol.suppliers, supplier_name: ol.suppliers.supplier_name || ol.suppliers.name }\n      : null,\n    order_list_items: (ol.order_list_items || []).map((it: any) => ({\n      ...it,\n      ingredients: it.ingredients\n        ? {\n            ...it.ingredients,\n            ingredient_name: it.ingredients.ingredient_name || it.ingredients.name,\n          }\n        : null,\n    })),\n  }));\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/order-lists/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":86,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":86,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2498,2501],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2498,2501],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":189,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":189,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5566,5569],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5566,5569],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":190,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":190,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5635,5638],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5635,5638],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { z } from 'zod';\nimport { createOrderListWithItems } from './helpers/createOrderListWithItems';\nimport { handleOrderListError } from './helpers/handleOrderListError';\nimport { normalizeOrderListData } from './helpers/normalizeOrderListData';\n\nconst createOrderListSchema = z.object({\n  userId: z.string().min(1, 'User ID is required'),\n  supplierId: z.string().min(1, 'Supplier ID is required'),\n  name: z.string().min(1, 'Order list name is required'),\n  notes: z.string().optional(),\n  items: z\n    .array(\n      z.object({\n        ingredient_id: z.string().optional(),\n        quantity: z.number().optional(),\n        unit: z.string().optional(),\n        notes: z.string().optional(),\n      }),\n    )\n    .optional(),\n});\n\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const userId = searchParams.get('userId');\n    const page = parseInt(searchParams.get('page') || '1');\n    const pageSize = Math.min(parseInt(searchParams.get('pageSize') || '50'), 100);\n    const start = (page - 1) * pageSize;\n    const end = start + pageSize - 1;\n\n    if (!userId) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('User ID is required', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    const { data, error, count } = await supabaseAdmin\n      .from('order_lists')\n      .select(\n        `\n        *,\n        suppliers (\n          id,\n          supplier_name,\n          contact_person,\n          phone,\n          email\n        ),\n        order_list_items (\n          id,\n          ingredient_id,\n          quantity,\n          unit,\n          notes,\n          ingredients (\n            id,\n            ingredient_name,\n            name,\n            unit,\n            category\n          )\n        )\n      `,\n        { count: 'exact' },\n      )\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false })\n      .range(start, end);\n\n    if (error) {\n      logger.error('[Order Lists API] Database error fetching lists:', {\n        error: error.message,\n        code: (error as any).code,\n        context: { endpoint: '/api/order-lists', operation: 'GET', table: 'order_lists' },\n      });\n\n      const apiError = ApiErrorHandler.fromSupabaseError(error, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n\n    // Normalize nested ingredient_name\n    const items = normalizeOrderListData(data || []);\n\n    return NextResponse.json({\n      success: true,\n      data: items,\n      page,\n      pageSize,\n      total: count || 0,\n    });\n  } catch (err) {\n    logger.error('[Order Lists API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { endpoint: '/api/order-lists', method: 'GET' },\n    });\n    return handleOrderListError(err, 'GET');\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    let body: unknown;\n    try {\n      body = await request.json();\n    } catch (err) {\n      logger.warn('[Order Lists API] Failed to parse request body:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid request body', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const validationResult = createOrderListSchema.safeParse(body);\n    if (!validationResult.success) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          validationResult.error.issues[0]?.message || 'Invalid request body',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    const { userId, supplierId, name, notes, items } = validationResult.data;\n\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    // Convert supplierId from string to number\n    const supplierIdNum = parseInt(supplierId, 10);\n    if (isNaN(supplierIdNum)) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid supplier ID', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    // Transform items array from schema format (snake_case) to function format (camelCase)\n    const transformedItems =\n      items\n        ?.map(item => ({\n          ingredientId: item.ingredient_id || '',\n          quantity: item.quantity || 0,\n          unit: item.unit || '',\n          notes: item.notes,\n        }))\n        .filter(item => item.ingredientId) || undefined;\n\n    const orderList = await createOrderListWithItems(\n      {\n        user_id: userId,\n        supplier_id: supplierIdNum,\n        name,\n        notes,\n      },\n      transformedItems,\n    );\n\n    return NextResponse.json({\n      success: true,\n      message: 'Order list created successfully',\n      data: orderList,\n    });\n  } catch (err: unknown) {\n    logger.error('[Order Lists API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { endpoint: '/api/order-lists', method: 'POST' },\n    });\n    if ((err as any).status) {\n      return NextResponse.json(err, { status: (err as any).status });\n    }\n    return handleOrderListError(err, 'POST');\n  }\n}\n\n// PUT and DELETE moved to /api/order-lists/[id]\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/order/status/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/authenticateAndSetup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/buildParLevelData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[183,186],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[183,186],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Build par level data object from request body.\n *\n * @param {Object} body - Request body\n * @returns {Object} Par level data object\n */\nexport function buildParLevelData(body: any) {\n  return {\n    ingredient_id: body.ingredient_id || body.ingredientId,\n    par_level: body.par_level || body.parLevel ? parseFloat(body.par_level || body.parLevel) : null,\n    reorder_point:\n      body.reorder_point || body.reorderPoint\n        ? parseFloat(body.reorder_point || body.reorderPoint)\n        : null,\n    unit: body.unit || null,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/checkIngredientAndDuplicate.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[944,947],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[944,947],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1582,1585],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1582,1585],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { createSupabaseAdmin } from '@/lib/supabase';\n\n/**\n * Check if ingredient exists and if par level already exists for this ingredient.\n *\n * @param {string} ingredientId - Ingredient ID to check\n * @returns {Promise<void>} Resolves if checks pass\n * @throws {Error} If ingredient not found or duplicate exists\n */\nexport async function checkIngredientAndDuplicate(ingredientId: string) {\n  const supabaseAdmin = createSupabaseAdmin();\n\n  // Check if ingredient exists\n  const { data: ingredient, error: ingredientError } = await supabaseAdmin\n    .from('ingredients')\n    .select('id')\n    .eq('id', ingredientId)\n    .single();\n\n  if (ingredientError || !ingredient) {\n    if (ingredientError) {\n      logger.error('[Par Levels API] Error checking ingredient:', {\n        error: ingredientError.message,\n        code: (ingredientError as any).code,\n        ingredientId,\n      });\n    }\n    throw ApiErrorHandler.createError('Ingredient not found', 'NOT_FOUND', 404);\n  }\n\n  // Check if par level already exists for this ingredient\n  const { data: existing, error: duplicateError } = await supabaseAdmin\n    .from('par_levels')\n    .select('id')\n    .eq('ingredient_id', ingredientId)\n    .single();\n\n  if (duplicateError && duplicateError.code !== 'PGRST116') {\n    // PGRST116 is \"not found\" - that's okay, no duplicate exists\n    logger.error('[Par Levels API] Error checking for duplicate par level:', {\n      error: duplicateError.message,\n      code: (duplicateError as any).code,\n      ingredientId,\n    });\n    throw ApiErrorHandler.createError(\n      `Error checking for duplicate par level: ${duplicateError.message}`,\n      'DATABASE_ERROR',\n      500,\n    );\n  }\n\n  if (existing) {\n    throw ApiErrorHandler.createError(\n      'Par level already exists for this ingredient',\n      'VALIDATION_ERROR',\n      400,\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/checkTableExists.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[408,411],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[408,411],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[582,585],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[582,585],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { NextResponse } from 'next/server';\n\n/**\n * Check if par_levels table exists.\n *\n * @param {any} supabaseAdmin - Supabase admin client\n * @returns {Promise<{exists: boolean, error: NextResponse | null}>} Table existence status and error if any\n */\nexport async function checkTableExists(supabaseAdmin: any) {\n  const { error: tableCheckError } = await supabaseAdmin.from('par_levels').select('id').limit(1);\n\n  if (tableCheckError) {\n    const errorCode = (tableCheckError as any).code;\n    const errorMessage = tableCheckError.message || '';\n\n    logger.error('[Par Levels API] Table check failed:', {\n      error: errorMessage,\n      code: errorCode,\n      fullError: tableCheckError,\n      context: { endpoint: '/api/par-levels', operation: 'GET' },\n    });\n\n    // Table doesn't exist (42P01) or relation doesn't exist\n    if (\n      errorCode === '42P01' ||\n      errorMessage.includes('relation') ||\n      errorMessage.includes('does not exist')\n    ) {\n      return {\n        exists: false,\n        error: NextResponse.json(\n          ApiErrorHandler.createError(\n            \"Par levels table doesn't exist. Please run the migration script.\",\n            'TABLE_NOT_FOUND',\n            400,\n            {\n              error: errorMessage,\n              code: errorCode,\n              instructions: [\n                'The par_levels table has not been created yet.',\n                'Please run the migration SQL in your Supabase SQL Editor:',\n                '1. Open migrations/add-par-levels-columns.sql',\n                '2. Copy the SQL and run it in Supabase SQL Editor',\n                '3. Ensure the par_levels table exists with proper foreign key to ingredients',\n              ],\n            },\n          ),\n          { status: 400 },\n        ),\n      };\n    }\n  }\n\n  return { exists: true, error: null };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/createParLevel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/deleteParLevel.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[916,919],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[916,919],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { createSupabaseAdmin } from '@/lib/supabase';\n\n/**\n * Delete a par level.\n *\n * @param {string} id - Par level ID\n * @returns {Promise<void>}\n * @throws {Error} If delete fails\n */\nexport async function deleteParLevel(id: string): Promise<void> {\n  const supabaseAdmin = createSupabaseAdmin();\n\n  // Check if par level exists\n  const { data: existing, error: checkError } = await supabaseAdmin\n    .from('par_levels')\n    .select('id')\n    .eq('id', id)\n    .single();\n\n  if (checkError || !existing) {\n    throw ApiErrorHandler.createError('Par level not found', 'NOT_FOUND', 404);\n  }\n\n  const { error } = await supabaseAdmin.from('par_levels').delete().eq('id', id);\n\n  if (error) {\n    logger.error('[Par Levels API] Database error deleting par level:', {\n      error: error.message,\n      code: (error as any).code,\n      context: { endpoint: '/api/par-levels', operation: 'DELETE', parLevelId: id },\n    });\n    throw ApiErrorHandler.fromSupabaseError(error, 500);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/fetchParLevelWithIngredient.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":39,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[976,979],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[976,979],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport { createSupabaseAdmin } from '@/lib/supabase';\n\n/**\n * Fetch par level with ingredient join, with fallback to separate fetch.\n *\n * @param {string} parLevelId - Par level ID\n * @param {string} ingredientId - Ingredient ID for fallback\n * @returns {Promise<any>} Par level with ingredient data\n */\nexport async function fetchParLevelWithIngredient(parLevelId: string, ingredientId: string) {\n  const supabaseAdmin = createSupabaseAdmin();\n\n  // Try to fetch with ingredient join\n  const { data, error } = await supabaseAdmin\n    .from('par_levels')\n    .select(\n      `\n      id,\n      ingredient_id,\n      par_level,\n      reorder_point,\n      unit,\n      created_at,\n      updated_at,\n      ingredients (\n        id,\n        ingredient_name,\n        unit,\n        category\n      )\n    `,\n    )\n    .eq('id', parLevelId)\n    .single();\n\n  if (error) {\n    const errorMessage = error.message || '';\n    const errorCode = (error as any).code;\n\n    logger.warn('[Par Levels API] Join failed, fetching ingredient separately:', {\n      error: errorMessage,\n      code: errorCode,\n      insertedId: parLevelId,\n      ingredientId,\n      context: { endpoint: '/api/par-levels', operation: 'POST', table: 'par_levels' },\n    });\n\n    // If join fails, fetch ingredient separately as fallback\n    if (ingredientId) {\n      try {\n        const { data: ingredientData, error: ingredientError } = await supabaseAdmin\n          .from('ingredients')\n          .select('id, ingredient_name, unit, category')\n          .eq('id', ingredientId)\n          .single();\n\n        if (!ingredientError && ingredientData) {\n          logger.dev('[Par Levels API] Successfully fetched ingredient separately:', {\n            ingredientId,\n            ingredientName: ingredientData.ingredient_name,\n          });\n          // Return the inserted data with manually joined ingredient\n          return {\n            id: parLevelId,\n            ingredient_id: ingredientId,\n            ingredients: ingredientData,\n          };\n        } else {\n          logger.warn('[Par Levels API] Failed to fetch ingredient separately:', {\n            error: ingredientError?.message,\n            ingredientId,\n          });\n        }\n      } catch (fetchError) {\n        logger.error('[Par Levels API] Exception fetching ingredient separately:', fetchError);\n      }\n    }\n\n    // If all else fails, return data without ingredient join\n    logger.warn('[Par Levels API] Returning data without ingredient join:', {\n      parLevelId,\n    });\n    return {\n      id: parLevelId,\n      ingredient_id: ingredientId,\n      ingredients: null,\n    };\n  }\n\n  // If join succeeded but ingredients is null, try fetching separately\n  if (data && !data.ingredients && ingredientId) {\n    logger.warn('[Par Levels API] Join returned null ingredients, fetching separately:', {\n      insertedId: parLevelId,\n      ingredientId,\n    });\n\n    try {\n      const { data: ingredientData, error: ingredientError } = await supabaseAdmin\n        .from('ingredients')\n        .select('id, ingredient_name, unit, category')\n        .eq('id', ingredientId)\n        .single();\n\n      if (!ingredientError && ingredientData) {\n        logger.dev(\n          '[Par Levels API] Successfully fetched ingredient separately (null join case):',\n          {\n            ingredientId,\n            ingredientName: ingredientData.ingredient_name,\n          },\n        );\n        return {\n          ...data,\n          ingredients: ingredientData,\n        };\n      }\n    } catch (fetchError) {\n      logger.error(\n        '[Par Levels API] Exception fetching ingredient separately (null join case):',\n        fetchError,\n      );\n    }\n  }\n\n  return data;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/fetchParLevels.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/handleInsertError.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[375,378],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[375,378],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[491,494],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[491,494],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[541,544],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[541,544],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[597,600],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[597,600],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":40,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1486,1489],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1486,1489],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\n\n/**\n * Handle insert error with detailed error messages.\n *\n * @param {any} insertError - Supabase insert error\n * @param {any} dataToInsert - Data that was being inserted\n * @throws {Error} Formatted error with instructions\n */\nexport function handleInsertError(insertError: any, dataToInsert: unknown) {\n  const errorMessage = insertError.message || '';\n  const errorCode = (insertError as any).code;\n  const errorDetails = (insertError as any).details || '';\n  const errorHint = (insertError as any).hint || '';\n\n  logger.error('[Par Levels API] Database error creating par level:', {\n    error: errorMessage,\n    code: errorCode,\n    details: errorDetails,\n    hint: errorHint,\n    dataToInsert,\n    context: { endpoint: '/api/par-levels', operation: 'POST', table: 'par_levels' },\n  });\n\n  // Check if it's a NOT NULL violation\n  if (\n    errorCode === '23502' ||\n    errorMessage.includes('null value') ||\n    errorMessage.includes('violates not-null')\n  ) {\n    // Try to extract column name from error message\n    const columnMatch =\n      errorMessage.match(/column \"?([^\"]+)\"?/i) ||\n      errorMessage.match(/null value in column \"?([^\"]+)\"?/i) ||\n      errorDetails.match(/column \"?([^\"]+)\"?/i);\n    const columnName = columnMatch ? columnMatch[1] : 'unknown';\n\n    // Check which field is null in our data\n    const nullFields = Object.entries(dataToInsert as Record<string, any>)\n      .filter(([_, value]) => value === null || value === undefined)\n      .map(([key]) => key);\n\n    // Special handling for par_quantity column (legacy column that should be nullable)\n    const isParQuantityIssue =\n      columnName === 'par_quantity' || columnName?.includes('par_quantity');\n\n    throw ApiErrorHandler.createError(\n      `Required field is missing: ${columnName || nullFields.join(', ') || 'unknown field'}`,\n      'NOT_NULL_VIOLATION',\n      400,\n      {\n        error: errorMessage,\n        code: errorCode,\n        details: errorDetails,\n        hint: errorHint,\n        missingColumn: columnName,\n        nullFields,\n        dataToInsert,\n        instructions: isParQuantityIssue\n          ? [\n              `The par_levels table has a legacy \"par_quantity\" column with a NOT NULL constraint.`,\n              'This column has been replaced by \"par_level\" in the new schema.',\n              'Please run the updated migration script to fix this:',\n              '1. Open migrations/add-par-levels-columns.sql',\n              '2. Copy the entire SQL script',\n              '3. Run it in Supabase SQL Editor',\n              '4. The script will remove the NOT NULL constraint from par_quantity',\n              '5. Try creating the par level again',\n            ]\n          : [\n              `The par_levels table requires the column \"${columnName || 'unknown'}\" to have a value, but it was null.`,\n              'Please check:',\n              `1. Ensure ${columnName || 'the required field'} is provided in the request`,\n              '2. Verify the data structure matches the migration script',\n              '3. Run migrations/add-par-levels-columns.sql in Supabase SQL Editor if needed',\n            ],\n      },\n    );\n  }\n\n  // Check if it's a column-not-found error\n  if (\n    errorMessage.includes('column') &&\n    (errorMessage.includes('does not exist') || errorMessage.includes('not found'))\n  ) {\n    // Extract column name from error message if possible\n    const columnMatch = errorMessage.match(/column \"?(\\w+)\"?/i);\n    const columnName = columnMatch ? columnMatch[1] : 'unknown';\n\n    throw ApiErrorHandler.createError(\n      `Database column not found: ${columnName}. Please run the migration script.`,\n      'COLUMN_NOT_FOUND',\n      400,\n      {\n        error: errorMessage,\n        code: errorCode,\n        missingColumn: columnName,\n        instructions: [\n          `The par_levels table is missing the column: ${columnName}`,\n          'Please run the migration script in Supabase SQL Editor:',\n          '1. Open migrations/add-par-levels-columns.sql',\n          '2. Copy the SQL and run it in Supabase SQL Editor',\n          '3. Ensure the par_levels table has columns: par_level, reorder_point, unit',\n        ],\n      },\n    );\n  }\n\n  throw ApiErrorHandler.fromSupabaseError(insertError, 500);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/handleParLevelError.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[582,585],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[582,585],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { NextResponse } from 'next/server';\n\n/**\n * Handle par level API errors consistently.\n *\n * @param {Error | any} err - Error object\n * @param {string} method - HTTP method\n * @returns {NextResponse} Error response\n */\nexport function handleParLevelError(err: Error | unknown, method: string): NextResponse {\n  const errorMessage = err instanceof Error ? err.message : String(err);\n  const errorStack = err instanceof Error ? err.stack : undefined;\n  const errorCode = (err as any)?.code;\n  const errorDetails = err instanceof Error ? err : { raw: err };\n\n  logger.error('[Par Levels API] Unexpected error:', {\n    error: errorMessage,\n    stack: errorStack,\n    code: errorCode,\n    details: errorDetails,\n    context: { endpoint: '/api/par-levels', method },\n  });\n\n  // Check if it's a database/table error\n  if (\n    errorMessage.includes('relation') ||\n    errorMessage.includes('does not exist') ||\n    errorCode === '42P01'\n  ) {\n    return NextResponse.json(\n      ApiErrorHandler.createError(\n        \"Par levels table doesn't exist. Please run the migration script.\",\n        'TABLE_NOT_FOUND',\n        400,\n        {\n          error: errorMessage,\n          code: errorCode,\n          instructions: [\n            'The par_levels table has not been created yet.',\n            'Please run the migration SQL in your Supabase SQL Editor:',\n            '1. Open migrations/add-par-levels-columns.sql',\n            '2. Copy the SQL and run it in Supabase SQL Editor',\n            '3. Ensure the par_levels table exists with proper foreign key to ingredients',\n          ],\n        },\n      ),\n      { status: 400 },\n    );\n  }\n\n  return NextResponse.json(\n    ApiErrorHandler.createError(\n      process.env.NODE_ENV === 'development'\n        ? errorMessage || 'Unknown error'\n        : 'Internal server error',\n      'SERVER_ERROR',\n      500,\n      {\n        error: errorMessage,\n        code: errorCode,\n        ...(process.env.NODE_ENV === 'development' && { stack: errorStack }),\n      },\n    ),\n    { status: 500 },\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/updateParLevel.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":60,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1580,1583],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1580,1583],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { createSupabaseAdmin } from '@/lib/supabase';\nimport { buildParLevelData } from './buildParLevelData';\n\n/**\n * Update a par level.\n *\n * @param {string} id - Par level ID\n * @param {Object} updates - Update data\n * @returns {Promise<Object>} Updated par level with ingredient data\n * @throws {Error} If update fails\n */\nexport async function updateParLevel(id: string, updates: unknown) {\n  const supabaseAdmin = createSupabaseAdmin();\n\n  // Check if par level exists\n  const { data: existing, error: checkError } = await supabaseAdmin\n    .from('par_levels')\n    .select('id')\n    .eq('id', id)\n    .single();\n\n  if (checkError || !existing) {\n    throw ApiErrorHandler.createError('Par level not found', 'NOT_FOUND', 404);\n  }\n\n  const updateData = buildParLevelData(updates);\n\n  // Remove null/undefined values\n  Object.keys(updateData).forEach(key => {\n    if (\n      updateData[key as keyof typeof updateData] === null ||\n      updateData[key as keyof typeof updateData] === undefined\n    ) {\n      delete updateData[key as keyof typeof updateData];\n    }\n  });\n\n  const { data, error } = await supabaseAdmin\n    .from('par_levels')\n    .update(updateData)\n    .eq('id', id)\n    .select(\n      `\n      *,\n      ingredients (\n        id,\n        ingredient_name,\n        unit,\n        category\n      )\n    `,\n    )\n    .single();\n\n  if (error) {\n    logger.error('[Par Levels API] Database error updating par level:', {\n      error: error.message,\n      code: (error as any).code,\n      context: { endpoint: '/api/par-levels', operation: 'PUT', parLevelId: id },\n    });\n    throw ApiErrorHandler.fromSupabaseError(error, 500);\n  }\n\n  return data;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/helpers/validateParLevelData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[353,356],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[353,356],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Validate par level data.\n *\n * @param {any} parLevelData - Par level data to validate\n * @returns {{ingredientId: string, parLevel: number, reorderPoint: number, unit: string}} Validated data\n * @throws {Error} If validation fails\n */\nexport function validateParLevelData(parLevelData: any) {\n  const ingredientId = parLevelData.ingredient_id || parLevelData.ingredientId;\n  const parLevel = parLevelData.par_level ?? parLevelData.parLevel;\n  const reorderPoint = parLevelData.reorder_point ?? parLevelData.reorderPoint;\n  const unit = parLevelData.unit;\n\n  if (!ingredientId || ingredientId === null || ingredientId === undefined) {\n    throw ApiErrorHandler.createError('Ingredient ID is required', 'VALIDATION_ERROR', 400);\n  }\n\n  if (parLevel === null || parLevel === undefined || isNaN(Number(parLevel))) {\n    throw ApiErrorHandler.createError(\n      'Par level is required and must be a valid number',\n      'VALIDATION_ERROR',\n      400,\n    );\n  }\n\n  if (reorderPoint === null || reorderPoint === undefined || isNaN(Number(reorderPoint))) {\n    throw ApiErrorHandler.createError(\n      'Reorder point is required and must be a valid number',\n      'VALIDATION_ERROR',\n      400,\n    );\n  }\n\n  if (!unit || unit.trim() === '') {\n    throw ApiErrorHandler.createError('Unit is required', 'VALIDATION_ERROR', 400);\n  }\n\n  return { ingredientId, parLevel, reorderPoint, unit };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/par-levels/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":98,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3168,3171],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3168,3171],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":99,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":99,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3237,3240],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3237,3240],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":150,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":150,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4709,4712],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4709,4712],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":151,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":151,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4778,4781],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4778,4781],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":185,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":185,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5695,5698],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5695,5698],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":186,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":186,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5764,5767],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5764,5767],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { authenticateAndSetup } from './helpers/authenticateAndSetup';\nimport { checkTableExists } from './helpers/checkTableExists';\nimport { createParLevel } from './helpers/createParLevel';\nimport { deleteParLevel } from './helpers/deleteParLevel';\nimport { fetchParLevels } from './helpers/fetchParLevels';\nimport { handleParLevelError } from './helpers/handleParLevelError';\nimport { createParLevelSchema, updateParLevelSchema } from './helpers/schemas';\nimport { updateParLevel } from './helpers/updateParLevel';\n\nexport async function GET(request: NextRequest) {\n  try {\n    // Authenticate and setup Supabase\n    const { supabaseAdmin, error: authError } = await authenticateAndSetup(request);\n    if (authError) {\n      return authError;\n    }\n\n    // Check if table exists\n    const { exists, error: tableError } = await checkTableExists(supabaseAdmin!);\n    if (tableError) {\n      return tableError;\n    }\n\n    // Fetch par levels\n    const { data, error: fetchError } = await fetchParLevels(supabaseAdmin!);\n    if (fetchError) {\n      return fetchError;\n    }\n\n    return NextResponse.json({\n      success: true,\n      data: data || [],\n    });\n  } catch (err) {\n    logger.error('[Par Levels API] Unexpected error in GET:', {\n      error: err instanceof Error ? err.message : String(err),\n      stack: err instanceof Error ? err.stack : undefined,\n      errorType: err?.constructor?.name,\n      errorDetails: err,\n    });\n\n    // If it's already a NextResponse, return it\n    if (err && typeof err === 'object' && 'status' in err && 'json' in err) {\n      return err as NextResponse;\n    }\n\n    return handleParLevelError(err, 'GET');\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { supabaseAdmin, error: authError } = await authenticateAndSetup(request);\n    if (authError) {\n      return authError;\n    }\n\n    let body: unknown;\n    try {\n      body = await request.json();\n    } catch (err) {\n      logger.warn('[Par Levels API] Failed to parse request body:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid request body', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const validationResult = createParLevelSchema.safeParse(body);\n    if (!validationResult.success) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          validationResult.error.issues[0]?.message || 'Invalid request body',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    const data = await createParLevel(validationResult.data);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Par level created successfully',\n      data,\n    });\n  } catch (err: unknown) {\n    logger.error('[Par Levels API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { endpoint: '/api/par-levels', method: 'POST' },\n    });\n    if ((err as any).status) {\n      return NextResponse.json(err, { status: (err as any).status });\n    }\n    return handleParLevelError(err, 'POST');\n  }\n}\n\nexport async function PUT(request: NextRequest) {\n  try {\n    const { supabaseAdmin, error: authError } = await authenticateAndSetup(request);\n    if (authError) {\n      return authError;\n    }\n\n    let body: unknown;\n    try {\n      body = await request.json();\n    } catch (err) {\n      logger.warn('[Par Levels API] Failed to parse request body:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid request body', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const validationResult = updateParLevelSchema.safeParse(body);\n    if (!validationResult.success) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          validationResult.error.issues[0]?.message || 'Invalid request body',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    const { id, ...updates } = validationResult.data;\n    const data = await updateParLevel(id, updates);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Par level updated successfully',\n      data,\n    });\n  } catch (err: unknown) {\n    logger.error('[Par Levels API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { endpoint: '/api/par-levels', method: 'PUT' },\n    });\n    if ((err as any).status) {\n      return NextResponse.json(err, { status: (err as any).status });\n    }\n    return handleParLevelError(err, 'PUT');\n  }\n}\n\nexport async function DELETE(request: NextRequest) {\n  try {\n    const { supabaseAdmin, error: authError } = await authenticateAndSetup(request);\n    if (authError) {\n      return authError;\n    }\n\n    const { searchParams } = new URL(request.url);\n    const id = searchParams.get('id');\n\n    if (!id) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Par level ID is required', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    await deleteParLevel(id);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Par level deleted successfully',\n    });\n  } catch (err: unknown) {\n    logger.error('[Par Levels API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { endpoint: '/api/par-levels', method: 'DELETE' },\n    });\n    if ((err as any).status) {\n      return NextResponse.json(err, { status: (err as any).status });\n    }\n    return handleParLevelError(err, 'DELETE');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/performance/helpers/handlePerformanceError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/performance/helpers/processPerformanceData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/performance/helpers/upsertSalesData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/performance/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":185,"column":76,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":185,"endColumn":79,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6311,6314],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6311,6314],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { evaluateGate } from '@/lib/feature-gate';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { handlePerformanceError } from './helpers/handlePerformanceError';\nimport { processPerformanceData } from './helpers/processPerformanceData';\nimport { upsertSalesData } from './helpers/upsertSalesData';\n\nexport async function GET(request: NextRequest) {\n  try {\n    const gate = evaluateGate('analytics', request);\n    if (!gate.allowed) {\n      return NextResponse.json(ApiErrorHandler.createError('Access denied', 'FORBIDDEN', 403), {\n        status: 403,\n      });\n    }\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    // Get date range and menu filter from query parameters\n    const { searchParams } = new URL(request.url);\n    const startDateParam = searchParams.get('startDate');\n    const endDateParam = searchParams.get('endDate');\n    const menuIdParam = searchParams.get('menuId');\n    const lockedMenuOnly = searchParams.get('lockedMenuOnly') === 'true';\n\n    // If filtering by locked menu, find the locked menu first\n    let targetMenuId: string | null = menuIdParam || null;\n    if (lockedMenuOnly && !targetMenuId) {\n      const { data: lockedMenu, error: lockedMenuError } = await supabaseAdmin\n        .from('menus')\n        .select('id')\n        .eq('is_locked', true)\n        .single();\n\n      if (lockedMenuError) {\n        logger.error('[Performance API] Error fetching locked menu:', {\n          error: lockedMenuError.message,\n          code: lockedMenuError.code,\n          context: { endpoint: '/api/performance', operation: 'GET' },\n        });\n      } else if (lockedMenu) {\n        targetMenuId = lockedMenu.id;\n        logger.dev('[Performance API] Filtering by locked menu:', { menuId: targetMenuId });\n      } else {\n        logger.dev('[Performance API] No locked menu found, showing all dishes');\n      }\n    }\n\n    // Build base query\n    let dishesQuery = supabaseAdmin.from('menu_dishes').select(\n      `\n        *,\n        sales_data (\n          id,\n          number_sold,\n          popularity_percentage,\n          date\n        )\n      `,\n    );\n\n    // Filter by menu if menuId is provided\n    if (targetMenuId) {\n      // Get dish IDs from menu_items for this menu\n      const { data: menuItems, error: menuItemsError } = await supabaseAdmin\n        .from('menu_items')\n        .select('dish_id')\n        .eq('menu_id', targetMenuId)\n        .not('dish_id', 'is', null);\n\n      if (menuItemsError) {\n        logger.error('[Performance API] Error fetching menu items:', {\n          error: menuItemsError.message,\n          code: menuItemsError.code,\n          context: { endpoint: '/api/performance', operation: 'GET', menuId: targetMenuId },\n        });\n        // Continue without filtering if there's an error\n      } else if (menuItems && menuItems.length > 0) {\n        const dishIds = menuItems.map(item => item.dish_id).filter(Boolean) as string[];\n        dishesQuery = dishesQuery.in('id', dishIds);\n        logger.dev('[Performance API] Filtering dishes by menu:', {\n          menuId: targetMenuId,\n          dishCount: dishIds.length,\n        });\n      } else {\n        // No dishes in this menu, return empty result\n        logger.dev('[Performance API] No dishes found in menu:', { menuId: targetMenuId });\n        return NextResponse.json({\n          success: true,\n          data: [],\n          message: 'No dishes found in the specified menu',\n          metadata: {\n            methodology: 'PrepFlow COGS Dynamic',\n            filteredByMenu: targetMenuId,\n          },\n        });\n      }\n    }\n\n    const { data: dishes, error: dishesError } = await dishesQuery.order('created_at', {\n      ascending: false,\n    });\n\n    if (dishesError) {\n      logger.error('[Performance API] Database error fetching dishes:', {\n        error: dishesError.message,\n        code: dishesError.code,\n        context: { endpoint: '/api/performance', operation: 'GET', table: 'menu_dishes' },\n      });\n\n      const apiError = ApiErrorHandler.fromSupabaseError(dishesError, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n\n    // Process performance data\n    const { performanceData, metadata } = processPerformanceData(\n      dishes || [],\n      startDateParam,\n      endDateParam,\n    );\n\n    return NextResponse.json({\n      success: true,\n      data: performanceData,\n      message: 'Performance data retrieved successfully',\n      metadata,\n    });\n  } catch (err) {\n    logger.error('[Performance API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { endpoint: '/api/performance', method: 'GET' },\n    });\n    return handlePerformanceError(err, 'GET');\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { dish_id, number_sold, popularity_percentage, date } = await request.json();\n\n    if (!dish_id || !number_sold || !popularity_percentage) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          'dish_id, number_sold, and popularity_percentage are required',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    const data = await upsertSalesData({\n      dish_id,\n      number_sold,\n      popularity_percentage,\n      date,\n    });\n\n    return NextResponse.json({\n      success: true,\n      data,\n      message: 'Sales data updated successfully',\n    });\n  } catch (err: unknown) {\n    logger.error('[Performance API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { endpoint: '/api/performance', method: 'POST' },\n    });\n\n    // Type guard for ApiError-like objects\n    const hasStatus = (e: unknown): e is { status: number } =>\n      typeof e === 'object' && e !== null && 'status' in e && typeof (e as any).status === 'number';\n\n    if (hasStatus(err)) {\n      return NextResponse.json(err, { status: err.status });\n    }\n    return handlePerformanceError(err, 'POST');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/populate-clean-test-data/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/populate-recipes/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/[id]/qr-code/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/analyze-prep-details/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/batch-create/helpers/processBatch.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/batch-create/helpers/processBatch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/batch-create/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/aggregateFromRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/aggregateIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/aggregatePrepTechniques.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/analyzePrepDetails.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/collectRecipeAndDishIds.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/fetchBatchData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/fetchKitchenSections.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/fetchMenuData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/mergeDishRecipeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/processDish.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/processRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/helpers/validateRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1608,1611],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1608,1611],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":158,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":158,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5592,5595],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5592,5595],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":159,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":159,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5631,5634],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5631,5634],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { aggregateIngredientsFromRecipes } from './helpers/aggregateFromRecipes';\nimport { collectRecipeAndDishIds } from './helpers/collectRecipeAndDishIds';\nimport { fetchDishData, fetchRecipeIngredients } from './helpers/fetchBatchData';\nimport { fetchKitchenSections } from './helpers/fetchKitchenSections';\nimport { fetchMenuData } from './helpers/fetchMenuData';\nimport { mergeDishRecipeIngredients } from './helpers/mergeDishRecipeIngredients';\nimport { processDish } from './helpers/processDish';\nimport { processRecipe } from './helpers/processRecipe';\nimport { RecipeGroupedItem, SectionData } from './types';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const {\n      menuId,\n      userId,\n      error: validationError,\n    } = await import('./helpers/validateRequest').then(m => m.validateRequest(body));\n\n    if (validationError) {\n      return validationError;\n    }\n\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          'Database connection could not be established',\n          'DATABASE_ERROR',\n          500,\n        ),\n        { status: 500 },\n      );\n    }\n\n    // Fetch menu data\n    const { menu, menuItems } = await fetchMenuData(menuId!);\n\n    if (!menuItems || menuItems.length === 0) {\n      return NextResponse.json({\n        success: true,\n        menuName: (menu as any).menu_name,\n        sections: [],\n        unassignedItems: [],\n      });\n    }\n\n    // Fetch all kitchen sections\n    const sectionsMap = await fetchKitchenSections();\n\n    // Collect all recipe IDs and dish IDs for batch fetching\n    const { recipeIds, dishIds, recipeInstructionsMap } = collectRecipeAndDishIds(menuItems);\n\n    // Batch fetch all recipe ingredients upfront\n    const recipeIngredientsMap = await fetchRecipeIngredients(recipeIds);\n\n    // Batch fetch all dish data upfront\n    const { dishSectionsMap, dishRecipesMap, dishIngredientsMap } = await fetchDishData(\n      dishIds,\n      recipeIds,\n      recipeInstructionsMap,\n    );\n\n    // Merge dish recipe ingredients into main map\n    await mergeDishRecipeIngredients(recipeIds, recipeIngredientsMap);\n\n    // Map to store section data\n    const sectionsData = new Map<string | null, SectionData>();\n    const unassignedItems: RecipeGroupedItem[] = [];\n\n    // Process each menu item using pre-fetched data\n    for (const menuItem of menuItems) {\n      try {\n        // Handle dish - dishes relation might be an array or single object\n        if (menuItem.dish_id) {\n          const dishes = menuItem.dishes;\n          if (dishes) {\n            const dish = Array.isArray(dishes) ? dishes[0] : dishes;\n            if (dish && dish.id && dish.dish_name) {\n              const dishSection = dishSectionsMap.get(dish.id) || {\n                sectionId: null,\n                sectionName: 'Uncategorized',\n              };\n              const dishRecipes = dishRecipesMap.get(dish.id) || [];\n              const dishIngredients = dishIngredientsMap.get(dish.id) || [];\n\n              processDish(\n                dish.id,\n                dish.dish_name,\n                menuItem.category || 'Uncategorized',\n                sectionsData,\n                unassignedItems,\n                sectionsMap,\n                dishSection,\n                dishRecipes,\n                dishIngredients,\n                recipeIngredientsMap,\n                recipeInstructionsMap,\n              );\n              continue; // Skip recipe processing if dish was processed\n            }\n          }\n        }\n\n        // Handle recipe directly in menu - recipes relation might be an array or single object\n        if (menuItem.recipe_id) {\n          const recipes = menuItem.recipes;\n          if (recipes) {\n            const recipe = Array.isArray(recipes) ? recipes[0] : recipes;\n            if (recipe && recipe.id && (recipe.recipe_name || recipe.name)) {\n              const recipeIngredients = recipeIngredientsMap.get(recipe.id) || [];\n              const instructions = recipeInstructionsMap.get(recipe.id) || null;\n\n              processRecipe(\n                recipe.id,\n                recipe.recipe_name || recipe.name,\n                null,\n                null,\n                sectionsData,\n                unassignedItems,\n                sectionsMap,\n                1,\n                instructions,\n                recipeIngredients,\n                null, // No dish section for standalone recipes\n              );\n            }\n          }\n        }\n      } catch (itemError) {\n        logger.error(`Error processing menu item ${menuItem.id}:`, itemError);\n        // Continue processing other items even if one fails\n      }\n    }\n\n    // Convert sections map to array\n    let sections: SectionData[] = Array.from(sectionsData.values());\n\n    // Add uncategorized section if there are unassigned items\n    // Note: unassignedItems are essentially RecipeGroupedItem[]\n    if (unassignedItems.length > 0) {\n      sections.push({\n        sectionId: null,\n        sectionName: 'Uncategorized',\n        aggregatedIngredients: aggregateIngredientsFromRecipes(unassignedItems),\n        recipeGrouped: unassignedItems,\n        prepInstructions: [],\n      });\n    }\n\n    // AI prep details analysis removed - will be done async on frontend\n\n    return NextResponse.json({\n      success: true,\n      menuName: (menu as any).menu_name,\n      menuId: (menu as any).id,\n      sections,\n      unassignedItems: unassignedItems.length > 0 ? unassignedItems : undefined,\n    });\n  } catch (err) {\n    logger.error('Unexpected error:', err);\n    return NextResponse.json(\n      {\n        success: false,\n        error: 'Internal server error',\n        message: err instanceof Error ? err.message : 'Unknown error',\n      },\n      { status: 500 },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/generate-from-menu/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/helpers/buildMaps.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/helpers/combinePrepListData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/helpers/createPrepList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/helpers/deletePrepList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/helpers/fetchIngredientsBatch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/helpers/fetchPrepLists.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/helpers/handlePrepListError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/helpers/parseDeleteRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/helpers/transformItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/helpers/updatePrepList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/prep-lists/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/qr-codes/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/qualification-types/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/convert-units/helpers/batch-processing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/convert-units/helpers/file-operations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/convert-units/helpers/ingredient-conversion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/convert-units/helpers/unit-conversion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/convert-units/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/process-recipes/helpers/action-handlers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[244,247],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[244,247],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Action handlers for recipe processing\n */\n\nimport { isGroqAvailable, isGroqEnabled } from '@/lib/ai/groq-client';\nimport { logger } from '@/lib/logger';\n\n// Processor module exports functions directly (not as an object)\ntype Processor = any;\n\n/**\n * Handle pause action\n */\nexport function handlePauseAction(processor: Processor) {\n  processor.pauseProcessing();\n  const status = processor.getProcessingStatus();\n  return {\n    success: true,\n    message: 'Processing paused',\n    data: status,\n  };\n}\n\n/**\n * Handle resume action\n */\nexport function handleResumeAction(processor: Processor) {\n  processor.resumeProcessing();\n  const status = processor.getProcessingStatus();\n  return {\n    success: true,\n    message: 'Processing resumed',\n    data: status,\n  };\n}\n\n/**\n * Handle stop action\n */\nexport function handleStopAction(processor: Processor) {\n  processor.stopProcessing();\n  const status = processor.getProcessingStatus();\n  return {\n    success: true,\n    message: 'Processing stopped',\n    data: status,\n  };\n}\n\n/**\n * Handle start action - starts background processing\n */\nexport async function handleStartAction(\n  processor: Processor,\n  limit?: number,\n  model?: string,\n): Promise<{ success: boolean; message: string; data: unknown; status?: number }> {\n  // Check if already processing\n  const currentStatus = processor.getProcessingStatus();\n  if (currentStatus.isProcessing && !currentStatus.isPaused) {\n    return {\n      success: false,\n      message: 'Processing is already in progress',\n      data: currentStatus,\n    };\n  }\n\n  // Check provider availability (Groq primary, Ollama fallback)\n  const groqEnabled = isGroqEnabled();\n  const groqAvailable = groqEnabled ? await isGroqAvailable() : false;\n\n  // Select model based on provider\n  const selectedModel = model || (groqAvailable ? 'llama-3.1-8b-instant' : 'llama3.2:3b');\n  const provider = groqAvailable ? 'Groq API (fast, sub-second)' : 'Ollama (free, local)';\n\n  // Respond immediately - processing will start in background\n  const requestId = `req_${Date.now()}_${Math.random().toString(36).substring(7)}`;\n  logger.info('[Process Recipes API] Processing request received, responding immediately', {\n    requestId,\n    limit,\n    provider,\n    model: selectedModel,\n    groqEnabled,\n    groqAvailable,\n  });\n\n  // Start background processing\n  setImmediate(async () => {\n    try {\n      logger.info('[Process Recipes API] Starting background processing', {\n        requestId,\n        limit,\n        model: selectedModel,\n        provider,\n        groqEnabled,\n        groqAvailable,\n      });\n\n      await processor.processRecipes({\n        limit,\n        model: selectedModel,\n      });\n\n      logger.info('[Process Recipes API] Background processing completed', { requestId });\n    } catch (err) {\n      logger.error('[Process Recipes API] Background processing failed:', {\n        requestId,\n        error: err instanceof Error ? err.message : String(err),\n        stack: err instanceof Error ? err.stack : undefined,\n      });\n    }\n  });\n\n  return {\n    success: true,\n    message: `Processing started in background (using ${provider})`,\n    data: {\n      provider,\n      model: selectedModel,\n      groqEnabled,\n      groqAvailable,\n      note: groqAvailable\n        ? 'Using Groq API for fast processing (sub-second responses). Monitor usage at https://console.groq.com/'\n        : groqEnabled\n          ? 'Groq enabled but not available. Using Ollama fallback (free, local). Make sure Ollama is running: \"ollama serve\"'\n          : 'Using Ollama (free, local). Enable Groq by setting USE_GROQ=true and GROQ_API_KEY=your-key for faster processing. See: docs/GROQ_SETUP_GUIDE.md',\n    },\n    status: 202, // 202 Accepted for background processing\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/process-recipes/helpers/status-handlers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[256,259],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[256,259],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":36,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[850,853],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[850,853],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Status handling helpers for recipe processing\n */\n\nimport { logger } from '@/lib/logger';\nimport { isGroqEnabled, isGroqAvailable } from '@/lib/ai/groq-client';\n\n// Use any for status since it comes from the processor module\ntype ProcessingStatus = any;\n\n/**\n * Get default status when processor fails\n */\nexport function getDefaultStatus(): ProcessingStatus {\n  return {\n    isProcessing: false,\n    isPaused: false,\n    queueLength: 0,\n    activeProcessing: 0,\n    totalProcessed: 0,\n    totalRecipes: 0,\n    progressPercent: 0,\n    isStuck: false,\n    healthStatus: 'healthy',\n    aiProvider: 'Unknown',\n    aiProviderModel: 'Unknown',\n  };\n}\n\n/**\n * Enhance status with provider information and unformatted counts\n */\nexport async function enhanceProcessingStatus(\n  status: ProcessingStatus,\n  processor: {\n    getProcessingStatus: () => any;\n    countUnformattedRecipes: () => Promise<{ unformatted: number; formatted: number }>;\n  },\n): Promise<ProcessingStatus> {\n  // If not processing, calculate unformatted recipe count to show accurate numbers\n  if (!status.isProcessing) {\n    try {\n      const counts = await processor.countUnformattedRecipes();\n      status.totalRecipes = counts.unformatted;\n      status.skippedFormatted = counts.formatted;\n      logger.dev('[Process Recipes API] Calculated unformatted recipe counts', counts);\n    } catch (countErr) {\n      logger.warn('[Process Recipes API] Failed to count unformatted recipes:', {\n        error: countErr instanceof Error ? countErr.message : String(countErr),\n      });\n      // Continue with status.totalRecipes = 0 if counting fails\n    }\n  }\n\n  // Set default provider if not set (Groq primary, Ollama fallback)\n  if (!status.aiProvider) {\n    const groqEnabled = isGroqEnabled();\n    const groqAvailable = groqEnabled ? await isGroqAvailable() : false;\n\n    if (groqAvailable) {\n      status.aiProvider = 'Groq API';\n      status.aiProviderModel = 'llama-3.1-8b-instant';\n    } else {\n      status.aiProvider = 'Ollama';\n      status.aiProviderModel = 'llama3.2:3b';\n    }\n  }\n\n  return status;\n}\n\n/**\n * Get provider information for status response\n */\nexport async function getProviderInfo() {\n  const groqEnabled = isGroqEnabled();\n  const groqAvailable = groqEnabled ? await isGroqAvailable() : false;\n\n  return {\n    groqEnabled,\n    groqAvailable,\n    ollamaRecommended: !groqAvailable,\n    note: groqAvailable\n      ? 'Using Groq API (fast, sub-second responses)'\n      : groqEnabled\n        ? 'Groq enabled but not available. Using Ollama fallback (free, local).'\n        : 'Using Ollama (free, local). Enable Groq by setting USE_GROQ=true and GROQ_API_KEY=your-key for faster processing.',\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/process-recipes/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/recipes/helpers/filter-helpers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1185,1188],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1185,1188],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Filter helpers for recipe scraper API\n */\n\nimport { isRecipeFormatted } from '@/lib/utils/recipe-format-detection';\n\ninterface RecipeEntry {\n  id?: string;\n  recipe_name?: string;\n  updated_at?: string;\n  scraped_at?: string;\n  source?: string;\n  source_url?: string;\n  file_path?: string;\n}\n\n/**\n * Filter recipes by format status at index level (FAST - no file loading)\n */\nexport function filterByFormatAtIndex(entries: RecipeEntry[], formatFilter: string): RecipeEntry[] {\n  if (formatFilter === 'all') {\n    return entries;\n  }\n\n  return entries.filter(entry => {\n    if (!entry.updated_at || !entry.scraped_at || entry.updated_at === entry.scraped_at) {\n      return formatFilter === 'unformatted';\n    }\n\n    try {\n      const isFormatted = new Date(entry.updated_at) > new Date(entry.scraped_at);\n      return formatFilter === 'formatted' ? isFormatted : !isFormatted;\n    } catch {\n      const isFormatted = entry.updated_at > entry.scraped_at;\n      return formatFilter === 'formatted' ? isFormatted : !isFormatted;\n    }\n  });\n}\n\n/**\n * Filter recipes by format status after loading (SLOW - requires file loading)\n */\nexport function filterByFormatAfterLoad(recipes: any[], formatFilter: string): unknown[] {\n  if (formatFilter === 'all') {\n    return recipes;\n  }\n\n  return recipes.filter(recipe => {\n    const formatted = isRecipeFormatted(recipe);\n    return formatFilter === 'formatted' ? formatted : !formatted;\n  });\n}\n\n/**\n * Filter recipes by source\n */\nexport function filterBySource(entries: RecipeEntry[], sourceFilter?: string): RecipeEntry[] {\n  if (!sourceFilter) {\n    return entries;\n  }\n  return entries.filter(entry => entry.source === sourceFilter);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/recipes/helpers/storage-helpers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[674,677],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[674,677],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Storage helpers for recipe scraper API\n */\n\nimport { logger } from '@/lib/logger';\n\n/**\n * Load JSONStorage class dynamically\n */\nexport async function loadJSONStorage() {\n  try {\n    const storageMod = await import('../../../../../scripts/recipe-scraper/storage/json-storage');\n    return storageMod.JSONStorage;\n  } catch (importErr) {\n    logger.error('[Recipe Scraper API] Failed to import JSONStorage:', {\n      error: importErr instanceof Error ? importErr.message : String(importErr),\n    });\n    throw new Error('Failed to load JSONStorage module');\n  }\n}\n\n/**\n * Initialize storage with error handling\n */\nexport function initializeStorage(JSONStorageClass: any) {\n  try {\n    return new JSONStorageClass();\n  } catch (storageErr) {\n    logger.error('[Recipe Scraper API] Error initializing storage:', {\n      error: storageErr instanceof Error ? storageErr.message : String(storageErr),\n    });\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/recipes/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/resume/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/scrape/helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/scrape/helpers/scrape-helpers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[655,658],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[655,658],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Scrape operation helpers\n */\n\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { NextResponse } from 'next/server';\n\nexport async function loadStorage() {\n  try {\n    const storageMod = await import('../../../../../scripts/recipe-scraper/storage/json-storage');\n    return storageMod.JSONStorage;\n  } catch (importErr) {\n    logger.error('[Recipe Scraper API] Failed to load storage:', {\n      error: importErr instanceof Error ? importErr.message : String(importErr),\n    });\n    throw new Error('Failed to load JSONStorage module');\n  }\n}\n\nexport async function handleDiscovery(\n  scraper: any,\n  source: string,\n  limit: number,\n): Promise<string[]> {\n  try {\n    logger.info(`[Recipe Scraper API] Starting discovery mode for ${source} (limit: ${limit})`);\n    const recipeUrls = await scraper.getRecipeUrls(limit);\n    logger.info(`[Recipe Scraper API] Discovered ${recipeUrls.length} recipe URLs`);\n    return recipeUrls;\n  } catch (discoveryErr) {\n    logger.error('[Recipe Scraper API] Error in discovery mode:', {\n      error: discoveryErr instanceof Error ? discoveryErr.message : String(discoveryErr),\n      source,\n      limit,\n    });\n    throw NextResponse.json(\n      ApiErrorHandler.createError(`Failed to discover recipes from ${source}`, 'SERVER_ERROR', 500),\n      { status: 500 },\n    );\n  }\n}\n\nexport function handleManualUrls(urls: string[] | undefined): string[] {\n  if (!urls || urls.length === 0) {\n    throw NextResponse.json(\n      ApiErrorHandler.createError('URLs required when discovery is false', 'VALIDATION_ERROR', 400),\n      { status: 400 },\n    );\n  }\n  return urls;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/scrape/helpers/scraper-factory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/scrape/helpers/scraping-operations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/scrape/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/status/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-scraper/stop/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-share/helpers/createShareRecord.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":40,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1227,1230],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1227,1230],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\n\n/**\n * Create a recipe share record.\n *\n * @param {Object} shareData - Share data\n * @returns {Promise<Object>} Created share record\n * @throws {Error} If creation fails\n */\nexport async function createShareRecord(shareData: {\n  recipe_id: string;\n  share_type: string;\n  recipient_email?: string;\n  notes?: string;\n}) {\n  if (!supabaseAdmin) {\n    logger.error('[API] Database connection not available');\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  const { data: shareRecord, error: shareError } = await supabaseAdmin\n    .from('recipe_shares')\n    .insert({\n      recipe_id: shareData.recipe_id,\n      share_type: shareData.share_type,\n      recipient_email: shareData.recipient_email,\n      notes: shareData.notes,\n      status: 'pending',\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    })\n    .select()\n    .single();\n\n  if (shareError) {\n    logger.error('[Recipe Share API] Error creating share record:', {\n      error: shareError.message,\n      code: (shareError as any).code,\n      context: { endpoint: '/api/recipe-share', operation: 'POST', recipeId: shareData.recipe_id },\n    });\n    throw ApiErrorHandler.fromSupabaseError(shareError, 500);\n  }\n\n  return shareRecord;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-share/helpers/fetchRecipeWithIngredients.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1099,1102],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1099,1102],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\n\n/**\n * Fetch recipe with ingredients for sharing.\n *\n * @param {string} recipeId - Recipe ID\n * @returns {Promise<Object>} Recipe with ingredients\n * @throws {Error} If recipe not found\n */\nexport async function fetchRecipeWithIngredients(recipeId: string) {\n  if (!supabaseAdmin)\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n\n  const { data: recipe, error: recipeError } = await supabaseAdmin\n    .from('recipes')\n    .select(\n      `\n      *,\n      recipe_ingredients (\n        id,\n        ingredient_id,\n        quantity,\n        unit,\n        notes,\n        ingredients (\n          id,\n          ingredient_name,\n          name,\n          unit,\n          category\n        )\n      )\n    `,\n    )\n    .eq('id', recipeId)\n    .single();\n\n  if (recipeError || !recipe) {\n    logger.error('[Recipe Share API] Error fetching recipe:', {\n      error: recipeError?.message,\n      code: (recipeError as any)?.code,\n      context: { endpoint: '/api/recipe-share', operation: 'POST', recipeId },\n    });\n    throw ApiErrorHandler.createError('Recipe not found', 'NOT_FOUND', 404, {\n      message: \"couldn't find the specified recipe\",\n    });\n  }\n\n  return recipe;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-share/helpers/generateRecipePDF.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[290,293],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[290,293],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[714,717],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[714,717],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Generate HTML content for a recipe PDF/export\n * Uses unified template system with Cyber Carrot branding\n *\n * @param {Object} recipe - Recipe object with ingredients and instructions\n * @returns {string} HTML content for PDF generation\n */\nexport function generateRecipePDF(recipe: any): string {\n  // Import formatting utilities\n  const { formatRecipeForPrint } = require('@/app/webapp/recipes/utils/formatRecipeForPrint');\n  const { getRecipePrintStyles } = require('@/app/webapp/recipes/utils/recipePrintStyles');\n  const { generateExportTemplate } = require('@/lib/exports/pdf-template');\n\n  // Format ingredients for the print function\n  const ingredients = (recipe.recipe_ingredients || []).map((ri: any) => ({\n    ...ri,\n    ingredients: ri.ingredients || {},\n  }));\n\n  // Format recipe content as HTML\n  const contentHtml = formatRecipeForPrint({\n    recipe: {\n      recipe_name: recipe.recipe_name || recipe.name || 'Unnamed Recipe',\n      description: recipe.description || null,\n      yield: recipe.yield || 1,\n      yield_unit: recipe.yield_unit || 'servings',\n      category: recipe.category || null,\n      allergens: recipe.allergens || [],\n      is_vegetarian: recipe.is_vegetarian || false,\n      is_vegan: recipe.is_vegan || false,\n      instructions: recipe.instructions || null,\n      notes: recipe.notes || null,\n    },\n    ingredients,\n  });\n\n  // Get recipe-specific styles\n  const recipeStyles = getRecipePrintStyles();\n\n  // Generate full HTML using unified template\n  const html = generateExportTemplate({\n    title: recipe.recipe_name || recipe.name || 'Recipe',\n    subtitle: recipe.category || 'Recipe',\n    content: `<style>${recipeStyles}</style>${contentHtml}`,\n    totalItems: ingredients.length,\n    forPDF: true,\n  });\n\n  return html;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-share/helpers/handleRecipeShareError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-share/helpers/normalizeRecipeForShare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[236,239],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[236,239],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[336,339],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[336,339],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Normalize recipe data for sharing (ensures ingredient_name is present).\n *\n * @param {Object} recipe - Raw recipe data from database\n * @returns {Object} Normalized recipe data\n */\nexport function normalizeRecipeForShare(recipe: any) {\n  return {\n    ...recipe,\n    recipe_ingredients: (recipe.recipe_ingredients || []).map((ri: any) => ({\n      ...ri,\n      ingredients: {\n        ...ri.ingredients,\n        ingredient_name: ri.ingredients?.ingredient_name || ri.ingredients?.name,\n      },\n    })),\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipe-share/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":78,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2626,2629],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2626,2629],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":79,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2699,2702],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2699,2702],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":122,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":122,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3744,3747],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3744,3747],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { z } from 'zod';\nimport { createShareRecord } from './helpers/createShareRecord';\nimport { fetchRecipeWithIngredients } from './helpers/fetchRecipeWithIngredients';\nimport { generateRecipePDF } from './helpers/generateRecipePDF';\nimport { handleRecipeShareError } from './helpers/handleRecipeShareError';\nimport { normalizeRecipeForShare } from './helpers/normalizeRecipeForShare';\n\nconst shareRecipeSchema = z.object({\n  recipeId: z.string().min(1, 'Recipe ID is required'),\n  shareType: z.string().min(1, 'Share type is required'),\n  recipientEmail: z.string().email().optional().or(z.literal('')),\n  notes: z.string().optional(),\n});\n\nexport async function POST(request: NextRequest) {\n  try {\n    let body: unknown;\n    try {\n      body = await request.json();\n    } catch (err) {\n      logger.warn('[Recipe Share API] Failed to parse request body:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid request body', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const validationResult = shareRecipeSchema.safeParse(body);\n    if (!validationResult.success) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          validationResult.error.issues[0]?.message || 'Invalid request body',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    const { recipeId, shareType, recipientEmail, notes } = validationResult.data;\n\n    // Fetch recipe with ingredients\n    const recipe = await fetchRecipeWithIngredients(recipeId);\n\n    // Create share record\n    const shareRecord = await createShareRecord({\n      recipe_id: recipeId,\n      share_type: shareType,\n      recipient_email: recipientEmail,\n      notes,\n    });\n\n    // Normalize and generate PDF\n    const normalized = normalizeRecipeForShare(recipe);\n    const pdfContent = generateRecipePDF(normalized);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Recipe share created successfully',\n      data: {\n        shareRecord,\n        pdfContent: pdfContent,\n        recipe: recipe,\n      },\n    });\n  } catch (error: unknown) {\n    logger.error('[route.ts] Error in catch block:', {\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n    });\n\n    if ((error as any).status) {\n      return NextResponse.json(error, { status: (error as any).status });\n    }\n    return handleRecipeShareError(error, 'POST');\n  }\n}\n\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const userId = searchParams.get('userId');\n\n    if (!userId) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('User ID is required', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    const { data, error } = await supabaseAdmin\n      .from('recipe_shares')\n      .select(\n        `\n        *,\n        recipes (\n          id,\n          name,\n          description\n        )\n      `,\n      )\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false });\n\n    if (error) {\n      logger.error('[Recipe Share API] Database error fetching shares:', {\n        error: error.message,\n        code: (error as any).code,\n        context: { endpoint: '/api/recipe-share', operation: 'GET', userId },\n      });\n      const apiError = ApiErrorHandler.fromSupabaseError(error, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n\n    return NextResponse.json({\n      success: true,\n      data: data || [],\n    });\n  } catch (error) {\n    logger.error('[route.ts] Error in catch block:', {\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n    });\n\n    return handleRecipeShareError(error, 'GET');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/allergen-sources/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":87,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2636,2639],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2636,2639],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":87,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2667,2670],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2667,2670],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":149,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":149,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4486,4489],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4486,4489],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":150,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":150,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4539,4542],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4539,4542],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":170,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":170,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5039,5042],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5039,5042],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":170,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":170,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5070,5073],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5070,5073],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Recipe Allergen Sources API Endpoint\n * GET /api/recipes/[id]/allergen-sources\n * Returns which ingredients contribute which allergens to a recipe\n */\n\nimport { consolidateAllergens } from '@/lib/allergens/australian-allergens';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextRequest, NextResponse } from 'next/server';\n\n/**\n * Gets allergen sources for a recipe (which ingredients contribute which allergens).\n *\n * @param {NextRequest} request - Next.js request object\n * @param {Object} context - Route context with params\n * @returns {Promise<NextResponse>} Allergen sources\n */\nexport async function GET(_request: NextRequest, context: { params: Promise<{ id: string }> }) {\n  try {\n    const { id } = await context.params;\n    const recipeId = id;\n\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    if (!recipeId) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Recipe ID is required', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    // Fetch recipe to get name\n    const { data: recipe, error: recipeError } = await supabaseAdmin\n      .from('recipes')\n      .select('id, name, recipe_name')\n      .eq('id', recipeId)\n      .single();\n\n    if (recipeError || !recipe) {\n      return NextResponse.json(ApiErrorHandler.createError('Recipe not found', 'NOT_FOUND', 404), {\n        status: 404,\n      });\n    }\n\n    // Fetch all ingredients in recipe with their allergens\n    const { data: recipeIngredients, error: ingredientsError } = await supabaseAdmin\n      .from('recipe_ingredients')\n      .select(\n        `\n        ingredient_id,\n        quantity,\n        unit,\n        ingredients (\n          id,\n          ingredient_name,\n          brand,\n          allergens,\n          allergen_source\n        )\n      `,\n      )\n      .eq('recipe_id', recipeId);\n\n    if (ingredientsError) {\n      logger.error('[Recipe Allergen Sources API] Error fetching recipe ingredients:', {\n        recipeId,\n        error: ingredientsError.message,\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Failed to fetch recipe ingredients', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    if (!recipeIngredients || recipeIngredients.length === 0) {\n      return NextResponse.json({\n        success: true,\n        data: {\n          recipe_id: recipeId,\n          recipe_name: (recipe as any).recipe_name || (recipe as any).name,\n          allergen_sources: [],\n          total_allergens: [],\n        },\n      });\n    }\n\n    // Build allergen sources map\n    const allergenSources: Record<\n      string,\n      Array<{\n        ingredient_id: string;\n        ingredient_name: string;\n        brand?: string;\n        quantity?: number;\n        unit?: string;\n        allergen_source?: {\n          manual?: boolean;\n          ai?: boolean;\n        };\n      }>\n    > = {};\n\n    const allAllergens = new Set<string>();\n\n    interface RawRecipeIngredientJoin {\n      ingredient_id: string;\n      quantity: number; // quantity can be number or string from DB depending on driver, simplified here or needs stricter check\n      unit: string;\n      ingredients: {\n        id: string;\n        ingredient_name: string;\n        brand?: string;\n        allergens?: string[];\n        allergen_source?: {\n          manual?: boolean;\n          ai?: boolean;\n        };\n      } | null;\n    }\n\n    recipeIngredients.forEach(ri => {\n      const ingredient = (ri as unknown as RawRecipeIngredientJoin).ingredients;\n\n      if (!ingredient) return;\n\n      const allergens = (ingredient.allergens as string[]) || []; // DB array type can be null, default to empty\n      // Consolidate allergens to handle old codes\n      const consolidatedAllergens = consolidateAllergens(allergens);\n\n      consolidatedAllergens.forEach(allergen => {\n        if (typeof allergen === 'string' && allergen.length > 0) {\n          allAllergens.add(allergen);\n\n          if (!allergenSources[allergen]) {\n            allergenSources[allergen] = [];\n          }\n\n          allergenSources[allergen].push({\n            ingredient_id: ingredient.id,\n            ingredient_name: ingredient.ingredient_name,\n            brand: ingredient.brand || undefined,\n            quantity: (ri as any).quantity || undefined,\n            unit: (ri as any).unit || undefined,\n            allergen_source: ingredient.allergen_source || undefined,\n          });\n        }\n      });\n    });\n\n    // Convert to array format\n    const allergenSourcesArray = Object.entries(allergenSources).map(\n      ([allergen_code, sources]) => ({\n        allergen_code,\n        sources,\n        source_count: sources.length,\n      }),\n    );\n\n    return NextResponse.json({\n      success: true,\n      data: {\n        recipe_id: recipeId,\n        recipe_name: (recipe as any).recipe_name || (recipe as any).name,\n        allergen_sources: allergenSourcesArray,\n        total_allergens: Array.from(allAllergens).sort(),\n      },\n    });\n  } catch (err) {\n    logger.error('[Recipe Allergen Sources API] Unexpected error:', err);\n    return NextResponse.json(\n      ApiErrorHandler.createError(\n        'Failed to fetch allergen sources',\n        'SERVER_ERROR',\n        500,\n        err instanceof Error ? err.message : String(err),\n      ),\n      { status: 500 },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/dietary-suitability/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/generate-image/helpers/fetchRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/generate-image/helpers/formatResponse.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/generate-image/helpers/generateImages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/generate-image/helpers/rateLimit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/generate-image/helpers/saveImages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/generate-image/helpers/validateRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/generate-image/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/helpers/buildUpdateData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/helpers/checkRecipeUsage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/helpers/deleteRecipeAndCleanup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/helpers/deleteRecipeHandler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[778,781],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[778,781],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextResponse } from 'next/server';\nimport { deleteRecipeAndCleanup } from './deleteRecipeAndCleanup';\nimport { validateRecipeDelete } from './validateRecipeDelete';\n\nexport async function handleDeleteRecipe(recipeId: string) {\n  try {\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    const validationError = await validateRecipeDelete(recipeId);\n    if (validationError) return validationError;\n\n    try {\n      await deleteRecipeAndCleanup(recipeId);\n    } catch (error: any) {\n      logger.error('[RecipeDelete] Error deleting recipe:', {\n        error: error.message,\n        code: error.code,\n        context: { endpoint: '/api/recipes/[id]', operation: 'DELETE', recipeId },\n      });\n\n      if (\n        error.message?.includes('foreign key constraint') ||\n        error.message?.includes('menu_dishes') ||\n        error.message?.includes('dish_recipes') ||\n        error.code === '23503'\n      ) {\n        return NextResponse.json(\n          ApiErrorHandler.createError(\n            'Recipe is used in dishes. Please remove it from all dishes first.',\n            'FOREIGN_KEY_VIOLATION',\n            400,\n          ),\n          { status: 400 },\n        );\n      }\n\n      const apiError = ApiErrorHandler.fromSupabaseError(error, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n\n    return NextResponse.json({\n      success: true,\n      message: 'Recipe deleted successfully',\n    });\n  } catch (err) {\n    logger.error('[Recipes API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      stack: err instanceof Error ? err.stack : undefined,\n      context: { endpoint: '/api/recipes/[id]', method: 'DELETE' },\n    });\n    return NextResponse.json(\n      ApiErrorHandler.createError(\n        process.env.NODE_ENV === 'development'\n          ? err instanceof Error\n            ? err.message\n            : 'Unknown error'\n          : 'Internal server error',\n        'SERVER_ERROR',\n        500,\n      ),\n      { status: 500 },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/helpers/detectRecipeChanges.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[675,678],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[675,678],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[694,697],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[694,697],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper for detecting recipe changes\n */\n\nexport interface RecipeChangeDetails {\n  yield?: {\n    field: string;\n    before: unknown;\n    after: unknown;\n    change: string;\n  };\n  instructions?: {\n    field: string;\n    change: string;\n  };\n  ingredients?: {\n    field: string;\n    change: string;\n  };\n}\n\n/**\n * Detects changes in recipe data\n *\n * @param {any} currentRecipe - Current recipe data\n * @param {any} updateData - Update data\n * @param {boolean} ingredientsChanged - Whether ingredients changed\n * @param {boolean} yieldChanged - Whether yield changed\n * @returns {Object} Change type and details\n */\nexport function detectRecipeChanges(\n  currentRecipe: any,\n  updateData: any,\n  ingredientsChanged: boolean,\n  yieldChanged: boolean,\n): { changeType: string; changeDetails: RecipeChangeDetails } {\n  const changeDetails: RecipeChangeDetails = {};\n  let changeType = 'updated';\n\n  if (currentRecipe) {\n    if (\n      yieldChanged &&\n      updateData.yield !== undefined &&\n      updateData.yield !== currentRecipe.yield\n    ) {\n      changeType = 'yield_changed';\n      changeDetails.yield = {\n        field: 'yield',\n        before: currentRecipe.yield,\n        after: updateData.yield,\n        change: updateData.yield > currentRecipe.yield ? 'increased' : 'decreased',\n      };\n    }\n\n    if (\n      updateData.instructions !== undefined &&\n      updateData.instructions !== currentRecipe.instructions\n    ) {\n      changeDetails.instructions = {\n        field: 'instructions',\n        change: 'instructions updated',\n      };\n    }\n  }\n\n  if (ingredientsChanged) {\n    changeType = 'ingredients_changed';\n    changeDetails.ingredients = {\n      field: 'ingredients',\n      change: 'ingredients updated',\n    };\n  }\n\n  return { changeType, changeDetails };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/helpers/enrichRecipeWithAllergens.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":75,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":78,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[668,671],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[668,671],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper for enriching recipe with allergen and dietary data\n */\n\nimport { aggregateRecipeAllergens } from '@/lib/allergens/allergen-aggregation';\nimport { consolidateAllergens } from '@/lib/allergens/australian-allergens';\nimport { aggregateRecipeDietaryStatus } from '@/lib/dietary/dietary-aggregation';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\n\n/**\n * Enriches recipe with aggregated allergens and dietary status\n *\n * @param {string} recipeId - Recipe ID\n * @param {any} recipe - Recipe data\n * @returns {Promise<any>} Enriched recipe\n */\nexport async function enrichRecipeWithAllergens(recipeId: string, recipe: any) {\n  // Always aggregate allergens and dietary status (even if cached)\n  const [allergens, dietaryStatus] = await Promise.all([\n    aggregateRecipeAllergens(recipeId),\n    aggregateRecipeDietaryStatus(recipeId),\n  ]);\n\n  // Consolidate allergens for validation\n  const consolidatedAllergens = consolidateAllergens(allergens || []);\n\n  // Runtime validation: check for conflict between vegan status and allergens\n  let validatedIsVegan = dietaryStatus?.isVegan ?? null;\n  if (validatedIsVegan === true) {\n    const hasMilk = consolidatedAllergens.includes('milk');\n    const hasEggs = consolidatedAllergens.includes('eggs');\n    if (hasMilk || hasEggs) {\n      logger.warn('[Recipes API] Runtime validation: vegan=true but allergens include milk/eggs', {\n        recipeId,\n        recipeName: recipe.recipe_name,\n        allergens: consolidatedAllergens,\n        hasMilk,\n        hasEggs,\n      });\n      validatedIsVegan = false;\n    }\n  }\n\n  // Update recipe cache with aggregated allergens if they differ\n  if (\n    allergens &&\n    allergens.length > 0 &&\n    (!recipe.allergens || JSON.stringify(recipe.allergens) !== JSON.stringify(allergens))\n  ) {\n    // Update cache in background (don't await)\n    supabaseAdmin\n      ?.from('recipes')\n      .update({ allergens })\n      .eq('id', recipeId)\n      .then(({ error }) => {\n        if (error) {\n          logger.warn('[Recipes API] Failed to cache aggregated allergens:', {\n            recipeId,\n            error: error.message,\n          });\n        }\n      });\n  }\n\n  return {\n    ...recipe,\n    allergens: consolidatedAllergens,\n    is_vegetarian: dietaryStatus?.isVegetarian ?? null,\n    is_vegan: validatedIsVegan,\n    dietary_confidence: dietaryStatus?.confidence ?? null,\n    dietary_method: dietaryStatus?.method ?? null,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/helpers/getDishNames.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/helpers/handleRecipeUpdate.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[890,893],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[890,893],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":81,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2426,2429],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2426,2429],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":81,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2464,2467],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2464,2467],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper for handling recipe updates\n */\n\nimport {\n  invalidateDishesWithRecipe,\n  invalidateRecipeAllergenCache,\n} from '@/lib/allergens/cache-invalidation';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { getUserEmail } from '@/lib/auth0-api-helpers';\nimport { logger } from '@/lib/logger';\nimport { invalidateMenuItemsWithRecipe } from '@/lib/menu-pricing/cache-invalidation';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextRequest } from 'next/server';\nimport { buildUpdateData } from './buildUpdateData';\nimport { detectRecipeChanges } from './detectRecipeChanges';\n\n/**\n * Handles recipe update logic\n *\n * @param {string} recipeId - Recipe ID\n * @param {any} body - Request body\n * @param {NextRequest} request - Request object\n * @returns {Promise<any>} Updated recipe\n */\nexport async function handleRecipeUpdate(\n  recipeId: string,\n  body: any,\n  request: NextRequest,\n): Promise<unknown> {\n  // Get user email for change tracking\n  let userEmail: string | null = null;\n  try {\n    userEmail = await getUserEmail(request);\n  } catch (tokenError) {\n    logger.warn('[Recipes API] Could not get user email for change tracking:', tokenError);\n  }\n\n  // Fetch current recipe to detect changes\n  let currentRecipe: unknown = null;\n  try {\n    const { data } = await supabaseAdmin!\n      .from('recipes')\n      .select('recipe_name, yield, instructions')\n      .eq('id', recipeId)\n      .single();\n    currentRecipe = data;\n  } catch (err) {\n    logger.warn('[Recipes API] Could not fetch current recipe for change detection:', err);\n  }\n\n  const updateData = buildUpdateData(body);\n  const ingredientsChanged = body.ingredients !== undefined;\n  const yieldChanged = body.yield !== undefined;\n\n  // Detect changes\n  const { changeType, changeDetails } = detectRecipeChanges(\n    currentRecipe,\n    updateData,\n    ingredientsChanged,\n    yieldChanged,\n  );\n\n  const { data: updatedRecipe, error: updateError } = await supabaseAdmin!\n    .from('recipes')\n    .update(updateData)\n    .eq('id', recipeId)\n    .select()\n    .single();\n\n  if (updateError) {\n    logger.error('[Recipes API] Database error updating recipe:', {\n      error: updateError.message,\n      code: updateError.code,\n      context: { endpoint: '/api/recipes/[id]', operation: 'PUT', recipeId },\n    });\n    throw ApiErrorHandler.fromSupabaseError(updateError, 500);\n  }\n\n  const recipeName =\n    (updatedRecipe as any).recipe_name || (currentRecipe as any)?.recipe_name || 'Unknown Recipe';\n\n  // Invalidate caches if needed\n  if (ingredientsChanged) {\n    (async () => {\n      try {\n        await Promise.all([\n          invalidateRecipeAllergenCache(recipeId),\n          invalidateDishesWithRecipe(recipeId),\n        ]);\n      } catch (err) {\n        logger.error('[Recipes API] Error invalidating allergen caches:', {\n          error: err instanceof Error ? err.message : String(err),\n          context: { recipeId, operation: 'invalidateAllergenCaches' },\n        });\n      }\n    })();\n  }\n\n  // Invalidate cached recommended prices if ingredients or yield changed\n  if (ingredientsChanged || yieldChanged) {\n    (async () => {\n      try {\n        await invalidateMenuItemsWithRecipe(\n          recipeId,\n          recipeName,\n          changeType,\n          changeDetails,\n          userEmail,\n        );\n      } catch (err) {\n        logger.error('[Recipes API] Error invalidating menu pricing cache:', {\n          error: err instanceof Error ? err.message : String(err),\n          context: { recipeId, recipeName, operation: 'invalidateMenuPricingCache' },\n        });\n      }\n    })();\n  }\n\n  return updatedRecipe;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/helpers/validateRecipeDelete.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/helpers/validateRecipeUpdate.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1643,1646],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1643,1646],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":75,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":78,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1675,1678],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1675,1678],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextResponse } from 'next/server';\n\n/**\n * Validate recipe update request.\n *\n * @param {string} recipeId - Recipe ID\n * @param {string} name - Recipe name\n * @returns {Promise<NextResponse | null>} Error response if validation fails, null if valid\n */\nexport async function validateRecipeUpdate(\n  recipeId: string,\n  name: string,\n): Promise<NextResponse | null> {\n  if (!recipeId) {\n    return NextResponse.json(\n      ApiErrorHandler.createError('Recipe ID is required', 'VALIDATION_ERROR', 400),\n      { status: 400 },\n    );\n  }\n\n  if (!name) {\n    return NextResponse.json(\n      ApiErrorHandler.createError('Recipe name is required', 'VALIDATION_ERROR', 400),\n      { status: 400 },\n    );\n  }\n\n  if (!supabaseAdmin) {\n    return NextResponse.json(\n      ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n      { status: 500 },\n    );\n  }\n\n  // Check if recipe exists\n  const { data: existingRecipe, error: checkError } = await supabaseAdmin\n    .from('recipes')\n    .select('id, name')\n    .eq('id', recipeId)\n    .single();\n\n  if (checkError || !existingRecipe) {\n    const apiError = checkError\n      ? ApiErrorHandler.fromSupabaseError(checkError, 404)\n      : ApiErrorHandler.createError('Recipe not found', 'NOT_FOUND', 404, { recipeId });\n    return NextResponse.json(apiError, { status: apiError.status || 404 });\n  }\n\n  // Check if new name conflicts with another recipe (case-insensitive)\n  const existingName = (existingRecipe as any).name || (existingRecipe as any).recipe_name;\n  if (name.trim().toLowerCase() !== existingName.toLowerCase()) {\n    const { data: conflictingRecipes, error: conflictError } = await supabaseAdmin\n      .from('recipes')\n      .select('id, name')\n      .ilike('name', name.trim())\n      .neq('id', recipeId);\n\n    if (conflictError) {\n      logger.error('[Recipes API] Error checking for name conflicts:', {\n        error: conflictError.message,\n        code: conflictError.code,\n        context: { endpoint: '/api/recipes/[id]', operation: 'PUT', recipeId },\n      });\n\n      const apiError = ApiErrorHandler.fromSupabaseError(conflictError, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n\n    if (conflictingRecipes && conflictingRecipes.length > 0) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          'A recipe with this name already exists. Please choose a different name.',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n  }\n\n  return null; // Validation passed\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/ingredients/helpers/backfillMissingIngredients.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[438,441],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[438,441],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2061,2064],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2061,2064],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\n\n/**\n * Backfill missing nested ingredients by fetching from ingredients table.\n *\n * @param {Array} rows - Recipe ingredient rows with potentially missing nested ingredients\n * @param {string} recipeId - Recipe ID for logging\n * @returns {Promise<Array>} Rows with backfilled ingredients\n */\nexport async function backfillMissingIngredients(\n  rows: any[],\n  recipeId: string,\n): Promise<unknown[]> {\n  const missingNested = rows.some(r => !r.ingredients);\n  if (!missingNested) return rows;\n\n  logger.debug('[Recipes API] Missing nested ingredients join; applying backfill', {\n    context: { endpoint: '/api/recipes/[id]/ingredients', recipeId },\n  });\n\n  const uniqueIds = Array.from(\n    new Set(rows.map(r => r.ingredient_id).filter((v: unknown) => Boolean(v))),\n  );\n\n  if (uniqueIds.length === 0) return rows;\n\n  if (!supabaseAdmin) return rows;\n\n  // Try to select with category first, fallback without if column doesn't exist\n  let { data: ingRows, error: ingError } = await supabaseAdmin\n    .from('ingredients')\n    .select(\n      'id, ingredient_name, cost_per_unit, cost_per_unit_incl_trim, unit, trim_peel_waste_percentage, yield_percentage, category',\n    )\n    .in('id', uniqueIds);\n\n  // If category column doesn't exist, retry without it\n  // If category column doesn't exist, retry without it\n  if (ingError && ingError.code === '42703' && ingError.message.includes('category')) {\n    logger.warn('[Recipes API] Category column not found in backfill, retrying without category', {\n      context: { endpoint: '/api/recipes/[id]/ingredients', recipeId },\n    });\n\n    const { data: retryData, error: retryError } = await supabaseAdmin\n      .from('ingredients')\n      .select(\n        'id, ingredient_name, cost_per_unit, cost_per_unit_incl_trim, unit, trim_peel_waste_percentage, yield_percentage',\n      )\n      .in('id', uniqueIds);\n\n    // Normalize the retry result to include category as null for type compatibility\n    ingRows = retryData?.map((ing: any) => ({\n      ...ing,\n      category: ing.category ?? null,\n    })) as typeof ingRows;\n    ingError = retryError;\n  }\n\n  if (ingError || !ingRows) return rows;\n\n  const byId: Record<string, unknown> = {};\n  ingRows.forEach(ir => {\n    byId[ir.id] = ir;\n  });\n\n  return rows.map(r => ({ ...r, ingredients: r.ingredients || byId[r.ingredient_id] }));\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/ingredients/helpers/fetchRecipeMetadata.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/ingredients/helpers/handleRecipeIngredientsError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/ingredients/helpers/mapRecipeIngredients.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[214,217],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[214,217],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[258,261],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[258,261],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Map recipe ingredient rows to normalized items format.\n *\n * @param {Array} rows - Recipe ingredient rows with ingredients\n * @returns {Array} Normalized items\n */\nexport function mapRecipeIngredients(rows: any[]): unknown[] {\n  return rows.map((row: any) => {\n    const ing = row.ingredients || {};\n    return {\n      id: row.id,\n      recipe_id: row.recipe_id,\n      ingredient_id: row.ingredient_id,\n      quantity: row.quantity,\n      unit: row.unit,\n      ingredients: {\n        id: ing.id,\n        ingredient_name: ing.ingredient_name || ing.name || 'Unknown',\n        cost_per_unit: ing.cost_per_unit,\n        cost_per_unit_incl_trim: ing.cost_per_unit_incl_trim,\n        unit: ing.unit || row.unit || null,\n        trim_peel_waste_percentage: ing.trim_peel_waste_percentage,\n        yield_percentage: ing.yield_percentage,\n        category: ing.category || null, // Handle missing category column gracefully\n      },\n    };\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/ingredients/helpers/saveRecipeIngredients.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[844,847],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[844,847],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { aggregateRecipeDietaryStatus } from '@/lib/dietary/dietary-aggregation';\nimport { logger } from '@/lib/logger';\nimport { invalidateMenuItemsWithRecipe } from '@/lib/menu-pricing/cache-invalidation';\nimport { supabaseAdmin } from '@/lib/supabase';\n\n/**\n * Save recipe ingredients (with optional update mode).\n *\n * @param {string} recipeId - Recipe ID\n * @param {Array} ingredients - Ingredients array\n * @param {boolean} isUpdate - If true, delete existing ingredients first\n * @param {string} recipeName - Recipe name (for change tracking)\n * @param {string} userEmail - User email (for change tracking)\n * @returns {Promise<Array>} Saved recipe ingredients\n * @throws {Error} If save fails\n */\nexport async function saveRecipeIngredients(\n  recipeId: string,\n  ingredients: any[],\n  isUpdate: boolean,\n  recipeName?: string | null,\n  userEmail?: string | null,\n): Promise<unknown[]> {\n  if (!supabaseAdmin) {\n    logger.error('[API] Database connection not available');\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  // If updating, delete existing ingredients first\n  if (isUpdate) {\n    const { error: deleteError } = await supabaseAdmin\n      .from('recipe_ingredients')\n      .delete()\n      .eq('recipe_id', recipeId);\n\n    if (deleteError) {\n      logger.error('[Recipes API] Database error deleting existing ingredients:', {\n        error: deleteError.message,\n        code: deleteError.code,\n        context: { endpoint: '/api/recipes/[id]/ingredients', operation: 'POST', recipeId },\n      });\n      throw ApiErrorHandler.fromSupabaseError(deleteError, 500);\n    }\n  }\n\n  // Insert new ingredients\n  const recipeIngredientInserts = ingredients.map(ing => ({\n    recipe_id: recipeId,\n    ingredient_id: ing.ingredient_id,\n    quantity: ing.quantity,\n    unit: ing.unit,\n  }));\n\n  const { data, error: ingredientsError } = await supabaseAdmin\n    .from('recipe_ingredients')\n    .insert(recipeIngredientInserts)\n    .select();\n\n  if (ingredientsError) {\n    logger.error('[Recipes API] Database error saving recipe ingredients:', {\n      error: ingredientsError.message,\n      code: ingredientsError.code,\n      context: { endpoint: '/api/recipes/[id]/ingredients', operation: 'POST', recipeId },\n    });\n    throw ApiErrorHandler.fromSupabaseError(ingredientsError, 500);\n  }\n\n  // Invalidate cached recommended prices for menu items using this recipe (with change tracking)\n  try {\n    await invalidateMenuItemsWithRecipe(\n      recipeId,\n      recipeName || undefined,\n      'ingredients_changed',\n      { field: 'ingredients', change: 'ingredients updated' },\n      userEmail || null,\n    );\n  } catch (err) {\n    logger.error('[Recipes API] Error invalidating menu pricing cache:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { recipeId, recipeName, operation: 'invalidateMenuPricingCache' },\n    });\n  }\n\n  // Trigger dietary recalculation with force=true to ensure fresh status after ingredients change\n  try {\n    await aggregateRecipeDietaryStatus(recipeId, false, true);\n  } catch (err) {\n    logger.error('[Recipes API] Error recalculating dietary status:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { recipeId, operation: 'aggregateRecipeDietaryStatus' },\n    });\n  }\n\n  return data || [];\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/ingredients/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":91,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2873,2876],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2873,2876],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":93,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":93,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2950,2953],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2950,2953],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { backfillMissingIngredients } from './helpers/backfillMissingIngredients';\nimport { handleRecipeIngredientsError } from './helpers/handleRecipeIngredientsError';\nimport { mapRecipeIngredients } from './helpers/mapRecipeIngredients';\nimport { saveRecipeIngredients } from './helpers/saveRecipeIngredients';\n\nexport async function GET(_req: NextRequest, context: { params: Promise<{ id: string }> }) {\n  let normalizedId: string | undefined;\n  try {\n    const { id } = await context.params;\n    const recipeId = id;\n    if (!recipeId) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Recipe ID is required', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    normalizedId = String(recipeId).trim();\n\n    // First try with category, fallback without if column doesn't exist\n    let { data, error } = await supabaseAdmin\n      .from('recipe_ingredients')\n      .select(\n        `\n        id,\n        recipe_id,\n        ingredient_id,\n        quantity,\n        unit,\n        ingredients (\n          id,\n          ingredient_name,\n          unit,\n          cost_per_unit,\n          cost_per_unit_incl_trim,\n          trim_peel_waste_percentage,\n          yield_percentage,\n          category,\n          brand,\n          allergens,\n          allergen_source\n        )\n      `,\n      )\n      .eq('recipe_id', normalizedId);\n\n    // If category column doesn't exist, retry without it\n    // If category column doesn't exist, retry without it\n    if (error && error.code === '42703' && error.message.includes('category')) {\n      logger.warn('[Recipes API] Category column not found, retrying without category', {\n        context: { endpoint: '/api/recipes/[id]/ingredients', recipeId: normalizedId },\n      });\n\n      const { data: retryData, error: retryError } = await supabaseAdmin\n        .from('recipe_ingredients')\n        .select(\n          `\n          id,\n          recipe_id,\n          ingredient_id,\n          quantity,\n          unit,\n          ingredients (\n            id,\n            ingredient_name,\n            unit,\n            cost_per_unit,\n            cost_per_unit_incl_trim,\n            trim_peel_waste_percentage,\n            yield_percentage,\n            brand,\n            allergens,\n            allergen_source\n          )\n        `,\n        )\n        .eq('recipe_id', normalizedId);\n\n      // Normalize the retry result to include category as null for type compatibility\n      data = retryData?.map((item: any) => ({\n        ...item,\n        ingredients: item.ingredients?.map((ing: any) => ({\n          ...ing,\n          category: ing.category ?? null,\n        })),\n      })) as typeof data;\n      error = retryError;\n    }\n\n    if (error) {\n      logger.error('[Recipes API] Database error fetching recipe ingredients:', {\n        error: error.message,\n        code: error.code,\n        context: {\n          endpoint: '/api/recipes/[id]/ingredients',\n          operation: 'GET',\n          recipeId: normalizedId,\n        },\n      });\n\n      const apiError = ApiErrorHandler.fromSupabaseError(error, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n\n    if (!data || data.length === 0) {\n      logger.debug('[Recipes API] No recipe_ingredients found', {\n        context: { endpoint: '/api/recipes/[id]/ingredients', recipeId: normalizedId },\n      });\n      return NextResponse.json({ items: [] });\n    }\n\n    // Backfill missing nested ingredients and map to normalized format\n    const rows = await backfillMissingIngredients(data, normalizedId);\n    const items = mapRecipeIngredients(rows);\n\n    return NextResponse.json({ items });\n  } catch (err) {\n    logger.error('[Recipes API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: {\n        endpoint: '/api/recipes/[id]/ingredients',\n        method: 'GET',\n        recipeId: normalizedId || 'unknown',\n      },\n    });\n    return handleRecipeIngredientsError(err, 'GET');\n  }\n}\n\nexport async function POST(request: NextRequest, context: { params: Promise<{ id: string }> }) {\n  let recipeId: string | undefined;\n  try {\n    const { id } = await context.params;\n    recipeId = id;\n    const body = await request.json();\n    const { ingredients, isUpdate } = body;\n\n    if (!ingredients || !Array.isArray(ingredients)) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Ingredients array is required', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    const { fetchRecipeMetadata } = await import('./helpers/fetchRecipeMetadata');\n    const { userEmail, recipeName } = await fetchRecipeMetadata(request, recipeId);\n\n    const data = await saveRecipeIngredients(\n      recipeId,\n      ingredients,\n      isUpdate,\n      recipeName,\n      userEmail,\n    );\n\n    return NextResponse.json({\n      success: true,\n      message: 'Recipe ingredients saved successfully',\n      data,\n    });\n  } catch (err: unknown) {\n    logger.error('[Recipes API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: {\n        endpoint: '/api/recipes/[id]/ingredients',\n        method: 'POST',\n        recipeId: recipeId || 'unknown',\n      },\n    });\n    return handleRecipeIngredientsError(err, 'POST');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/qr-code/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/revalidate-dietary/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/[id]/suggest-plating-methods/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/allergens/batch/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/bulk-delete/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/bulk-share/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/dietary/batch/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/exists/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/helpers/buildQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/helpers/checkExistingRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/helpers/createRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/helpers/filterRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/helpers/updateRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/helpers/validateRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/ingredients/batch/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/recipes/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":36,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1466,1469],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1466,1469],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":37,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1504,1507],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1504,1507],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":112,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":112,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3813,3816],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3813,3816],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":130,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":130,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4462,4465],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4462,4465],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Recipes API Routes\n *\n *  Square Integration: This route automatically triggers Square sync hooks after recipe\n * create/update operations. See `docs/SQUARE_API_REFERENCE.md` (Automatic Sync section) for details.\n */\n\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { triggerRecipeSync } from '@/lib/square/sync/hooks';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { buildQuery } from './helpers/buildQuery';\nimport { checkExistingRecipe } from './helpers/checkExistingRecipe';\nimport { createRecipe } from './helpers/createRecipe';\nimport { filterRecipes } from './helpers/filterRecipes';\nimport { createRecipeSchema, RecipeResponse } from './helpers/schemas';\nimport { updateRecipe } from './helpers/updateRecipe';\nimport { validateRequest } from './helpers/validateRequest';\n\nexport async function GET(request: NextRequest) {\n  try {\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    const { searchParams } = new URL(request.url);\n    const params = validateRequest(searchParams);\n    const { data: recipes, error, count } = await buildQuery(supabaseAdmin, params);\n\n    if (error) {\n      logger.error('[Recipes API] Database error fetching recipes:', {\n        error: (error as any).message,\n        code: (error as any).code,\n        context: { endpoint: '/api/recipes', operation: 'GET', table: 'recipes' },\n      });\n\n      const apiError = ApiErrorHandler.fromSupabaseError(error, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n\n    const filteredRecipes = await filterRecipes(recipes || [], params.includeAllergens);\n\n    return NextResponse.json({\n      success: true,\n      recipes: filteredRecipes,\n      count: count || 0,\n      page: params.page,\n      pageSize: params.pageSize,\n    } satisfies RecipeResponse);\n  } catch (err) {\n    logger.error('[Recipes API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      stack: err instanceof Error ? err.stack : undefined,\n      context: { endpoint: '/api/recipes', method: 'GET' },\n    });\n    return NextResponse.json(\n      ApiErrorHandler.createError(\n        process.env.NODE_ENV === 'development'\n          ? err instanceof Error\n            ? err.message\n            : 'Unknown error'\n          : 'Internal server error',\n        'SERVER_ERROR',\n        500,\n      ),\n      { status: 500 },\n    );\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    let body: unknown;\n    try {\n      body = await request.json();\n    } catch (err) {\n      logger.warn('[Recipes API] Failed to parse request body:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid request body', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const validationResult = createRecipeSchema.safeParse(body);\n    if (!validationResult.success) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          validationResult.error.issues[0]?.message || 'Invalid request body',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    const recipeData = validationResult.data;\n\n    // Check if recipe already exists\n    const { recipe: existingRecipe, error: checkError } = await checkExistingRecipe(\n      recipeData.name,\n    );\n\n    if (existingRecipe && !checkError) {\n      // Update existing recipe\n      const { recipe: updatedRecipe, error: updateError } = await updateRecipe(\n        (existingRecipe as any).id,\n        recipeData,\n      );\n\n      if (updateError) {\n        const apiError = ApiErrorHandler.fromSupabaseError(updateError, 500);\n        return NextResponse.json(apiError, { status: apiError.status || 500 });\n      }\n\n      // Trigger Square sync hook (non-blocking)\n      (async () => {\n        try {\n          if (updatedRecipe) {\n            await triggerRecipeSync(request, updatedRecipe.id.toString(), 'update');\n          }\n        } catch (err) {\n          logger.error('[Recipes API] Error triggering Square sync:', {\n            error: err instanceof Error ? err.message : String(err),\n            recipeId: (existingRecipe as any).id,\n          });\n        }\n      })();\n\n      return NextResponse.json({\n        success: true,\n        recipe: updatedRecipe,\n        isNew: false,\n      } satisfies RecipeResponse);\n    }\n\n    // Create new recipe\n    const { recipe: newRecipe, error: createError } = await createRecipe(\n      recipeData.name,\n      recipeData,\n    );\n\n    if (createError) {\n      const safeError = createError as { message: string; code?: string };\n      logger.error('[Recipes API] Database error creating recipe:', {\n        error: safeError.message || String(createError),\n        code: safeError.code,\n        context: { endpoint: '/api/recipes', operation: 'POST', recipeName: recipeData.name },\n      });\n      const apiError = ApiErrorHandler.fromSupabaseError(createError, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n\n    // Trigger Square sync hook (non-blocking)\n    (async () => {\n      try {\n        if (newRecipe) {\n          await triggerRecipeSync(request, newRecipe.id.toString(), 'create');\n        }\n      } catch (err) {\n        logger.error('[Recipes API] Error triggering Square sync:', {\n          error: err instanceof Error ? err.message : String(err),\n          recipeId: newRecipe?.id,\n        });\n      }\n    })();\n\n    return NextResponse.json({\n      success: true,\n      recipe: newRecipe,\n      isNew: true,\n    } satisfies RecipeResponse);\n  } catch (err) {\n    const errorMessage = err instanceof Error ? err.message : String(err);\n    logger.error('[Recipes API] Unexpected error:', {\n      error: errorMessage,\n      stack: err instanceof Error ? err.stack : undefined,\n      context: { endpoint: '/api/recipes', method: 'POST' },\n    });\n    return NextResponse.json(\n      ApiErrorHandler.createError(\n        process.env.NODE_ENV === 'development' ? errorMessage : 'Internal server error',\n        'SERVER_ERROR',\n        500,\n      ),\n      { status: 500 },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/shifts/[id]/helpers/buildUpdateData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[92,95],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[92,95],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[112,115],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[112,115],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[148,151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[148,151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Build update data object from request body\n */\nexport function buildUpdateData(body: any, existingShift: any): unknown {\n  const updateData: any = {\n    updated_at: new Date().toISOString(),\n  };\n\n  if (body.employee_id !== undefined) updateData.employee_id = body.employee_id;\n  if (body.shift_date !== undefined) updateData.shift_date = body.shift_date;\n  if (body.start_time !== undefined) updateData.start_time = body.start_time;\n  if (body.end_time !== undefined) updateData.end_time = body.end_time;\n  if (body.status !== undefined) {\n    updateData.status = body.status;\n    // Set published_at if status changes to published\n    if (body.status === 'published' && existingShift.status !== 'published') {\n      updateData.published_at = new Date().toISOString();\n    }\n    // Clear published_at if status changes from published\n    if (body.status !== 'published' && existingShift.status === 'published') {\n      updateData.published_at = null;\n    }\n  }\n  if (body.role !== undefined) updateData.role = body.role;\n  if (body.break_duration_minutes !== undefined)\n    updateData.break_duration_minutes = body.break_duration_minutes;\n  if (body.notes !== undefined) updateData.notes = body.notes;\n  if (body.template_shift_id !== undefined) updateData.template_shift_id = body.template_shift_id;\n\n  return updateData;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/shifts/[id]/helpers/checkShiftExists.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/shifts/[id]/helpers/deleteShift.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/shifts/[id]/helpers/getShift.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/shifts/[id]/helpers/updateShift.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[411,414],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[411,414],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[433,436],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[433,436],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextResponse } from 'next/server';\nimport { validateShiftRequest } from '../../helpers/validateShiftRequest';\nimport { buildUpdateData } from './buildUpdateData';\n\n/**\n * Update shift by ID\n */\nexport async function updateShift(\n  shiftId: string,\n  body: any,\n  existingShift: any,\n): Promise<NextResponse> {\n  if (!supabaseAdmin) {\n    return NextResponse.json(\n      ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n      { status: 500 },\n    );\n  }\n\n  // Validate if required fields are present\n  if (body.start_time || body.end_time || body.shift_date) {\n    const validation = validateShiftRequest({ ...existingShift, ...body });\n    if (!validation.isValid) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          validation.error || 'Invalid request data',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n  }\n\n  // Build update data\n  const updateData = buildUpdateData(body, existingShift);\n\n  // Update shift\n  const { data: shift, error: updateError } = await supabaseAdmin\n    .from('shifts')\n    .update(updateData)\n    .eq('id', shiftId)\n    .select()\n    .single();\n\n  if (updateError) {\n    logger.error('[Shifts API] Database error updating shift:', {\n      error: updateError.message,\n      code: updateError.code,\n      context: { endpoint: '/api/roster/shifts/[id]', operation: 'PUT', shiftId },\n    });\n\n    const apiError = ApiErrorHandler.fromSupabaseError(updateError, 500);\n    return NextResponse.json(apiError, { status: apiError.status || 500 });\n  }\n\n  return NextResponse.json({\n    success: true,\n    shift,\n    message: 'Shift updated successfully',\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/shifts/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/shifts/helpers/buildShiftQuery.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[293,296],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[293,296],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[306,309],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[306,309],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Builds Supabase query for shifts with filters and pagination.\n *\n * @param {any} supabase - Supabase client\n * @param {any} params - Query parameters\n * @returns {Promise<{ data: any; error: any; count: number | null }>} Query result\n */\nexport async function buildShiftQuery(supabase: any, params: any) {\n  let query = supabase.from('shifts').select('*', { count: 'exact' });\n\n  // Filter by employee\n  if (params.employee_id) {\n    query = query.eq('employee_id', params.employee_id);\n  }\n\n  // Filter by status\n  if (params.status && params.status !== 'all') {\n    query = query.eq('status', params.status);\n  }\n\n  // Filter by date range\n  if (params.start_date) {\n    query = query.gte('shift_date', params.start_date);\n  }\n\n  if (params.end_date) {\n    query = query.lte('shift_date', params.end_date);\n  }\n\n  // Filter by specific date\n  if (params.shift_date) {\n    query = query.eq('shift_date', params.shift_date);\n  }\n\n  // Order by date and time\n  query = query.order('shift_date', { ascending: true }).order('start_time', { ascending: true });\n\n  // Pagination\n  const page = params.page || 1;\n  const pageSize = params.pageSize || 100;\n  const from = (page - 1) * pageSize;\n  const to = from + pageSize - 1;\n\n  query = query.range(from, to);\n\n  const { data, error, count } = await query;\n\n  return { data, error, count };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/shifts/helpers/createShiftHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/shifts/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/shifts/helpers/validateShiftRequest.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[204,207],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[204,207],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":93,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":96,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[253,256],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[253,256],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Validates shift request data.\n *\n * @param {any} body - Request body\n * @returns {{ isValid: boolean; error?: string; data?: any }} Validation result\n */\nexport function validateShiftRequest(body: any): { isValid: boolean; error?: string; data?: any } {\n  if (!body.employee_id) {\n    return { isValid: false, error: 'Employee ID is required' };\n  }\n\n  if (!body.shift_date) {\n    return { isValid: false, error: 'Shift date is required' };\n  }\n\n  if (!body.start_time) {\n    return { isValid: false, error: 'Start time is required' };\n  }\n\n  if (!body.end_time) {\n    return { isValid: false, error: 'End time is required' };\n  }\n\n  // Validate date format\n  const dateRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\n  if (!dateRegex.test(body.shift_date)) {\n    return { isValid: false, error: 'Invalid date format. Use YYYY-MM-DD' };\n  }\n\n  // Validate timestamps\n  const startTime = new Date(body.start_time);\n  const endTime = new Date(body.end_time);\n\n  if (isNaN(startTime.getTime())) {\n    return { isValid: false, error: 'Invalid start time format' };\n  }\n\n  if (isNaN(endTime.getTime())) {\n    return { isValid: false, error: 'Invalid end time format' };\n  }\n\n  if (endTime <= startTime) {\n    return { isValid: false, error: 'End time must be after start time' };\n  }\n\n  // Validate status if provided\n  const validStatuses = ['draft', 'published', 'completed', 'cancelled'];\n  if (body.status && !validStatuses.includes(body.status)) {\n    return { isValid: false, error: `Invalid status. Must be one of: ${validStatuses.join(', ')}` };\n  }\n\n  return {\n    isValid: true,\n    data: {\n      employee_id: body.employee_id,\n      template_shift_id: body.template_shift_id || null,\n      shift_date: body.shift_date,\n      start_time: body.start_time,\n      end_time: body.end_time,\n      status: body.status || 'draft',\n      role: body.role || null,\n      break_duration_minutes: body.break_duration_minutes || 0,\n      notes: body.notes || null,\n    },\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/shifts/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/templates/[id]/apply/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/templates/[id]/helpers/buildUpdateData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[92,95],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[92,95],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[128,131],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[128,131],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Build update data object from request body\n */\nexport function buildUpdateData(body: any): unknown {\n  const updateData: any = {\n    updated_at: new Date().toISOString(),\n  };\n\n  if (body.name !== undefined) updateData.name = body.name;\n  if (body.description !== undefined) updateData.description = body.description;\n  if (body.is_active !== undefined) updateData.is_active = body.is_active;\n\n  return updateData;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/templates/[id]/helpers/checkTemplateExists.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/templates/[id]/helpers/deleteTemplate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/templates/[id]/helpers/getTemplate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/templates/[id]/helpers/updateTemplate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/templates/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/templates/[id]/template-shifts/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/roster/templates/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/setup-cleaning-tasks/helpers/validateCleaningTables.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/setup-cleaning-tasks/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/setup-cleaning-tasks/run/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/setup-database/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/setup-menu-builder/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/setup-user-avatar/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/square/callback/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":88,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":88,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3172,3175],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3172,3175],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Square OAuth Callback Route\n * Handles OAuth callback from Square and exchanges authorization code for tokens.\n *\n *  Complete Reference: See `docs/SQUARE_API_REFERENCE.md` (OAuth Flow section) for\n * comprehensive OAuth setup and usage guide.\n */\n\nimport { getDetectedBaseUrl } from '@/lib/auth0';\nimport { getUserFromRequest } from '@/lib/auth0-api-helpers';\nimport { logger } from '@/lib/logger';\nimport { isSquarePOSEnabled } from '@/lib/square/feature-flags';\nimport { handleSquareCallback } from '@/lib/square/oauth-flow';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextRequest, NextResponse } from 'next/server';\n\nasync function getUserIdFromEmail(email: string): Promise<string | null> {\n  if (!supabaseAdmin) return null;\n  try {\n    const { data } = await supabaseAdmin.from('users').select('id').eq('email', email).single();\n    return data?.id || null;\n  } catch {\n    return null;\n  }\n}\n\n/**\n * GET /api/square/callback\n * Handle Square OAuth callback and exchange code for tokens\n */\nexport async function GET(request: NextRequest) {\n  const baseUrl = getDetectedBaseUrl();\n\n  try {\n    const user = await getUserFromRequest(request);\n    if (!user?.email) {\n      logger.warn('[Square Callback] Unauthenticated access attempt');\n      return NextResponse.redirect(`${baseUrl}/webapp/square?error=unauthorized`);\n    }\n\n    // Check feature flag\n    const enabled = await isSquarePOSEnabled(user.email, user.email);\n    if (!enabled) {\n      return NextResponse.redirect(`${baseUrl}/webapp/square?error=feature_disabled`);\n    }\n\n    const userId = await getUserIdFromEmail(user.email);\n    if (!userId) {\n      return NextResponse.redirect(`${baseUrl}/webapp/square?error=user_not_found`);\n    }\n\n    // Get OAuth callback parameters\n    const { searchParams } = new URL(request.url);\n    const code = searchParams.get('code');\n    const state = searchParams.get('state');\n    const error = searchParams.get('error');\n    const errorDescription = searchParams.get('error_description');\n\n    // Handle OAuth errors\n    if (error) {\n      logger.error('[Square Callback] OAuth error:', {\n        error,\n        errorDescription,\n        userId,\n      });\n      return NextResponse.redirect(\n        `${baseUrl}/webapp/square?error=${encodeURIComponent(error)}&error_description=${encodeURIComponent(errorDescription || '')}`,\n      );\n    }\n\n    // Validate required parameters\n    if (!code || !state) {\n      logger.error('[Square Callback] Missing required parameters:', {\n        hasCode: !!code,\n        hasState: !!state,\n        userId,\n      });\n      return NextResponse.redirect(`${baseUrl}/webapp/square?error=missing_parameters`);\n    }\n\n    // Handle callback using PrepFlow's credentials from environment\n    // Environment is included in the state token, so we don't need to pass it separately\n    // handleSquareCallback will use PrepFlow's Application ID and Secret from env vars\n    await handleSquareCallback(code, state, userId);\n\n    // Redirect to Square configuration page with success message\n    return NextResponse.redirect(`${baseUrl}/webapp/square#configuration?success=square_connected`);\n  } catch (error: any) {\n    logger.error('[Square Callback] Error:', {\n      error: error.message,\n      context: { endpoint: '/api/square/callback', method: 'GET' },\n    });\n\n    return NextResponse.redirect(\n      `${baseUrl}/webapp/square?error=${encodeURIComponent(error.message || 'oauth_failed')}`,\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/square/config/helpers/buildConfigInput.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/square/config/helpers/checkFeatureFlag.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/square/config/helpers/getUserId.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/square/config/helpers/handleError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/square/config/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":139,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4877,4880],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4877,4880],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Square Configuration API Routes\n *\n *  Complete Reference: See `docs/SQUARE_API_REFERENCE.md` (API Endpoints section) for\n * comprehensive API documentation, request/response formats, and usage examples.\n */\n\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { getUserFromRequest } from '@/lib/auth0-api-helpers';\nimport { logger } from '@/lib/logger';\nimport { deleteSquareConfig, getSquareConfig, saveSquareConfig } from '@/lib/square/config';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { z } from 'zod';\nimport { checkSquareFeatureFlag } from './helpers/checkFeatureFlag';\nimport { getUserIdFromEmail } from './helpers/getUserId';\nimport { handleSquareConfigError } from './helpers/handleError';\n\n/**\n * GET /api/square/config\n * Get Square configuration for current user\n */\nexport async function GET(request: NextRequest) {\n  try {\n    const user = await getUserFromRequest(request);\n    if (!user?.email) {\n      return NextResponse.json(ApiErrorHandler.createError('Unauthorized', 'UNAUTHORIZED', 401), {\n        status: 401,\n      });\n    }\n\n    // Check feature flag\n    const featureFlagError = await checkSquareFeatureFlag(user.email);\n    if (featureFlagError) return featureFlagError;\n\n    const userId = await getUserIdFromEmail(user.email);\n    if (!userId) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('User not found in database', 'USER_NOT_FOUND', 404),\n        { status: 404 },\n      );\n    }\n\n    const config = await getSquareConfig(userId);\n\n    const safeConfig = config ? { ...config, square_access_token_encrypted: undefined } : null;\n    return NextResponse.json({ success: true, config: safeConfig });\n  } catch (error) {\n    logger.error('[Square Config API] Error:', {\n      error: error instanceof Error ? error.message : String(error),\n      context: { endpoint: '/api/square/config', method: 'GET' },\n    });\n    return handleSquareConfigError(error);\n  }\n}\n\nconst squareConfigSchema = z\n  .object({\n    square_location_id: z.string().min(1).optional(),\n    square_access_token_encrypted: z.string().optional(),\n    square_application_id: z.string().optional(),\n    square_application_secret: z.string().optional(),\n    sync_enabled: z.boolean().optional(),\n    sync_direction: z.enum(['from_square', 'to_square', 'bidirectional']).optional(),\n    auto_sync_interval: z.number().int().positive().optional(),\n  })\n  .passthrough(); // Allow additional fields\n\n/**\n * POST /api/square/config\n * Save Square configuration for current user\n */\nexport async function POST(request: NextRequest) {\n  try {\n    const user = await getUserFromRequest(request);\n    if (!user?.email) {\n      return NextResponse.json(ApiErrorHandler.createError('Unauthorized', 'UNAUTHORIZED', 401), {\n        status: 401,\n      });\n    }\n\n    // Check feature flag\n    const featureFlagError = await checkSquareFeatureFlag(user.email);\n    if (featureFlagError) return featureFlagError;\n\n    const userId = await getUserIdFromEmail(user.email);\n    if (!userId) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('User not found in database', 'USER_NOT_FOUND', 404),\n        { status: 404 },\n      );\n    }\n\n    let body: unknown;\n    try {\n      body = await request.json();\n    } catch (err) {\n      logger.warn('[Square Config API] Failed to parse request body:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid request body', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const validationResult = squareConfigSchema.safeParse(body);\n    if (!validationResult.success) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          validationResult.error.issues[0]?.message || 'Invalid request body',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    // Map schema fields to SquareConfigInput format\n    if (\n      !validationResult.data.square_application_id ||\n      !validationResult.data.square_access_token_encrypted\n    ) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          'square_application_id and square_access_token_encrypted are required',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n    const { buildConfigInput } = await import('./helpers/buildConfigInput');\n    const configInput: Parameters<typeof saveSquareConfig>[1] = {\n      square_application_id: validationResult.data.square_application_id,\n      square_access_token: validationResult.data.square_access_token_encrypted,\n      ...(validationResult.data.square_application_secret && {\n        square_application_secret: validationResult.data.square_application_secret,\n      }),\n      ...(buildConfigInput(validationResult) as any),\n    };\n    const config = await saveSquareConfig(userId, configInput);\n\n    return NextResponse.json({\n      success: true,\n      config: {\n        ...config,\n        square_access_token_encrypted: undefined, // Don't send encrypted token to client\n      },\n    });\n  } catch (error) {\n    logger.error('[Square Config API] Error:', {\n      error: error instanceof Error ? error.message : String(error),\n      context: { endpoint: '/api/square/config', method: 'POST' },\n    });\n    return handleSquareConfigError(error);\n  }\n}\n\n/**\n * DELETE /api/square/config\n * Delete Square configuration for current user\n */\nexport async function DELETE(request: NextRequest) {\n  try {\n    const user = await getUserFromRequest(request);\n    if (!user?.email) {\n      return NextResponse.json(ApiErrorHandler.createError('Unauthorized', 'UNAUTHORIZED', 401), {\n        status: 401,\n      });\n    }\n\n    // Check feature flag\n    const featureFlagError = await checkSquareFeatureFlag(user.email);\n    if (featureFlagError) return featureFlagError;\n\n    const userId = await getUserIdFromEmail(user.email);\n    if (!userId) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('User not found in database', 'USER_NOT_FOUND', 404),\n        { status: 404 },\n      );\n    }\n\n    await deleteSquareConfig(userId);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Square configuration deleted',\n    });\n  } catch (error) {\n    logger.error('[Square Config API] Error:', {\n      error: error instanceof Error ? error.message : String(error),\n      context: { endpoint: '/api/square/config', method: 'DELETE' },\n    });\n    return handleSquareConfigError(error);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/square/mappings/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/square/oauth/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/square/status/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/square/sync/helpers/sync-operation-handler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[814,817],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[814,817],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync operation handler for Square sync API\n */\n\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport {\n  syncCatalogBidirectional,\n  syncCatalogFromSquare,\n  syncCatalogToSquare,\n} from '@/lib/square/sync/catalog';\nimport { syncCostsToSquare } from '@/lib/square/sync/costs';\nimport { performInitialSync } from '@/lib/square/sync/initial-sync';\nimport { syncOrdersFromSquare, syncRecentOrdersFromSquare } from '@/lib/square/sync/orders';\nimport {\n  syncStaffBidirectional,\n  syncStaffFromSquare,\n  syncStaffToSquare,\n} from '@/lib/square/sync/staff';\nimport { NextResponse } from 'next/server';\n\nexport async function handleSyncOperation(\n  operation: 'catalog' | 'orders' | 'staff' | 'costs' | 'initial_sync',\n  direction: 'from_square' | 'to_square' | 'bidirectional' | undefined,\n  options: any,\n  userId: string,\n) {\n  switch (operation) {\n    case 'catalog':\n      if (direction === 'from_square') {\n        return await syncCatalogFromSquare(userId, options?.locationId);\n      } else if (direction === 'to_square') {\n        return await syncCatalogToSquare(userId, options?.dishIds);\n      } else {\n        return await syncCatalogBidirectional(userId);\n      }\n\n    case 'orders':\n      if (options?.startDate && options?.endDate) {\n        return await syncOrdersFromSquare(\n          userId,\n          options.startDate,\n          options.endDate,\n          options?.locationId,\n        );\n      } else {\n        return await syncRecentOrdersFromSquare(userId, options?.days || 30, options?.locationId);\n      }\n\n    case 'staff':\n      if (direction === 'from_square') {\n        return await syncStaffFromSquare(userId);\n      } else if (direction === 'to_square') {\n        return await syncStaffToSquare(userId, options?.employeeIds);\n      } else {\n        return await syncStaffBidirectional(userId);\n      }\n\n    case 'costs':\n      return await syncCostsToSquare(userId, options?.dishIds);\n\n    case 'initial_sync': {\n      const { getSquareConfig } = await import('@/lib/square/config');\n      const config = await getSquareConfig(userId);\n      if (!config) {\n        throw NextResponse.json(\n          ApiErrorHandler.createError('Square configuration not found', 'CONFIG_NOT_FOUND', 404),\n          { status: 404 },\n        );\n      }\n      return await performInitialSync(userId, config);\n    }\n\n    default:\n      throw NextResponse.json(\n        ApiErrorHandler.createError(\n          `Unknown sync operation: ${operation}`,\n          'INVALID_OPERATION',\n          400,\n        ),\n        { status: 400 },\n      );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/square/sync/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/availability/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/availability/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/[id]/helpers/buildUpdateData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/[id]/helpers/checkEmailUniqueness.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/[id]/helpers/checkEmployeeExists.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/[id]/helpers/deleteEmployee.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/[id]/helpers/getEmployee.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/[id]/helpers/updateEmployee.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/helpers/buildEmployeeQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/helpers/createEmployeeHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/helpers/handleError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/helpers/validateEmployeeRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/staff/employees/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/helpers/buildPriceListQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/helpers/buildUpdateData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[479,482],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[479,482],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Build update data object for price list update.\n *\n * @param {Object} body - Request body with price list fields\n * @returns {Object} Update data object\n */\nexport function buildPriceListUpdateData(body: {\n  document_name?: string;\n  document_url?: string;\n  effective_date?: string;\n  expiry_date?: string;\n  notes?: string;\n  is_current?: boolean;\n}) {\n  const { document_name, document_url, effective_date, expiry_date, notes, is_current } = body;\n\n  const updateData: any = {};\n  if (document_name !== undefined) updateData.document_name = document_name;\n  if (document_url !== undefined) updateData.document_url = document_url;\n  if (effective_date !== undefined) updateData.effective_date = effective_date;\n  if (expiry_date !== undefined) updateData.expiry_date = expiry_date;\n  if (notes !== undefined) updateData.notes = notes;\n  if (is_current !== undefined) updateData.is_current = is_current;\n\n  return updateData;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/helpers/createPriceList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/helpers/createPriceListHandler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":81,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2743,2746],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2743,2746],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { validatePriceListCreate } from './validatePriceListCreate';\nimport { setCurrentPriceList } from './setCurrentPriceList';\nimport { createPriceList } from './createPriceList';\nimport { handlePriceListError } from './handlePriceListError';\nimport { createPriceListSchema } from './schemas';\n\nexport async function handleCreatePriceList(request: NextRequest) {\n  try {\n    let body: unknown;\n    try {\n      body = await request.json();\n    } catch (err) {\n      logger.warn('[Supplier Price Lists API] Failed to parse request body:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid request body', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const zodValidation = createPriceListSchema.safeParse(body);\n    if (!zodValidation.success) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          zodValidation.error.issues[0]?.message || 'Invalid request data',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    const validatedBody = zodValidation.data;\n    const { supplier_id, document_name, document_url, effective_date, expiry_date, notes } =\n      validatedBody;\n\n    // Validate request (keep helper validation for additional checks)\n    const validationError = validatePriceListCreate(validatedBody);\n    if (validationError) return validationError;\n\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    // If this is marked as current, set all other price lists for this supplier as not current\n    if (validatedBody.is_current !== false) {\n      await setCurrentPriceList(supplier_id);\n    }\n\n    // document_url is required, so ensure it's not null/undefined\n    if (!document_url) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Document URL is required', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const data = await createPriceList({\n      supplier_id,\n      document_name,\n      document_url,\n      effective_date: effective_date || null,\n      expiry_date: expiry_date || null,\n      is_current: validatedBody.is_current !== false,\n      notes: notes || null,\n    });\n\n    return NextResponse.json({\n      success: true,\n      message: 'Supplier price list created successfully',\n      data,\n    });\n  } catch (error: any) {\n    if (error.message) {\n      logger.error('[Supplier Price Lists API] Database error creating:', {\n        error: error.message,\n        code: error.code,\n        context: { endpoint: '/api/supplier-price-lists', operation: 'POST' },\n      });\n      const apiError = ApiErrorHandler.fromSupabaseError(error, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n    return handlePriceListError(error, 'POST');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/helpers/deletePriceListHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/helpers/handlePriceListError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/helpers/setCurrentPriceList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/helpers/updatePriceList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/helpers/updatePriceListHandler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1725,1728],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1725,1728],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { setCurrentPriceList } from './setCurrentPriceList';\nimport { buildPriceListUpdateData } from './buildUpdateData';\nimport { updatePriceList } from './updatePriceList';\nimport { handlePriceListError } from './handlePriceListError';\n\nexport async function handleUpdatePriceList(request: NextRequest) {\n  const body = await request.json();\n  const { id, is_current } = body;\n  try {\n    if (!id) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('ID is required', 'VALIDATION_ERROR', 400, {\n          message: 'Please provide an ID for the supplier price list to update',\n        }),\n        { status: 400 },\n      );\n    }\n\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    // If this is being set as current, set all other price lists for this supplier as not current\n    if (is_current === true) {\n      const { data: currentRecord } = await supabaseAdmin!\n        .from('supplier_price_lists')\n        .select('supplier_id')\n        .eq('id', id)\n        .single();\n      if (currentRecord) await setCurrentPriceList(currentRecord.supplier_id, id);\n    }\n\n    // Build update data\n    const updateData = buildPriceListUpdateData(body);\n\n    const data = await updatePriceList(id, updateData);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Supplier price list updated successfully',\n      data,\n    });\n  } catch (error: any) {\n    if (error.message) {\n      logger.error('[Supplier Price Lists API] Database error updating:', {\n        error: error.message,\n        code: error.code,\n        context: { endpoint: '/api/supplier-price-lists', operation: 'PUT', id },\n      });\n      const apiError = ApiErrorHandler.fromSupabaseError(error, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n    return handlePriceListError(error, 'PUT');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/helpers/validatePriceListCreate.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[361,364],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[361,364],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\n\n/**\n * Validate price list creation request.\n *\n * @param {Object} body - Request body\n * @returns {NextResponse | null} Error response if validation fails, null if valid\n */\nexport function validatePriceListCreate(body: unknown): NextResponse | null {\n  const { supplier_id, document_name, document_url } = body as any;\n\n  if (!supplier_id || !document_name || !document_url) {\n    return NextResponse.json(\n      {\n        error: 'Required fields missing',\n        message: 'Please provide supplier_id, document_name, and document_url',\n      },\n      { status: 400 },\n    );\n  }\n\n  return null; // Validation passed\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/supplier-price-lists/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/suppliers/[id]/qr-code/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/suppliers/helpers/buildSupplierData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[181,184],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[181,184],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Build supplier data object from request body.\n *\n * @param {Object} body - Request body\n * @returns {Object} Supplier data object\n */\nexport function buildSupplierData(body: any) {\n  return {\n    supplier_name: body.supplier_name,\n    contact_person: body.contact_person || null,\n    email: body.email || null,\n    phone: body.phone || null,\n    address: body.address || null,\n    website: body.website || null,\n    payment_terms: body.payment_terms || null,\n    delivery_schedule: body.delivery_schedule || null,\n    minimum_order_amount: body.minimum_order_amount ? parseFloat(body.minimum_order_amount) : null,\n    notes: body.notes || null,\n    is_active: body.is_active !== undefined ? body.is_active : true,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/suppliers/helpers/createSupplier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/suppliers/helpers/createSupplierHandler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":56,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1901,1904],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1901,1904],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { createSupplier } from '../helpers/createSupplier';\nimport { handleSupplierError } from './handleSupplierError';\nimport { createSupplierSchema } from './schemas';\n\nexport async function handleCreateSupplier(request: NextRequest) {\n  try {\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    let body: unknown;\n    try {\n      body = await request.json();\n    } catch (err) {\n      logger.warn('[Suppliers API] Failed to parse request body:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid request body', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const validationResult = createSupplierSchema.safeParse(body);\n    if (!validationResult.success) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          validationResult.error.issues[0]?.message || 'Invalid request body',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    const data = await createSupplier(validationResult.data);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Supplier created successfully',\n      data,\n    });\n  } catch (err: unknown) {\n    logger.error('[Suppliers API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { endpoint: '/api/suppliers', method: 'POST' },\n    });\n    if (err && typeof err === 'object' && 'status' in err) {\n      return NextResponse.json(err, { status: (err as any).status });\n    }\n    return handleSupplierError(err, 'POST');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/suppliers/helpers/deleteSupplier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/suppliers/helpers/deleteSupplierHandler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1093,1096],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1093,1096],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { deleteSupplier } from '../helpers/deleteSupplier';\nimport { handleSupplierError } from './handleSupplierError';\n\nexport async function handleDeleteSupplier(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const id = searchParams.get('id');\n\n    if (!id) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Supplier ID is required', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    await deleteSupplier(id);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Supplier deleted successfully',\n    });\n  } catch (err: unknown) {\n    logger.error('[Suppliers API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { endpoint: '/api/suppliers', method: 'DELETE' },\n    });\n    if (err && typeof err === 'object' && 'status' in err) {\n      return NextResponse.json(err, { status: (err as any).status });\n    }\n    return handleSupplierError(err, 'DELETE');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/suppliers/helpers/handleSupplierError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/suppliers/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/suppliers/helpers/updateSupplier.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[714,717],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[714,717],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[751,754],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[751,754],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[776,779],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[776,779],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { buildSupplierData } from './buildSupplierData';\n\n/**\n * Update a supplier.\n *\n * @param {string} id - Supplier ID\n * @param {Object} updates - Update data\n * @returns {Promise<Object>} Updated supplier\n * @throws {Error} If update fails\n */\nexport async function updateSupplier(id: string, updates: unknown) {\n  if (!supabaseAdmin) {\n    logger.error('[API] Database connection not available');\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  const updateData = buildSupplierData({\n    ...(updates as any),\n    supplier_name: (updates as any).name || (updates as any).supplier_name,\n  });\n\n  const { data, error } = await supabaseAdmin\n    .from('suppliers')\n    .update(updateData)\n    .eq('id', id)\n    .select()\n    .single();\n\n  if (error) {\n    logger.error('[Suppliers API] Database error updating supplier:', {\n      error: error.message,\n      code: error.code,\n      context: { endpoint: '/api/suppliers', operation: 'PUT', supplierId: id },\n    });\n    throw ApiErrorHandler.fromSupabaseError(error, 500);\n  }\n\n  return data;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/suppliers/helpers/updateSupplierHandler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1944,1947],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1944,1947],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { updateSupplier } from '../helpers/updateSupplier';\nimport { handleSupplierError } from './handleSupplierError';\nimport { updateSupplierSchema } from './schemas';\n\nexport async function handleUpdateSupplier(request: NextRequest) {\n  try {\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    let body: unknown;\n    try {\n      body = await request.json();\n    } catch (err) {\n      logger.warn('[Suppliers API] Failed to parse request body:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid request body', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const validationResult = updateSupplierSchema.safeParse(body);\n    if (!validationResult.success) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          validationResult.error.issues[0]?.message || 'Invalid request body',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    const { id, ...updates } = validationResult.data;\n    const data = await updateSupplier(id, updates);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Supplier updated successfully',\n      data,\n    });\n  } catch (err: unknown) {\n    logger.error('[Suppliers API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { endpoint: '/api/suppliers', method: 'PUT' },\n    });\n    if (err && typeof err === 'object' && 'status' in err) {\n      return NextResponse.json(err, { status: (err as any).status });\n    }\n    return handleSupplierError(err, 'PUT');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/suppliers/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/support/contact/helpers/checkRateLimit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/support/contact/helpers/createTicket.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/support/contact/helpers/detectSeverity.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/support/contact/helpers/getUserId.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/support/contact/helpers/validateRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/support/contact/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":77,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":80,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1919,1922],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1919,1922],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { requireAuth } from '@/lib/auth0-api-helpers';\nimport { logger } from '@/lib/logger';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { checkRateLimit } from './helpers/checkRateLimit';\nimport { createTicket } from './helpers/createTicket';\nimport { detectSeverity } from './helpers/detectSeverity';\nimport { getUserId } from './helpers/getUserId';\nimport { validateRequest } from './helpers/validateRequest';\n\n/**\n * POST /api/support/contact\n * Submit a support request\n *\n * @param {NextRequest} req - Request object with support request data\n * @returns {Promise<NextResponse>} Submission response\n */\nexport async function POST(req: NextRequest) {\n  try {\n    const user = await requireAuth(req);\n    if (!user?.email) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Authentication required', 'UNAUTHORIZED', 401),\n        { status: 401 },\n      );\n    }\n\n    const userEmail = user.email;\n\n    // Check rate limit\n    const rateLimit = checkRateLimit(userEmail);\n    if (!rateLimit.allowed) {\n      logger.warn('[Support API] Rate limit exceeded:', {\n        userEmail,\n        retryAfter: rateLimit.retryAfter,\n        context: { endpoint: '/api/support/contact', method: 'POST' },\n      });\n\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          'Too many requests. Give it another go in a moment, chef.',\n          'RATE_LIMIT_EXCEEDED',\n          429,\n        ),\n        {\n          status: 429,\n          headers: {\n            'Retry-After': String(rateLimit.retryAfter || 900),\n          },\n        },\n      );\n    }\n\n    const body = await req.json();\n\n    // Validate request body\n    const validation = validateRequest(body);\n    if (!validation.isValid) {\n      return validation.error!;\n    }\n\n    const { subject, message, type, related_error_id } = validation.data as any;\n\n    // Try to find user_id from email\n    const userId = await getUserId(userEmail);\n\n    // Auto-detect severity from message content\n    const severity = detectSeverity(subject, message);\n\n    // Store ticket in database\n    const ticketResult = await createTicket(\n      userId,\n      userEmail,\n      subject,\n      message,\n      type || 'other',\n      severity,\n      related_error_id || null,\n    );\n\n    if (ticketResult instanceof NextResponse) {\n      return ticketResult;\n    }\n\n    // TODO: Send email notification via Resend if SUPPORT_EMAIL_NOTIFICATIONS=true\n    // if (process.env.SUPPORT_EMAIL_NOTIFICATIONS === 'true') {\n    //   // Send email to hello@prepflow.org\n    // }\n\n    return NextResponse.json({\n      success: true,\n      message: 'Support request submitted successfully. We will respond within 48 hours.',\n      ticket_id: ticketResult.ticketId,\n    });\n  } catch (error) {\n    logger.error('[Support API] Unexpected error:', {\n      error: error instanceof Error ? error.message : String(error),\n      context: { endpoint: '/api/support/contact', method: 'POST' },\n    });\n\n    return NextResponse.json(\n      ApiErrorHandler.createError(\n        process.env.NODE_ENV === 'development'\n          ? error instanceof Error\n            ? error.message\n            : 'Unknown error'\n          : 'Internal server error',\n        'SERVER_ERROR',\n        500,\n      ),\n      { status: 500 },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-equipment/[id]/helpers/deleteTemperatureEquipmentHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-equipment/[id]/helpers/updateTemperatureEquipmentHandler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":92,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":92,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3356,3359],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3356,3359],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":134,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4988,4991],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4988,4991],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { detectTemperatureThresholds } from '../../helpers/detectTemperatureThresholds';\nimport { updateTemperatureEquipmentSchema } from '../../helpers/schemas';\n\nexport async function handleUpdateTemperatureEquipment(request: NextRequest, id: string) {\n  try {\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    if (!id) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Equipment ID is required', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    let body: unknown;\n    try {\n      body = await request.json();\n    } catch (err) {\n      logger.warn('[Temperature Equipment API] Failed to parse request body:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid request body', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const validationResult = updateTemperatureEquipmentSchema.safeParse(body);\n    if (!validationResult.success) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          validationResult.error.issues[0]?.message || 'Invalid request body',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    const validatedBody = validationResult.data;\n\n    // Get current equipment to use name/type for threshold detection if needed\n    const { data: currentEquipment, error: fetchError } = await supabaseAdmin\n      .from('temperature_equipment')\n      .select('name, equipment_type')\n      .eq('id', id)\n      .single();\n\n    if (fetchError) {\n      logger.error('[Temperature Equipment API] Error fetching equipment for update:', {\n        error: fetchError.message,\n        equipmentId: id,\n      });\n      const apiError = ApiErrorHandler.fromSupabaseError(fetchError, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n\n    // Automatically detect thresholds if not provided and name/type changed\n    let minTemp = validatedBody.min_temp_celsius ?? null;\n    let maxTemp = validatedBody.max_temp_celsius ?? null;\n\n    const name = validatedBody.name || currentEquipment?.name || '';\n    const equipmentType = validatedBody.equipment_type || currentEquipment?.equipment_type || '';\n\n    // Auto-detect if thresholds are null and we have name/type\n    if ((minTemp === null || maxTemp === null) && (name || equipmentType)) {\n      const detectedThresholds = detectTemperatureThresholds(name, equipmentType);\n      if (minTemp === null) {\n        minTemp = detectedThresholds.min_temp_celsius;\n      }\n      if (maxTemp === null) {\n        maxTemp = detectedThresholds.max_temp_celsius;\n      }\n      logger.dev('[Temperature Equipment API] Auto-detected thresholds on update:', {\n        id,\n        name,\n        equipment_type: equipmentType,\n        detected: detectedThresholds,\n        applied: { min_temp_celsius: minTemp, max_temp_celsius: maxTemp },\n      });\n    }\n\n    const updateData: Record<string, any> = {\n      updated_at: new Date().toISOString(),\n    };\n\n    if (validatedBody.name !== undefined) updateData.name = validatedBody.name;\n    if (validatedBody.equipment_type !== undefined)\n      updateData.equipment_type = validatedBody.equipment_type;\n    if (validatedBody.location !== undefined) updateData.location = validatedBody.location;\n    if (minTemp !== undefined) updateData.min_temp_celsius = minTemp;\n    if (maxTemp !== undefined) updateData.max_temp_celsius = maxTemp;\n    if (validatedBody.is_active !== undefined) updateData.is_active = validatedBody.is_active;\n\n    const { data, error } = await supabaseAdmin\n      .from('temperature_equipment')\n      .update(updateData)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) {\n      logger.error('[Temperature Equipment API] Database error updating equipment:', {\n        error: error.message,\n        code: error.code,\n        context: {\n          endpoint: `/api/temperature-equipment/${id}`,\n          operation: 'PUT',\n          equipmentId: id,\n        },\n      });\n\n      const apiError = ApiErrorHandler.fromSupabaseError(error, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n\n    return NextResponse.json({ success: true, data });\n  } catch (err: unknown) {\n    logger.error('[Temperature Equipment API] Unexpected error updating equipment:', {\n      error: err instanceof Error ? err.message : String(err),\n      stack: err instanceof Error ? err.stack : undefined,\n    });\n\n    if (err && typeof err === 'object' && 'status' in err) {\n      return NextResponse.json(err, { status: (err as any).status });\n    }\n\n    return NextResponse.json(\n      ApiErrorHandler.createError(\n        process.env.NODE_ENV === 'development'\n          ? err instanceof Error\n            ? err.message\n            : 'Unknown error'\n          : 'Internal server error',\n        'SERVER_ERROR',\n        500,\n      ),\n      { status: 500 },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-equipment/[id]/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-equipment/helpers/applyQueenslandStandards.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[247,250],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[247,250],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[255,258],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[255,258],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Apply Queensland food safety standards to equipment data.\n *\n * @param {Array} equipment - Equipment data array\n * @returns {Array} Equipment data with Queensland-compliant thresholds\n */\nexport function applyQueenslandStandards(equipment: any[]): any[] {\n  return equipment.map(eq => {\n    const name = eq.name.toLowerCase();\n\n    // Apply Queensland thresholds based on equipment type\n    if (name.includes('freezer') || name.includes('frozen')) {\n      return {\n        ...eq,\n        min_temp_celsius: -24, // Optimal minimum freezer temperature\n        max_temp_celsius: -18, // Queensland freezer standard - must be at or below -18C\n      };\n    } else if (name.includes('hot') || name.includes('warming') || name.includes('steam')) {\n      return {\n        ...eq,\n        min_temp_celsius: 60, // Queensland hot holding standard\n        max_temp_celsius: null, // No upper limit for hot holding\n      };\n    } else {\n      // Default to cold storage (fridges, walk-ins, etc.)\n      // Set 0C to 5C range for optimal food safety\n      return {\n        ...eq,\n        min_temp_celsius: 0, // Minimum temperature for cold storage\n        max_temp_celsius: 5, // Queensland cold storage standard - must be at or below 5C\n      };\n    }\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-equipment/helpers/createTemperatureEquipmentHandler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":114,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":114,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4101,4104],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4101,4104],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { detectTemperatureThresholds } from './detectTemperatureThresholds';\nimport { handleTemperatureEquipmentError } from './handleTemperatureEquipmentError';\nimport { createTemperatureEquipmentSchema } from './schemas';\n\nexport async function handleCreateTemperatureEquipment(request: NextRequest) {\n  try {\n    if (!supabaseAdmin) {\n      return NextResponse.json(\n        ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500),\n        { status: 500 },\n      );\n    }\n\n    let body: unknown;\n    try {\n      body = await request.json();\n    } catch (err) {\n      logger.warn('[Temperature Equipment API] Failed to parse request body:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      return NextResponse.json(\n        ApiErrorHandler.createError('Invalid request body', 'VALIDATION_ERROR', 400),\n        { status: 400 },\n      );\n    }\n\n    const validationResult = createTemperatureEquipmentSchema.safeParse(body);\n    if (!validationResult.success) {\n      return NextResponse.json(\n        ApiErrorHandler.createError(\n          validationResult.error.issues[0]?.message || 'Invalid request body',\n          'VALIDATION_ERROR',\n          400,\n        ),\n        { status: 400 },\n      );\n    }\n\n    const validatedBody = validationResult.data;\n\n    // Automatically detect thresholds if not provided (only if explicitly null/undefined)\n    let minTemp =\n      validatedBody.min_temp_celsius !== undefined && validatedBody.min_temp_celsius !== null\n        ? validatedBody.min_temp_celsius\n        : null;\n    let maxTemp =\n      validatedBody.max_temp_celsius !== undefined && validatedBody.max_temp_celsius !== null\n        ? validatedBody.max_temp_celsius\n        : null;\n\n    // Auto-detect if thresholds are null/undefined\n    if (minTemp === null || maxTemp === null) {\n      const detectedThresholds = detectTemperatureThresholds(\n        validatedBody.name,\n        validatedBody.equipment_type || '',\n      );\n      if (minTemp === null) {\n        minTemp = detectedThresholds.min_temp_celsius;\n      }\n      if (maxTemp === null) {\n        maxTemp = detectedThresholds.max_temp_celsius;\n      }\n      logger.dev('[Temperature Equipment API] Auto-detected thresholds:', {\n        name: validatedBody.name,\n        equipment_type: validatedBody.equipment_type,\n        detected: detectedThresholds,\n        applied: { min_temp_celsius: minTemp, max_temp_celsius: maxTemp },\n      });\n    }\n\n    const { data, error } = await supabaseAdmin\n      .from('temperature_equipment')\n      .insert([\n        {\n          name: validatedBody.name,\n          equipment_type: validatedBody.equipment_type,\n          location: validatedBody.location || null,\n          min_temp_celsius: minTemp,\n          max_temp_celsius: maxTemp,\n          is_active: validatedBody.is_active !== false,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n        },\n      ])\n      .select()\n      .single();\n\n    if (error) {\n      logger.error('[Temperature Equipment API] Database error creating equipment:', {\n        error: error.message,\n        code: error.code,\n        context: {\n          endpoint: '/api/temperature-equipment',\n          operation: 'POST',\n          table: 'temperature_equipment',\n        },\n      });\n\n      const apiError = ApiErrorHandler.fromSupabaseError(error, 500);\n      return NextResponse.json(apiError, { status: apiError.status || 500 });\n    }\n\n    return NextResponse.json({ success: true, data });\n  } catch (err: unknown) {\n    logger.error('[Temperature Equipment API] Unexpected error:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { endpoint: '/api/temperature-equipment', method: 'POST' },\n    });\n    if (err && typeof err === 'object' && 'status' in err) {\n      return NextResponse.json(err, { status: (err as any).status });\n    }\n    return handleTemperatureEquipmentError(err, 'POST');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-equipment/helpers/deleteTemperatureEquipmentHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-equipment/helpers/detectTemperatureThresholds.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-equipment/helpers/handleTemperatureEquipmentError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-equipment/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-equipment/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-logs/generate-sample/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-logs/helpers/buildTemperatureLogQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-logs/helpers/createTemperatureLog.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-logs/helpers/handleTemperatureLogError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/temperature-logs/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/apple-microsoft-connections/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/auth0-callback-diagnostic/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1147,1150],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1147,1150],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * GET /api/test/auth0-callback-diagnostic\n * Diagnostic endpoint to simulate and diagnose callback flow\n *\n * @returns {Promise<NextResponse>} JSON response with callback flow diagnostic information\n */\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { auth0 } from '@/lib/auth0';\nimport { logger } from '@/lib/logger';\nimport { NextRequest, NextResponse } from 'next/server';\n\n/**\n * Test endpoint to diagnose callback flow issues.\n * Simulates what happens during OAuth callback processing.\n *\n * @returns {Promise<NextResponse>} JSON response with callback flow diagnostic information\n */\nexport async function GET(req: NextRequest) {\n  try {\n    // Get current session to check if callback was successful\n    const session = await auth0.getSession(req);\n\n    // Build diagnostic response\n    const response = {\n      success: true,\n      timestamp: new Date().toISOString(),\n      session: session\n        ? {\n            exists: true,\n            user: {\n              email: session.user?.email,\n              name: session.user?.name,\n              image: session.user?.picture,\n              roles: (session.user as any)?.roles || [],\n            },\n            expires: session.tokenSet?.expiresAt\n              ? new Date(session.tokenSet.expiresAt * 1000).toISOString()\n              : null,\n          }\n        : {\n            exists: false,\n            message: 'No session found - callback may have failed or user not logged in',\n          },\n      callbackFlow: {\n        step1: {\n          name: 'Auth0 Redirects to Callback',\n          url: '/api/auth/callback',\n          status: 'expected',\n          description: 'Auth0 redirects user to this URL after successful authentication',\n        },\n        step2: {\n          name: 'Auth0 SDK Processes Callback',\n          status: session ? 'success' : 'unknown',\n          description: 'Auth0 SDK processes the callback and creates session',\n          checks: {\n            profileExtraction: session\n              ? 'Profile extracted successfully'\n              : 'Profile extraction status unknown',\n            accountExtraction: session\n              ? 'Account extracted successfully'\n              : 'Account extraction status unknown',\n            signInCallback: session\n              ? 'signIn callback returned true'\n              : 'signIn callback status unknown',\n            sessionCreation: session\n              ? 'Session created successfully'\n              : 'Session creation failed or not attempted',\n          },\n        },\n        step3: {\n          name: 'Redirect to Destination',\n          expectedDestination: '/webapp',\n          status: session ? 'should_redirect' : 'blocked',\n          description: session\n            ? 'User should be redirected to /webapp after successful callback'\n            : 'Redirect blocked due to callback failure',\n        },\n      },\n      commonIssues: {\n        missingProfile: {\n          description:\n            'If profile is missing, Auth0 SDK may fail to create session. Check Auth0 user profile configuration.',\n          status: session ? 'not_applicable' : 'possible_issue',\n        },\n        callbackUrlMismatch: {\n          description:\n            'If callback URL does not match Auth0 configuration, Auth0 rejects the callback.',\n          status: 'check_auth0_dashboard',\n        },\n      },\n      recommendations: session\n        ? [\n            'Session exists - callback flow is working correctly',\n            'If redirect loop occurs, check middleware or client-side redirect logic',\n            'Monitor Vercel logs for callback processing errors',\n          ]\n        : [\n            'No session found - callback may have failed',\n            'Check Auth0 dashboard for callback URL configuration',\n            'Run /api/test/auth0-social-connections to verify Google connection',\n            'Run /api/fix/auth0-callback-urls to fix callback URLs',\n            'Check Vercel logs for callback processing errors',\n            'Verify AUTH0_BASE_URL environment variable is set correctly',\n          ],\n    };\n\n    logger.info('[Auth0 Callback Diagnostic] Diagnostic check completed', {\n      sessionExists: !!session,\n      userEmail: session?.user?.email || 'no session',\n    });\n\n    return NextResponse.json(response);\n  } catch (error) {\n    logger.error('[Auth0 Callback Diagnostic] Diagnostic check failed:', error);\n    return NextResponse.json(\n      ApiErrorHandler.createError('Failed to run callback diagnostic', 'SERVER_ERROR', 500, {\n        details: error instanceof Error ? error.message : String(error),\n      }),\n      { status: 500 },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/auth0-comprehensive/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/auth0-comprehensive/test-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/auth0-comprehensive/test-helpers/callback-url-tests.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":8,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":11,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[263,266],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[263,266],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Callback URL Testing Helpers\n * Tests for Auth0 callback URL configuration\n */\n\nimport { addTest, type TestResults } from '../test-utils';\n\n/**\n * Test callback URLs in Auth0 application\n */\nexport function testCallbackURLs(\n  results: TestResults,\n  app: any,\n  auth0BaseUrl: string | undefined,\n): void {\n  const callbacks = (app.callbacks || []) as string[];\n  const expectedCallback = auth0BaseUrl ? `${auth0BaseUrl}/api/auth/callback` : null;\n  const expectedCallbackNonWww =\n    auth0BaseUrl && auth0BaseUrl.includes('www.')\n      ? `${auth0BaseUrl.replace('www.', '')}/api/auth/callback`\n      : null;\n\n  if (expectedCallback && callbacks.includes(expectedCallback)) {\n    addTest(results, 'Auth0 Callback URL (www)', 'pass', `Found in Auth0: ${expectedCallback}`, {\n      callbackUrl: expectedCallback,\n    });\n  } else if (expectedCallback) {\n    addTest(\n      results,\n      'Auth0 Callback URL (www)',\n      'fail',\n      `NOT found in Auth0: ${expectedCallback}`,\n      {\n        expected: expectedCallback,\n        configured: callbacks,\n      },\n    );\n  }\n\n  if (expectedCallbackNonWww && callbacks.includes(expectedCallbackNonWww)) {\n    addTest(\n      results,\n      'Auth0 Callback URL (non-www)',\n      'pass',\n      `Found in Auth0: ${expectedCallbackNonWww}`,\n      { callbackUrl: expectedCallbackNonWww },\n    );\n  } else if (expectedCallbackNonWww) {\n    addTest(\n      results,\n      'Auth0 Callback URL (non-www)',\n      'warning',\n      `Not found in Auth0: ${expectedCallbackNonWww}`,\n      {\n        expected: expectedCallbackNonWww,\n        configured: callbacks,\n        note: 'Non-www callback recommended but not required if middleware redirects',\n      },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/auth0-comprehensive/test-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/auth0-flow/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/auth0-signin-flow/diagnostic-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/auth0-signin-flow/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[884,887],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[884,887],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1208,1211],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1208,1211],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * GET /api/test/auth0-signin-flow\n * Comprehensive diagnostic endpoint to test sign-in flow and identify failure points\n *\n * @returns {Promise<NextResponse>} JSON response with diagnostic information\n */\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport {\n  extractAuth0UserId,\n  fetchProfileWithRetry,\n  getUserProfileFromManagementAPI,\n} from '@/lib/auth0-management';\nimport { logger } from '@/lib/logger';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { createDiagnosticStructure } from './diagnostic-helpers';\n\n/**\n * Test the complete sign-in flow and identify failure points.\n *\n * @returns {Promise<NextResponse>} JSON response with diagnostic information\n */\nexport async function GET(req: NextRequest) {\n  try {\n    const { auth0 } = await import('@/lib/auth0');\n    const session = await auth0.getSession(req);\n    const diagnostic: any = {\n      timestamp: new Date().toISOString(),\n      sessionStatus: session ? 'active' : 'inactive',\n      session: session\n        ? {\n            user: {\n              email: session.user?.email,\n              name: session.user?.name,\n              image: session.user?.picture,\n              roles: (session.user as any)?.roles || [],\n            },\n            expiresAt: session.expiresAt,\n          }\n        : null,\n      ...createDiagnosticStructure(),\n    };\n\n    // If session exists, test Management API with actual user ID\n    if (session?.user?.email) {\n      const userSub = session.user.sub;\n      if (userSub) {\n        const auth0UserId = extractAuth0UserId(userSub);\n        if (auth0UserId) {\n          diagnostic.managementApiTests.actualUser = {\n            description: 'Test Management API with actual user ID',\n            status: 'testing',\n            userId: auth0UserId,\n          };\n\n          try {\n            const profile = await getUserProfileFromManagementAPI(auth0UserId);\n            if (profile) {\n              diagnostic.managementApiTests.actualUser.status = 'success';\n              diagnostic.managementApiTests.actualUser.profile = {\n                email: profile.email,\n                name: profile.name,\n                email_verified: profile.email_verified,\n              };\n            } else {\n              diagnostic.managementApiTests.actualUser.status = 'failed';\n              diagnostic.managementApiTests.actualUser.message = 'Profile not found';\n            }\n          } catch (error) {\n            logger.error('[route.ts] Error in catch block:', {\n              error: error instanceof Error ? error.message : String(error),\n              stack: error instanceof Error ? error.stack : undefined,\n            });\n\n            diagnostic.managementApiTests.actualUser.status = 'error';\n            diagnostic.managementApiTests.actualUser.error =\n              error instanceof Error ? error.message : String(error);\n          }\n\n          // Test fetchProfileWithRetry\n          try {\n            const email = await fetchProfileWithRetry(auth0UserId, session.user.email);\n            diagnostic.managementApiTests.retryWithFallback = {\n              description: 'Test fetchProfileWithRetry with fallback email',\n              status: email ? 'success' : 'failed',\n              email: email || 'Not found',\n              fallbackUsed: email === session.user.email,\n            };\n          } catch (error) {\n            logger.error('[route.ts] Error in catch block:', {\n              error: error instanceof Error ? error.message : String(error),\n              stack: error instanceof Error ? error.stack : undefined,\n            });\n\n            diagnostic.managementApiTests.retryWithFallback = {\n              status: 'error',\n              error: error instanceof Error ? error.message : String(error),\n            };\n          }\n        }\n      }\n    }\n\n    // Add recommendations based on session status\n    if (!session) {\n      diagnostic.recommendations.push(\n        'No active session - test sign-in flow by navigating to /webapp',\n        'Check Vercel logs for JWT callback errors',\n        'Check Vercel logs for session callback errors',\n        'Check Vercel logs for signIn callback errors',\n      );\n    } else {\n      diagnostic.recommendations.push(\n        'Session active - sign-in flow appears to be working',\n        'Monitor Vercel logs for any callback errors',\n        'Test error scenarios by clearing cookies and signing in again',\n      );\n    }\n\n    logger.info('[Auth0 SignIn Flow Diagnostic] Check completed', {\n      sessionStatus: diagnostic.sessionStatus,\n      hasManagementApiTests: !!diagnostic.managementApiTests.actualUser,\n    });\n\n    return NextResponse.json(diagnostic);\n  } catch (error) {\n    logger.error('[Auth0 SignIn Flow Diagnostic] Check failed:', error);\n    return NextResponse.json(\n      ApiErrorHandler.createError(\n        'Failed to perform sign-in flow diagnostic check',\n        'SERVER_ERROR',\n        500,\n        {\n          details: error instanceof Error ? error.message : String(error),\n        },\n      ),\n      { status: 500 },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/auth0-social-connections/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/google-login-flow/route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[887,890],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[887,890],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1409,1412],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1409,1412],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * GET /api/test/google-login-flow\n * Test endpoint to diagnose Google login flow issues.\n *\n * @returns {Promise<NextResponse>} JSON response with session status\n */\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { auth0 } from '@/lib/auth0';\nimport { logger } from '@/lib/logger';\nimport { NextRequest, NextResponse } from 'next/server';\n\n/**\n * Test endpoint to check if Google login created a valid session.\n *\n * @returns {Promise<NextResponse>} JSON response with session status\n */\nexport async function GET(req: NextRequest) {\n  try {\n    const session = await auth0.getSession(req);\n\n    return NextResponse.json({\n      success: true,\n      session: session\n        ? {\n            user: {\n              email: session.user?.email,\n              name: session.user?.name,\n              image: session.user?.picture,\n              roles: (session.user as any)?.roles || [],\n            },\n            expiresAt: session.expiresAt,\n          }\n        : null,\n      message: session\n        ? 'Session exists - Google login successful'\n        : 'No session found - Google login may have failed',\n      timestamp: new Date().toISOString(),\n    });\n  } catch (error: unknown) {\n    logger.error('[Google Login Flow Test] Error:', error);\n    return NextResponse.json(\n      ApiErrorHandler.createError('Failed to check session', 'SERVER_ERROR', 500, {\n        details: (error as any)?.message || String(error),\n      }),\n      { status: 500 },\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/test/list-all-connections/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/time-attendance/clock-in/helpers/calculateDistance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/time-attendance/clock-in/helpers/checkEmployee.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/time-attendance/clock-in/helpers/checkOpenClockIn.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/time-attendance/clock-in/helpers/checkShift.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/time-attendance/clock-in/helpers/createClockIn.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/time-attendance/clock-in/helpers/validateGeofence.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/time-attendance/clock-in/helpers/validateRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/time-attendance/clock-in/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/time-attendance/clock-out/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/time-attendance/records/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/activity/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/avatar/helpers/createUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/avatar/helpers/getAvatar.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/avatar/helpers/updateAvatar.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/avatar/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/data-usage/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/error-reporting-preferences/helpers/getPreferences.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/error-reporting-preferences/helpers/updatePreferences.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/error-reporting-preferences/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/errors/auto-report/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/errors/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/import-export-history/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/login-history/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/notifications/helpers/getDefaultPreferences.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/notifications/helpers/getPreferences.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/notifications/helpers/mergePreferences.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/notifications/helpers/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/notifications/helpers/updatePreferences.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/notifications/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/profile/helpers/createUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/profile/helpers/formatProfileResponse.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/profile/helpers/getProfile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/profile/helpers/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/profile/helpers/updateProfile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/profile/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/sessions/[id]/revoke/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/sessions/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/subscription/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/user/verify-email/resend/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/square/helpers/checkIdempotency.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/square/helpers/getUserId.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/square/helpers/getWebhookSecret.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/square/helpers/markProcessed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/square/helpers/routeEvent.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/square/helpers/verifySignature.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/square/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/stripe/helpers/getUserEmail.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/stripe/helpers/handlers/checkoutSession.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/stripe/helpers/handlers/invoice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/stripe/helpers/handlers/subscription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/stripe/helpers/updateSubscription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/stripe/helpers/webhookEvents.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/api/webhook/stripe/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/auth/profile/route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/bad-request/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/bad-request/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/AnimatedBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/AppleStyleFeatures.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":95,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2625,2628],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2625,2628],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { ScrollReveal } from '@/components/ui/ScrollReveal';\nimport { LucideIcon } from 'lucide-react';\nimport React from 'react';\nimport { FeatureButton } from './components/FeatureButton';\nimport { FeatureImageContainer } from './components/FeatureImageContainer';\nimport { useAppleStyleAnimations } from './hooks/useAppleStyleAnimations';\n\n// Spotlight component removed - using simpler background effects in LandingBackground\n\ninterface Feature {\n  title: string;\n  description: string;\n  icon: LucideIcon;\n  screenshot: string;\n  screenshotAlt: string;\n  details: string[];\n  colorClass: string;\n  cta?: {\n    text: string;\n    href: string;\n    action?: () => void;\n  };\n}\n\ninterface AppleStyleFeaturesProps {\n  features: Feature[];\n  sectionTitle?: string;\n}\n\nfunction AppleStyleFeatures({\n  features,\n  sectionTitle = 'Take a closer look.',\n}: AppleStyleFeaturesProps) {\n  const {\n    expandedIndex,\n    expandedFeature,\n    currentImage,\n    previousImage,\n    isImageTransitioning,\n    previousImageOpacity,\n    currentImageOpacity,\n    imageMounted,\n    imageDimensions,\n    containerHeight,\n    containerWidths,\n    initialWidths,\n    buttonHeights,\n    isTransitioning,\n    buttonsVisible,\n    containerRefs,\n    buttonRefs,\n    contentRefs,\n    parentContainerRef,\n    imageContainerRef,\n    handleToggle,\n    setImageDimensions,\n    setNewImageLoaded,\n    ANIMATION_DURATION,\n    ANIMATION_EASING,\n    BORDER_RADIUS_EASING,\n  } = useAppleStyleAnimations(features);\n\n  const handleImageLoad = (e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n    const img = e.currentTarget;\n    if (img.naturalWidth && img.naturalHeight) {\n      setImageDimensions({\n        width: img.naturalWidth,\n        height: img.naturalHeight,\n      });\n    }\n\n    if (isImageTransitioning) {\n      setNewImageLoaded(true);\n    }\n  };\n\n  return (\n    <section className=\"tablet:py-32 relative bg-transparent py-24\">\n      <div className=\"tablet:px-6 desktop:px-8 large-desktop:px-12 mx-auto w-full max-w-[95%] px-4 xl:max-w-[1400px] xl:px-20 2xl:max-w-[1600px] 2xl:px-24\">\n        <ScrollReveal variant=\"fade-up\" className=\"mb-20 text-center\">\n          <h2 className=\"text-fluid-4xl tablet:text-fluid-5xl desktop:text-fluid-6xl font-light tracking-tight text-white\">\n            {sectionTitle}\n          </h2>\n        </ScrollReveal>\n\n        <div\n          className=\"desktop:flex-row desktop:gap-8 desktop:items-stretch large-desktop:gap-10 flex flex-col gap-12 xl:gap-12 2xl:gap-14\"\n          style={{\n            contain: 'layout',\n          }}\n        >\n          <div\n            ref={parentContainerRef as any}\n            className=\"desktop:max-w-[45%] desktop:w-auto desktop:self-center flex w-full min-w-0 flex-shrink-0 flex-col xl:max-w-[42%]\"\n            style={{\n              contain: 'layout',\n              gap: '0.375rem',\n            }}\n          >\n            {features.map((feature, index) => {\n              const isExpanded = expandedIndex === index;\n              const isCurrentlyTransitioning = isTransitioning === index;\n              const isVisible = buttonsVisible[index] !== false;\n\n              return (\n                <FeatureButton\n                  key={feature.title}\n                  feature={feature}\n                  index={index}\n                  isExpanded={isExpanded}\n                  isVisible={isVisible}\n                  containerWidth={containerWidths[index]}\n                  initialWidth={initialWidths[index]}\n                  buttonHeight={buttonHeights[index]}\n                  onToggle={() => handleToggle(index)}\n                  containerRef={el => {\n                    containerRefs.current[index] = el;\n                  }}\n                  buttonRef={el => {\n                    buttonRefs.current[index] = el;\n                  }}\n                  contentRef={el => {\n                    contentRefs.current[index] = el;\n                  }}\n                />\n              );\n            })}\n          </div>\n\n          <FeatureImageContainer\n            currentImage={currentImage}\n            previousImage={previousImage}\n            isImageTransitioning={isImageTransitioning}\n            previousImageOpacity={previousImageOpacity}\n            currentImageOpacity={currentImageOpacity}\n            imageMounted={imageMounted}\n            containerHeight={containerHeight}\n            expandedFeature={expandedFeature}\n            imageContainerRef={imageContainerRef}\n            onImageLoad={handleImageLoad}\n            ANIMATION_DURATION={ANIMATION_DURATION}\n            ANIMATION_EASING={ANIMATION_EASING}\n          />\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default React.memo(AppleStyleFeatures);\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/CloserLook.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/Comparison.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/ExpandableFeature.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/FinalCTA.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/GradientOrbs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/Hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/Highlights.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/HowItWorks.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/LandingBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/LandingFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/LandingHeader.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[591,594],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[591,594],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n/**\n * Landing page header component\n */\n\nimport { logger } from '@/lib/logger';\nimport { useUser } from '@auth0/nextjs-auth0/client';\nimport Link from 'next/link';\nimport React from 'react';\nimport { BrandMark } from '../../../components/BrandMark';\nimport LanguageSwitcher from '../../../components/LanguageSwitcher';\nimport { MagneticButton } from '../../../components/ui/MagneticButton';\nimport { BUTTON_STYLES } from '../../../lib/tailwind-utils';\nimport { useTranslation } from '../../../lib/useTranslation';\ninterface LandingHeaderProps {\n  trackEngagement?: (..._args: any[]) => void;\n}\n\nconst LandingHeader = React.memo(function LandingHeader({\n  trackEngagement = () => {},\n}: LandingHeaderProps) {\n  const { t } = useTranslation();\n  const { user, isLoading } = useUser();\n  const isAuthenticated = !!user;\n\n  return (\n    <header className=\"fixed top-0 z-50 w-full border-b border-gray-700 bg-[#0a0a0a]/95 backdrop-blur-md\">\n      <div className=\"tablet:px-6 tablet:py-4 mx-auto max-w-7xl px-4 py-3\">\n        <div className=\"flex items-center justify-between gap-2\">\n          {/* Logo - More prominent with animations */}\n          <Link href=\"/\" className=\"flex shrink-0 items-center\">\n            <BrandMark\n              src=\"/images/prepflow-logo.png\"\n              alt=\"PrepFlow Logo\"\n              width={64}\n              height={64}\n              className=\"tablet:h-20 tablet:w-20 desktop:h-24 desktop:w-24 h-16 w-16\"\n              floating={true}\n              glowOnHover={true}\n              animationIntensity={0.8}\n            />\n            <span className=\"sr-only\">PrepFlow</span>\n          </Link>\n\n          {/* Desktop Navigation */}\n          <nav className=\"desktop:flex hidden items-center space-x-8\">\n            <a\n              href=\"#features\"\n              className=\"rounded text-gray-300 transition-colors hover:text-landing-primary focus:ring-2 focus:ring-landing-primary focus:ring-offset-2 focus:ring-offset-[#0a0a0a] focus:outline-none\"\n              aria-label=\"View PrepFlow features\"\n            >\n              Features\n            </a>\n            <a\n              href=\"#how-it-works\"\n              className=\"rounded text-gray-300 transition-colors hover:text-landing-primary focus:ring-2 focus:ring-landing-primary focus:ring-offset-2 focus:ring-offset-[#0a0a0a] focus:outline-none\"\n              aria-label=\"Learn how PrepFlow works\"\n            >\n              How it works\n            </a>\n            <Link\n              href=\"/webapp/guide\"\n              className=\"rounded text-gray-300 transition-colors hover:text-landing-primary focus:ring-2 focus:ring-landing-primary focus:ring-offset-2 focus:ring-offset-[#0a0a0a] focus:outline-none\"\n              aria-label=\"View PrepFlow guides\"\n            >\n              Guide\n            </Link>\n          </nav>\n\n          {/* Desktop Actions */}\n          <div className=\"desktop:flex hidden items-center gap-4\">\n            <LanguageSwitcher className=\"mr-4\" />\n            {!isLoading &&\n              (isAuthenticated ? (\n                <MagneticButton\n                  className={BUTTON_STYLES.primary}\n                  onClick={() => {\n                    trackEngagement('header_go_to_dashboard_click');\n                    window.location.href = '/webapp';\n                  }}\n                  strength={0.3}\n                  maxDistance={10}\n                >\n                  Go to Dashboard\n                </MagneticButton>\n              ) : (\n                <>\n                  <MagneticButton\n                    className={BUTTON_STYLES.secondary}\n                    onClick={() => {\n                      trackEngagement('header_sign_in_click');\n                      try {\n                        if (typeof window !== 'undefined') {\n                          sessionStorage.setItem('PF_AUTH_IN_PROGRESS', '1');\n                        }\n                      } catch (err) {\n                        // SessionStorage might fail in private mode - log but continue\n                        logger.dev(\n                          '[LandingHeader] Error accessing sessionStorage (non-blocking):',\n                          {\n                            error: err instanceof Error ? err.message : String(err),\n                          },\n                        );\n                      }\n                      window.location.href = '/api/auth/login?returnTo=/webapp';\n                    }}\n                    strength={0.3}\n                    maxDistance={10}\n                  >\n                    {t('nav.signIn', 'Sign in')}\n                  </MagneticButton>\n                  <MagneticButton\n                    className={BUTTON_STYLES.primary}\n                    onClick={() => {\n                      trackEngagement('header_register_click');\n                      try {\n                        if (typeof window !== 'undefined') {\n                          sessionStorage.setItem('PF_AUTH_IN_PROGRESS', '1');\n                        }\n                      } catch (err) {\n                        // SessionStorage might fail in private mode - log but continue\n                        logger.dev(\n                          '[LandingHeader] Error accessing sessionStorage (non-blocking):',\n                          {\n                            error: err instanceof Error ? err.message : String(err),\n                          },\n                        );\n                      }\n                      window.location.href = '/api/auth/login?returnTo=/webapp';\n                    }}\n                    strength={0.3}\n                    maxDistance={10}\n                  >\n                    {t('nav.register', 'Register')}\n                  </MagneticButton>\n                </>\n              ))}\n          </div>\n\n          {/* Mobile Header - Simplified: Just logo and CTA */}\n          <div className=\"desktop:hidden flex flex-1 items-center justify-end gap-2\">\n            {!isLoading && (\n              <MagneticButton\n                className=\"text-fluid-xs flex min-h-[40px] items-center justify-center rounded-xl bg-gradient-to-r from-landing-primary to-landing-secondary px-4 py-2 font-semibold text-white shadow-lg transition-all duration-300 hover:shadow-xl hover:shadow-landing-primary/25 focus:ring-2 focus:ring-landing-primary focus:ring-offset-2 focus:ring-offset-[#0a0a0a] focus:outline-none\"\n                onClick={() => {\n                  if (isAuthenticated) {\n                    trackEngagement('mobile_header_go_to_dashboard_click');\n                    window.location.href = '/webapp';\n                  } else {\n                    trackEngagement('mobile_header_register_click');\n                    try {\n                      if (typeof window !== 'undefined') {\n                        sessionStorage.setItem('PF_AUTH_IN_PROGRESS', '1');\n                      }\n                    } catch (err) {\n                      // SessionStorage might fail in private mode - log but continue\n                      logger.dev('[LandingHeader] Error accessing sessionStorage (non-blocking):', {\n                        error: err instanceof Error ? err.message : String(err),\n                      });\n                    }\n                    window.location.href = '/api/auth/login?returnTo=/webapp';\n                  }\n                }}\n                strength={0.25}\n                maxDistance={8}\n              >\n                {isAuthenticated ? 'Go to Dashboard' : t('nav.register', 'Get Started')}\n              </MagneticButton>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n});\n\nexport default LandingHeader;\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/LandingPageClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/LandingSections.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/MobileBottomNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/MobileMenuDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/ModernMobileNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/Performance.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/ProductFeatures.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/Resources.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/SafeAnimatedBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/SafeGradientOrbs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/TechnicalSpecs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/TourModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/UseCases.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/components/FeatureButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/components/FeatureImageContainer.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":77,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2414,2417],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2414,2417],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport Image from 'next/image';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { RefObject, useState, useEffect } from 'react';\n\ninterface Feature {\n  screenshot: string;\n  screenshotAlt: string;\n}\n\ninterface FeatureImageContainerProps {\n  currentImage: Feature | null;\n  previousImage: Feature | null;\n  isImageTransitioning: boolean;\n  previousImageOpacity: number;\n  currentImageOpacity: number;\n  imageMounted: boolean;\n  containerHeight: number | null;\n  expandedFeature: Feature | null;\n  imageContainerRef: RefObject<HTMLDivElement | null>;\n  onImageLoad: (e: React.SyntheticEvent<HTMLImageElement, Event>) => void;\n  ANIMATION_DURATION: number;\n  ANIMATION_EASING: string;\n}\n\nfunction prefersReducedMotion(): boolean {\n  if (typeof window === 'undefined' || typeof window.matchMedia === 'undefined') return false;\n  try {\n    return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n  } catch {\n    return false;\n  }\n}\n\nexport function FeatureImageContainer({\n  currentImage,\n  previousImage,\n  isImageTransitioning,\n  imageMounted,\n  containerHeight,\n  expandedFeature,\n  imageContainerRef,\n  onImageLoad,\n}: FeatureImageContainerProps) {\n  const [imageReady, setImageReady] = useState(false);\n  const shouldShow = expandedFeature !== null && imageMounted;\n  const minHeight =\n    containerHeight && typeof window !== 'undefined' && window.innerWidth >= 1024\n      ? `${Math.min(containerHeight, 500)}px`\n      : '450px';\n  const maxHeight =\n    containerHeight && typeof window !== 'undefined' && window.innerWidth >= 1024\n      ? `${Math.max(containerHeight, 800)}px`\n      : undefined;\n\n  // Preload current image to ensure it's ready before transition\n  useEffect(() => {\n    if (currentImage && isImageTransitioning) {\n      setImageReady(false);\n      const img = new window.Image();\n      img.src = currentImage.screenshot;\n      img.onload = () => {\n        setImageReady(true);\n      };\n      img.onerror = () => {\n        setImageReady(true); // Proceed even on error\n      };\n    } else if (currentImage && !isImageTransitioning) {\n      setImageReady(true);\n    }\n  }, [currentImage, isImageTransitioning]);\n\n  return (\n    <div className=\"desktop:sticky desktop:top-24 desktop:flex-1 desktop:min-w-[55%] desktop:max-w-[60%] desktop:z-10 flex w-full items-stretch xl:max-w-[65%] xl:min-w-[58%]\">\n      <motion.div\n        ref={imageContainerRef as any}\n        layout\n        className=\"relative w-full flex-1 overflow-hidden rounded-3xl border border-white/8 bg-[#1f1f1f]/40 shadow-xl shadow-black/20\"\n        initial={{ opacity: 0, x: 10 }}\n        animate={{\n          opacity: shouldShow ? 1 : 0.8,\n          x: 0,\n        }}\n        transition={{\n          type: 'spring',\n          bounce: 0,\n          duration: 0.6,\n          opacity: { duration: 0.4 },\n        }}\n        style={{\n          height: containerHeight ? `${containerHeight}px` : undefined,\n          minHeight,\n          maxHeight,\n          willChange: 'transform, opacity',\n        }}\n      >\n        <div className=\"relative h-full w-full overflow-hidden bg-[#0a0a0a]\">\n          {/* Radial gradient overlay */}\n          <motion.div\n            className=\"pointer-events-none absolute inset-0 z-20\"\n            style={{\n              background: `radial-gradient(ellipse at center, transparent 40%, rgba(0, 0, 0, 0.2) 70%, rgba(0, 0, 0, 0.4) 90%, rgba(0, 0, 0, 0.6) 100%)`,\n              willChange: 'opacity',\n            }}\n            animate={{\n              opacity: shouldShow ? 1 : 0.8,\n            }}\n            transition={{ duration: 0.4 }}\n          />\n\n          {/* Professional crossfade - both images visible simultaneously */}\n          {/* Previous image - stays visible until new image is ready, then fades out */}\n          {previousImage && isImageTransitioning && (\n            <motion.div\n              key={`prev-${previousImage.screenshot}`}\n              className=\"absolute inset-0 z-10\"\n              initial={{ opacity: 1, scale: 1 }}\n              animate={{\n                opacity: imageReady ? 0 : 1,\n                scale: imageReady ? 1.01 : 1,\n              }}\n              transition={{\n                duration: 0.8,\n                ease: [0.25, 0.1, 0.25, 1], // Apple's standard easing\n                opacity: { duration: 0.7 },\n                scale: { duration: 0.8 },\n              }}\n              style={{ willChange: 'transform, opacity' }}\n            >\n              <Image\n                src={previousImage.screenshot}\n                alt={previousImage.screenshotAlt}\n                width={1200}\n                height={800}\n                className=\"h-full w-full object-cover object-center\"\n                style={{\n                  maskImage:\n                    'radial-gradient(ellipse 95% 95% at center, black 85%, transparent 100%)',\n                  WebkitMaskImage:\n                    'radial-gradient(ellipse 95% 95% at center, black 85%, transparent 100%)',\n                }}\n                quality={90}\n                loading=\"lazy\"\n                sizes=\"(max-width: 1024px) 100vw, 60vw\"\n              />\n            </motion.div>\n          )}\n\n          {/* Current image - fades in smoothly once ready */}\n          {currentImage && (\n            <motion.div\n              key={`current-${currentImage.screenshot}`}\n              className=\"absolute inset-0 z-10\"\n              initial={{ opacity: 0, scale: 0.99 }}\n              animate={{\n                opacity: imageReady || !isImageTransitioning ? 1 : 0,\n                scale: imageReady || !isImageTransitioning ? 1 : 0.99,\n              }}\n              transition={{\n                duration: 0.8,\n                ease: [0.25, 0.1, 0.25, 1], // Apple's standard easing\n                opacity: { duration: 0.7 },\n                scale: { duration: 0.8 },\n              }}\n              style={{ willChange: 'transform, opacity' }}\n            >\n              <Image\n                src={currentImage.screenshot}\n                alt={currentImage.screenshotAlt}\n                width={1200}\n                height={800}\n                className=\"h-full w-full object-cover object-center\"\n                style={{\n                  maskImage:\n                    'radial-gradient(ellipse 95% 95% at center, black 85%, transparent 100%)',\n                  WebkitMaskImage:\n                    'radial-gradient(ellipse 95% 95% at center, black 85%, transparent 100%)',\n                }}\n                quality={90}\n                loading=\"lazy\"\n                sizes=\"(max-width: 1024px) 100vw, 60vw\"\n                onLoad={onImageLoad}\n              />\n            </motion.div>\n          )}\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/helpers/animationConstants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/helpers/animationEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/helpers/animationReturn.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/helpers/animationSetup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/helpers/animationState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/helpers/useAnimationEffects/useButtonAnimations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/helpers/useAnimationEffects/useImageAnimations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/helpers/useAnimationHooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/useAppleStyleAnimations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/useAppleStyleAnimations/useButtonAnimations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/useAppleStyleAnimations/useImageAnimations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/utils/animationEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/utils/calculateExpandedWidth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/utils/containerDimensions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/utils/imageTransitions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/utils/imageTransitions/helpers/loadImage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/utils/toggleHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/hooks/utils/widthMeasurement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/sections/BenefitsSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":75,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2850,2853],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2850,2853],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { GlowCard } from '@/components/ui/GlowCard';\nimport { ScrollReveal } from '@/components/ui/ScrollReveal';\nimport {\n    LANDING_LAYOUT,\n    LANDING_TYPOGRAPHY,\n    getSectionClasses,\n    getStaggerDelay\n} from '@/lib/landing-styles';\nimport { useTranslation } from '../../../../lib/useTranslation';\n\nexport function BenefitsSection() {\n  const { t } = useTranslation();\n\n  const benefits = [\n    {\n      title: t('benefits.profit.title', 'Stop Losing Money'),\n      description: t(\n        'benefits.profit.description',\n        \"Find the dishes bleeding profit and fix them. Or remove them. Your callbut now you'll know.\",\n      ),\n      color: 'primary',\n    },\n    {\n      title: t('benefits.time.title', 'No More 2 AM Excel'),\n      description: t(\n        'benefits.time.description',\n        'Calculations happen automatically. No formulas to break. No spreadsheets to maintain. Just accurate costs, instantly.',\n      ),\n      color: 'secondary',\n    },\n    {\n      title: t('benefits.confidence.title', 'Price Without Guessing'),\n      description: t(\n        'benefits.confidence.description',\n        'Set your target margin. Get the price. No math, no stress, no \"is this right?\" moments.',\n      ),\n      color: 'accent',\n    },\n  ];\n\n  /*\n   * Helper to map our semantic color names to the specific glow colors expected by GlowCard\n   * and Tailwind text classes.\n   */\n  const getColors = (color: string) => {\n    switch(color) {\n      case 'primary': return { glow: 'cyan', text: 'text-landing-primary' };\n      case 'secondary': return { glow: 'blue', text: 'text-landing-secondary' };\n      case 'accent': return { glow: 'magenta', text: 'text-landing-accent' };\n      default: return { glow: 'blue', text: 'text-landing-secondary' };\n    }\n  };\n\n  return (\n    <section id=\"benefits\" className={getSectionClasses({ padding: 'large' })}>\n      <div className={LANDING_LAYOUT.container}>\n        <ScrollReveal variant=\"fade-up\">\n          <h3\n            className={`${LANDING_TYPOGRAPHY['4xl']} desktop:text-fluid-5xl mb-16 text-center font-light tracking-tight text-white`}\n          >\n            {t('benefits.title', 'What You Get')}\n          </h3>\n        </ScrollReveal>\n        <div className=\"tablet:gap-10 desktop:gap-12 large-desktop:gap-14 tablet:[grid-template-columns:repeat(auto-fit,minmax(300px,1fr))] desktop:[grid-template-columns:repeat(auto-fit,minmax(320px,1fr))] grid [grid-template-columns:repeat(auto-fit,minmax(280px,1fr))] gap-12 xl:gap-16\">\n          {benefits.map((benefit, index) => {\n            const colors = getColors(benefit.color);\n            return (\n            <ScrollReveal\n              key={`benefit-${index}-${benefit.title}`}\n              variant=\"fade-up\"\n              delay={getStaggerDelay(index)}\n            >\n              <GlowCard glowColor={colors.glow as any} className=\"p-8\">\n                <h4\n                  className={`${LANDING_TYPOGRAPHY.xl} mb-4 font-light ${colors.text}`}\n                >\n                  {benefit.title}\n                </h4>\n                <p className={`${LANDING_TYPOGRAPHY.base} leading-relaxed text-gray-400`}>\n                  {benefit.description}\n                </p>\n              </GlowCard>\n            </ScrollReveal>\n            );\n          })}\n        </div>\n      </div>\n    </section>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/sections/ContributingMarginSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/sections/FAQSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/sections/FeaturesSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/sections/GlobalFeaturesSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/sections/HowItWorksSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/sections/LeadMagnetSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":68,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2358,2361],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2358,2361],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\nimport ErrorBoundary from '@/components/ui/ErrorBoundary';\nimport { trackEvent, trackConversion, getSessionId } from '../../../../lib/analytics';\nimport { useTranslation } from '../../../../lib/useTranslation';\nimport { trackGTMEvent } from '../../../../components/GoogleTagManager';\nimport { logger } from '@/lib/logger';\n\nfunction LeadMagnetSectionContent() {\n  const { t } = useTranslation();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const isValidEmail = (value: string) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    if (!name.trim()) {\n      setError('Please enter your name');\n      return;\n    }\n    if (!isValidEmail(email)) {\n      setError('Please enter a valid email');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      trackEvent('lead_magnet_submit', 'conversion', 'lead_magnet_form');\n      trackConversion({\n        type: 'signup_start',\n        element: 'lead_magnet_form',\n        page: typeof window !== 'undefined' ? window.location.pathname : '/',\n        timestamp: Date.now(),\n        sessionId: getSessionId(),\n        metadata: { source: 'lead_magnet_section' },\n      });\n\n      trackGTMEvent('lead_submit', {\n        event_category: 'conversion',\n        event_label: 'lead_magnet_section',\n        page_path: typeof window !== 'undefined' ? window.location.pathname : '/',\n      });\n\n      const res = await fetch('/api/leads', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, email, source: 'lead_magnet_section' }),\n      });\n      if (!res.ok) {\n        const data = await res.json().catch(() => ({}));\n        throw new Error(data?.message || 'Failed to submit');\n      }\n      setIsSuccess(true);\n      trackGTMEvent('lead_submit_success', {\n        event_category: 'conversion',\n        event_label: 'lead_magnet_section',\n        page_path: typeof window !== 'undefined' ? window.location.pathname : '/',\n      });\n      setName('');\n      setEmail('');\n    } catch (err: any) {\n      logger.error('[LeadMagnetSection.tsx] Error in catch block:', {\n        error: err instanceof Error ? err.message : String(err),\n        stack: err instanceof Error ? err.stack : undefined,\n      });\n\n      setError(err?.message || 'Submission failed');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <section id=\"lead-magnet\" className=\"py-20\">\n      <div className=\"rounded-3xl border border-[#29E7CD]/30 bg-gradient-to-br from-[#29E7CD]/10 to-[#D925C7]/10 p-10 shadow-2xl backdrop-blur-sm\">\n        <div className=\"text-center\">\n          <h2 className=\"text-fluid-3xl desktop:text-fluid-4xl mb-6 font-bold tracking-tight\">\n            {t('leadMagnet.title', 'Try It Free First')}\n          </h2>\n          <p className=\"text-fluid-lg mx-auto max-w-2xl text-gray-300\">\n            {t(\n              'leadMagnet.description',\n              'Download our free Excel COGS calculator. See how it works. No signup required.',\n            )}\n          </p>\n          <div className=\"mt-8\">\n            <a\n              href=\"/sample-cogs-calculator.xlsx\"\n              download\n              className=\"text-fluid-lg inline-flex items-center rounded-2xl bg-[#29E7CD] px-8 py-4 font-semibold text-white transition-all duration-300 hover:bg-[#29E7CD]/80 hover:shadow-xl\"\n            >\n              {t('leadMagnet.download', 'Download Free Template')}\n            </a>\n          </div>\n\n          {/* Optional email capture for sample sheet */}\n          <div className=\"mx-auto mt-10 max-w-xl rounded-2xl border border-[#29E7CD]/20 bg-[#1f1f1f]/50 p-6\">\n            {isSuccess ? (\n              <p className=\"text-center text-[#29E7CD]\">Thanks! Check your inbox shortly.</p>\n            ) : (\n              <form onSubmit={handleSubmit} className=\"desktop:grid-cols-3 grid gap-4\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Your name\"\n                  value={name}\n                  onChange={e => setName(e.target.value)}\n                  className=\"rounded-xl border border-gray-700 bg-[#2a2a2a] px-4 py-3 text-white placeholder-gray-400 focus:border-[#29E7CD] focus:outline-none\"\n                  aria-label=\"Your name\"\n                />\n                <input\n                  type=\"email\"\n                  placeholder=\"your@email.com\"\n                  value={email}\n                  onChange={e => setEmail(e.target.value)}\n                  className=\"rounded-xl border border-gray-700 bg-[#2a2a2a] px-4 py-3 text-white placeholder-gray-400 focus:border-[#29E7CD] focus:outline-none\"\n                  aria-label=\"Your email\"\n                />\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className={`rounded-xl bg-gradient-to-r from-[#29E7CD] to-[#3B82F6] px-6 py-3 font-semibold text-white transition-all duration-300 ${\n                    isSubmitting\n                      ? 'cursor-not-allowed opacity-60'\n                      : 'hover:shadow-xl hover:shadow-[#29E7CD]/25'\n                  }`}\n                >\n                  {isSubmitting ? 'Sending' : 'Email me the sample'}\n                </button>\n                {error && (\n                  <div className=\"text-fluid-sm desktop:col-span-3 text-red-400\" role=\"alert\">\n                    {error}\n                  </div>\n                )}\n              </form>\n            )}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport function LeadMagnetSection() {\n  return (\n    <ErrorBoundary>\n      <LeadMagnetSectionContent />\n    </ErrorBoundary>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/sections/MyStorySection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/sections/PracticeSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/sections/ProblemOutcomeSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/components/landing/sections/TrustSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/curbos-import/admin/components/Background.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/curbos-import/admin/components/PageLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/curbos-import/admin/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/curbos-import/admin/modifiers/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/curbos-import/admin/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/curbos-import/lib/auth0.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/curbos-import/lib/check-subscription.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":20,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":20,"endColumn":20,"suggestions":[{"fix":{"range":[656,706],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":28,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":28,"endColumn":18,"suggestions":[{"fix":{"range":[897,946],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/curbos-import/lib/supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/error.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\n/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/error.tsx:25:11\n  23 |   }\n  24 |   // eslint-disable-next-line react-hooks/static-components\n> 25 |   return <ErrorComponent />;\n     |           ^^^^^^^^^^^^^^ This component is created during render\n  26 | }\n  27 |\n\n/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/error.tsx:14:26\n  12 | export default function Error({ error, reset }: ErrorProps) {\n  13 |   const pathname = usePathname();\n> 14 |   const ErrorComponent = useErrorMessageSelector();\n     |                          ^^^^^^^^^^^^^^^^^^^^^^^^^ The component is created during render here\n  15 |\n  16 |   if (\n  17 |     pathname &&","line":25,"column":11,"nodeType":null,"endLine":25,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/generate-background/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/global-error.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\n/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/global-error.tsx:32:10\n  30 |       <body>\n  31 |         {/* eslint-disable-next-line react-hooks/static-components */}\n> 32 |         <ErrorComponent />\n     |          ^^^^^^^^^^^^^^ This component is created during render\n  33 |       </body>\n  34 |     </html>\n  35 |   );\n\n/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/global-error.tsx:14:26\n  12 | export default function GlobalError({ error, reset }: GlobalErrorProps) {\n  13 |   const pathname = usePathname();\n> 14 |   const ErrorComponent = useErrorMessageSelector();\n     |                          ^^^^^^^^^^^^^^^^^^^^^^^^^ The component is created during render here\n  15 |\n  16 |   if (\n  17 |     pathname &&","line":32,"column":10,"nodeType":null,"endLine":32,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/guide/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/guide/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/not-authorized/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/not-found.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/pricing/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/privacy-policy/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/privacy/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/TermsBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/TermsMobileTOC.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/TermsScrollProgress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/TermsTableOfContents.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/components/TermsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/AcceptanceOfTerms.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/ChangesToTerms.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/ContactInformation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/DataPrivacy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/Disclaimers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/GoverningLaw.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/Indemnification.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/IntellectualProperty.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/LicenseUsage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/LimitationOfLiability.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/PaymentTerms.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/ServiceDescription.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/Termination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/UserAccounts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/UserConduct.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms-of-service/sections/UserResponsibilities.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/terms/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/AISpecialCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchRecipes' and 'state'. Either include them or remove the dependency array.","line":94,"column":6,"nodeType":"ArrayExpression","endLine":94,"endColumn":64,"suggestions":[{"desc":"Update the dependencies array to be: [state.formatFilter, state.sourceFilter, state.searchTerm, state, fetchRecipes]","fix":{"range":[3381,3439],"text":"[state.formatFilter, state.sourceFilter, state.searchTerm, state, fetchRecipes]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchProcessingStatus' and 'state'. Either include them or remove the dependency array.","line":116,"column":6,"nodeType":"ArrayExpression","endLine":116,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchProcessingStatus, state]","fix":{"range":[4170,4172],"text":"[fetchProcessingStatus, state]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/AISpecialsTabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/ComprehensiveScraperSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/FormattingDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/ProcessingStatus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/ProcessingStatus/components/DiagnosticsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/ProcessingStatus/components/QuotaWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/ProcessingStatus/components/StatsGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/ProcessingStatus/components/StatusCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/ProcessingStatus/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/RecipeListSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/RecipeListSection/components/RecipeCard.tsx","messages":[],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":69,"column":13,"nodeType":"JSXOpeningElement","endLine":73,"endColumn":15,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/RecipeListSection/components/SearchFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/RecipeListSection/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/RegularScraperSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/components/ActionButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/components/DiagnosticsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/components/OverallProgressCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/components/PerSourceProgressGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/components/StatusIndicatorCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/hooks/useComprehensiveScraping.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/hooks/useComprehensiveScrapingHandlers.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","line":54,"column":41,"nodeType":"Identifier","endLine":54,"endColumn":52}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Hook for comprehensive scraping handlers\n */\n\nimport { useCallback } from 'react';\nimport { useNotification } from '@/contexts/NotificationContext';\nimport { logger } from '@/lib/logger';\nimport { createStopHandler } from './useComprehensiveScrapingHandlers/stop-handler';\n\ninterface UseComprehensiveScrapingHandlersParams {\n  setComprehensiveScraping: (value: boolean) => void;\n  setComprehensiveStatus: (status: unknown) => void;\n  setStatusPolling: (polling: boolean) => void;\n  fetchComprehensiveStatus: () => Promise<void>;\n}\n\nexport function useComprehensiveScrapingHandlers({\n  setComprehensiveScraping,\n  setComprehensiveStatus,\n  setStatusPolling,\n  fetchComprehensiveStatus,\n}: UseComprehensiveScrapingHandlersParams) {\n  const { showSuccess, showError } = useNotification();\n\n  const handleComprehensiveScrape = useCallback(async () => {\n    setComprehensiveScraping(true);\n    try {\n      const response = await fetch('/api/recipe-scraper/scrape', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ comprehensive: true }),\n      });\n      const result = await response.json();\n\n      if (result.success) {\n        setComprehensiveStatus(result.data.jobStatus);\n        setStatusPolling(true);\n        showSuccess(\n          'Comprehensive scraping job started! This will scrape ALL recipes from all sources.',\n        );\n      } else {\n        showError(result.message || 'Failed to start comprehensive scraping');\n      }\n    } catch (err) {\n      logger.error('[RecipeScraper] Error starting comprehensive scrape:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      showError('Failed to start comprehensive scraping');\n    } finally {\n      setComprehensiveScraping(false);\n    }\n  }, [setComprehensiveScraping, setComprehensiveStatus, setStatusPolling, showSuccess, showError]);\n\n  const handleStopComprehensiveScrape = useCallback(\n    createStopHandler({ setComprehensiveStatus, setStatusPolling, showSuccess, showError }),\n    [setComprehensiveStatus, setStatusPolling, showSuccess, showError],\n  );\n\n  const handleResumeComprehensiveScrape = useCallback(async () => {\n    try {\n      showSuccess('Resuming scraper...');\n\n      const response = await fetch('/api/recipe-scraper/resume', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({ error: 'Unknown error' }));\n        throw new Error(errorData.error || `HTTP ${response.status}`);\n      }\n\n      const result = await response.json();\n\n      if (result.success) {\n        setComprehensiveStatus(result.data.status);\n        setStatusPolling(true);\n        showSuccess('Scraping job resumed! Continuing from saved progress.');\n      } else {\n        showError(result.message || 'Failed to resume scraping job');\n      }\n    } catch (err) {\n      logger.error('[RecipeScraper] Error resuming comprehensive scrape:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      showError(\n        `Failed to resume scraping job: ${err instanceof Error ? err.message : String(err)}`,\n      );\n    }\n  }, [setComprehensiveStatus, setStatusPolling, showSuccess, showError]);\n\n  const handleRefreshStatus = useCallback(async () => {\n    try {\n      const response = await fetch('/api/recipe-scraper/status');\n      const result = await response.json();\n      if (result.success) {\n        setComprehensiveStatus(result.data);\n        if (result.data.isRunning) {\n          setStatusPolling(true);\n        }\n        showSuccess('Status refreshed');\n      }\n    } catch (err) {\n      logger.error('[RecipeScraper] Error refreshing status:', {\n        error: err instanceof Error ? err.message : String(err),\n      });\n      showError('Failed to refresh status');\n    }\n  }, [setComprehensiveStatus, setStatusPolling, showSuccess, showError]);\n\n  return {\n    handleComprehensiveScrape,\n    handleStopComprehensiveScrape,\n    handleResumeComprehensiveScrape,\n    handleRefreshStatus,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/hooks/useComprehensiveScrapingHandlers/stop-handler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/hooks/useFormattingHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/hooks/useProcessingOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/hooks/useProcessingStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/hooks/useRecipeFetching.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/hooks/useRecipeScraperState.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1416,1419],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1416,1419],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Hook for managing recipe scraper state\n */\n\nimport { useState } from 'react';\n\nimport { ScrapedRecipe } from '../types';\n\ninterface ProcessingState {\n  isProcessing: boolean;\n  isPaused: boolean;\n  queueLength: number;\n  activeProcessing: number;\n  totalProcessed: number;\n  totalRecipes: number;\n  skippedFormatted?: number;\n  progressPercent: number;\n  aiProvider?: string;\n  aiProviderModel?: string;\n  lastError?: string;\n  lastProcessedRecipe?: string;\n  isStuck?: boolean;\n  stuckReason?: string;\n  healthStatus?: 'healthy' | 'warning' | 'error';\n  processingDuration?: number;\n  startedAt?: string;\n}\n\nexport function useRecipeScraperState() {\n  const [activeTab, setActiveTab] = useState<'scraping' | 'formatting'>('scraping');\n  const [recipes, setRecipes] = useState<ScrapedRecipe[]>([]);\n  const [loadingRecipes, setLoadingRecipes] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sourceFilter, setSourceFilter] = useState<string>('');\n  const [formatFilter, setFormatFilter] = useState<'all' | 'formatted' | 'unformatted'>('all');\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(25);\n  const [totalRecipes, setTotalRecipes] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  const [comprehensiveScraping, setComprehensiveScraping] = useState(false);\n  const [comprehensiveStatus, setComprehensiveStatus] = useState<any>(null);\n  const [statusPolling, setStatusPolling] = useState(false);\n  const [processing, setProcessing] = useState<ProcessingState | null>(null);\n  const [isResuming, setIsResuming] = useState(false);\n  const [isProcessingStarting, setIsProcessingStarting] = useState(false);\n  const [processingPolling, setProcessingPolling] = useState(false);\n\n  return {\n    activeTab,\n    setActiveTab,\n    recipes,\n    setRecipes,\n    loadingRecipes,\n    setLoadingRecipes,\n    searchTerm,\n    setSearchTerm,\n    sourceFilter,\n    setSourceFilter,\n    formatFilter,\n    setFormatFilter,\n    page,\n    setPage,\n    pageSize,\n    setPageSize,\n    totalRecipes,\n    setTotalRecipes,\n    totalPages,\n    setTotalPages,\n    comprehensiveScraping,\n    setComprehensiveScraping,\n    comprehensiveStatus,\n    setComprehensiveStatus,\n    statusPolling,\n    setStatusPolling,\n    processing,\n    setProcessing,\n    isResuming,\n    setIsResuming,\n    isProcessingStarting,\n    setIsProcessingStarting,\n    processingPolling,\n    setProcessingPolling,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/hooks/useScraperDiagnostics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/hooks/useStatusPolling.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/utils/health-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/RecipeScraper/utils/scraper-formatters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/components/UploadForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ai-specials/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1722,1725],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1722,1725],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":61,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2482,2485],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2482,2485],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2528,2531],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2528,2531],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchAISpecials'. Either include it or remove the dependency array.","line":97,"column":6,"nodeType":"ArrayExpression","endLine":97,"endColumn":23,"suggestions":[{"desc":"Update the dependencies array to be: [fetchAISpecials, isAuthenticated]","fix":{"range":[3672,3689],"text":"[fetchAISpecials, isAuthenticated]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\nimport { Icon } from '@/components/ui/Icon';\nimport { LoadingSkeleton } from '@/components/ui/LoadingSkeleton';\nimport { ResponsivePageContainer } from '@/components/ui/ResponsivePageContainer';\nimport { useNotification } from '@/contexts/NotificationContext';\nimport { useIsAdmin } from '@/hooks/useIsAdmin';\nimport { cacheData, getCachedData, prefetchApi } from '@/lib/cache/data-cache';\nimport { logger } from '@/lib/logger';\nimport { useTranslation } from '@/lib/useTranslation';\nimport { useUser } from '@auth0/nextjs-auth0/client';\nimport { Bot, Shield } from 'lucide-react';\nimport { useEffect, useState } from 'react';\nimport { AISpecialCard } from './components/AISpecialCard';\nimport { EmptyState } from './components/EmptyState';\nimport { RecipeScraper } from './components/RecipeScraper';\nimport { UploadForm } from './components/UploadForm';\n\n// Force dynamic rendering to prevent SSR issues with Auth0 SDK\nexport const dynamic = 'force-dynamic';\ninterface AISpecial {\n  id: string;\n  image_data: string;\n  prompt?: string;\n  ai_response: {\n    ingredients?: string[];\n    suggestions?: string[];\n    confidence?: number;\n  } | null;\n  status: 'pending' | 'processing' | 'completed' | 'failed';\n  created_at: string;\n}\n\nexport default function AISpecialsPage() {\n  const { t } = useTranslation();\n  const { showSuccess, showError } = useNotification();\n  const { user, isLoading: userLoading } = useUser();\n  const { isAdmin, loading: adminLoading } = useIsAdmin();\n\n  // Extract user email from Auth0 user object (handle nested structure)\n  // Auth0 SDK can return user in different structures:\n  // - Flat: user.email\n  // - Nested: user.user.email\n  const userEmail = user?.email || (user as any)?.user?.email || null;\n  const hasUser = !!user || !!userEmail;\n\n  // Check if user is actually authenticated (not just loading)\n  // Since API extracts userId from session, we only need to check if user exists\n  // Wait for loading to complete AND user object exists (more reliable than just email)\n  // Use hasUser check to ensure user object is present (even if nested)\n  const isAuthenticated = !userLoading && hasUser;\n\n  // Debug logging to help diagnose authentication issues\n  useEffect(() => {\n    if (!userLoading) {\n      logger.dev('[AISpecialsPage] Auth state:', {\n        hasUser: !!user,\n        userEmail,\n        isAuthenticated,\n        userKeys: user ? Object.keys(user) : [],\n        userSub: user?.sub,\n        nestedUserSub: (user as any)?.user?.sub,\n        nestedUser: (user as any)?.user,\n      });\n    }\n  }, [user, userLoading, userEmail, isAuthenticated]);\n\n  // Initialize with cached data for instant display\n  const [aiSpecials, setAiSpecials] = useState<AISpecial[]>(\n    () => getCachedData('ai_specials') || [],\n  );\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [prompt, setPrompt] = useState('');\n  const [showRecipeScraper, setShowRecipeScraper] = useState(false);\n\n  // Prefetch API on mount (no userId needed - API extracts from session)\n  useEffect(() => {\n    if (isAuthenticated) {\n      prefetchApi('/api/ai-specials');\n    }\n  }, [isAuthenticated]);\n\n  useEffect(() => {\n    if (!isAuthenticated) return; // Don't fetch if user is not authenticated\n\n    (async () => {\n      try {\n        await fetchAISpecials();\n      } catch (err) {\n        logger.error('[AISpecialsPage] Error in useEffect:', {\n          error: err instanceof Error ? err.message : String(err),\n        });\n      }\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isAuthenticated]);\n\n  const fetchAISpecials = async () => {\n    if (!isAuthenticated) {\n      setError('Please log in to view AI specials');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      // No userId needed - API extracts from authenticated session\n      const response = await fetch('/api/ai-specials');\n      const result = await response.json();\n      if (result.success) {\n        setAiSpecials(result.data);\n        cacheData('ai_specials', result.data);\n        setError(null);\n      } else {\n        setError(result.message || 'Failed to fetch AI specials');\n      }\n    } catch (err) {\n      logger.error('[AISpecialsPage] Error fetching AI specials:', {\n        error: err instanceof Error ? err.message : String(err),\n        userEmail,\n      });\n      setError('Failed to fetch AI specials');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFileSelect = (file: File | null) => {\n    setSelectedFile(file);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!isAuthenticated) {\n      showError('Please log in to submit AI specials');\n      return;\n    }\n    if (!selectedFile) {\n      showError('Please select an image file');\n      return;\n    }\n\n    // Store original state for rollback\n    const originalSpecials = [...aiSpecials];\n\n    // Create temporary special for optimistic update\n    const tempId = `temp-${Date.now()}`;\n    const tempSpecial: AISpecial = {\n      id: tempId,\n      image_data: '',\n      prompt: prompt || undefined,\n      ai_response: null,\n      status: 'processing',\n      created_at: new Date().toISOString(),\n    };\n\n    // Optimistically add to UI immediately\n    setAiSpecials(prev => [tempSpecial, ...prev]);\n    setError(null);\n    const fileToSubmit = selectedFile;\n    const promptToSubmit = prompt;\n    setSelectedFile(null);\n    setPrompt('');\n\n    try {\n      const reader = new FileReader();\n      reader.onload = async () => {\n        const imageData = reader.result as string;\n        try {\n          // No userId needed - API extracts from authenticated session\n          const response = await fetch('/api/ai-specials', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n              imageData,\n              prompt: promptToSubmit || undefined,\n            }),\n          });\n          const result = await response.json();\n          if (result.success && result.data) {\n            // Replace temp special with real one from server\n            setAiSpecials(prev =>\n              prev.map(special => (special.id === tempId ? result.data : special)),\n            );\n            showSuccess('Image submitted successfully! Processing your AI special...');\n          } else {\n            // Error - revert optimistic update\n            setAiSpecials(originalSpecials);\n            showError(result.message || 'Failed to process image');\n          }\n        } catch (fetchErr) {\n          // Error - revert optimistic update\n          setAiSpecials(originalSpecials);\n          logger.error('[AISpecialsPage] Error processing image:', {\n            error: fetchErr instanceof Error ? fetchErr.message : String(fetchErr),\n            userEmail,\n          });\n          showError(\"Couldn't process that image, chef. Give it another shot.\");\n        }\n      };\n      reader.onerror = () => {\n        // File read error - revert optimistic update\n        setAiSpecials(originalSpecials);\n        showError(\"Couldn't read that image file, chef. Try a different one.\");\n      };\n      reader.readAsDataURL(fileToSubmit);\n    } catch (err) {\n      // Error - revert optimistic update\n      setAiSpecials(originalSpecials);\n      logger.error('[AISpecialsPage] Error setting up file reader:', {\n        error: err instanceof Error ? err.message : String(err),\n        userEmail,\n      });\n      showError(\"Couldn't process that image, chef. Give it another shot.\");\n    }\n  };\n\n  // Show loading state while checking authentication or admin status\n  if (userLoading || adminLoading || loading) {\n    return (\n      <ResponsivePageContainer>\n        <div className=\"tablet:py-6 min-h-screen bg-transparent py-4\">\n          <div className=\"mb-8\">\n            <LoadingSkeleton variant=\"stats\" height=\"64px\" />\n          </div>\n          <div className=\"mb-8 rounded-3xl border border-[var(--border)] bg-[var(--surface)] p-6 shadow-lg\">\n            <LoadingSkeleton variant=\"form\" height=\"200px\" />\n          </div>\n          <div className=\"space-y-4\">\n            <LoadingSkeleton variant=\"card\" count={3} height=\"120px\" />\n          </div>\n        </div>\n      </ResponsivePageContainer>\n    );\n  }\n\n  // Show error state if user is not authenticated (only after loading is complete)\n  if (!isAuthenticated) {\n    return (\n      <ResponsivePageContainer>\n        <div className=\"min-h-screen bg-transparent py-8 text-[var(--foreground)]\">\n          <div className=\"mb-8\">\n            <h1 className=\"mb-2 flex items-center gap-2 text-3xl font-bold text-[var(--foreground)]\">\n              <Icon icon={Bot} size=\"lg\" aria-hidden={true} />\n              {t('aiSpecials.title', 'AI Specials Generator')}\n            </h1>\n            <p className=\"text-[var(--foreground-muted)]\">\n              {t('aiSpecials.subtitle', 'Generate specials from ingredient photos using AI')}\n            </p>\n          </div>\n          <div className=\"rounded-2xl border border-[var(--color-error)]/20 bg-[var(--color-error)]/10 p-6\">\n            <p className=\"text-[var(--color-error)]\">\n              Please log in to view and create AI specials.\n            </p>\n          </div>\n        </div>\n      </ResponsivePageContainer>\n    );\n  }\n\n  // Show access denied if user is not admin (only after loading is complete)\n  if (!isAdmin) {\n    return (\n      <ResponsivePageContainer>\n        <div className=\"min-h-screen bg-transparent py-8 text-[var(--foreground)]\">\n          <div className=\"mb-8\">\n            <h1 className=\"mb-2 flex items-center gap-2 text-3xl font-bold text-[var(--foreground)]\">\n              <Icon icon={Bot} size=\"lg\" aria-hidden={true} />\n              {t('aiSpecials.title', 'AI Specials Generator')}\n            </h1>\n            <p className=\"text-[var(--foreground-muted)]\">\n              {t('aiSpecials.subtitle', 'Generate specials from ingredient photos using AI')}\n            </p>\n          </div>\n          <div className=\"rounded-2xl border border-[var(--color-error)]/20 bg-[var(--color-error)]/10 p-6\">\n            <div className=\"flex items-start gap-3\">\n              <Icon\n                icon={Shield}\n                size=\"lg\"\n                className=\"mt-0.5 flex-shrink-0 text-[var(--color-error)]\"\n                aria-hidden={true}\n              />\n              <div>\n                <h2 className=\"mb-2 text-lg font-semibold text-[var(--color-error)]\">\n                  Admin Access Required\n                </h2>\n                <p className=\"text-[var(--color-error)]/80\">\n                  This feature is only available to administrators. Please contact an administrator\n                  if you need access.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </ResponsivePageContainer>\n    );\n  }\n  return (\n    <ResponsivePageContainer>\n      <div className=\"min-h-screen bg-transparent py-8 text-[var(--foreground)]\">\n        <div className=\"mb-8 flex items-center justify-between\">\n          <div>\n            <h1 className=\"mb-2 flex items-center gap-2 text-3xl font-bold text-[var(--foreground)]\">\n              <Icon icon={Bot} size=\"lg\" aria-hidden={true} />\n              {t('aiSpecials.title', 'AI Specials Generator')}\n            </h1>\n            <p className=\"text-[var(--foreground-muted)]\">\n              {t('aiSpecials.subtitle', 'Generate specials from ingredient photos using AI')}\n            </p>\n          </div>\n          <button\n            onClick={() => setShowRecipeScraper(!showRecipeScraper)}\n            className=\"rounded-xl border border-[var(--border)] bg-[var(--surface)] px-4 py-2 text-sm text-[var(--foreground)] transition-colors hover:bg-[var(--muted)]\"\n          >\n            {showRecipeScraper ? 'Hide' : 'Show'} Recipe Database\n          </button>\n        </div>\n        {error && (\n          <div className=\"mb-6 rounded-2xl border border-[var(--color-error)]/20 bg-[var(--color-error)]/10 p-4\">\n            <p className=\"text-[var(--color-error)]\">{error}</p>\n          </div>\n        )}\n        {showRecipeScraper && (\n          <div className=\"mb-6\">\n            <RecipeScraper />\n          </div>\n        )}\n        <UploadForm\n          selectedFile={selectedFile}\n          prompt={prompt}\n          processing={false}\n          onFileSelect={handleFileSelect}\n          onPromptChange={setPrompt}\n          onSubmit={handleSubmit}\n        />\n        <div className=\"space-y-4\">\n          {aiSpecials.length === 0 ? (\n            <EmptyState onUploadClick={() => {}} />\n          ) : (\n            aiSpecials.map(special => <AISpecialCard key={special.id} special={special} />)\n          )}\n        </div>\n      </div>\n    </ResponsivePageContainer>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/AddAreaForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/AddTaskForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/AreaCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/AreaTasksModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/AreaTasksModal/components/AreaTasksModalHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/AreaTasksModal/components/EmptyTasksState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/AreaTasksModal/components/TaskItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/AreaTasksModal/hooks/useAreaTasks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/AreaTasksModal/hooks/useTaskEditForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/AreaTasksModal/utils/formatFrequency.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CleaningGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CleaningStats.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CleaningTabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CompletionModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CreateTaskForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CreateTaskForm/components/AdvancedOptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CreateTaskForm/components/FrequencyField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CreateTaskForm/components/TaskNameField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CreateTaskForm/helpers/useCreateTaskForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CreateTaskForm/helpers/useFilteredOptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CreateTaskForm/helpers/useFormData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CreateTaskForm/helpers/useFormValidation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/CreateTaskForm/helpers/useTaskSubmission.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/DayHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/FrequencyPreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/GridFilterBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/QuickTaskButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/StandardTaskTemplates.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/TaskCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/components/TaskRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useCleaningAreas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useCleaningAreas/helpers/addCleaningArea.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useCleaningAreas/helpers/deleteCleaningArea.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useCleaningAreas/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useCleaningHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useCleaningKeyboardShortcuts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useCleaningModals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useCleaningPageData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useCleaningPageData/fetchFunctions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useCleaningTasks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useCleaningTasksQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/hooks/useStatsDates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/cleaningRecordExportUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/cleaningRecordExportUtils/csvExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/cleaningRecordExportUtils/helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/cleaningRecordExportUtils/printExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/cleaningRecordPrintStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/exportCleaningSchedules.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/formatCleaningRecordsForPrint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/formatCleaningRecordsForPrint/helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/formatCleaningRecordsForPrint/htmlGeneration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/formatCleaningRecordsForPrint/processRecords.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/formatCleaningScheduleForPrint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cleaning/utils/printCleaningSchedule.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSErrorDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTableEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTableGrouped.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTableGrouped/components/COGSTableDesktop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTableGrouped/components/COGSTableMobile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTableGrouped/hooks/useRecipeExpansion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTableGrouped/hooks/useRecipeGrouping.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1065,1068],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1065,1068],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Hook for grouping COGS calculations by recipe.\n */\n\nimport { useMemo } from 'react';\nimport type { DishWithDetails } from '../../../../recipes/types';\nimport type { COGSCalculation } from '../../../types';\nimport type { RecipeGroup } from '../types';\n\ninterface UseRecipeGroupingProps {\n  calculations: COGSCalculation[];\n  dishDetails: DishWithDetails | null;\n}\n\nexport function useRecipeGrouping({ calculations, dishDetails }: UseRecipeGroupingProps): {\n  recipeGroups: RecipeGroup[];\n  standaloneCalculations: COGSCalculation[];\n} {\n  return useMemo(() => {\n    const groups: Map<string, RecipeGroup> = new Map();\n    const standalone: COGSCalculation[] = [];\n    const dishId = dishDetails?.id;\n\n    // Get recipe info from dishDetails\n    const recipeInfoMap = new Map<\n      string,\n      { name: string; quantity: number; yield: number; yieldUnit: string }\n    >();\n    if (dishDetails?.recipes) {\n      dishDetails.recipes.forEach(dr => {\n        if (dr.recipe_id) {\n          const recipeName =\n            dr.recipes?.recipe_name || (dr.recipes as any)?.name || 'Unknown Recipe';\n          const recipeYield = dr.recipes?.yield || 1;\n          const recipeYieldUnit = dr.recipes?.yield_unit || 'servings';\n          recipeInfoMap.set(String(dr.recipe_id), {\n            name: recipeName,\n            quantity: Number(dr.quantity) || 1,\n            yield: recipeYield,\n            yieldUnit: recipeYieldUnit,\n          });\n        }\n      });\n    }\n\n    calculations.forEach(calc => {\n      // Standalone ingredients have recipeId === dishId or empty string (when dish is null)\n      // Recipe ingredients have recipeId matching a recipe in recipeInfoMap\n      if (\n        !calc.recipeId ||\n        calc.recipeId === '' ||\n        calc.recipeId === dishId ||\n        !recipeInfoMap.has(calc.recipeId)\n      ) {\n        standalone.push(calc);\n      } else {\n        // Recipe ingredient\n        if (!groups.has(calc.recipeId)) {\n          const recipeInfo = recipeInfoMap.get(calc.recipeId)!;\n          groups.set(calc.recipeId, {\n            recipeId: calc.recipeId,\n            recipeName: recipeInfo.name,\n            quantity: recipeInfo.quantity,\n            yield: recipeInfo.yield,\n            yieldUnit: recipeInfo.yieldUnit,\n            calculations: [],\n            totalCost: 0,\n          });\n        }\n        const group = groups.get(calc.recipeId)!;\n        group.calculations.push(calc);\n        group.totalCost += calc.yieldAdjustedCost;\n      }\n    });\n\n    return {\n      recipeGroups: Array.from(groups.values()),\n      standaloneCalculations: standalone,\n    };\n  }, [calculations, dishDetails]);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTableGrouped/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTableHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTableMobileCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTableRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/COGSTableSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/CogsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/CreateRecipeModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/DishForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/FinishRecipeButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/IngredientManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/IngredientsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/PricingTool.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/RecipeCombobox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/RecipeNotFoundWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/RecipeUnitSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/components/SuccessMessage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/helpers/autosaveDebounce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/helpers/autosaveEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/helpers/calculationEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/helpers/calculationOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/helpers/ingredientProcessing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/helpers/ingredientValidation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useCOGSAutosave.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useCOGSCalculationLogic.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useCOGSCalculations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useCOGSDataFetching.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useCOGSEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useCOGSLoadingGate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useCOGSRecipeLoading.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useCOGSSorting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useCOGSTableSort.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useDishHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useIngredientAddition.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useIngredientAddition/helpers/executeIngredientAddition.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useIngredientAddition/helpers/executeIngredientAddition/validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useIngredientConversion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useIngredientEditing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useIngredientSearch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/usePortionHandling.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/usePricing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeCRUD.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeExistence.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeHandlers/useRecipeCreate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeHandlers/useRecipeFinish.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeHandlers/useRecipeSelect.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeIngredientLoading.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeIngredientsAutosave.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeSaving.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeSaving/saveLogic.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/useRecipeValidation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/utils/calculationManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/utils/createCalculation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/utils/ingredientFiltering.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/utils/keyboardNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/utils/mapApiItemsToCalculations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/utils/mapCalculationsToRecipeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/utils/mergeCalculations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/utils/recipeIngredientsAutosaveUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/utils/syncRecipeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/hooks/utils/updateCalculation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/utils/exportCOGSAnalysis.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/utils/exportCOGSAnalysis/csvExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/utils/exportCOGSAnalysis/htmlExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/utils/exportCOGSAnalysis/htmlFormatting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/utils/exportCOGSAnalysis/pdfExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/utils/printCOGSAnalysis.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/utils/printCOGSAnalysis/formatCostTable.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/utils/printCOGSAnalysis/formatHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/cogs/utils/printCOGSAnalysis/formatPricing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/AllergenOverview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/AllergenOverview/components/AllergenCards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/AllergenOverview/components/AllergenTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/AllergenOverview/components/ExportDropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/AllergenOverview/components/FilterBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/AllergenOverview/hooks/useAllergenData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/AllergenOverview/hooks/useAllergenExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/AllergenOverview/hooks/useAllergenFilters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/AllergenOverview/hooks/usePagination.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/AllergenOverview/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/AllergenOverviewMobileCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/ComplianceContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/ComplianceFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/ComplianceRecordForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/ComplianceRecordsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/ComplianceTabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/ComplianceTypeForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[666,669],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[666,669],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { AutosaveStatus } from '@/components/ui/AutosaveStatus';\nimport { useAutosave } from '@/hooks/useAutosave';\nimport { useTranslation } from '@/lib/useTranslation';\nimport React from 'react';\nimport { ComplianceTypeFormData } from '../types';\n\ninterface ComplianceTypeFormProps {\n  formData: ComplianceTypeFormData;\n  onChange: (data: ComplianceTypeFormData) => void;\n  onSubmit: (e: React.FormEvent) => void;\n  onCancel: () => void;\n}\n\nexport function ComplianceTypeForm({\n  formData,\n  onChange,\n  onSubmit,\n  onCancel,\n}: ComplianceTypeFormProps) {\n  const { t } = useTranslation();\n\n  // Autosave integration\n  const entityId = (formData as any).id || 'new';\n  const canAutosave = entityId !== 'new' || Boolean(formData.name);\n\n  const {\n    status,\n    error: autosaveError,\n    saveNow,\n  } = useAutosave({\n    entityType: 'compliance_types',\n    entityId: entityId,\n    data: formData,\n    enabled: canAutosave,\n  });\n\n  return (\n    <div className=\"rounded-3xl border border-[var(--border)] bg-[var(--surface)] p-6 shadow-lg\">\n      <div className=\"mb-4 flex items-center justify-between\">\n        <h3 className=\"text-xl font-semibold text-[var(--foreground)]\">\n          {t('compliance.addNewType', 'Add New Compliance Type')}\n        </h3>\n        <AutosaveStatus status={status} error={autosaveError} onRetry={saveNow} />\n      </div>\n      <form onSubmit={onSubmit} className=\"space-y-4\">\n        <div>\n          <label className=\"mb-2 block text-sm font-medium text-[var(--foreground-secondary)]\">\n            {t('compliance.typeName', 'Type Name')}\n          </label>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={e => onChange({ ...formData, name: e.target.value })}\n            className=\"w-full rounded-2xl border border-[var(--border)] bg-[var(--muted)] px-4 py-3 text-[var(--foreground)] focus:border-transparent focus:ring-2 focus:ring-[var(--primary)]\"\n            placeholder=\"e.g., Pest Control, Council Inspection\"\n            required\n          />\n        </div>\n        <div>\n          <label className=\"mb-2 block text-sm font-medium text-[var(--foreground-secondary)]\">\n            {t('compliance.description', 'Description')}\n          </label>\n          <textarea\n            value={formData.description}\n            onChange={e => onChange({ ...formData, description: e.target.value })}\n            className=\"w-full rounded-2xl border border-[var(--border)] bg-[var(--muted)] px-4 py-3 text-[var(--foreground)] focus:border-transparent focus:ring-2 focus:ring-[var(--primary)]\"\n            placeholder=\"Describe this compliance type\"\n            rows={3}\n          />\n        </div>\n        <div>\n          <label className=\"mb-2 block text-sm font-medium text-[var(--foreground-secondary)]\">\n            {t('compliance.renewalFrequency', 'Renewal Frequency (days)')}\n          </label>\n          <input\n            type=\"number\"\n            value={formData.renewal_frequency_days}\n            onChange={e => onChange({ ...formData, renewal_frequency_days: e.target.value })}\n            className=\"w-full rounded-2xl border border-[var(--border)] bg-[var(--muted)] px-4 py-3 text-[var(--foreground)] focus:border-transparent focus:ring-2 focus:ring-[var(--primary)]\"\n            placeholder=\"e.g., 365 for annual\"\n          />\n        </div>\n        <div className=\"flex space-x-4\">\n          <button\n            type=\"submit\"\n            className=\"rounded-2xl bg-[var(--primary)] px-6 py-3 font-semibold text-[var(--primary-text)] transition-all duration-200 hover:shadow-xl\"\n          >\n            {t('compliance.save', 'Save Type')}\n          </button>\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            className=\"rounded-2xl bg-[var(--muted)] px-6 py-3 font-semibold text-[var(--foreground)] transition-all duration-200 hover:bg-[var(--surface-variant)]\"\n          >\n            {t('compliance.cancel', 'Cancel')}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/ComplianceTypesGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/EquipmentMaintenanceForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/EquipmentMaintenanceList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/components/HealthInspectorReport.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/hooks/useComplianceData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/hooks/useComplianceForms.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/hooks/useComplianceForms/recordHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/hooks/useComplianceForms/typeHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/hooks/useEquipmentMaintenance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/hooks/useEquipmentMaintenance/useEquipmentFetch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/hooks/useEquipmentMaintenance/useEquipmentForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/complianceReportExportUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/complianceReportPrintStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/exportComplianceRecords.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/exportComplianceRecords/csvMapping.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/exportComplianceRecords/formatRecords.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/formatComplianceReportForPrint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/formatComplianceReportForPrint/formatCleaningTasks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/formatComplianceReportForPrint/formatComplianceRecords.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/formatComplianceReportForPrint/formatDate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/formatComplianceReportForPrint/formatReportPeriod.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/formatComplianceReportForPrint/formatSummary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/formatComplianceReportForPrint/formatTemperatureLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/printComplianceReport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/printComplianceReport/formatRecords.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/compliance/utils/printComplianceReport/formatSummary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/AchievementToast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/AdaptiveContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/AutosaveGlobalIndicator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/ChefPerformanceInsights.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/DashboardErrorAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/DashboardStats.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/DashboardStatsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/DraftRecovery.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/KitchenAlerts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/KitchenCharts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/KitchenChartsLazy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/KitchenOperations.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/LogoutButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/MenuOverview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/ModernNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/NetworkStatusBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/PersonalityScheduler.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/QuickActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/RecentActivity.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'activities.length', 'fetchRecentActivity', and 'refetch'. Either include them or remove the dependency array.","line":144,"column":6,"nodeType":"ArrayExpression","endLine":144,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [activities.length, fetchRecentActivity, refetch]","fix":{"range":[5005,5007],"text":"[activities.length, fetchRecentActivity, refetch]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/RecipeReadiness.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/TemperatureStatus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/helpers/getErrorAlerts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/helpers/fetchTemperatureData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/helpers/fetchTemperatureData/calculateOutOfRange.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/helpers/fetchTemperatureData/extractLastCheckTime.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/helpers/fetchTemperatureData/fetchStats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/helpers/fetchTemperatureData/fetchSupabaseData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/useKitchenAlerts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/useKitchenAlertsData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1195,1198],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1195,1198],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { getCachedData } from '@/lib/cache/data-cache';\nimport { logger } from '@/lib/logger';\nimport { useEffect, useState } from 'react';\nimport type { TemperatureEquipment, TemperatureLog } from '../../temperature/types';\nimport { fetchKitchenAlertsStats } from './useKitchenAlertsData/fetchStats';\nimport { fetchTemperatureAlerts } from './useKitchenAlertsData/fetchTemperature';\nimport { calculateTemperatureAlerts } from './useKitchenAlertsHelpers';\n\n/**\n * Hook for fetching kitchen alerts data\n *\n * @returns {Object} Stats, temperature alerts, and loading state\n */\nexport function useKitchenAlertsData() {\n  const [stats, setStats] = useState<{\n    ingredientsLowStock?: number;\n    recipesWithoutCost?: number;\n    temperatureChecksToday?: number;\n    cleaningTasksPending?: number;\n  }>({});\n  const [temperatureAlerts, setTemperatureAlerts] = useState<\n    Array<{\n      id: string;\n      message: string;\n      severity: 'critical' | 'warning';\n    }>\n  >([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const today = new Date().toISOString().split('T')[0];\n      const cachedStats = getCachedData<Record<string, any>>('dashboard_stats');\n      const cachedLogs = getCachedData<TemperatureLog[]>('dashboard_temperature_logs');\n      const cachedEquipment = getCachedData<TemperatureEquipment[]>(\n        'dashboard_temperature_equipment',\n      );\n\n      if (cachedStats) {\n        setStats({\n          ingredientsLowStock: cachedStats.ingredientsLowStock,\n          recipesWithoutCost: cachedStats.recipesWithoutCost,\n          temperatureChecksToday: cachedStats.temperatureChecksToday,\n          cleaningTasksPending: cachedStats.cleaningTasksPending,\n        });\n      }\n\n      if (cachedLogs && cachedEquipment) {\n        const todayLogs = (cachedLogs || []).filter(\n          (log: TemperatureLog) => log.log_date === today,\n        );\n        setTemperatureAlerts(calculateTemperatureAlerts(todayLogs, cachedEquipment));\n        setLoading(false);\n      }\n\n      try {\n        const freshStats = await fetchKitchenAlertsStats();\n        if (freshStats) setStats(freshStats);\n\n        const alerts = await fetchTemperatureAlerts(\n          today,\n          cachedLogs || undefined,\n          cachedEquipment || undefined,\n        );\n        setTemperatureAlerts(alerts);\n      } catch (err) {\n        logger.error('Error fetching kitchen alerts:', err);\n        if (err instanceof TypeError && err.message.includes('fetch')) {\n          logger.error(\n            'Network error: Unable to connect to server. Using cached data if available.',\n          );\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return { stats, temperatureAlerts, loading };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/useKitchenAlertsData/fetchStats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/useKitchenAlertsData/fetchTemperature.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/useKitchenAlertsHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/useRecipeReadiness.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/hooks/useTemperatureStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/BottomNavBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/CategorySection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/ExpandableCategorySection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/FloatingActionButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/MobileFAB.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/MobileNavigationDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/MoreDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NavItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NavigationChips.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NavigationErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NavigationHeader.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":72,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2878,2881],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2878,2881],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\nimport { NavbarStats } from '@/components/Arcade/NavbarStats';\nimport { Icon } from '@/components/ui/Icon';\nimport { useUserAvatar } from '@/hooks/useUserAvatar';\nimport { useUserProfile } from '@/hooks/useUserProfile';\nimport { logger } from '@/lib/logger';\nimport { getAvatarUrl, getDefaultAvatar } from '@/lib/user-avatar';\nimport { getUserDisplayName } from '@/lib/user-name';\nimport { useUser } from '@auth0/nextjs-auth0/client';\nimport { Search } from 'lucide-react';\nimport { memo, useEffect, useMemo, useState } from 'react';\nimport { Breadcrumbs } from './NavigationHeader/components/Breadcrumbs';\nimport { LogoSection } from './NavigationHeader/components/LogoSection';\nimport { UserAvatarButton } from './NavigationHeader/components/UserAvatarButton';\nimport { UserMenu } from './NavigationHeader/components/UserMenu';\nimport { useHeaderVisibility } from './NavigationHeader/hooks/useHeaderVisibility';\nimport { useSeasonalEffects } from './NavigationHeader/hooks/useSeasonalEffects';\nimport { useUserMenu } from './NavigationHeader/hooks/useUserMenu';\n\ninterface NavigationHeaderProps {\n  className?: string;\n  onSearchClick: () => void;\n  isSearchOpen: boolean;\n  pathname: string;\n  navigationItems: Array<{ href: string; label: string }>;\n  isActive: (href: string) => boolean;\n  // Logo interaction handlers from parent\n  handleLogoClick: (e: React.MouseEvent) => void;\n  handleLogoTouchStart: (e: React.TouchEvent) => void;\n  handleLogoTouchEnd: (e: React.TouchEvent) => void;\n  handleLogoMouseDown: () => void;\n  handleLogoMouseUp: () => void;\n  handleLogoMouseLeave: () => void;\n  shouldPreventNavigation: React.RefObject<boolean | null>;\n  // Ref for user button (for popover positioning)\n  userButtonRef?: React.RefObject<HTMLButtonElement | null>;\n  // Gamification handlers\n  onAchievementsClick?: () => void;\n}\n\nconst cn = (...classes: (string | undefined | null | false)[]): string =>\n  classes.filter(Boolean).join(' ');\n\n/**\n * Navigation header component for webapp.\n * Displays logo, breadcrumbs (desktop), search button, and user info.\n * Auto-hides on mobile/tablet when scrolling down, shows on scroll up or at top.\n *\n * @component\n */\nfunction NavigationHeaderBase({\n  className = '',\n  onSearchClick,\n  isSearchOpen,\n  pathname,\n  navigationItems,\n  isActive,\n  handleLogoClick,\n  handleLogoTouchStart,\n  handleLogoTouchEnd,\n  handleLogoMouseDown,\n  handleLogoMouseUp,\n  handleLogoMouseLeave,\n  shouldPreventNavigation,\n  userButtonRef,\n  onAchievementsClick,\n}: NavigationHeaderProps) {\n  const [isMounted, setIsMounted] = useState(false);\n  const { user, error: userError, isLoading: userLoading } = useUser();\n  // Handle nested user structure: user.user.email (Auth0 SDK sometimes returns nested structure)\n  // We use any cast for safety where the type definition might miss custom or nested props\n  const userAny = user as any;\n  const userEmail = user?.email || userAny?.user?.email;\n  const auth0UserName = user?.name || userAny?.user?.name;\n\n  // Prevent hydration mismatch by only computing user-dependent values after mount\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  // Log Auth0 useUser() result in NavigationHeader\n  useEffect(() => {\n    logger.dev('[NavigationHeader] Auth0 useUser() result:', {\n      hasUser: !!user,\n      user,\n      userEmail,\n      userError: userError?.message,\n      userLoading,\n      userKeys: user ? Object.keys(user) : [],\n      userEmailValue: user?.email,\n      userNameValue: auth0UserName,\n    });\n  }, [user, userEmail, userError, userLoading, auth0UserName]);\n\n  const { profile } = useUserProfile();\n\n  // Priority: Database first_name/last_name  Auth0 session name  Email prefix\n  const userNameInput = useMemo(\n    () => ({\n      first_name: profile?.first_name,\n      last_name: profile?.last_name,\n      name: auth0UserName,\n      email: userEmail,\n    }),\n    [profile?.first_name, profile?.last_name, auth0UserName, userEmail],\n  );\n\n  const userName = isMounted ? getUserDisplayName(userNameInput) : '';\n  const { avatar: userAvatar } = useUserAvatar();\n  const { isVisible, isDesktop } = useHeaderVisibility();\n  const { seasonalEffect, bannerText, bannerColor } = useSeasonalEffects();\n\n  // Ensure consistent initial render to prevent hydration mismatches\n  // Use isVisible only after mount to avoid server/client differences\n  const shouldHideHeader = isMounted ? !isVisible : false;\n\n  const {\n    isDesktopUserMenuOpen,\n    setIsDesktopUserMenuOpen,\n    desktopMenuRef,\n    buttonRef,\n    dropdownPosition,\n    handleUserAvatarClick,\n  } = useUserMenu({\n    isDesktop,\n    userButtonRef,\n  });\n\n  // Get avatar URL or default initials\n  const avatarUrl = useMemo(() => getAvatarUrl(userAvatar), [userAvatar]);\n  const initials = useMemo(() => getDefaultAvatar(userNameInput), [userNameInput]);\n\n  return (\n    <>\n      <div\n        className={cn(\n          'desktop:h-20 fixed inset-x-0 top-0 z-50 flex h-16 transform items-center transition-all duration-300',\n          shouldHideHeader && '-translate-y-full',\n          className,\n        )}\n      >\n        <div className=\"desktop:px-6 mx-auto flex h-full w-full max-w-7xl items-center justify-between px-4\">\n          <div className=\"desktop:gap-8 flex items-center gap-4\">\n            <LogoSection\n              handleLogoClick={handleLogoClick}\n              handleLogoTouchStart={handleLogoTouchStart}\n              handleLogoTouchEnd={handleLogoTouchEnd}\n              handleLogoMouseDown={handleLogoMouseDown}\n              handleLogoMouseUp={handleLogoMouseUp}\n              handleLogoMouseLeave={handleLogoMouseLeave}\n              shouldPreventNavigation={shouldPreventNavigation}\n              seasonalBannerText={seasonalEffect || bannerText || null}\n              seasonalBannerColor={bannerColor}\n              isDesktop={isDesktop}\n            />\n            {isDesktop && (\n              <Breadcrumbs\n                pathname={pathname}\n                navigationItems={navigationItems}\n                isActive={isActive}\n              />\n            )}\n          </div>\n\n          <div className=\"desktop:gap-4 flex items-center gap-2\">\n            <button\n              onClick={onSearchClick}\n              className={cn(\n                'relative flex h-10 w-10 items-center justify-center rounded-xl transition-all hover:bg-[var(--surface-variant)] active:scale-95',\n                isSearchOpen && 'bg-[var(--surface-variant)] text-[var(--primary)]',\n              )}\n              aria-label=\"Search\"\n            >\n              <Icon icon={Search} size=\"sm\" />\n            </button>\n\n            <NavbarStats onClick={onAchievementsClick} />\n\n            <div className=\"desktop:h-8 h-6 w-px bg-[var(--border)]\" />\n\n            <UserAvatarButton\n              buttonRef={buttonRef}\n              onClick={handleUserAvatarClick}\n              avatarUrl={avatarUrl}\n              defaultInitials={initials}\n              userName={userName}\n              isMenuOpen={isDesktopUserMenuOpen}\n            />\n          </div>\n        </div>\n\n        {/* User Menu Popover */}\n        <UserMenu\n          isOpen={isDesktopUserMenuOpen}\n          onClose={() => setIsDesktopUserMenuOpen(false)}\n          desktopMenuRef={desktopMenuRef}\n          dropdownPosition={dropdownPosition}\n          userName={userName}\n          userEmail={userEmail || ''}\n          firstName={profile?.first_name || null}\n          lastName={profile?.last_name || null}\n          avatarUrl={avatarUrl}\n          defaultInitials={initials}\n        />\n      </div>\n    </>\n  );\n}\n\nexport const NavigationHeader = memo(NavigationHeaderBase);\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NavigationHeader/components/Breadcrumbs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NavigationHeader/components/LogoSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NavigationHeader/components/UserAvatarButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NavigationHeader/components/UserMenu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NavigationHeader/hooks/useHeaderVisibility.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NavigationHeader/hooks/useSeasonalEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NavigationHeader/hooks/useUserMenu.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/NewButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/PersistentSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/PersistentSidebar/components/PrimaryItemsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/PersistentSidebar/components/SidebarCollapseButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/PersistentSidebar/hooks/useCategoryExpansion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/PersistentSidebar/hooks/useSidebarState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/SearchModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/Sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/navigation/nav-items.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/static/ActionButtonsLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/static/DescriptionPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/static/PageHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/components/types/dashboard-stats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/CostAnalysisSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/DishBuilderClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/DishBuilderDragDrop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/DishDropZone.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/DishForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/DishIngredientTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/DishSummaryCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/QuantityInputModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/hooks/useIngredientHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/hooks/useRecipeExpansion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/hooks/useRecipeLoading.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/components/hooks/useSaveHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/helpers/createCallbacks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/helpers/dishCallbacks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/helpers/ingredientCallbacks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/helpers/saveDishItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/helpers/saveRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/helpers/saveRecipe/createRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/helpers/saveRecipe/saveIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/helpers/simpleCallbacks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/helpers/validateDish.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/useDishBuilder.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/useRecipeExpansion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/utils/autoPopulatePrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/utils/dishSave.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/utils/helpers/addIngredient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/utils/helpers/calculationHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/utils/helpers/editIngredient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/hooks/utils/ingredientManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/dish-builder/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/EmployeeCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/EmployeeDetailModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/EmployeeDetailModal/EmployeeContactInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/EmployeeDetailModal/EmployeeEmploymentInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/EmployeeDetailModal/helpers/getStatusColor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/EmployeeForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/EmployeeFormFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/EmployeeList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/EmployeePhotoUpload.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/QualificationCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/QualificationForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/hooks/helpers/photoStateManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/hooks/helpers/photoUpload.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/hooks/helpers/photoUploadHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/hooks/helpers/photoValidation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/components/hooks/useEmployeePhoto.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/employees/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/equipment/[id]/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/error.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/components/GuideControls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/components/GuideNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/components/GuideViewer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/components/formats/HybridGuide.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/components/formats/InteractiveDemo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/components/formats/ScreenshotGuide.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/components/formats/ThreeJSGuide.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/components/formats/ThreeJSViewer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/components/formats/VideoGuide.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/data/guide-types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/data/guides.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/hooks/useGuideNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/hooks/useGuideProgress.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/hooks/useGuideProgress/helpers/progressUpdates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/hooks/useGuideProgress/helpers/storage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/hooks/useGuideProgress/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/guide/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/ActiveFilterChips.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/BulkAllergenDetection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/CSVImportModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/CSVImportPreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/ClearAllFiltersButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/DisplayUnitSelect.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/DisplayUnitSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/FilterDropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientBulkActionsMenu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientEditDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientEditModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientFormFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientPagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientSearchBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientSelectionModeBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientSortDropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientTableCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientTableDesktop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientTableDialogs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientTableEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientTableFilterBar.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'setLocalSearchTerm'. Either include it or remove the dependency array.","line":106,"column":6,"nodeType":"ArrayExpression","endLine":106,"endColumn":93,"suggestions":[{"desc":"Update the dependencies array to be: [setLocalSearchTerm, onSearchChange, onSupplierFilterChange, onStorageFilterChange, onCategoryFilterChange]","fix":{"range":[3523,3610],"text":"[setLocalSearchTerm, onSearchChange, onSupplierFilterChange, onStorageFilterChange, onCategoryFilterChange]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientTableHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientTableRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientTableWithFilters.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'setShowBulkMenu'. Either include it or remove the dependency array.","line":146,"column":6,"nodeType":"ArrayExpression","endLine":146,"endColumn":20,"suggestions":[{"desc":"Update the dependencies array to be: [setShowBulkMenu, showBulkMenu]","fix":{"range":[4609,4623],"text":"[setShowBulkMenu, showBulkMenu]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientWizard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientWizardNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientWizardStep1.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientWizardStep2.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientWizardStep3.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientWizardStep4.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientsClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientsClient/components/IngredientsBulkActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientsClient/components/IngredientsErrorBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientsClient/components/IngredientsHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientsClient/helpers/useAutoCategorization.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/IngredientsClient/helpers/usePagination.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/ItemsPerPageSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/ModernIngredientFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/StorageCombobox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/SupplierCombobox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/WizardErrorDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/WizardProgressBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/hooks/useUnitConversionHints.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/ingredient-units.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/useIngredientFormLogic/helpers/useCategoryDetection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/useIngredientFormLogic/helpers/useCostCalculation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/useIngredientFormLogic/helpers/useFormState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/useIngredientFormLogic/helpers/useFormValidation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/useIngredientFormLogic/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/components/useIngredientFormLogic/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/helpers/bulkCategorizeHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/helpers/csvExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/helpers/csvImport.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1285,1288],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1285,1288],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { parseCSV } from '@/lib/csv/csv-utils';\nimport {\n  getIngredientsValidationSchema,\n  transformCSVData,\n  validateCSVData,\n} from '@/lib/csv/validation';\nimport { logger } from '@/lib/logger';\nimport { supabase } from '@/lib/supabase';\nimport { formatIngredientForInsert } from './csvImport/formatIngredient';\nimport { mapCSVRowToIngredient } from './csvImport/mapCSVRow';\n\ninterface Ingredient {\n  id?: string;\n  ingredient_name: string;\n  brand?: string;\n  pack_size?: string;\n  pack_size_unit?: string;\n  pack_price?: number;\n  unit?: string;\n  cost_per_unit?: number;\n  cost_per_unit_as_purchased?: number;\n  cost_per_unit_incl_trim?: number;\n  trim_peel_waste_percentage?: number;\n  yield_percentage?: number;\n  supplier?: string;\n  product_code?: string;\n  storage_location?: string;\n  min_stock_level?: number;\n  current_stock?: number;\n}\n\n/**\n * Parse CSV text and convert to ingredient objects.\n * @param {string} csvText - CSV text to parse\n * @returns {{ ingredients: Partial<Ingredient>[]; errors: string[] }} Parsed ingredients and errors\n */\nexport function parseIngredientsCSV(csvText: string): {\n  ingredients: Partial<Ingredient>[];\n  errors: string[];\n} {\n  const errors: string[] = [];\n\n  // Parse CSV using PapaParse\n  const result = parseCSV<Record<string, any>>(csvText, {\n    header: true,\n    skipEmptyLines: true,\n    transformHeader: (header: string) => header.trim(),\n  });\n\n  if (result.errors.length > 0) {\n    result.errors.forEach(error => errors.push(`Row ${error.row}: ${error.message}`));\n  }\n  if (result.data.length === 0) {\n    errors.push('CSV file appears to be empty or has no valid data rows');\n    return { ingredients: [], errors };\n  }\n  const ingredients = result.data\n    .map(row => mapCSVRowToIngredient(row))\n    .filter(ing => ing.ingredient_name);\n\n  // Validate ingredients\n  const schema = getIngredientsValidationSchema();\n  const transformed = transformCSVData(ingredients, schema);\n  const validation = validateCSVData(transformed, schema);\n\n  if (!validation.valid) {\n    validation.errors.forEach(err => errors.push(`Row ${err.row}, ${err.field}: ${err.error}`));\n  }\n\n  return { ingredients: validation.valid ? transformed : ingredients, errors };\n}\n\n/**\n * Import ingredients from CSV data.\n * @param {Partial<Ingredient>[]} parsedIngredients - Parsed ingredients from CSV\n * @returns {Promise<{success: boolean, data?: Ingredient[], error?: unknown}>} Import result\n */\nexport async function importIngredientsFromCSV(\n  parsedIngredients: Partial<Ingredient>[],\n): Promise<{ success: boolean; data?: Ingredient[]; error?: unknown }> {\n  try {\n    if (!parsedIngredients || parsedIngredients.length === 0) {\n      return { success: false, error: 'No ingredients to import' };\n    }\n\n    const { data, error } = await supabase\n      .from('ingredients')\n      .insert(parsedIngredients.map(formatIngredientForInsert))\n      .select();\n    if (error) throw error;\n    return { success: true, data: data || [] };\n  } catch (error) {\n    logger.error('[CSV Import] Failed to import ingredients:', error);\n    return { success: false, error };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/helpers/csvImport/formatIngredient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/helpers/csvImport/mapCSVRow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/helpers/errorHandling.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/helpers/errorMessageFormatting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/helpers/formatIngredientUpdates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/helpers/handleIngredientInsert.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/helpers/optimisticIngredientAdd.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/helpers/optimisticUpdate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useCardTouchHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useFilterBarEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientAdd.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientAdd/addIngredient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientBulkActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientBulkActionsDialog.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientBulkUpdate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientBulkUpdate/helpers/handleBulkAutoCategorize.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientBulkUpdate/helpers/handleBulkUpdate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientBulkUpdate/helpers/handleCategorizeAll.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientBulkUpdateDialog.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientBulkUpdateHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientCRUD.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientCSV.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientData.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchSuppliers'. Either include it or remove the dependency array.","line":62,"column":6,"nodeType":"ArrayExpression","endLine":62,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchSuppliers]","fix":{"range":[1985,1987],"text":"[fetchSuppliers]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientDelete.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientEditSave.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientFiltering.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientFormState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientMigration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientTableSort.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientUpdate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useIngredientsQuery.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":63,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1748,1751],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1748,1751],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { cacheData, getCachedData, prefetchApi } from '@/lib/cache/data-cache';\nimport { useQuery } from '@tanstack/react-query';\n\ninterface Ingredient {\n  id: string;\n  ingredient_name: string;\n  brand?: string;\n  pack_size?: string;\n  pack_size_unit?: string;\n  pack_price?: number;\n  category?: string;\n  unit?: string;\n  cost_per_unit: number;\n  cost_per_unit_as_purchased?: number;\n  cost_per_unit_incl_trim?: number;\n  trim_peel_waste_percentage?: number;\n  yield_percentage?: number;\n  supplier?: string;\n  product_code?: string;\n  storage_location?: string;\n  min_stock_level?: number;\n  current_stock?: number;\n  created_at?: string;\n  updated_at?: string;\n}\n\ninterface IngredientsResponse {\n  items: Ingredient[];\n  total: number;\n  page: number;\n  pageSize: number;\n  totalPages: number;\n}\n\nexport function useIngredientsQuery(page: number, pageSize: number) {\n  // Prefetch on first page\n  if (page === 1) {\n    prefetchApi('/api/ingredients?page=1&pageSize=20');\n  }\n\n  return useQuery<IngredientsResponse, Error>({\n    queryKey: ['ingredients', { page, pageSize }],\n    queryFn: async () => {\n      const res = await fetch(`/api/ingredients?page=${page}&pageSize=${pageSize}`, {\n        cache: 'no-store',\n      });\n      if (!res.ok) throw new Error('Failed to fetch ingredients');\n      const json = await res.json();\n      const data = json.data;\n      // Cache first page for instant display\n      if (page === 1 && data?.items) {\n        cacheData('ingredients_page_1', data.items);\n      }\n      return data;\n    },\n    placeholderData: previousData => previousData,\n    // Use cached data as initial data if available\n    initialData:\n      page === 1\n        ? (() => {\n            const cached = getCachedData<any[]>('ingredients_page_1');\n            if (cached) {\n              return {\n                items: cached,\n                total: cached.length,\n                page: 1,\n                pageSize,\n                totalPages: 1,\n              } as IngredientsResponse;\n            }\n            return undefined;\n          })()\n        : undefined,\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useLongPress.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useLongPressDetection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useRegionalUnits.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useRegularModeHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useSelectionMode.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useSelectionModeHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/hooks/useTouchPositionTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/utils/getStandardUnit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/ingredients/utils/wizard-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/AllergenTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/CategoryHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/CategoryManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/CategorySelectorModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/DishPalette.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/EmptyMenuList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/IngredientPopover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/IngredientPopover/components/IngredientList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/IngredientPopover/components/RecipeSourcesList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/IngredientPopover/hooks/useIngredientData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/IngredientPopover/hooks/useIngredientData/helpers/fetchDishIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/IngredientPopover/hooks/useIngredientData/helpers/fetchRecipeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/IngredientPopover/hooks/usePopoverCloseHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/IngredientPopover/hooks/usePopoverPosition.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuBuilderClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuBuilderClient/components/DatabaseErrorBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuBuilderClient/components/ErrorBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuBuilderClient/hooks/useDatabaseCheck.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuBuilderClient/hooks/useMenuData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuBuilderClient/hooks/useMenuHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuCategoriesList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuCategory.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuDisplayView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/components/LockedMenuView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/components/MenuEditorModals.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/hooks/useDragDropSetup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/hooks/useMenuLockManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/hooks/useMenuLockManagement/helpers/fetchLockStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/hooks/useMenuLockManagement/helpers/handleLockToggle.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/hooks/useMenuLockManagement/helpers/useLockStatusSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/hooks/usePriceRecalculation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/hooks/useRenderTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/hooks/useStableMenuItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/hooks/useStableMenuItems/helpers/createItemSignature.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditor/hooks/useStableMenuItems/helpers/detectItemChanges.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuEditorModals.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemHoverStatistics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemHoverStatistics/components/RecommendedPriceGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemHoverStatistics/components/StatisticsGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemHoverStatistics/hooks/useStatisticsLoading.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemHoverStatistics/hooks/useStatisticsLoading/helpers/cacheUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemHoverStatistics/hooks/useStatisticsLoading/helpers/fetchStatistics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemHoverStatistics/hooks/useTooltipPosition.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemHoverStatistics/hooks/useTooltipPosition/helpers/calculateTooltipPosition.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemHoverStatistics/hooks/useTooltipPosition/helpers/getPositionFromAnchor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemHoverStatistics/hooks/useTooltipPosition/helpers/resolvePosition.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemPriceEditPopup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemRegionPopup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemStatisticsModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuItemTooltipContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/AllergenMatrixTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/ExportOptions.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1741,1744],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1741,1744],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { Icon } from '@/components/ui/Icon';\nimport { logger } from '@/lib/logger';\nimport { Download, FileDown, FileSpreadsheet, FileText } from 'lucide-react';\nimport { useEffect, useRef, useState } from 'react';\n\n// Version identifier for cache-busting verification\n// Increment this version to force browser cache refresh\nconst EXPORT_OPTIONS_VERSION = '2.0.1-dropdown-cache-bust';\n\nexport type ExportContentType =\n  | 'menu'\n  | 'matrix'\n  | 'recipe-cards'\n  | 'all'\n  | 'menu-matrix'\n  | 'menu-recipes'\n  | 'matrix-recipes';\n\nexport type ExportFormat = 'pdf' | 'html' | 'csv';\n\ninterface ExportOptionsProps {\n  handleExport: (contentType: ExportContentType, format: ExportFormat) => void;\n  exportLoading: string | null;\n}\n\nconst CONTENT_OPTIONS: Array<{ value: ExportContentType; label: string }> = [\n  { value: 'menu', label: 'Menu Display' },\n  { value: 'matrix', label: 'Allergen Matrix' },\n  { value: 'recipe-cards', label: 'Recipe Cards' },\n  { value: 'menu-matrix', label: 'Menu + Matrix' },\n  { value: 'menu-recipes', label: 'Menu + Recipe Cards' },\n  { value: 'matrix-recipes', label: 'Matrix + Recipe Cards' },\n  { value: 'all', label: 'All (Menu + Matrix + Recipe Cards)' },\n];\n\nexport function ExportOptions({ handleExport, exportLoading }: ExportOptionsProps) {\n  // Log version on mount to verify new code is running\n  useEffect(() => {\n    logger.dev('[ExportOptions] Component version:', { version: EXPORT_OPTIONS_VERSION });\n    logger.dev('[ExportOptions] NEW VERSION LOADED:', { version: EXPORT_OPTIONS_VERSION });\n    logger.dev('[ExportOptions] CACHE BUST - Version 2.0.0-dropdown is running!');\n    // Also log to window for easy debugging\n    if (typeof window !== 'undefined') {\n      (window as any).__EXPORT_OPTIONS_VERSION__ = EXPORT_OPTIONS_VERSION;\n    }\n  }, []);\n\n  const [selectedContent, setSelectedContent] = useState<ExportContentType | null>(null);\n  const [showContentDropdown, setShowContentDropdown] = useState(false);\n  const [showFormatDropdown, setShowFormatDropdown] = useState(false);\n  const contentDropdownRef = useRef<HTMLDivElement>(null);\n  const formatDropdownRef = useRef<HTMLDivElement>(null);\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const isAnyExporting = exportLoading !== null;\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent | TouchEvent) => {\n      if (\n        contentDropdownRef.current &&\n        !contentDropdownRef.current.contains(event.target as Node) &&\n        formatDropdownRef.current &&\n        !formatDropdownRef.current.contains(event.target as Node) &&\n        buttonRef.current &&\n        !buttonRef.current.contains(event.target as Node)\n      ) {\n        setShowContentDropdown(false);\n        setShowFormatDropdown(false);\n        setSelectedContent(null);\n      }\n    };\n\n    if (showContentDropdown || showFormatDropdown) {\n      document.addEventListener('mousedown', handleClickOutside);\n      document.addEventListener('touchstart', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n        document.removeEventListener('touchstart', handleClickOutside);\n      };\n    }\n  }, [showContentDropdown, showFormatDropdown]);\n\n  // Close on Escape key\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        setShowContentDropdown(false);\n        setShowFormatDropdown(false);\n        setSelectedContent(null);\n      }\n    };\n\n    if (showContentDropdown || showFormatDropdown) {\n      document.addEventListener('keydown', handleEscape);\n      return () => document.removeEventListener('keydown', handleEscape);\n    }\n  }, [showContentDropdown, showFormatDropdown]);\n\n  const handleContentSelect = (contentType: ExportContentType) => {\n    setSelectedContent(contentType);\n    setShowContentDropdown(false);\n    setShowFormatDropdown(true);\n  };\n\n  const handleFormatClick = (format: ExportFormat) => {\n    if (selectedContent) {\n      handleExport(selectedContent, format);\n      setShowFormatDropdown(false);\n      setSelectedContent(null);\n    }\n  };\n\n  const getLoadingKey = (contentType: ExportContentType, format: ExportFormat): string => {\n    return `${contentType}-${format}`;\n  };\n\n  const isExporting = (contentType: ExportContentType, format: ExportFormat): boolean => {\n    return exportLoading === getLoadingKey(contentType, format);\n  };\n\n  return (\n    <div className=\"relative\" data-export-version={EXPORT_OPTIONS_VERSION}>\n      {/* Export Button */}\n      <button\n        ref={buttonRef}\n        onClick={() => {\n          if (!isAnyExporting) {\n            setShowContentDropdown(!showContentDropdown);\n            setShowFormatDropdown(false);\n            setSelectedContent(null);\n          }\n        }}\n        disabled={isAnyExporting}\n        className=\"flex items-center gap-2 rounded-lg border border-[var(--border)] bg-[var(--background)]/80 px-4 py-2 text-sm font-medium text-[var(--foreground-secondary)] transition-all hover:bg-[var(--surface)] disabled:cursor-not-allowed disabled:opacity-50\"\n      >\n        <Icon icon={Download} size=\"sm\" aria-hidden={true} />\n        <span>Export</span>\n      </button>\n\n      {/* Content Selection Dropdown */}\n      {showContentDropdown && (\n        <>\n          <div\n            className=\"fixed inset-0 z-40\"\n            onClick={() => setShowContentDropdown(false)}\n            aria-hidden={true}\n          />\n          <div\n            ref={contentDropdownRef}\n            className=\"absolute top-full right-0 z-50 mt-2 w-64 rounded-xl border border-[var(--border)] bg-[var(--surface)] shadow-xl\"\n          >\n            <div className=\"p-2\">\n              <div className=\"mb-2 px-3 py-1.5 text-xs font-semibold tracking-wider text-[var(--foreground-muted)] uppercase\">\n                What to export\n              </div>\n              {CONTENT_OPTIONS.map(option => (\n                <button\n                  key={option.value}\n                  onClick={() => handleContentSelect(option.value)}\n                  className=\"w-full rounded-lg px-3 py-2 text-left text-sm text-[var(--foreground-secondary)] transition-colors hover:bg-[var(--muted)] hover:text-[var(--foreground)]\"\n                >\n                  {option.label}\n                </button>\n              ))}\n            </div>\n          </div>\n        </>\n      )}\n\n      {/* Format Selection Dropdown */}\n      {showFormatDropdown && selectedContent && (\n        <>\n          <div\n            className=\"fixed inset-0 z-40\"\n            onClick={() => {\n              setShowFormatDropdown(false);\n              setSelectedContent(null);\n            }}\n            aria-hidden={true}\n          />\n          <div\n            ref={formatDropdownRef}\n            className=\"absolute top-full right-0 z-50 mt-2 w-48 rounded-xl border border-[var(--border)] bg-[var(--surface)] shadow-xl\"\n          >\n            <div className=\"p-2\">\n              <div className=\"mb-2 px-3 py-1.5 text-xs font-semibold tracking-wider text-[var(--foreground-muted)] uppercase\">\n                Export format\n              </div>\n              <button\n                onClick={() => handleFormatClick('pdf')}\n                disabled={isAnyExporting}\n                className={`flex w-full items-center gap-2 rounded-lg px-3 py-2 text-left text-sm transition-colors disabled:cursor-not-allowed disabled:opacity-50 ${\n                  isExporting(selectedContent, 'pdf')\n                    ? 'bg-[var(--primary)]/10 text-[var(--primary)]'\n                    : 'text-[var(--foreground-secondary)] hover:bg-[var(--muted)] hover:text-[var(--foreground)]'\n                }`}\n              >\n                <Icon icon={FileDown} size=\"sm\" aria-hidden={true} />\n                <span>{isExporting(selectedContent, 'pdf') ? 'Exporting...' : 'PDF'}</span>\n              </button>\n              <button\n                onClick={() => handleFormatClick('html')}\n                disabled={isAnyExporting}\n                className={`flex w-full items-center gap-2 rounded-lg px-3 py-2 text-left text-sm transition-colors disabled:cursor-not-allowed disabled:opacity-50 ${\n                  isExporting(selectedContent, 'html')\n                    ? 'bg-[var(--primary)]/10 text-[var(--primary)]'\n                    : 'text-[var(--foreground-secondary)] hover:bg-[var(--muted)] hover:text-[var(--foreground)]'\n                }`}\n              >\n                <Icon icon={FileText} size=\"sm\" aria-hidden={true} />\n                <span>{isExporting(selectedContent, 'html') ? 'Exporting...' : 'HTML'}</span>\n              </button>\n              <button\n                onClick={() => handleFormatClick('csv')}\n                disabled={isAnyExporting}\n                className={`flex w-full items-center gap-2 rounded-lg px-3 py-2 text-left text-sm transition-colors disabled:cursor-not-allowed disabled:opacity-50 ${\n                  isExporting(selectedContent, 'csv')\n                    ? 'bg-[var(--primary)]/10 text-[var(--primary)]'\n                    : 'text-[var(--foreground-secondary)] hover:bg-[var(--muted)] hover:text-[var(--foreground)]'\n                }`}\n              >\n                <Icon icon={FileSpreadsheet} size=\"sm\" aria-hidden={true} />\n                <span>{isExporting(selectedContent, 'csv') ? 'Exporting...' : 'CSV'}</span>\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/LockedStatusBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/PrepQuantityInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCard/RecipeCardCompact.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCard/RecipeCardIngredients.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCard/RecipeCardMethod.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCard/RecipeCardModalHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCard/RecipeCardNotes.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCard/RecipeCardQR.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/RecipeCardsView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/components/EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/components/MainCardsGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/components/SubRecipeSections.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/hooks/useCardGeneration.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1554,1557],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1554,1557],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1589,1592],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1589,1592],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Hook for generating recipe cards.\n */\nimport { useNotification } from '@/contexts/NotificationContext';\nimport { logger } from '@/lib/logger';\nimport { useRef, useState } from 'react';\nimport { handleFetch } from './useCardGeneration/helpers/handleFetch';\nimport { parseResponse } from './useCardGeneration/helpers/parseResponse';\n\ninterface UseCardGenerationOptions {\n  menuId: string;\n  onSuccess?: () => void;\n}\n\nexport function useCardGeneration({ menuId, onSuccess }: UseCardGenerationOptions) {\n  const [generating, setGenerating] = useState(false);\n  const { showSuccess, showError } = useNotification();\n  const abortControllerRef = useRef<AbortController | null>(null);\n\n  const handleGenerateCards = async () => {\n    const requestId = `req-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    try {\n      logger.dev(`[useCardGeneration] [${requestId}] handleGenerateCards called`, {\n        menuId,\n        generating,\n      });\n\n      setGenerating(true);\n      logger.dev(`[useCardGeneration] [${requestId}] State updated, making API call...`);\n\n      const controller = new AbortController();\n      abortControllerRef.current = controller;\n      const fetchStartTime = Date.now();\n      const response = await handleFetch({ menuId, requestId, controller, fetchStartTime });\n      const data = await parseResponse(response);\n\n      if (!response.ok) {\n        logger.error('[useCardGeneration] Generation failed:', {\n          status: response.status,\n          data,\n        });\n        const errorMsg =\n          (data as any).message ||\n          (data as any).error ||\n          `Failed to generate recipe cards (${response.status})`;\n        throw new Error(errorMsg);\n      }\n\n      logger.dev('[useCardGeneration] Generation successful, refreshing cards...');\n      showSuccess('Recipe cards generated successfully! Loading cards...');\n      onSuccess?.();\n    } catch (err) {\n      const errorMsg = err instanceof Error ? err.message : 'Failed to generate recipe cards';\n      logger.error('[useCardGeneration] Error generating cards:', err);\n      showError(errorMsg);\n      throw err;\n    } finally {\n      setGenerating(false);\n    }\n  };\n\n  return {\n    generating,\n    handleGenerateCards,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/hooks/useCardGeneration/helpers/handleFetch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/hooks/useCardGeneration/helpers/parseResponse.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/hooks/useRecipeCards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/hooks/useRecipeCards/helpers/createCleanup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/hooks/useRecipeCards/helpers/fetchCards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/hooks/useRecipeCards/helpers/handleFetchError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/hooks/useRecipeCards/helpers/updateCards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/hooks/useRecipeCards/helpers/useCardState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/hooks/useRecipeCards/helpers/usePolling.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/components/RecipeCardsView/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/hooks/useExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/hooks/useMenuItemSelection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/hooks/useMenuItemsWithAllergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/hooks/useMenuItemsWithAllergens/helpers/processMenuItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuLockedView/hooks/useRenderTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuStatisticsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuUnlockChangesDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuUnlockChangesDialog/components/ChangesList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuUnlockChangesDialog/components/DialogActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuUnlockChangesDialog/components/DialogHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuUnlockChangesDialog/hooks/useDialogActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuUnlockChangesDialog/hooks/useDialogFocusTrap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuUnlockChangesDialog/utils/calculateSummary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuUnlockChangesDialog/utils/formatChangeDetails.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/MenuUnlockChangesDialog/utils/groupChangesByType.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/SortableMenuItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/SortableMenuItem/components/CategoryDropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/SortableMenuItem/components/MenuItemActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/SortableMenuItem/components/MenuItemContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/SortableMenuItem/components/MenuItemTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/SortableMenuItem/components/ReorderDropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/SortableMenuItem/hooks/useMenuItemDropdowns.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/SortableMenuItem/hooks/useMenuItemHover.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/SortableMenuItem/hooks/useMenuItemHover/helpers/isWithinReorderExclusionZone.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/SortableMenuItem/hooks/useMenuItemStatistics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/SortableMenuItem/hooks/useMenuItemStatistics/helpers/statisticsCache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/drag/DragOverlayContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/drag/centerOnCursorModifier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/menuItemHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/moveItemsToUncategorized.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/optimisticCategoryRemoval.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/saveMenuDescription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/saveMenuTitle.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useCategoryAddition.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useCategoryRemoval.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useCategoryRename.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuDescriptionEditing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemAddition.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemAddition/createOptimisticItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemAddition/handleMenuItemAPI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemAddition/updateMenuItemsWithServerItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemCategory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemPrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemPrice/helpers/applyOptimisticUpdate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemPrice/helpers/makePriceUpdateRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemPrice/helpers/updateItemInState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemRegion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemRemoval.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemReorder.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuItemReorder/helpers/performReorder.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/helpers/useMenuTitleEditing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useCategoryOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuData.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadMenuData'. Either include it or remove the dependency array.","line":81,"column":6,"nodeType":"ArrayExpression","endLine":81,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [loadMenuData, menuId]","fix":{"range":[2739,2747],"text":"[loadMenuData, menuId]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuData/dataLoading.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuData/dataLoading/helpers/handleLoadingState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuData/dataLoading/helpers/handleStatistics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuData/dataLoading/helpers/processDishesAndRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuData/dataLoading/helpers/processMenuResponse.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuData/helpers/initializeState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuData/helpers/refreshStatistics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuDeletion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuEditing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuEditing/helpers/createEditingState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuEditing/helpers/createHandlers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[168,171],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[168,171],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[222,225],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[222,225],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Create handler functions for menu editing.\n */\nimport type { Menu } from '../../../../types';\n\ninterface EditingRefs {\n  titleEditingRef: React.MutableRefObject<any>;\n  descriptionEditingRef: React.MutableRefObject<any>;\n}\n\nexport function createHandlers(refs: EditingRefs) {\n  const handleStartEditTitle = (menu: Menu, e: React.MouseEvent) =>\n    refs.titleEditingRef.current.handleStartEditTitle(menu, e);\n  const handleStartEditDescription = (menu: Menu, e: React.MouseEvent) =>\n    refs.descriptionEditingRef.current.handleStartEditDescription(menu, e);\n  const handleCancelEdit = () => {\n    refs.titleEditingRef.current.handleCancelEdit();\n    refs.descriptionEditingRef.current.handleCancelEdit();\n  };\n  const handleSaveTitle = (menu: Menu) => refs.titleEditingRef.current.handleSaveTitle(menu);\n  const handleSaveDescription = (menu: Menu) =>\n    refs.descriptionEditingRef.current.handleSaveDescription(menu);\n  const handleTitleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>, menu: Menu) =>\n    refs.titleEditingRef.current.handleTitleKeyDown(e, menu);\n  const handleDescriptionKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) =>\n    refs.descriptionEditingRef.current.handleDescriptionKeyDown(e);\n\n  return {\n    handleStartEditTitle,\n    handleStartEditDescription,\n    handleCancelEdit,\n    handleSaveTitle,\n    handleSaveDescription,\n    handleTitleKeyDown,\n    handleDescriptionKeyDown,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuEditorUI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuEditorUI/helpers/createConfirmDialog.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuEditorUI/helpers/createInitialDialogState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuEditorUI/helpers/createRemoveHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuEditorUI/helpers/getItemName.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuItemOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/components/hooks/useMenuItemOperations/helpers/createOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/hooks/useCategorySort.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/hooks/useMenuDragDrop.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/hooks/useMenuDragDrop/dragEnd.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/hooks/useMenuDragDrop/dragEnd/helpers/moveItemToCategory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/hooks/useMenuDragDrop/dragStart.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/allergenIconUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/formatMenuForPrint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/formatMenuForPrint/helpers/escapeHtml.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/formatMenuForPrint/helpers/formatCategorySection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/formatMenuForPrint/helpers/formatMenuItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/formatMenuForPrint/helpers/generateAllergenMatrix.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/generateDescriptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuDragDropHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuPrintStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuPrintStyles/customerVariant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuPrintStyles/defaultStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuPrintTemplate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuPrintTemplate/htmlStructure.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuPrintTemplate/styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuPrintTemplate/styles/helpers/backgroundStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuPrintTemplate/styles/helpers/baseStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuPrintTemplate/styles/helpers/contentStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuPrintTemplate/styles/helpers/printStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/menuPrintUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/normalizeMenuItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/recipeCardScaling.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/recipeCardScaling/formatting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/menu-builder/utils/recipeCardScaling/unitConversion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/components/MenuIngredientsTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/components/OrderListForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/hooks/useOrderListsQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/exportOrderLists.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/exportOrderLists/helpers/downloadFile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/exportOrderLists/helpers/formatOrderListForExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/exportOrderLists/helpers/mapOrderListToCSVRows.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/formatOrderListForPrint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/formatOrderListForPrint/defaultVariant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/formatOrderListForPrint/helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/formatOrderListForPrint/supplierVariant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/formatOrderListForPrint/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/orderListExportUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/orderListPrintStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/printOrderList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/printOrderList/helpers/generateOrderHeader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/order-lists/utils/printOrderList/helpers/generateOrderItemsTable.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/components/ParLevelCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/components/ParLevelEditDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/components/ParLevelInlineForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/components/ParLevelSelectionModeBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/components/ParLevelTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/components/ParLevelTableRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsCRUD.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsCRUD/helpers/handleDelete.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsCRUD/helpers/handleUpdate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1693,1696],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1693,1696],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1741,1744],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1741,1744],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1802,1805],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1802,1805],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1894,1897],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1894,1897],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Hook for fetching par levels and ingredients data.\n */\nimport { cacheData, getCachedData, prefetchApis } from '@/lib/cache/data-cache';\nimport { logger } from '@/lib/logger';\nimport { useCallback, useEffect, useState } from 'react';\nimport type { Ingredient, ParLevel } from '../types';\nimport { handleParLevelsError } from './useParLevelsData/helpers/handleParLevelsError';\nimport { parseParLevelsResponse } from './useParLevelsData/helpers/parseParLevelsResponse';\n\ninterface UseParLevelsDataReturn {\n  parLevels: ParLevel[];\n  ingredients: Ingredient[];\n  loading: boolean;\n  setParLevels: React.Dispatch<React.SetStateAction<ParLevel[]>>;\n  fetchParLevels: () => Promise<void>;\n  fetchIngredients: () => Promise<void>;\n}\n\ninterface UseParLevelsDataProps {\n  showError: (message: string) => void;\n}\n\n/**\n * Hook for fetching par levels and ingredients data.\n */\nexport function useParLevelsData({ showError }: UseParLevelsDataProps): UseParLevelsDataReturn {\n  // Initialize with empty array to avoid hydration mismatch\n  // Cached data will be loaded in useEffect after mount\n  const [parLevels, setParLevels] = useState<ParLevel[]>([]);\n  const [ingredients, setIngredients] = useState<Ingredient[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchParLevels = useCallback(async () => {\n    setLoading(true);\n    logger.dev('[Par Levels] Fetching par levels...');\n    try {\n      const response = await fetch('/api/par-levels');\n      logger.dev(`[Par Levels] Response status: ${response.status} ${response.statusText}`);\n\n      const result = await parseParLevelsResponse({ response, showError });\n      if (!result) return;\n      if (response.ok && (result as any).success) {\n        setParLevels((result as any).data || []);\n        cacheData('par_levels', (result as any).data || []);\n      } else {\n        handleParLevelsError({ response, result: result as any, showError });\n      }\n    } catch (err) {\n      logger.error('Failed to fetch par levels:', err);\n      showError('Failed to fetch par levels. Please check your connection and try again.');\n    } finally {\n      setLoading(false);\n    }\n  }, [showError]);\n  const fetchIngredients = useCallback(async () => {\n    try {\n      const response = await fetch('/api/ingredients');\n      const result = await response.json();\n\n      if (result.success) {\n        const items = result.data?.items || result.data || [];\n        setIngredients(items);\n        // Cache ingredients for par levels page\n        cacheData('par_levels_ingredients', items);\n      }\n    } catch (err) {\n      logger.error('Failed to fetch ingredients:', err);\n    }\n  }, []);\n  // Prefetch APIs on mount\n  useEffect(() => {\n    prefetchApis(['/api/par-levels', '/api/ingredients']);\n  }, []);\n\n  useEffect(() => {\n    // Load cached data for instant display (client-only)\n    const cachedParLevels = getCachedData<ParLevel[]>('par_levels');\n    if (cachedParLevels && cachedParLevels.length > 0) {\n      setParLevels(cachedParLevels);\n    }\n\n    // Fetch fresh data\n    fetchParLevels();\n    fetchIngredients();\n  }, [fetchParLevels, fetchIngredients]);\n\n  return {\n    parLevels,\n    ingredients,\n    loading,\n    setParLevels,\n    fetchParLevels,\n    fetchIngredients,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsData/helpers/handleParLevelsError.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[340,343],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[340,343],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Handle par levels API error.\n */\nimport { logger } from '@/lib/logger';\n\ninterface HandleParLevelsErrorParams {\n  response: Response;\n  result: unknown;\n  showError: (message: string) => void;\n}\n\nexport function handleParLevelsError({\n  response,\n  result,\n  showError,\n}: HandleParLevelsErrorParams): void {\n  const res = result as any;\n  const errorMessage =\n    res.message || res.error || `Failed to fetch par levels (${response.status})`;\n  const instructions = res.details?.instructions || [];\n  logger.error('[Par Levels] API Error:', {\n    status: response.status,\n    error: errorMessage,\n    details: res.details,\n    code: res.code,\n    fullResponse: res,\n  });\n  showError(\n    instructions.length > 0 ? `${errorMessage}\\n\\n${instructions.join('\\n')}` : errorMessage,\n  );\n  if (instructions.length > 0) logger.dev('[Par Levels] Error Instructions:', instructions);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsData/helpers/parseParLevelsResponse.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsForm/formSubmission.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsForm/formSubmission/helpers/createTempParLevel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsForm/formSubmission/helpers/handleError.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[153,156],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[153,156],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport type { ParLevel } from '../../../../types';\n\ninterface HandleErrorParams {\n  response: Response;\n  result: any;\n  formData: {\n    ingredientId: string;\n    parLevel: string;\n    reorderPointPercentage: string;\n    unit: string;\n  };\n  parLevelValue: number;\n  reorderPointValue: number;\n  setParLevels: React.Dispatch<React.SetStateAction<ParLevel[]>>;\n  originalParLevels: ParLevel[];\n  showError: (message: string) => void;\n}\n\nexport function handleError({\n  response,\n  result,\n  formData,\n  parLevelValue,\n  reorderPointValue,\n  setParLevels,\n  originalParLevels,\n  showError,\n}: HandleErrorParams) {\n  setParLevels(originalParLevels);\n  const errorMessage =\n    result.message || result.error || `Failed to create par level (${response.status})`;\n  const instructions = result.details?.instructions || [];\n  logger.error('[Par Levels] POST API Error:', {\n    status: response.status,\n    error: errorMessage,\n    details: result.details,\n    code: result.code,\n    fullResponse: result,\n    requestBody: {\n      ingredientId: formData.ingredientId,\n      parLevel: parLevelValue,\n      reorderPoint: reorderPointValue,\n      unit: formData.unit,\n    },\n  });\n  if (instructions.length > 0) {\n    showError(`${errorMessage}\\n\\n${instructions.join('\\n')}`);\n    logger.dev('[Par Levels] POST Error Instructions:', instructions);\n  } else {\n    showError(errorMessage);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsForm/formSubmission/helpers/handleSuccess.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[146,149],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[146,149],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { cacheData } from '@/lib/cache/data-cache';\nimport type { ParLevel } from '../../../../types';\n\ninterface HandleSuccessParams {\n  result: any;\n  tempId: string;\n  tempParLevel: ParLevel;\n  setParLevels: React.Dispatch<React.SetStateAction<ParLevel[]>>;\n  showSuccess: (message: string) => void;\n  resetForm: () => void;\n}\n\nexport function handleSuccess({\n  result,\n  tempId,\n  tempParLevel,\n  setParLevels,\n  showSuccess,\n  resetForm,\n}: HandleSuccessParams) {\n  const serverData = result.data;\n  if (!serverData.ingredients && tempParLevel.ingredients)\n    serverData.ingredients = tempParLevel.ingredients;\n  setParLevels(prevItems => {\n    const updated = prevItems.map(item => (item.id === tempId ? serverData : item));\n    cacheData('par_levels', updated);\n    return updated;\n  });\n  showSuccess('Par level created successfully');\n  resetForm();\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsForm/formSubmission/helpers/parseResponse.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsForm/formSubmission/helpers/validateFormData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsPagination.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useParLevelsSelection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/hooks/useSelectionMode.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/utils/exportParLevels.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/utils/exportParLevels/helpers/downloadFile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/utils/exportParLevels/helpers/formatParLevelsForExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/utils/exportParLevels/helpers/mapParLevelToCSVRow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/par-levels/utils/printParLevels.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceCharts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceChartsLazy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceClassificationLegend.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceDateRange.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceFilters/ImportButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceFilters/MenuItemClassFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceFilters/helpers/handleExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceFilters/helpers/handlePrint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceHeader/MethodologyTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceHeader/PerformanceScoreTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceHeader/helpers/calculatePopoverPosition.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceHeader/helpers/fetchPerformanceTips.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceImportModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceInsights.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformancePagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceSummaryCards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceTableHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceTableMobileCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceTableRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/components/PerformanceTrends.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/hooks/usePerformanceData.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchPerformanceData'. Either include it or remove the dependency array.","line":77,"column":6,"nodeType":"ArrayExpression","endLine":77,"endColumn":97,"suggestions":[{"desc":"Update the dependencies array to be: [dateRange.preset, fetchPerformanceData]","fix":{"range":[2839,2930],"text":"[dateRange.preset, fetchPerformanceData]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","line":77,"column":26,"nodeType":"ChainExpression","endLine":77,"endColumn":61,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","line":77,"column":63,"nodeType":"ChainExpression","endLine":77,"endColumn":96,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/hooks/usePerformanceFilters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/hooks/usePerformanceImportExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/hooks/usePerformanceInsights.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/hooks/usePerformanceInsights/helpers/fetchAIInsights.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/hooks/usePerformanceState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/hooks/usePerformanceTableSort.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/hooks/usePreviousPeriodData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/calculatePerformanceScore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/csv-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/csv-utils/helpers/mapCSVRowToSalesData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/csv-utils/helpers/mapPerformanceItemToCSVRow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/exportPerformanceReport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/formatPerformanceReportForPrint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/formatPerformanceReportForPrint/helpers/generateItemsSection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/formatPerformanceReportForPrint/helpers/generateSummarySection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/generatePerformanceTips.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/generatePerformanceTips/sorting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/generatePerformanceTips/tipCategories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/generatePerformanceTips/tipCategories/helpers/generateCleanupTips.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/generatePerformanceTips/tipCategories/helpers/generateDataQualityTips.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/generatePerformanceTips/tipCategories/helpers/generateGrowthTips.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/generatePerformanceTips/tipCategories/helpers/generateMarketingTips.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/generatePerformanceTips/tipCategories/helpers/generatePricingTips.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/generatePerformanceTips/tipCategories/helpers/generateStrategyTips.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/insightGenerators.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/performance-api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/performanceFiltering.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/performanceSorting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/performanceUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/printPerformanceReport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/printPerformanceReport/helpers/generateItemsSection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/performance/utils/printPerformanceReport/helpers/generateSummarySection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/GenerateFromMenuModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/IngredientPrepNotes.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepInstructionsView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListAggregatedView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListExport.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListPreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListPreviewFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListPreviewHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListPreviewSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListRecipeGroupedView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListsEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListsHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepListsPagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/PrepTechniquesView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/hooks/usePrepListHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/hooks/usePrepListPreview.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/components/hooks/usePrepListPreview/prepDetailsLoading.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/helpers/handleSaveBatchPrepLists.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/helpers/performPrepListDelete.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/helpers/performPrepListStatusChange.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListsCRUD.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListsData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListsForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListsForm/formSubmission.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListsForm/helpers/applyOptimisticUpdate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListsForm/helpers/buildRequestBody.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListsForm/helpers/createTempPrepList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListsForm/helpers/replaceWithServerResponse.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListsModals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListsPagination.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/hooks/usePrepListsQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":230,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":230,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6789,6792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6789,6792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":231,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":231,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6836,6839],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6836,6839],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { ConfirmDialog } from '@/components/ui/ConfirmDialog';\nimport { PageSkeleton } from '@/components/ui/LoadingSkeleton';\nimport { ResponsivePageContainer } from '@/components/ui/ResponsivePageContainer';\nimport { useNotification } from '@/contexts/NotificationContext';\nimport { cacheData, getCachedData } from '@/lib/cache/data-cache';\nimport { logger } from '@/lib/logger';\nimport { useTranslation } from '@/lib/useTranslation';\nimport dynamic from 'next/dynamic';\nimport { useEffect, useState } from 'react';\nimport { PrepListsEmptyState } from './components/PrepListsEmptyState';\nimport { PrepListsHeader } from './components/PrepListsHeader';\nimport { PrepListsPagination } from './components/PrepListsPagination';\nimport { usePrepListsCRUD } from './hooks/usePrepListsCRUD';\nimport { usePrepListsData } from './hooks/usePrepListsData';\nimport { usePrepListsForm } from './hooks/usePrepListsForm';\nimport { usePrepListsModals } from './hooks/usePrepListsModals';\nimport { usePrepListsPagination } from './hooks/usePrepListsPagination';\nimport { usePrepListsQuery } from './hooks/usePrepListsQuery';\nimport type { PrepList, PrepListCreationItem } from './types';\n\n// Lazy load prep list components to reduce initial bundle size\nconst PrepListForm = dynamic(\n  () => import('./components/PrepListForm').then(mod => ({ default: mod.PrepListForm })),\n  {\n    ssr: false,\n    loading: () => null, // Forms handle their own loading states\n  },\n);\n\nconst PrepListCard = dynamic(\n  () => import('./components/PrepListCard').then(mod => ({ default: mod.PrepListCard })),\n  {\n    ssr: false,\n    loading: () => <PageSkeleton />,\n  },\n);\n\nconst GenerateFromMenuModal = dynamic(\n  () =>\n    import('./components/GenerateFromMenuModal').then(mod => ({\n      default: mod.GenerateFromMenuModal,\n    })),\n  {\n    ssr: false,\n    loading: () => null, // Modals handle their own loading states\n  },\n);\n\nconst PrepListPreview = dynamic(\n  () => import('./components/PrepListPreview').then(mod => ({ default: mod.PrepListPreview })),\n  {\n    ssr: false,\n    loading: () => <PageSkeleton />,\n  },\n);\n\nexport default function PrepListsPage() {\n  const { t } = useTranslation();\n  const { showSuccess, showError } = useNotification();\n  const userId = 'user-123';\n  const pageSize = 10;\n\n  // Initialize with empty array to avoid hydration mismatch\n  // Cached data will be loaded in useEffect after mount\n  const [prepLists, setPrepLists] = useState<PrepList[]>([]);\n\n  // Modals\n  const {\n    showForm,\n    showGenerateModal,\n    showPreview,\n    generatedData,\n    openForm,\n    closeForm,\n    openGenerateModal,\n    closeGenerateModal,\n    handleGenerateFromMenu,\n    closePreview,\n    handleSaveBatchPrepLists,\n  } = usePrepListsModals();\n\n  // Pagination\n  const { page, setPage, totalPages, goToPreviousPage, goToNextPage } = usePrepListsPagination({\n    total: 0, // Will be updated from prepListsData\n    pageSize,\n  });\n\n  // Data fetching\n  const {\n    data: prepListsData,\n    isLoading: listsLoading,\n    refetch: refetchPrepLists,\n  } = usePrepListsQuery(page, pageSize, userId);\n\n  // Fetch kitchen sections and ingredients\n  const { kitchenSections, ingredients } = usePrepListsData({\n    showForm,\n    showGenerateModal,\n    showPreview,\n    userId,\n  });\n\n  // Form handling\n  const {\n    formData,\n    setFormData,\n    editingPrepList,\n    error: formError,\n    handleSubmit,\n    resetForm,\n    addItem,\n    removeItem,\n    updateItem,\n    handleEdit,\n    setError,\n  } = usePrepListsForm({\n    prepLists,\n    setPrepLists,\n    showError,\n    showSuccess,\n    userId,\n  });\n\n  // CRUD operations\n  const { confirmDialog, handleDelete, handleStatusChange, cancelConfirmDialog } = usePrepListsCRUD(\n    {\n      prepLists,\n      setPrepLists,\n      showError,\n      showSuccess,\n    },\n  );\n\n  // Load cached data on mount for instant display (client-only)\n  useEffect(() => {\n    const cachedPrepLists = getCachedData<PrepList[]>('prep_lists');\n    if (cachedPrepLists && cachedPrepLists.length > 0) {\n      setPrepLists(cachedPrepLists);\n    }\n  }, []);\n\n  // Update prep lists from query data\n  useEffect(() => {\n    if (prepListsData?.items) {\n      setPrepLists(prepListsData.items as PrepList[]);\n      cacheData('prep_lists', prepListsData.items);\n    }\n  }, [prepListsData]);\n\n  // Update pagination when data changes\n  const actualTotal = prepListsData?.total || 0;\n  const actualTotalPages = Math.max(1, Math.ceil(actualTotal / pageSize));\n\n  const handleFormClose = () => {\n    resetForm();\n    closeForm();\n  };\n\n  const handleFormEdit = (prepList: PrepList) => {\n    handleEdit(prepList);\n    openForm();\n  };\n\n  const handleSaveBatch = async (\n    prepListsToCreate: Array<{\n      sectionId: string | null;\n      name: string;\n      items: PrepListCreationItem[];\n    }>,\n  ) => {\n    try {\n      await handleSaveBatchPrepLists(prepListsToCreate, userId, prepLists, setPrepLists, setError);\n    } catch (error) {\n      logger.error('[PrepLists] Error saving batch prep lists:', {\n        error: error instanceof Error ? error.message : String(error),\n      });\n      // Error is already handled by handleSaveBatchPrepLists via setError and showError\n    }\n  };\n\n  if (listsLoading) {\n    return <PageSkeleton />;\n  }\n\n  return (\n    <ResponsivePageContainer>\n      <div className=\"min-h-screen bg-transparent py-8 text-[var(--foreground)]\">\n        <PrepListsHeader onGenerateClick={openGenerateModal} onCreateClick={openForm} />\n\n        {formError && (\n          <div className=\"mb-6 rounded-2xl border border-[var(--color-error)]/20 bg-[var(--color-error)]/10 p-4\">\n            <p className=\"text-[var(--color-error)]\">{formError}</p>\n          </div>\n        )}\n\n        <div className=\"space-y-4\">\n          {prepLists.length === 0 ? (\n            <PrepListsEmptyState onCreateClick={openForm} />\n          ) : (\n            <>\n              {prepLists.map(prepList => (\n                <PrepListCard\n                  key={prepList.id}\n                  prepList={prepList}\n                  onEdit={handleFormEdit}\n                  onDelete={handleDelete}\n                  onStatusChange={handleStatusChange}\n                />\n              ))}\n\n              <PrepListsPagination\n                page={page}\n                totalPages={actualTotalPages}\n                total={actualTotal}\n                onPreviousPage={goToPreviousPage}\n                onNextPage={goToNextPage}\n              />\n            </>\n          )}\n        </div>\n\n        {/* Add/Edit Form Modal */}\n        {showForm && (\n          <div className=\"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 p-4\">\n            <PrepListForm\n              sections={kitchenSections}\n              ingredients={ingredients}\n              formData={formData as any}\n              setFormData={setFormData as any}\n              onSubmit={handleSubmit}\n              onClose={handleFormClose}\n              isEditing={!!editingPrepList}\n            />\n          </div>\n        )}\n\n        {/* Generate from Menu Modal */}\n        {showGenerateModal && (\n          <GenerateFromMenuModal onClose={closeGenerateModal} onGenerate={handleGenerateFromMenu} />\n        )}\n\n        {/* Prep List Preview */}\n        {showPreview && generatedData && (\n          <PrepListPreview\n            data={generatedData}\n            kitchenSections={kitchenSections}\n            ingredients={ingredients}\n            onClose={closePreview}\n            onSave={handleSaveBatch}\n          />\n        )}\n\n        {/* Confirm Dialog */}\n        <ConfirmDialog\n          isOpen={confirmDialog.isOpen}\n          title={confirmDialog.title}\n          message={confirmDialog.message}\n          confirmLabel=\"Delete\"\n          cancelLabel=\"Cancel\"\n          onConfirm={confirmDialog.onConfirm}\n          onCancel={cancelConfirmDialog}\n          variant=\"danger\"\n        />\n      </div>\n    </ResponsivePageContainer>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/utils/formatGeneratedPrepList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/utils/formatGeneratedPrepList/helpers/generateIngredientsHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/utils/formatGeneratedPrepList/helpers/generatePrepInstructionsHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/utils/formatGeneratedPrepList/helpers/generatePrepTechniquesHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/utils/formatPrepList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/utils/prepListPrintStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/utils/prepTechniques.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/utils/prepTechniques/aggregation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/utils/prepTechniques/prepNotes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/prep-lists/utils/printUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipe-sharing/components/EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipe-sharing/components/ShareCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipe-sharing/components/ShareFormModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipe-sharing/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/AllergenFilterDropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/BulkActionsBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/BulkAddToMenuDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/BulkDeleteConfirmationModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/COGSCalculatorModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/CalculatorTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DeleteConfirmationModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishEditDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishFormPricing.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishIngredientCombobox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishIngredientSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishPreviewModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishPreviewModalActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishPreviewModalCostInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishPreviewModalHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishPreviewModalIngredientsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishPreviewModalRecipesList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishRecipeCombobox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishRecipeSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishSidePanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishSidePanelActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishSidePanelContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishSidePanelCostInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishSidePanelHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishTableRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesActionButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesBulkActionsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesClient/components/ErrorBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesClient/helpers/handleRecipeImagesGenerated.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesClient/hooks/useDishesClientBulkActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesEditorView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesListView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesListViewSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesModalsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesSidePanels.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/DishesViewModeToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/IngredientsTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/MenuBuilderTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeBookContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeBookDescription.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeBookTabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeCOGSModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeCard/components/RecipeCardActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeCard/components/RecipeCardAllergens.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeCard/components/RecipeCardHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeCard/components/RecipeCardPricing.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeCard/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeDishEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeDishEditor/ConsumablesListPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeDishEditor/CostSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeDishEditor/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeDishEditor/IngredientListPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeDishEditor/RecipeDishSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeDishEditor/components/EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeDishEditor/components/IngredientEditorPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeDishEditor/hooks/useRecipeDishEditorHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeEditDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeEditDrawer/components/RecipeEditFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeEditDrawer/hooks/useRecipeEditHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeFilterBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeIngredientsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeIngredientsTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeManagementTabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeMetadataForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipePreviewModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeSearchBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeSidePanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeSidePanelActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeSidePanelCostSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeSidePanelHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeSortDropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipeTableRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipesActionButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipesClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipesClient/helpers/useRecipeStateSetters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipesContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipesEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipesErrorDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipesHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/RecipesModals.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/SelectionModeBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/SuccessMessage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedBulkActionsMenu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedBulkDeleteConfirmationModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedRecipeModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedRecipeModalCogsTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedRecipeModalHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedRecipeModalIngredientsTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedRecipeModalPreviewTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedRecipesDishes.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedTableRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedTableRow/hooks/useUnifiedTableRowHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedTableRow/utils/getItemName.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/UnifiedTableRow/utils/getRowStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientDelete.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientPagination.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientPagination/helpers/combineItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientPagination/helpers/filterAndSortDishes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientPagination/helpers/filterAndSortRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientPagination/helpers/paginateItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientPagination/helpers/useFilterState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientPreview.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientRecipePricing.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchBatchRecipeIngredients', 'fetchRecipeIngredients', 'paginatedRecipesList', 'recipePrices', and 'updateVisibleRecipePrices'. Either include them or remove the dependency array. If 'updateVisibleRecipePrices' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":88,"column":6,"nodeType":"ArrayExpression","endLine":88,"endColumn":26,"suggestions":[{"desc":"Update the dependencies array to be: [fetchBatchRecipeIngredients, fetchRecipeIngredients, paginatedRecipeIds, paginatedRecipesList, recipePrices, updateVisibleRecipePrices]","fix":{"range":[2999,3019],"text":"[fetchBatchRecipeIngredients, fetchRecipeIngredients, paginatedRecipeIds, paginatedRecipesList, recipePrices, updateVisibleRecipePrices]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientSelection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesClientViewMode.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesOptimisticUpdates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useDishesSidePanelsHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useIngredientsChangeEffect.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/usePriceCalculation.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has missing dependencies: 'fetchBatchRecipeIngredients', 'fetchRecipeIngredients', 'paginatedRecipes', 'recipePrices', and 'updateVisibleRecipePrices'. Either include them or remove the dependency array. If 'updateVisibleRecipePrices' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":85,"column":6,"nodeType":"ArrayExpression","endLine":85,"endColumn":26,"suggestions":[{"desc":"Update the dependencies array to be: [fetchBatchRecipeIngredients, fetchRecipeIngredients, paginatedRecipes, recipePrices, updateVisibleRecipePrices]","fix":{"range":[2847,2867],"text":"[fetchBatchRecipeIngredients, fetchRecipeIngredients, paginatedRecipes, recipePrices, updateVisibleRecipePrices]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/usePriceCalculationEffect.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchBatchRecipeIngredients', 'fetchRecipeIngredients', 'paginatedRecipes', 'recipePrices', and 'updateVisibleRecipePrices'. Either include them or remove the dependency array. If 'updateVisibleRecipePrices' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":88,"column":6,"nodeType":"ArrayExpression","endLine":88,"endColumn":26,"suggestions":[{"desc":"Update the dependencies array to be: [fetchBatchRecipeIngredients, fetchRecipeIngredients, paginatedRecipeIds, paginatedRecipes, recipePrices, updateVisibleRecipePrices]","fix":{"range":[2870,2890],"text":"[fetchBatchRecipeIngredients, fetchRecipeIngredients, paginatedRecipeIds, paginatedRecipes, recipePrices, updateVisibleRecipePrices]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeDishEditorData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeDishIngredientLoading.helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeDishIngredientLoading.helpers.types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeDishIngredientLoading.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeDishIngredientLoading/helpers/loadIngredientsForItem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeDishSave.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeDishSave/helpers/handleSaveError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeDishSave/helpers/saveDishIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeDishSave/helpers/saveRecipeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeEditIngredientLoading.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'ingredients' and 'recipe'. Either include them or remove the dependency array. If 'setCalculations' needs the current value of 'recipe', you can also switch to useReducer instead of useState and read 'recipe' in the reducer.","line":79,"column":6,"nodeType":"ArrayExpression","endLine":79,"endColumn":38,"suggestions":[{"desc":"Update the dependencies array to be: [recipe.id, ingredients.length, recipe, ingredients]","fix":{"range":[2564,2596],"text":"[recipe.id, ingredients.length, recipe, ingredients]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeEditIngredientLoading/helpers/processRecipeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeEditIngredientSave.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/useRecipeModalHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/utils/buildFormatQuantity.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/utils/buildRecipeHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/utils/buildRecipeHandlersReturn.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/utils/buildRefreshIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/utils/handleDuplicateRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/utils/handlePreviewRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/components/hooks/utils/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useAIInstructions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useBulkAddToMenu.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useBulkShare.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useDishCOGSCalculations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useDishCOGSCalculations/helpers/processRecipeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useDishCOGSCalculations/helpers/processStandaloneIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useDishCostCalculation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useDishFiltering.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useDishPreviewModalData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useDishSidePanelData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useDishTableSort.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeActions/helpers/createHandleAddRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeActions/helpers/createHandleDuplicateRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeActions/helpers/handleAddRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeActions/helpers/handleDuplicateRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeActions/helpers/handleEditFromPreview.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeAutosaveListener.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeBulkOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeDeleteOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeFiltering.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeIngredientsSubscription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeMetadataSubscription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipePriceSubscription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipePricing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeRefreshEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeShareOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeSubscriptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useRecipeTableSort.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useSidePanelCommon.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useSidePanelCommon/helpers/handleClickOutside.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useSidePanelCommon/helpers/handleKeyboardShortcuts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useSidePanelCommon/helpers/manageBodyScroll.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useSidePanelCommon/helpers/updatePanelStyle.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useUnifiedBulkActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useUnifiedBulkActions/helpers/performBulkDelete.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/useUnifiedItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/analyzeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/batchFetchWithRetry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/batchFetchWithRetry/helpers/handleError.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/batchFetchWithRetry/helpers/handleRetry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/batchRequestQueue.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/buildOptimisticUpdates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/buildPricingCallbacks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/buildPricingCallbacks/helpers/createCallbacks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/buildPricingReturn.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/buildRecipeManagementReturn.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/calculateAllPrices.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/calculateVisiblePrices.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/calculateVisiblePricesBatch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/calculateVisiblePricesFallback.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/convertToPerPortion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/determineRecipeType.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/dishCostHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/fetchBatchWithDeduplication.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/fetchFromClientJoin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/fetchRecipesWithErrorHandling.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/fetchWithRetry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/generateInstructionTemplates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/generateInstructionTemplates/helpers/burgerInstructions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/generateInstructionTemplates/helpers/generalInstructions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/generateInstructionTemplates/helpers/soupInstructions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/handleEditRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/initializeRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/precalculatePrices.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/pricingHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/pricingRequestQueue.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/recipeCalculationHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/recipeEditHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/recipeSubscriptionSetup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/recipeSubscriptionSetup/helpers/handleDebouncedRefresh.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/recipeSubscriptionSetup/helpers/setupSubscriptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/recipeSubscriptionSetup/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/setupRecipeHooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/setupRecipeSubscriptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/updateVisiblePricesWithDebounce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/hooks/utils/useRecipeInitialization.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchBatchRecipeIngredients', 'fetchRecipeIngredients', 'fetchRecipes', 'pricesCalculatedRef', 'setIsHydrated', 'setRecipes', and 'updateVisibleRecipePrices'. Either include them or remove the dependency array. If 'fetchRecipes' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":61,"column":6,"nodeType":"ArrayExpression","endLine":61,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchBatchRecipeIngredients, fetchRecipeIngredients, fetchRecipes, pricesCalculatedRef, setIsHydrated, setRecipes, updateVisibleRecipePrices]","fix":{"range":[1855,1857],"text":"[fetchBatchRecipeIngredients, fetchRecipeIngredients, fetchRecipes, pricesCalculatedRef, setIsHydrated, setRecipes, updateVisibleRecipePrices]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/types/errors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/utils/exportRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/utils/formatDate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/utils/formatQuantity.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/utils/formatRecipeForPrint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/utils/helpers/buildRecipePrintHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/utils/helpers/formatRecipeForExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/utils/printRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/utils/printRecipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/utils/recipeFiltering.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/utils/recipePrintStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/recipes/utils/recipeSorting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/BudgetHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/BudgetWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/EmployeeChipBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/InlineTimeEntry.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/InlineTimeEntry/helpers/buildShiftData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/InlineTimeEntry/helpers/calculatePopoverPosition.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/components/RosterCell.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/components/RosterGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/components/RosterHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/components/RosterRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/helpers/handleInlineEntrySave.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/helpers/handlePublish.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/helpers/confirmDeleteAllShifts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/helpers/confirmDeleteEmployee.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/helpers/getEmployeeName.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/helpers/getEmployeeWeekShifts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/helpers/getWeekShifts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/helpers/performDeleteAllShifts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/helpers/performDeleteEmployeeFromRoster.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/helpers/performDeleteEmployeeFromRoster/helpers/deleteShiftsInParallel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/helpers/performDeleteEmployeeFromRoster/helpers/rollbackEmployeeDeletion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterBulkActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterDragAndDrop.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterDragAndDrop/helpers/buildUpdatedShift.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterEmployees.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterShiftManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterShiftManagement/helpers/createTempShift.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterShiftManagement/helpers/handleCreateShift.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterShiftManagement/helpers/handleDeleteShift.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterShiftManagement/helpers/handleUpdateShift.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterShiftManagement/helpers/validateShiftCreation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterSidebar.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/hooks/useRosterWeekNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/RosterBuilder/utils/rosterHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/ShiftCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/ShiftForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/ShiftForm/components/FormField.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/ShiftForm/components/TimeInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/ShiftForm/helpers/buildShiftData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/components/ShiftForm/helpers/validateForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState/helpers/draftActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState/helpers/dragDropActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState/helpers/employeeActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState/helpers/resetAction.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState/helpers/shiftActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState/helpers/templateActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState/helpers/uiActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState/helpers/validationActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState/helpers/weekActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState/initialState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/hooks/useRosterState/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/roster/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/components/DishSectionsHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/components/SectionFormModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/components/SectionsEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/components/SectionsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/components/UnassignedDishes.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/hooks/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/hooks/useDishSectionActions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/hooks/useDishSectionActions/helpers/handleAssignDish.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/hooks/useDishSectionActions/helpers/handleDelete.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/hooks/useDishSectionActions/helpers/handleEdit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/hooks/useDishSectionActions/helpers/handleSubmit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/hooks/useSectionsData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/sections/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/backup/components/BackupList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/backup/components/GoogleDriveConnection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/backup/components/ManualBackupControls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/backup/components/RestoreDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/backup/components/ScheduledBackupConfig.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/backup/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/components/BillingActionsCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/components/CurrentPlanCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/components/ReactivateCancelledCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/components/ScheduledCancellationBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/components/StatusBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/components/SubscriptionManagementCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/components/TierComparisonCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/components/UsageMetricsCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/hooks/useBillingCancel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/hooks/useBillingExtend.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/hooks/useBillingPortal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/hooks/useBillingReactivate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/hooks/useBillingUpgrade.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/hooks/useSubscriptionData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/billing/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/AdaptiveNavSettingsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/AvatarSelectionPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ConnectedAccountsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel/components/AutoReportToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel/components/PrivacyNotice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel/components/QuickActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel/components/RecentErrorsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel/components/SupportForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel/hooks/useAutoReport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel/hooks/useRecentErrors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel/hooks/useSupportForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/HelpSupportPanel/utils/formatRelativeTime.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ImportExportHistoryPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/LegalCompliancePanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/NotificationsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/PersonalitySettingsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/PrivacyControlsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/PrivacyControlsPanel/components/AccountActivitySection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/PrivacyControlsPanel/components/DataUsageSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/PrivacyControlsPanel/helpers/handleCancelDeletion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/PrivacyControlsPanel/helpers/handleDelete.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/PrivacyControlsPanel/helpers/handleExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/PrivacyControlsPanel/helpers/loadPrivacyData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/components/ProfileAccountMetadata.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/components/ProfileFormActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/components/ProfileFormFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileApiFetch.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'USER_MODIFIED_KEY', 'cachedProfile', 'initialDataLoadedRef', 'isLoadingRef', 'mountIdRef', 'sessionEmail', 'showError', and 'userHasModifiedRef'. Either include them or remove the dependency array.","line":76,"column":6,"nodeType":"ArrayExpression","endLine":76,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [USER_MODIFIED_KEY, cachedProfile, initialDataLoadedRef, isLoadingRef, mountIdRef, sessionEmail, showError, userHasModifiedRef]","fix":{"range":[2447,2449],"text":"[USER_MODIFIED_KEY, cachedProfile, initialDataLoadedRef, isLoadingRef, mountIdRef, sessionEmail, showError, userHasModifiedRef]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileApiFetch/helpers/createDefaultProfile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileApiFetch/helpers/loadProfile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileApiFetch/helpers/shouldSkipApiCall.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileForm/helpers/handleFieldChange.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileForm/helpers/hasChanges.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileForm/helpers/initialFormData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileForm/helpers/resetForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileForm/helpers/trackFormDataChanges.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'userHasModifiedRef'. Either include it or remove the dependency array.","line":29,"column":6,"nodeType":"ArrayExpression","endLine":29,"endColumn":28,"suggestions":[{"desc":"Update the dependencies array to be: [formData, mountIdRef, userHasModifiedRef]","fix":{"range":[976,998],"text":"[formData, mountIdRef, userHasModifiedRef]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileForm/helpers/updateFormFromProfile.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'setFormData'. Either include it or remove the dependency array. If 'setFormData' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":38,"column":6,"nodeType":"ArrayExpression","endLine":46,"endColumn":4,"suggestions":[{"desc":"Update the dependencies array to be: [profile, initialDataLoadedRef, userHasModifiedRef, USER_MODIFIED_KEY, mountIdRef, onProfileUpdate, setFormData]","fix":{"range":[1339,1541],"text":"[profile, initialDataLoadedRef, userHasModifiedRef, USER_MODIFIED_KEY, mountIdRef, onProfileUpdate, setFormData]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileForm/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileMountTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/hooks/useProfileSave.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ProfileInformationPanel/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/RegionSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/RegionSettingsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SectionSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SecurityPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SecurityPanel/components/ActiveSessionsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SecurityPanel/components/LoginHistorySection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SecurityPanel/helpers/handleRevokeSession.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SecurityPanel/helpers/loadSecurityData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SettingsLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SettingsNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SettingsNavigation/components/MobileMenuButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SettingsNavigation/components/NavigationSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SettingsNavigation/hooks/useKeyboardNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SettingsNavigation/hooks/useSettingsNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SettingsNavigation/navItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SettingsNavigation/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/SystemInformationPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/ThemeTogglePanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/AdvancedSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/BillingSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/DataBackupSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/FAQSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/FeatureFlagsSection.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchFlags'. Either include it or remove the dependency array.","line":49,"column":6,"nodeType":"ArrayExpression","endLine":49,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchFlags]","fix":{"range":[1450,1452],"text":"[fetchFlags]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/FeatureFlagsSection/helpers/updateFlagState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/PreferencesSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/PrivacyLegalSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/ProfileAccountSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/QRCodesSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/QRCodesSection/components/QRCodeCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/QRCodesSection/components/QRCodeSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/QRCodesSection/config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/QRCodesSection/hooks/useQRCodePrint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/QRCodesSection/hooks/useQRCodeSelection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/QRCodesSection/hooks/useQRCodes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/QRCodesSection/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/QRCodesSection/utils/generatePrintHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/QRCodesSection/utils/groupEntities.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/components/sections/SecuritySection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/settings/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/EquipmentForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/EquipmentList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/EquipmentSetup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/EquipmentTypeModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/IngredientsSetup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/PopulateAllAllergens.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/PopulateAllCleanData.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/RecipesSetup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/ResetSelfDataCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/SetupProgress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/TestDataGenerator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/equipment-config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/components/equipment-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/setup/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/SquareNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/ConfigurationSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/ConfigurationSection/components/ConfigurationForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/ConfigurationSection/components/ConnectionWorkflowForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/ConfigurationSection/helpers/deleteConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/ConfigurationSection/helpers/fetchConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/ConfigurationSection/helpers/saveConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/ConfigurationSection/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/ConnectionWorkflow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/HistorySection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/MappingsSection.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchMappings'. Either include it or remove the dependency array.","line":27,"column":6,"nodeType":"ArrayExpression","endLine":27,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchMappings]","fix":{"range":[779,781],"text":"[fetchMappings]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/OverviewSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/SyncSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[780,783],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[780,783],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useCallback } from 'react';\nimport { Icon } from '@/components/ui/Icon';\nimport { RefreshCw, Loader2, CheckCircle2, XCircle } from 'lucide-react';\nimport { logger } from '@/lib/logger';\nimport { useNotification } from '@/contexts/NotificationContext';\nimport { useSquareStatus } from '../../hooks/useSquareStatus';\n\ntype SyncOperation = 'catalog' | 'orders' | 'staff' | 'costs' | 'initial_sync';\ntype SyncDirection = 'from_square' | 'to_square' | 'bidirectional';\n\nexport function SyncSection() {\n  const { showSuccess, showError } = useNotification();\n  const { refresh: refreshStatus } = useSquareStatus();\n  const [syncing, setSyncing] = useState<Set<SyncOperation>>(new Set());\n  const [lastResults, setLastResults] = useState<Record<string, any>>({});\n\n  const handleSync = useCallback(\n    async (operation: SyncOperation, direction?: SyncDirection) => {\n      try {\n        setSyncing(prev => new Set(prev).add(operation));\n\n        const response = await fetch('/api/square/sync', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            operation,\n            direction: direction || (operation === 'orders' ? 'from_square' : 'bidirectional'),\n          }),\n        });\n\n        const data = await response.json();\n\n        if (!response.ok) {\n          throw new Error(data.error || 'Sync failed');\n        }\n\n        setLastResults(prev => ({\n          ...prev,\n          [operation]: data,\n        }));\n\n        showSuccess(`${operation} sync completed: ${data.message}`);\n        // Refresh status to update recent syncs\n        refreshStatus();\n      } catch (error) {\n        logger.error('[Square Sync] Error:', {\n          error: error instanceof Error ? error.message : String(error),\n          operation,\n        });\n        showError(`Failed to sync ${operation}`);\n      } finally {\n        setSyncing(prev => {\n          const next = new Set(prev);\n          next.delete(operation);\n          return next;\n        });\n      }\n    },\n    [showSuccess, showError, refreshStatus],\n  );\n\n  const SyncButton = ({\n    operation,\n    direction,\n    label,\n  }: {\n    operation: SyncOperation;\n    direction?: SyncDirection;\n    label: string;\n  }) => {\n    const isSyncing = syncing.has(operation);\n    const result = lastResults[operation];\n\n    return (\n      <div className=\"rounded-xl border border-[var(--border)] bg-[var(--surface)] p-4\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <p className=\"font-medium text-[var(--foreground)]\">{label}</p>\n            {result && (\n              <p className=\"mt-1 text-xs text-[var(--foreground-muted)]\">\n                {result.success ? (\n                  <span className=\"text-green-400\">\n                    Synced {result.details?.syncedCount || 0} items\n                  </span>\n                ) : (\n                  <span className=\"text-red-400\">Sync failed</span>\n                )}\n              </p>\n            )}\n          </div>\n          <button\n            onClick={() => handleSync(operation, direction)}\n            disabled={isSyncing}\n            className=\"flex items-center gap-2 rounded-xl border border-[var(--border)] bg-[var(--background)] px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[var(--surface-variant)] disabled:opacity-50\"\n          >\n            {isSyncing ? (\n              <Icon icon={Loader2} size=\"sm\" className=\"animate-spin\" />\n            ) : (\n              <Icon icon={RefreshCw} size=\"sm\" />\n            )}\n            {isSyncing ? 'Syncing...' : 'Sync'}\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h2 className=\"text-2xl font-bold text-[var(--foreground)]\">Manual Sync</h2>\n        <p className=\"mt-2 text-sm text-[var(--foreground-muted)]\">\n          Manually trigger synchronization between Square POS and PrepFlow\n        </p>\n      </div>\n\n      <div className=\"space-y-4\">\n        <SyncButton operation=\"initial_sync\" label=\"Initial Sync (All Data)\" />\n        <SyncButton\n          operation=\"catalog\"\n          direction=\"bidirectional\"\n          label=\"Sync Catalog (Menu Items)\"\n        />\n        <SyncButton operation=\"orders\" direction=\"from_square\" label=\"Sync Orders (Sales Data)\" />\n        <SyncButton operation=\"staff\" direction=\"bidirectional\" label=\"Sync Staff (Employees)\" />\n        <SyncButton operation=\"costs\" direction=\"to_square\" label=\"Sync Food Costs\" />\n      </div>\n\n      {/* Sync Results Summary */}\n      {Object.keys(lastResults).length > 0 && (\n        <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6\">\n          <h3 className=\"mb-4 text-lg font-semibold text-[var(--foreground)]\">Last Sync Results</h3>\n          <div className=\"space-y-2\">\n            {Object.entries(lastResults).map(([operation, result]) => (\n              <div\n                key={operation}\n                className=\"flex items-center justify-between rounded-xl border border-[var(--border)] bg-[var(--background)] p-3\"\n              >\n                <span className=\"text-sm font-medium text-[var(--foreground)] capitalize\">\n                  {operation.replace('_', ' ')}\n                </span>\n                <div className=\"flex items-center gap-2\">\n                  {result.success ? (\n                    <>\n                      <Icon icon={CheckCircle2} size=\"sm\" className=\"text-green-400\" />\n                      <span className=\"text-sm text-green-400\">\n                        {result.details?.syncedCount || 0} items\n                      </span>\n                    </>\n                  ) : (\n                    <>\n                      <Icon icon={XCircle} size=\"sm\" className=\"text-red-400\" />\n                      <span className=\"text-sm text-red-400\">Failed</span>\n                    </>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/components/sections/WebhooksSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/hooks/useSquareStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/square/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/[id]/onboarding/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/components/Step1PersonalDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/components/Step2IDUpload.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/components/Step3ContractSignature.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/components/Step4BankDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/components/Step5TaxFileNumber.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/components/WizardNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/components/WizardProgressBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/hooks/useOnboardingWizardHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/hooks/useOnboardingWizardState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/hooks/useWizardNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/hooks/useWizardSubmission.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/components/OnboardingWizard/utils/buildDocuments.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/staff/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/components/PriceListForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/components/PriceListsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/components/SupplierForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/components/SuppliersContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/components/SuppliersGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/components/SuppliersTabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/hooks/useSuppliersData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/hooks/useSuppliersForms.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/hooks/useSuppliersForms/defaultValues.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/hooks/useSuppliersForms/helpers/handleAddPriceList.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/hooks/useSuppliersForms/helpers/handleAddSupplier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/utils/exportSuppliers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/utils/helpers/formatSuppliersForExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/suppliers/utils/printSuppliers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/AddTemperatureLogForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/CreateEquipmentForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentActionButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentCardsPagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentDetailDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentDrawerChartSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentDrawerFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentDrawerHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentDrawerStatisticsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentDrawerTimeFilter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentEditForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentItemHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentLastLogInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentListTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentListTableDesktop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentListTableFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentListTableMobileCards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentListTableRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentMobileCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentMobileCardEditForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentQRCodeDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentQRCodeModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentQRCodeModalActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentQRCodeModalHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentRowEditForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentStatistics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentStatusCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentTableMobileCards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentTablePagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentTemperatureRange.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/EquipmentViewToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/GenerateSampleDataButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/PageHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/SimpleTemperatureChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TabNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureAnalyticsEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureAnalyticsTab.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'equipment', 'findBestTimeFilter', and 'findOutOfRangeEquipment'. Either include them or remove the dependency array. If 'setSelectedEquipmentId' needs the current value of 'equipment', you can also switch to useReducer instead of useState and read 'equipment' in the reducer.","line":106,"column":6,"nodeType":"ArrayExpression","endLine":115,"endColumn":4,"suggestions":[{"desc":"Update the dependencies array to be: [equipment.length, allLogs.length, selectedEquipmentId, hasManuallyChangedFilter, timeFilter, externalLoading, equipment, findOutOfRangeEquipment, findBestTimeFilter]","fix":{"range":[4082,4461],"text":"[equipment.length, allLogs.length, selectedEquipmentId, hasManuallyChangedFilter, timeFilter, externalLoading, equipment, findOutOfRangeEquipment, findBestTimeFilter]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureChartContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureChartEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureChartLazy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureChartLazy/components/ReferenceAreas.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureChartLazy/utils/calculateYAxisBounds.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureChartLazy/utils/prepareChartData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureEquipmentTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[778,781],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[778,781],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { Icon } from '@/components/ui/Icon';\nimport OptimizedImage from '@/components/OptimizedImage';\nimport { useTranslation } from '@/lib/useTranslation';\nimport { TemperatureEquipment, TemperatureLog } from '../types';\nimport { getStatusColor } from './utils';\nimport {\n  LucideIcon,\n  MapPin,\n  CheckCircle2,\n  AlertTriangle,\n  User,\n  Camera,\n  Pencil,\n} from 'lucide-react';\n\ninterface TemperatureLogCardProps {\n  log: TemperatureLog;\n  equipment: TemperatureEquipment[];\n  temperatureTypes: Array<{ value: string; label: string; icon: string }>;\n  formatDateString: (dateString: string) => string;\n  getTemperatureStatus: (temp: number, location: string) => string;\n  getFoodSafetyStatus: (temp: number, logTime: string, logDate: string, type: string) => any;\n  getTypeIcon: (type: string) => LucideIcon;\n  getTypeLabel: (type: string) => string;\n  onLogClick: (log: TemperatureLog) => void;\n}\n\nexport function TemperatureLogCard({\n  log,\n  equipment,\n  temperatureTypes,\n  formatDateString,\n  getTemperatureStatus,\n  getFoodSafetyStatus,\n  getTypeIcon,\n  getTypeLabel,\n  onLogClick,\n}: TemperatureLogCardProps) {\n  const { t } = useTranslation();\n  const status = getTemperatureStatus(log.temperature_celsius, log.location || '');\n  const foodSafety = getFoodSafetyStatus(\n    log.temperature_celsius,\n    log.log_time,\n    log.log_date,\n    log.temperature_type,\n  );\n  const matchingEquipment = log.location\n    ? equipment.find(eq => eq.name === log.location || eq.location === log.location)\n    : null;\n  const isClickable = !!matchingEquipment;\n\n  return (\n    <div\n      onClick={() => isClickable && onLogClick(log)}\n      className={`group relative overflow-hidden rounded-3xl border border-[var(--border)] bg-[var(--surface)] p-6 shadow-lg transition-all duration-300 ${\n        isClickable\n          ? 'cursor-pointer hover:border-[var(--primary)]/30 hover:shadow-2xl'\n          : 'hover:border-[var(--primary)]/30 hover:shadow-2xl'\n      }`}\n    >\n      {/* Gradient accent */}\n      <div className=\"absolute inset-0 bg-gradient-to-br from-[var(--primary)]/5 to-[var(--accent)]/5 opacity-0 transition-opacity duration-300 group-hover:opacity-100\" />\n\n      <div className=\"relative\">\n        <div className=\"mb-4 flex items-start justify-between gap-4\">\n          <div className=\"flex min-w-0 flex-1 items-start gap-4\">\n            <div className=\"flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-gradient-to-br from-[var(--primary)]/20 to-[var(--primary)]/10 shadow-lg\">\n              <Icon\n                icon={getTypeIcon(log.temperature_type)}\n                size=\"lg\"\n                className=\"text-[var(--primary)]\"\n                aria-hidden={true}\n              />\n            </div>\n            <div className=\"min-w-0 flex-1\">\n              <h4 className=\"mb-1 truncate text-lg font-semibold text-[var(--foreground)]\">\n                {log.location || getTypeLabel(log.temperature_type)}\n              </h4>\n              <div className=\"flex flex-wrap items-center gap-2 text-sm text-[var(--foreground-muted)]\">\n                <span>{formatDateString(log.log_date)}</span>\n                <span className=\"text-[var(--foreground-subtle)]\"></span>\n                <span>{log.log_time}</span>\n                <span className=\"text-[var(--foreground-subtle)]\"></span>\n                <span className=\"text-xs\">{getTypeLabel(log.temperature_type)}</span>\n              </div>\n            </div>\n          </div>\n          <div className=\"flex shrink-0 flex-col items-end gap-2\">\n            <span className=\"text-3xl font-bold text-[var(--primary)]\">\n              {log.temperature_celsius}C\n            </span>\n            <span\n              className={`flex items-center gap-1.5 rounded-full border px-3 py-1 text-xs font-semibold ${getStatusColor(status)}`}\n            >\n              {status === 'high' ? (\n                <>\n                  <Icon\n                    icon={AlertTriangle}\n                    size=\"xs\"\n                    className=\"text-[var(--color-error)]\"\n                    aria-hidden={true}\n                  />\n                  High\n                </>\n              ) : status === 'low' ? (\n                <>\n                  <Icon\n                    icon={AlertTriangle}\n                    size=\"xs\"\n                    className=\"text-[var(--color-info)]\"\n                    aria-hidden={true}\n                  />\n                  Low\n                </>\n              ) : (\n                <>\n                  <Icon\n                    icon={CheckCircle2}\n                    size=\"xs\"\n                    className=\"text-[var(--color-success)]\"\n                    aria-hidden={true}\n                  />\n                  Normal\n                </>\n              )}\n            </span>\n          </div>\n        </div>\n\n        {/* Additional Info */}\n        {(log.location || log.logged_by || log.notes) && (\n          <div className=\"mb-4 space-y-2 rounded-2xl bg-[var(--muted)]/30 p-3\">\n            {log.location && log.location !== getTypeLabel(log.temperature_type) && (\n              <div className=\"flex items-center gap-2 text-sm text-[var(--foreground-secondary)]\">\n                <Icon\n                  icon={MapPin}\n                  size=\"sm\"\n                  className=\"text-[var(--foreground-secondary)]\"\n                  aria-hidden={true}\n                />\n                <span>{log.location}</span>\n              </div>\n            )}\n            {log.logged_by && (\n              <div className=\"flex items-center gap-2 text-xs text-[var(--foreground-muted)]\">\n                <Icon\n                  icon={User}\n                  size=\"sm\"\n                  className=\"text-[var(--foreground-muted)]\"\n                  aria-hidden={true}\n                />\n                <span>\n                  {t('temperature.loggedBy', 'Logged by')}: {log.logged_by}\n                </span>\n              </div>\n            )}\n            {log.notes && (\n              <p className=\"text-sm leading-relaxed text-[var(--foreground-secondary)]\">\n                {log.notes}\n              </p>\n            )}\n          </div>\n        )}\n\n        {/* Food Safety Status (2-Hour/4-Hour Rule) */}\n        {foodSafety && (\n          <div\n            className={`mb-4 rounded-2xl border p-4 ${\n              foodSafety.status === 'safe'\n                ? 'border-[var(--color-success)]/20 bg-[var(--color-success)]/10'\n                : foodSafety.status === 'warning'\n                  ? 'border-[var(--color-warning)]/20 bg-[var(--color-warning)]/10'\n                  : 'border-[var(--color-error)]/20 bg-[var(--color-error)]/10'\n            }`}\n          >\n            <div className=\"flex items-start gap-3\">\n              <Icon\n                icon={foodSafety.icon}\n                size=\"lg\"\n                className={foodSafety.color}\n                aria-hidden={true}\n              />\n              <div className=\"flex-1\">\n                <p className={`mb-1 text-sm font-semibold ${foodSafety.color}`}>\n                  Queensland 2-Hour/4-Hour Rule\n                </p>\n                <p className={`text-xs ${foodSafety.color} leading-relaxed`}>\n                  {foodSafety.message}\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {log.photo_url && (\n          <div className=\"mb-4 overflow-hidden rounded-2xl\">\n            <OptimizedImage\n              src={log.photo_url}\n              alt=\"Temperature reading\"\n              width={200}\n              height={200}\n              className=\"h-32 w-full rounded-2xl border border-[var(--border)] object-cover transition-transform duration-300 group-hover:scale-105\"\n            />\n          </div>\n        )}\n\n        {/* Actions */}\n        <div className=\"flex gap-2\">\n          <button\n            onClick={e => e.stopPropagation()}\n            className=\"flex items-center justify-center gap-2 rounded-xl bg-[var(--muted)] px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-all duration-200 hover:bg-[var(--surface-variant)] hover:shadow-lg\"\n          >\n            <Icon icon={Camera} size=\"sm\" className=\"text-[var(--foreground)]\" aria-hidden={true} />\n            {t('temperature.addPhoto', 'Add Photo')}\n          </button>\n          <button\n            onClick={e => e.stopPropagation()}\n            className=\"flex items-center justify-center gap-2 rounded-xl bg-[var(--muted)] px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-all duration-200 hover:bg-[var(--surface-variant)] hover:shadow-lg\"\n          >\n            <Icon icon={Pencil} size=\"sm\" className=\"text-[var(--foreground)]\" aria-hidden={true} />\n            {t('temperature.edit', 'Edit')}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsEmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsLoadingState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsTab/hooks/useEquipmentDrawer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsTab/hooks/useTemperatureExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsTab/hooks/useTemperatureExport/helpers/handleExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsTab/hooks/useTemperatureExport/helpers/handleHTMLExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsTab/hooks/useTemperatureExport/helpers/handlePrint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsTab/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsTab/utils/calculateDateRange.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsTab/utils/equipmentFilters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsTab/utils/formatHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureLogsTimePeriodHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TemperatureTimeFilter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/TrendCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/useTemperatureFilters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/utils/formatting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/utils/statistics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/utils/status.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/components/utils/timePeriod.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useDrawerEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useDrawerSwipeHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useEquipmentLogInfo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useEquipmentLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useEquipmentLogs/helpers/fetchLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useEquipmentLogs/helpers/filterLogsByTime.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useEquipmentLogs/helpers/initializeLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useEquipmentStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useQRCodeModalEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useSampleDataGeneration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureChartConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureChartData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentHandlers/equipmentCRUD.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentHandlers/equipmentCRUD/createEquipment.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentHandlers/equipmentCRUD/deleteEquipment.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentHandlers/equipmentCRUD/updateEquipment.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentHandlers/helpers/createHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentHandlers/quickTempLog.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentHandlers/refreshLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentTabHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentTabHandlers/helpers/equipmentHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentTabHandlers/helpers/equipmentState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureEquipmentTabHandlers/helpers/uiHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureLogHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperatureLogsQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperaturePageData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperaturePageData/helpers/fetchAllLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperaturePageData/helpers/fetchEquipment.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperaturePageData/helpers/initialState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperaturePageData/helpers/updateLogsFromQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/useTemperaturePageHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/hooks/utils/generateSampleDataHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/utils/chart-formatters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/utils/exportTemperatureLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/utils/formatTemperatureLogsForPrint.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/utils/getDefaultTemperatureRange.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/utils/helpers/buildTemperatureLogsPrintHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/utils/helpers/buildTemperatureLogsTableHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/utils/helpers/formatTemperatureLogsForExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/utils/printTemperatureLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/utils/temperatureLogExportUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/utils/temperatureLogPrintStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/temperature/utils/temperatureUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/test-error/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/time-attendance/components/ClockIn.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/app/webapp/time-attendance/page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/commitlint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Arcade/AchievementsDropdown.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[742,745],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[742,745],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[797,800],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[797,800],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AchievementsDropdown';\n\ndescribe('AchievementsDropdown', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AchievementsDropdown, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Arcade/AchievementsDropdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Arcade/GameScoreboard.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './GameScoreboard';\n\ndescribe('GameScoreboard', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for GameScoreboard, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Arcade/GameScoreboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Arcade/NavbarStats.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './NavbarStats';\n\ndescribe('NavbarStats', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for NavbarStats, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Arcade/NavbarStats.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Arcade/WebAppBackground.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './WebAppBackground';\n\ndescribe('WebAppBackground', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for WebAppBackground, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Arcade/WebAppBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/BrandMark.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[720,723],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[720,723],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[775,778],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[775,778],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './BrandMark';\n\ndescribe('BrandMark', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for BrandMark, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/BrandMark.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/CountrySetup.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CountrySetup';\n\ndescribe('CountrySetup', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CountrySetup, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/CountrySetup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/CountrySetup/helpers/formatting.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/CountrySetup/helpers/formatting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/CountrySetup/hooks/useCountryDropdown.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/CountrySetup/hooks/useCountryDropdown.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/EasterEggs/Confetti.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[718,721],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[718,721],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[773,776],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[773,776],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './Confetti';\n\ndescribe('Confetti', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for Confetti, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/EasterEggs/Confetti.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/EasterEggs/TomatoToss.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[722,725],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[722,725],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[777,780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[777,780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './TomatoToss';\n\ndescribe('TomatoToss', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for TomatoToss, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/EasterEggs/TomatoToss.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/EasterEggs/useTomatoTossGame.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/EasterEggs/useTomatoTossGame.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/ActiveGameScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/GameOverScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/KitchenOnFire.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './KitchenOnFire';\n\ndescribe('KitchenOnFire', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for KitchenOnFire, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/KitchenOnFire.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/TrainOffTrack.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './TrainOffTrack';\n\ndescribe('TrainOffTrack', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for TrainOffTrack, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/TrainOffTrack.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/useErrorMessageSelector.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/useErrorMessageSelector.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/useKitchenFireGame.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/useKitchenFireGame.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/useTrainOffTrackGame.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ErrorGame/useTrainOffTrackGame.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ExitIntentPopup.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ExitIntentPopup';\n\ndescribe('ExitIntentPopup', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ExitIntentPopup, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ExitIntentPopup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ExitIntentPopup/helpers/useExitIntentHandlers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ExitIntentPopup/helpers/useExitIntentHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/GlobalWarning.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './GlobalWarning';\n\ndescribe('GlobalWarning', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for GlobalWarning, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/GlobalWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/GoogleAnalytics.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './GoogleAnalytics';\n\ndescribe('GoogleAnalytics', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for GoogleAnalytics, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/GoogleAnalytics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/GoogleTagManager.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './GoogleTagManager';\n\ndescribe('GoogleTagManager', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for GoogleTagManager, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/GoogleTagManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/LanguageSwitcher.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './LanguageSwitcher';\n\ndescribe('LanguageSwitcher', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for LanguageSwitcher, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/LanguageSwitcher.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Loading/CatchTheDocket.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CatchTheDocket';\n\ndescribe('CatchTheDocket', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CatchTheDocket, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Loading/CatchTheDocket.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1205,1208],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1205,1208],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Catch the Docket - Loading Game\n *\n * Interactive mini-game that appears during loading states.\n * Users catch flying dockets to pass the time.\n */\n\n'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport WebAppBackground from '@/components/Arcade/WebAppBackground';\nimport { useCatchTheDocket } from './useCatchTheDocket';\n\ninterface CatchTheDocketProps {\n  isLoading: boolean;\n  onLoadComplete?: () => void;\n}\n\nconst CatchTheDocket: React.FC<CatchTheDocketProps> = ({ isLoading, onLoadComplete }) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const { dockets, caught, playTime, alertShown, gameFinished, spawnDocket, handleDocketClick } =\n    useCatchTheDocket({ isLoading, containerRef });\n\n  useEffect(() => {\n    if (gameFinished && onLoadComplete) {\n      const timeoutId = setTimeout(() => onLoadComplete(), 1000);\n      return () => clearTimeout(timeoutId);\n    }\n  }, [gameFinished, onLoadComplete]);\n\n  if (!isLoading && !gameFinished) {\n    return null;\n  }\n\n  return (\n    <>\n      <WebAppBackground\n        compact={\n          typeof window !== 'undefined' &&\n          (navigator.maxTouchPoints > 0 || (window as any).ontouchstart !== undefined)\n        }\n      />\n      <motion.div\n        ref={containerRef}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 z-40 flex min-h-screen flex-col items-center justify-center p-6 text-[var(--foreground)]\"\n        onClick={e => {\n          // Click anywhere to spawn docket (for testing)\n          if (e.target === containerRef.current) {\n            spawnDocket();\n          }\n        }}\n      >\n        {/* Minimal counter (appears only after first tap) */}\n        {caught > 0 && (\n          <motion.div\n            initial={{ opacity: 0, y: -6 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"text-fluid-sm pointer-events-none absolute top-6 right-6 z-50 rounded-full border border-[var(--border)] bg-[var(--surface)]/70 px-3 py-1 text-[var(--foreground)] backdrop-blur-sm\"\n            title=\"Dockets caught\"\n          >\n             {caught}\n          </motion.div>\n        )}\n\n        {/* Dockets */}\n        {dockets.map(docket => (\n          <motion.div\n            key={docket.id}\n            className=\"text-fluid-4xl desktop:text-fluid-4xl absolute cursor-pointer transition-transform hover:scale-125\"\n            style={{\n              left: `${docket.x}px`,\n              top: `${docket.y}px`,\n              transform: `translate(-50%, -50%) rotate(${docket.rotation}deg)`,\n            }}\n            onPointerDown={() => handleDocketClick(docket.id)}\n            onClick={() => handleDocketClick(docket.id)}\n          >\n            \n          </motion.div>\n        ))}\n\n        {/* No instructional or completion messaging */}\n      </motion.div>\n    </>\n  );\n};\n\nexport default CatchTheDocket;\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Loading/CatchTheDocketOverlay.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[744,747],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[744,747],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[799,802],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[799,802],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CatchTheDocketOverlay';\n\ndescribe('CatchTheDocketOverlay', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CatchTheDocketOverlay, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Loading/CatchTheDocketOverlay.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":68,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2198,2201],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2198,2201],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":92,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":92,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3025,3028],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3025,3028],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":103,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3411,3414],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3411,3414],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport dynamic from 'next/dynamic';\nimport CatchTheDocket from '@/components/Loading/CatchTheDocket';\nimport { subscribeLoadingGate } from '@/lib/loading-gate';\nimport { prefersReducedMotion, isArcadeDisabled, isTouchDevice } from '@/lib/arcadeGuards';\nimport React, { useEffect, useMemo, useState } from 'react';\n\nconst routePath = () => {\n  if (typeof window === 'undefined') return '/';\n  return window.location.pathname;\n};\n\nconst isAuthRoute = (path: string) => {\n  return path.startsWith('/api/auth') || path.startsWith('/login') || path.startsWith('/auth');\n};\n\n// Lazy load framer-motion to reduce initial bundle size\nconst CatchTheDocketOverlayContent = dynamic(\n  () =>\n    import('framer-motion').then(mod => {\n      const { AnimatePresence, motion } = mod;\n\n      return {\n        default: function CatchTheDocketOverlayContent({ active }: { active: boolean }) {\n          return (\n            <AnimatePresence>\n              {active && (\n                <motion.div\n                  key=\"catch-docket-overlay\"\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  exit={{ opacity: 0 }}\n                  transition={{ duration: 0.2 }}\n                  className=\"fixed inset-0 z-[60]\"\n                >\n                  <CatchTheDocket isLoading={true} />\n                </motion.div>\n              )}\n            </AnimatePresence>\n          );\n        },\n      };\n    }),\n  {\n    ssr: false,\n    loading: () => null,\n  },\n);\n\nconst CatchTheDocketOverlay: React.FC = () => {\n  const [active, setActive] = useState(false);\n  const disabled = useMemo(() => {\n    const path = routePath();\n    // Enable on touch devices, only disable for reduced motion, arcade disabled flag, or auth routes\n    const d = prefersReducedMotion() || isArcadeDisabled() || isAuthRoute(path);\n    if (d && typeof window !== 'undefined') {\n      const payload = {\n        event: 'arcade_disabled',\n        event_category: 'arcade',\n        page_path: path,\n        reason: isAuthRoute(path)\n          ? 'auth_route'\n          : prefersReducedMotion()\n            ? 'reduced_motion'\n            : 'flag',\n      } as const;\n      (window as any).dataLayer?.push(payload);\n      window.dispatchEvent(new CustomEvent('gtm:event', { detail: payload }));\n    }\n    return d;\n  }, []);\n\n  useEffect(() => {\n    // Double-check disabled state on every render to prevent race conditions\n    if (disabled || isArcadeDisabled() || prefersReducedMotion()) return;\n    return subscribeLoadingGate(isVisible => {\n      // Additional safety check before showing overlay\n      if (isVisible && (isArcadeDisabled() || prefersReducedMotion())) {\n        return;\n      }\n\n      // analytics hooks\n      if (isVisible && !active) {\n        const startPayload = {\n          event: 'arcade_loading_start',\n          event_category: 'arcade',\n          page_path: routePath(),\n          threshold_ms: 800,\n          is_touch_device: isTouchDevice(),\n        } as const;\n        (window as any).dataLayer?.push(startPayload);\n        window.dispatchEvent(new CustomEvent('gtm:event', { detail: startPayload }));\n      }\n\n      if (!isVisible && active) {\n        const endPayload = {\n          event: 'arcade_loading_end',\n          event_category: 'arcade',\n          page_path: routePath(),\n          is_touch_device: isTouchDevice(),\n        } as const;\n        (window as any).dataLayer?.push(endPayload);\n        window.dispatchEvent(new CustomEvent('gtm:event', { detail: endPayload }));\n      }\n\n      setActive(isVisible);\n    });\n  }, [disabled, active]);\n\n  // Safety checks - only disable for reduced motion, arcade disabled flag, or auth routes\n  if (disabled || isArcadeDisabled() || prefersReducedMotion()) return null;\n\n  return <CatchTheDocketOverlayContent active={active} />;\n};\n\nexport default CatchTheDocketOverlay;\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Loading/useCatchTheDocket.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/Loading/useCatchTheDocket.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/OptimizedImage.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './OptimizedImage';\n\ndescribe('OptimizedImage', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for OptimizedImage, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/OptimizedImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/PageTransitions.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './PageTransitions';\n\ndescribe('PageTransitions', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for PageTransitions, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/PageTransitions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ReactQueryProvider.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[738,741],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[738,741],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[793,796],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[793,796],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ReactQueryProvider';\n\ndescribe('ReactQueryProvider', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ReactQueryProvider, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ReactQueryProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ScrollTracker.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ScrollTracker';\n\ndescribe('ScrollTracker', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ScrollTracker, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ScrollTracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/SeasonalEvaluator.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[736,739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[736,739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[791,794],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[791,794],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './SeasonalEvaluator';\n\ndescribe('SeasonalEvaluator', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for SeasonalEvaluator, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/SeasonalEvaluator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/System/ServiceStatusWrapper.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[742,745],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[742,745],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[797,800],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[797,800],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ServiceStatusWrapper';\n\ndescribe('ServiceStatusWrapper', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ServiceStatusWrapper, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/System/ServiceStatusWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/WebVitalsTracker.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './WebVitalsTracker';\n\ndescribe('WebVitalsTracker', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for WebVitalsTracker, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/WebVitalsTracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/AchievementCard.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AchievementCard';\n\ndescribe('AchievementCard', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AchievementCard, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/AchievementCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/CompletionBadge.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CompletionBadge';\n\ndescribe('CompletionBadge', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CompletionBadge, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/CompletionBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/MicroInteraction.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './MicroInteraction';\n\ndescribe('MicroInteraction', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for MicroInteraction, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/MicroInteraction.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/MilestoneToast.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './MilestoneToast';\n\ndescribe('MilestoneToast', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for MilestoneToast, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/MilestoneToast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/ProgressBar.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ProgressBar';\n\ndescribe('ProgressBar', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ProgressBar, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/ProgressBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/ProgressRing.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ProgressRing';\n\ndescribe('ProgressRing', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ProgressRing, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/ProgressRing.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/StatsDisplay.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './StatsDisplay';\n\ndescribe('StatsDisplay', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for StatsDisplay, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/gamification/StatsDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/personality/InteractiveToast.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './InteractiveToast';\n\ndescribe('InteractiveToast', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for InteractiveToast, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/personality/InteractiveToast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/pricing/CurbOSPricing.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CurbOSPricing';\n\ndescribe('CurbOSPricing', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CurbOSPricing, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/pricing/CurbOSPricing.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ActionButtonGroup.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[736,739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[736,739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[791,794],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[791,794],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ActionButtonGroup';\n\ndescribe('ActionButtonGroup', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ActionButtonGroup, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ActionButtonGroup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AllergenBadge.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AllergenBadge';\n\ndescribe('AllergenBadge', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AllergenBadge, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AllergenBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AllergenDisplay.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AllergenDisplay';\n\ndescribe('AllergenDisplay', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AllergenDisplay, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AllergenDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AnimatedComponents.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[738,741],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[738,741],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[793,796],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[793,796],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AnimatedComponents';\n\ndescribe('AnimatedComponents', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AnimatedComponents, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AnimatedComponents.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AnimatedGradient.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AnimatedGradient';\n\ndescribe('AnimatedGradient', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AnimatedGradient, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AnimatedGradient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ApiErrorDisplay.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ApiErrorDisplay';\n\ndescribe('ApiErrorDisplay', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ApiErrorDisplay, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ApiErrorDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AsymmetricLayout.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AsymmetricLayout';\n\ndescribe('AsymmetricLayout', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AsymmetricLayout, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AsymmetricLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AutosaveStatus.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AutosaveStatus';\n\ndescribe('AutosaveStatus', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AutosaveStatus, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/AutosaveStatus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/BackgroundLogo.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './BackgroundLogo';\n\ndescribe('BackgroundLogo', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for BackgroundLogo, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/BackgroundLogo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/Button.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[714,717],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[714,717],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[769,772],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[769,772],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './Button';\n\ndescribe('Button', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for Button, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CSVImportModal';\n\ndescribe('CSVImportModal', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CSVImportModal, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[969,972],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[969,972],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1852,1855],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1852,1855],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":66,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2425,2428],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2425,2428],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\n/**\n * Standardized CSV import modal component\n * Reusable across all entity types with configurable parsing and validation\n * Uses Cyber Carrot styling and PrepFlow voice\n */\n\nimport { type ParseCSVResult } from '@/lib/csv/csv-utils';\nimport { logger } from '@/lib/logger';\nimport { X } from 'lucide-react';\nimport { useCallback, useState } from 'react';\nimport { CSVImportActions } from './CSVImportModal/CSVImportActions';\nimport { CSVImportErrors } from './CSVImportModal/CSVImportErrors';\nimport { CSVImportFileUpload } from './CSVImportModal/CSVImportFileUpload';\nimport { CSVImportInstructions } from './CSVImportModal/CSVImportInstructions';\nimport { CSVImportPreview } from './CSVImportModal/CSVImportPreview';\nimport { CSVImportTemplateDownload } from './CSVImportModal/CSVImportTemplateDownload';\nimport { Icon } from './Icon';\nimport { ImportProgress, type ImportProgressState } from './ImportProgress';\n\nexport interface CSVImportConfig<T = any> {\n  /** Entity type name (e.g., \"Ingredients\", \"Recipes\") */\n  entityName: string;\n  /** Entity name plural (e.g., \"ingredients\", \"recipes\") */\n  entityNamePlural: string;\n  /** CSV column headers expected */\n  expectedColumns: string[];\n  /** Optional columns that may be present */\n  optionalColumns?: string[];\n  /** Parse CSV text into entity objects */\n  parseCSV: (csvText: string) => ParseCSVResult<T>;\n  /** Validate parsed entity */\n  validateEntity?: (entity: T, index: number) => { valid: boolean; error?: string };\n  /** Format entity for preview display */\n  formatEntityForPreview: (entity: T, index: number) => React.ReactNode;\n  /** Generate template CSV content */\n  generateTemplate: () => string;\n  /** Template filename */\n  templateFilename: string;\n  /** Instructions for CSV format */\n  instructions: string[];\n}\n\nexport interface CSVImportModalProps<T = any> {\n  /** Whether modal is open */\n  isOpen: boolean;\n  /** Close handler */\n  onClose: () => void;\n  /** Import handler - receives selected entities */\n  onImport: (entities: T[]) => Promise<void>;\n  /** Import configuration */\n  config: CSVImportConfig<T>;\n  /** Loading state */\n  loading?: boolean;\n  /** Import progress state */\n  progress?: ImportProgressState;\n}\n\n/**\n * Standardized CSV import modal\n * @component\n * @param {CSVImportModalProps} props - Component props\n * @returns {JSX.Element} CSV import modal component\n */\nexport function CSVImportModal<T = any>({\n  isOpen,\n  onClose,\n  onImport,\n  config,\n  loading = false,\n  progress,\n}: CSVImportModalProps<T>) {\n  const [csvData, setCsvData] = useState<string>('');\n  const [parsedEntities, setParsedEntities] = useState<T[]>([]);\n  const [selectedIndices, setSelectedIndices] = useState<Set<number>>(new Set());\n  const [errors, setErrors] = useState<Array<{ row: number; error: string }>>([]);\n  const [validationErrors, setValidationErrors] = useState<Map<number, string>>(new Map());\n\n  const parseCSVData = useCallback(\n    (csvText: string) => {\n      try {\n        if (!csvText || csvText.trim().length === 0) {\n          setErrors([{ row: 0, error: 'CSV file is empty' }]);\n          setParsedEntities([]);\n          setSelectedIndices(new Set());\n          setValidationErrors(new Map());\n          return;\n        }\n\n        const result = config.parseCSV(csvText);\n        const parseErrors = result.errors.map(err => ({\n          row: err.row || 0,\n          error: err.message || 'Parse error',\n        }));\n        setErrors(parseErrors);\n        const newValidationErrors = new Map<number, string>();\n        if (config.validateEntity && result.data.length > 0) {\n          result.data.forEach((entity, index) => {\n            const validation = config.validateEntity!(entity, index);\n            if (!validation.valid && validation.error)\n              newValidationErrors.set(index, validation.error);\n          });\n        }\n        setValidationErrors(newValidationErrors);\n        setParsedEntities(result.data);\n        const validIndices = new Set<number>();\n        result.data.forEach((_, index) => {\n          if (!newValidationErrors.has(index)) validIndices.add(index);\n        });\n        setSelectedIndices(validIndices);\n      } catch (err) {\n        logger.error('[CSV Import Modal] Failed to parse CSV:', err);\n        setErrors([\n          { row: 0, error: err instanceof Error ? err.message : 'Failed to parse CSV file' },\n        ]);\n        setParsedEntities([]);\n        setSelectedIndices(new Set());\n        setValidationErrors(new Map());\n      }\n    },\n    [config],\n  );\n\n  const handleFileUpload = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const file = event.target.files?.[0];\n      if (!file) return;\n\n      const reader = new FileReader();\n      reader.onload = e => {\n        const csvText = e.target?.result as string;\n        setCsvData(csvText);\n        parseCSVData(csvText);\n      };\n      reader.readAsText(file);\n    },\n    [parseCSVData],\n  );\n\n  const handleSelectEntity = useCallback((index: number, selected: boolean) => {\n    setSelectedIndices(prev => {\n      const newSet = new Set(prev);\n      if (selected) {\n        newSet.add(index);\n      } else {\n        newSet.delete(index);\n      }\n      return newSet;\n    });\n  }, []);\n\n  const handleSelectAll = useCallback(\n    (selected: boolean) => {\n      if (selected) {\n        // Select all valid entities\n        const validIndices = new Set<number>();\n        parsedEntities.forEach((_, index) => {\n          if (!validationErrors.has(index)) {\n            validIndices.add(index);\n          }\n        });\n        setSelectedIndices(validIndices);\n      } else {\n        setSelectedIndices(new Set());\n      }\n    },\n    [parsedEntities, validationErrors],\n  );\n\n  const handleImport = useCallback(async () => {\n    try {\n      const entitiesToImport = parsedEntities.filter((_, index) => selectedIndices.has(index));\n\n      if (entitiesToImport.length === 0) {\n        return;\n      }\n\n      await onImport(entitiesToImport);\n\n      // Reset state on success\n      setCsvData('');\n      setParsedEntities([]);\n      setSelectedIndices(new Set());\n      setErrors([]);\n      setValidationErrors(new Map());\n    } catch (err) {\n      logger.error(`[CSV Import Modal] Failed to import ${config.entityNamePlural}:`, err);\n    }\n  }, [parsedEntities, selectedIndices, onImport, config.entityNamePlural]);\n\n  const handleClose = useCallback(() => {\n    setCsvData('');\n    setParsedEntities([]);\n    setSelectedIndices(new Set());\n    setErrors([]);\n    setValidationErrors(new Map());\n    onClose();\n  }, [onClose]);\n\n  const handleDownloadTemplate = useCallback(() => {\n    const template = config.generateTemplate();\n    const blob = new Blob([template], { type: 'text/csv;charset=utf-8;' });\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = config.templateFilename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    window.URL.revokeObjectURL(url);\n  }, [config]);\n\n  const selectedValidCount = Array.from(selectedIndices).filter(\n    i => !validationErrors.has(i),\n  ).length;\n  const validCount = parsedEntities.length - validationErrors.size;\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-[80] flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm\">\n      <div className=\"max-h-[90vh] w-full max-w-4xl rounded-3xl bg-gradient-to-r from-[var(--primary)]/20 via-[var(--accent)]/20 via-[var(--tertiary)]/20 to-[var(--primary)]/20 p-[1px] shadow-2xl\">\n        <div className=\"max-h-[90vh] w-full overflow-y-auto rounded-3xl bg-[var(--surface)]/95\">\n          {/* Header */}\n          <div className=\"desktop:p-6 border-b border-[var(--border)] p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h2 className=\"desktop:text-2xl text-xl font-bold text-[var(--foreground)]\">\n                  Import {config.entityName} from CSV\n                </h2>\n                <p className=\"mt-1 text-sm text-[var(--foreground)]/60\">\n                  Upload a CSV file or download our template to get started\n                </p>\n              </div>\n              <button\n                onClick={handleClose}\n                className=\"rounded-full bg-[var(--muted)] p-2 text-[var(--foreground)]/60 transition-colors hover:bg-[var(--border)] hover:text-[var(--foreground)]\"\n                aria-label=\"Close import modal\"\n              >\n                <Icon icon={X} size=\"md\" aria-hidden={true} />\n              </button>\n            </div>\n          </div>\n\n          {/* Content */}\n          <div className=\"desktop:space-y-6 desktop:p-6 space-y-4 p-4\">\n            {/* Template Download */}\n            <CSVImportTemplateDownload onDownload={handleDownloadTemplate} />\n\n            {/* File Upload */}\n            <CSVImportFileUpload\n              expectedColumns={config.expectedColumns}\n              optionalColumns={config.optionalColumns}\n              onFileUpload={handleFileUpload}\n            />\n\n            {/* Errors Display */}\n            <CSVImportErrors parseErrors={errors} validationErrors={validationErrors} />\n\n            {/* Progress Indicator */}\n            {loading && progress && (\n              <ImportProgress\n                progress={progress}\n                title={`Importing ${config.entityNamePlural}...`}\n              />\n            )}\n\n            {/* Preview */}\n            {parsedEntities.length > 0 && !loading && (\n              <>\n                <CSVImportPreview\n                  parsedEntities={parsedEntities}\n                  selectedIndices={selectedIndices}\n                  validationErrors={validationErrors}\n                  entityName={config.entityName}\n                  entityNamePlural={config.entityNamePlural}\n                  formatEntityForPreview={config.formatEntityForPreview}\n                  onSelectEntity={handleSelectEntity}\n                  onSelectAll={handleSelectAll}\n                />\n\n                <CSVImportActions\n                  selectedValidCount={selectedValidCount}\n                  validCount={validCount}\n                  entityNamePlural={config.entityNamePlural}\n                  loading={loading}\n                  onClose={handleClose}\n                  onImport={handleImport}\n                />\n              </>\n            )}\n            <CSVImportInstructions instructions={config.instructions} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportActions.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CSVImportActions';\n\ndescribe('CSVImportActions', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CSVImportActions, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportErrors.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CSVImportErrors';\n\ndescribe('CSVImportErrors', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CSVImportErrors, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportErrors.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportFileUpload.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[740,743],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[740,743],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[795,798],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[795,798],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CSVImportFileUpload';\n\ndescribe('CSVImportFileUpload', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CSVImportFileUpload, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportFileUpload.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportInstructions.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[744,747],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[744,747],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[799,802],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[799,802],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CSVImportInstructions';\n\ndescribe('CSVImportInstructions', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CSVImportInstructions, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportInstructions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportPreview.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CSVImportPreview';\n\ndescribe('CSVImportPreview', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CSVImportPreview, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportPreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportTemplateDownload.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[752,755],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[752,755],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[807,810],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[807,810],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CSVImportTemplateDownload';\n\ndescribe('CSVImportTemplateDownload', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CSVImportTemplateDownload, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CSVImportModal/CSVImportTemplateDownload.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/Card.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[710,713],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[710,713],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[765,768],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[765,768],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './Card';\n\ndescribe('Card', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for Card, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/Card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ConfirmDialog.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ConfirmDialog';\n\ndescribe('ConfirmDialog', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ConfirmDialog, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ConfirmDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CopyButton.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[722,725],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[722,725],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[777,780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[777,780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CopyButton';\n\ndescribe('CopyButton', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CopyButton, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/CopyButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/DashboardHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/DashboardSection.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './DashboardSection';\n\ndescribe('DashboardSection', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for DashboardSection, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/DashboardSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/DietaryBadge.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './DietaryBadge';\n\ndescribe('DietaryBadge', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for DietaryBadge, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/DietaryBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/EditDrawer.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[722,725],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[722,725],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[777,780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[777,780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './EditDrawer';\n\ndescribe('EditDrawer', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for EditDrawer, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/EditDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/EmptyState.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[722,725],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[722,725],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[777,780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[777,780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './EmptyState';\n\ndescribe('EmptyState', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for EmptyState, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ErrorBoundary.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ErrorBoundary';\n\ndescribe('ErrorBoundary', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ErrorBoundary, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ErrorBoundary.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1310,1313],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1310,1313],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1340,1343],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1340,1343],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":72,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2205,2208],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2205,2208],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\n/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ErrorBoundary.tsx:11:11\n   9 |   const ErrorComponent = useErrorMessageSelector();\n  10 |   // eslint-disable-next-line react-hooks/static-components\n> 11 |   return <ErrorComponent />;\n     |           ^^^^^^^^^^^^^^ This component is created during render\n  12 | };\n  13 |\n  14 | interface Props {\n\n/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ErrorBoundary.tsx:9:26\n   7 | // Wrapper component to use hook in class component context\n   8 | const ErrorMessageDisplay: React.FC = () => {\n>  9 |   const ErrorComponent = useErrorMessageSelector();\n     |                          ^^^^^^^^^^^^^^^^^^^^^^^^^ The component is created during render here\n  10 |   // eslint-disable-next-line react-hooks/static-components\n  11 |   return <ErrorComponent />;\n  12 | };","line":11,"column":11,"nodeType":null,"endLine":11,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\nimport { useErrorMessageSelector } from '@/components/ErrorGame/useErrorMessageSelector';\nimport React, { Component, ErrorInfo, ReactNode } from 'react';\n\nimport { logger } from '@/lib/logger';\n\n// Wrapper component to use hook in class component context\nconst ErrorMessageDisplay: React.FC = () => {\n  const ErrorComponent = useErrorMessageSelector();\n  // eslint-disable-next-line react-hooks/static-components\n  return <ErrorComponent />;\n};\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n}\n\ninterface State {\n  hasError: boolean;\n  error?: Error;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  public state: State = {\n    hasError: false,\n  };\n\n  public static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    logger.error('ErrorBoundary caught an error:', {\n      error: error.message,\n      stack: error.stack,\n      componentStack: errorInfo.componentStack,\n    });\n\n    // Call custom error handler if provided\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    }\n\n    // Log to analytics if available\n    if (typeof window !== 'undefined' && (window as any).gtag) {\n      (window as any).gtag('event', 'exception', {\n        description: error.message,\n        fatal: false,\n      });\n    }\n  }\n\n  public render() {\n    if (this.state.hasError) {\n      // Use provided fallback if any\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      // Default fallback, but suppress on auth routes or mobile devices\n      const pathname = typeof window !== 'undefined' ? window.location.pathname : '';\n      const disableArcadeErrors = (() => {\n        try {\n          if (typeof window === 'undefined') return false;\n          // Check explicit flag first\n          if (localStorage.getItem('PF_DISABLE_ARCADE_ERRORS') === '1') return true;\n          // Auto-disable on mobile/touch devices\n          if (typeof navigator !== 'undefined') {\n            const hasTouch =\n              navigator.maxTouchPoints > 0 || (window as any).ontouchstart !== undefined;\n            const forceEnable = localStorage.getItem('PF_ENABLE_ARCADE_MOBILE') === '1';\n            if (hasTouch && !forceEnable) return true;\n          }\n          return false;\n        } catch (_) {\n          logger.error('[ErrorBoundary.tsx] Error in catch block:', {\n            error: _ instanceof Error ? _.message : String(_),\n            stack: _ instanceof Error ? _.stack : undefined,\n          });\n\n          return false;\n        }\n      })();\n      if (\n        disableArcadeErrors ||\n        pathname.startsWith('/api/auth') ||\n        pathname.startsWith('/auth') ||\n        pathname.startsWith('/login') ||\n        pathname.startsWith('/callback') ||\n        pathname.startsWith('/authorize')\n      ) {\n        return null;\n      }\n\n      return <ErrorMessageDisplay />;\n    }\n\n    return this.props.children;\n  }\n}\n\n// Hook for functional components to handle errors\nexport const useErrorHandler = () => {\n  const handleError = React.useCallback((error: Error, errorInfo?: ErrorInfo) => {\n    logger.error('Error caught by useErrorHandler:', { error, errorInfo });\n\n    // Log to analytics if available\n    if (typeof window !== 'undefined' && window.gtag) {\n      window.gtag('event', 'exception', {\n        description: error.message,\n        fatal: false,\n      });\n    }\n  }, []);\n\n  return { handleError };\n};\n\n// Higher-order component for wrapping components with error boundary\nexport const withErrorBoundary = <P extends object>(\n  Component: React.ComponentType<P>,\n  fallback?: ReactNode,\n) => {\n  const WrappedComponent = (props: P) => (\n    <ErrorBoundary fallback={fallback}>\n      <Component {...props} />\n    </ErrorBoundary>\n  );\n\n  WrappedComponent.displayName = `withErrorBoundary(${Component.displayName || Component.name})`;\n\n  return WrappedComponent;\n};\n\nexport default ErrorBoundary;\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ExportButton.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ExportButton';\n\ndescribe('ExportButton', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ExportButton, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ExportButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ExportOptionsModal.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[738,741],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[738,741],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[793,796],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[793,796],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ExportOptionsModal';\n\ndescribe('ExportOptionsModal', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ExportOptionsModal, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ExportOptionsModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[901,904],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[901,904],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1753,1756],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1753,1756],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1895,1898],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1895,1898],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":106,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":106,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3373,3376],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3373,3376],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\nimport { useState, useEffect, useRef } from 'react';\nimport { Icon } from './Icon';\nimport { logger } from '@/lib/logger';\nimport { X, Download, FileText, FileSpreadsheet, FileCode, Check } from 'lucide-react';\nimport type { TemplateVariant } from '@/lib/exports/template-utils';\nimport { getVariantDisplayName, getVariantDescription } from '@/lib/exports/template-utils';\nimport type { ExportFormat } from './ExportButton';\nimport { setupFocusTrap } from './ExportOptionsModal/helpers/focusTrap';\n\nexport interface ExportFilter {\n  id: string;\n  label: string;\n  value: string | boolean;\n  type?: 'select' | 'checkbox' | 'date-range';\n  options?: Array<{ value: string; label: string }>;\n}\n\nexport interface ExportOptionsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onExport: (options: {\n    format: ExportFormat;\n    variant?: TemplateVariant;\n    filters?: Record<string, any>;\n  }) => void | Promise<void>;\n  loading?: boolean;\n  title?: string;\n  availableFormats?: ExportFormat[];\n  availableVariants?: TemplateVariant[];\n  filters?: ExportFilter[];\n  defaultFormat?: ExportFormat;\n  defaultVariant?: TemplateVariant;\n}\n\nexport function ExportOptionsModal({\n  isOpen,\n  onClose,\n  onExport,\n  loading = false,\n  title = 'Export Options',\n  availableFormats = ['csv', 'pdf', 'html'],\n  availableVariants = ['default', 'kitchen', 'customer', 'supplier', 'compliance', 'compact'],\n  filters = [],\n  defaultFormat = 'pdf',\n  defaultVariant = 'default',\n}: ExportOptionsModalProps) {\n  const [selectedFormat, setSelectedFormat] = useState<ExportFormat>(defaultFormat);\n  const [selectedVariant, setSelectedVariant] = useState<TemplateVariant>(defaultVariant);\n  const [filterValues, setFilterValues] = useState<Record<string, any>>({});\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      const initialFilters: Record<string, any> = {};\n      filters.forEach(filter => {\n        initialFilters[filter.id] = filter.value;\n      });\n      setFilterValues(initialFilters);\n      setSelectedFormat(defaultFormat);\n      setSelectedVariant(defaultVariant);\n    }\n  }, [isOpen, filters, defaultFormat, defaultVariant]);\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isOpen) onClose();\n    };\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, onClose]);\n  useEffect(() => {\n    if (isOpen && modalRef.current) return setupFocusTrap(modalRef);\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  const formatLabels: Record<ExportFormat, string> = {\n    csv: 'CSV',\n    pdf: 'PDF',\n    html: 'HTML',\n  };\n\n  const formatIcons: Record<ExportFormat, typeof FileText> = {\n    csv: FileSpreadsheet,\n    pdf: FileText,\n    html: FileCode,\n  };\n\n  const handleExport = async () => {\n    try {\n      await onExport({\n        format: selectedFormat,\n        variant: selectedVariant,\n        filters: filterValues,\n      });\n    } catch (error) {\n      logger.error('[ExportOptionsModal] Error exporting:', {\n        error: error instanceof Error ? error.message : String(error),\n        format: selectedFormat,\n        variant: selectedVariant,\n      });\n      // Error is handled by onExport callback\n    }\n  };\n\n  const handleFilterChange = (filterId: string, value: any) => {\n    setFilterValues(prev => ({\n      ...prev,\n      [filterId]: value,\n    }));\n  };\n\n  return (\n    <div\n      className=\"fixed inset-0 z-[80] flex items-center justify-center bg-black/60 backdrop-blur-sm\"\n      onClick={onClose}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"export-options-title\"\n    >\n      <div\n        ref={modalRef}\n        className=\"relative w-full max-w-lg rounded-3xl border border-[var(--border)] bg-[var(--surface)] p-6 shadow-xl\"\n        onClick={e => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div className=\"mb-6 flex items-center justify-between\">\n          <h2 id=\"export-options-title\" className=\"text-xl font-bold text-[var(--foreground)]\">\n            {title}\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"rounded-lg p-2 text-[var(--foreground)]/60 transition-colors hover:bg-[var(--border)] hover:text-[var(--foreground)]\"\n            aria-label=\"Close export options\"\n          >\n            <Icon icon={X} size=\"md\" aria-hidden={true} />\n          </button>\n        </div>\n\n        {/* Format Selection */}\n        <div className=\"mb-6\">\n          <label className=\"mb-2 block text-sm font-medium text-[var(--foreground-secondary)]\">\n            Export Format\n          </label>\n          <div className=\"grid grid-cols-3 gap-3\">\n            {availableFormats.map(format => {\n              const IconComponent = formatIcons[format];\n              const isSelected = selectedFormat === format;\n              return (\n                <button\n                  key={format}\n                  onClick={() => setSelectedFormat(format)}\n                  disabled={loading}\n                  className={`flex flex-col items-center gap-2 rounded-xl border-2 p-4 transition-all ${\n                    isSelected\n                      ? 'border-[var(--primary)] bg-[var(--primary)]/10'\n                      : 'border-[var(--border)] bg-[var(--muted)]/30 hover:border-[var(--primary)]/50'\n                  } ${loading ? 'cursor-not-allowed opacity-50' : ''}`}\n                  aria-label={`Select ${formatLabels[format]} format`}\n                  aria-pressed={isSelected}\n                >\n                  <Icon\n                    icon={IconComponent}\n                    size=\"md\"\n                    className={\n                      isSelected ? 'text-[var(--primary)]' : 'text-[var(--foreground-muted)]'\n                    }\n                    aria-hidden={true}\n                  />\n                  <span\n                    className={`text-sm font-medium ${isSelected ? 'text-[var(--primary)]' : 'text-[var(--foreground-secondary)]'}`}\n                  >\n                    {formatLabels[format]}\n                  </span>\n                  {isSelected && (\n                    <Icon\n                      icon={Check}\n                      size=\"sm\"\n                      className=\"text-[var(--primary)]\"\n                      aria-hidden={true}\n                    />\n                  )}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Variant Selection */}\n        {availableVariants.length > 1 && (\n          <div className=\"mb-6\">\n            <label className=\"mb-2 block text-sm font-medium text-[var(--foreground-secondary)]\">\n              Template Style\n            </label>\n            <select\n              value={selectedVariant}\n              onChange={e => setSelectedVariant(e.target.value as TemplateVariant)}\n              disabled={loading}\n              className=\"w-full rounded-xl border border-[var(--border)] bg-[var(--muted)]/30 px-4 py-2 text-[var(--foreground)] transition-colors hover:border-[var(--primary)]/50 focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50\"\n            >\n              {availableVariants.map(variant => (\n                <option key={variant} value={variant}>\n                  {getVariantDisplayName(variant)} - {getVariantDescription(variant)}\n                </option>\n              ))}\n            </select>\n            <p className=\"mt-1 text-xs text-[var(--foreground-muted)]\">\n              {getVariantDescription(selectedVariant)}\n            </p>\n          </div>\n        )}\n\n        {/* Filters */}\n        {filters.length > 0 && (\n          <div className=\"mb-6\">\n            <label className=\"mb-2 block text-sm font-medium text-[var(--foreground-secondary)]\">\n              Filters\n            </label>\n            <div className=\"space-y-3\">\n              {filters.map(filter => (\n                <div key={filter.id}>\n                  {filter.type === 'checkbox' ? (\n                    <label className=\"flex items-center gap-2\">\n                      <input\n                        type=\"checkbox\"\n                        checked={filterValues[filter.id] as boolean}\n                        onChange={e => handleFilterChange(filter.id, e.target.checked)}\n                        disabled={loading}\n                        className=\"h-4 w-4 rounded border-[var(--border)] bg-[var(--muted)]/30 text-[var(--primary)] focus:ring-[var(--primary)] disabled:cursor-not-allowed disabled:opacity-50\"\n                      />\n                      <span className=\"text-sm text-[var(--foreground-secondary)]\">\n                        {filter.label}\n                      </span>\n                    </label>\n                  ) : filter.type === 'select' && filter.options ? (\n                    <div>\n                      <label className=\"mb-1 block text-xs text-[var(--foreground-muted)]\">\n                        {filter.label}\n                      </label>\n                      <select\n                        value={filterValues[filter.id] as string}\n                        onChange={e => handleFilterChange(filter.id, e.target.value)}\n                        disabled={loading}\n                        className=\"w-full rounded-xl border border-[var(--border)] bg-[var(--muted)]/30 px-4 py-2 text-sm text-[var(--foreground)] transition-colors hover:border-[var(--primary)]/50 focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50\"\n                      >\n                        {filter.options.map(option => (\n                          <option key={option.value} value={option.value}>\n                            {option.label}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  ) : (\n                    <div>\n                      <label className=\"mb-1 block text-xs text-[var(--foreground-muted)]\">\n                        {filter.label}\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={filterValues[filter.id] as string}\n                        onChange={e => handleFilterChange(filter.id, e.target.value)}\n                        disabled={loading}\n                        className=\"w-full rounded-xl border border-[var(--border)] bg-[var(--muted)]/30 px-4 py-2 text-sm text-[var(--foreground)] transition-colors hover:border-[var(--primary)]/50 focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50\"\n                      />\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Actions */}\n        <div className=\"flex justify-end gap-3\">\n          <button\n            onClick={onClose}\n            disabled={loading}\n            className=\"rounded-xl border border-[var(--border)] bg-[var(--muted)]/30 px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:border-[var(--primary)]/50 hover:bg-[var(--muted)] disabled:cursor-not-allowed disabled:opacity-50\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleExport}\n            disabled={loading}\n            className=\"flex items-center gap-2 rounded-xl bg-gradient-to-r from-[var(--primary)] to-[var(--accent)] px-4 py-2 text-sm font-medium text-[var(--button-active-text)] transition-all hover:shadow-[var(--primary)]/30 hover:shadow-lg disabled:cursor-not-allowed disabled:opacity-50\"\n          >\n            <Icon icon={Download} size=\"sm\" aria-hidden={true} />\n            {loading ? 'Exporting...' : 'Export'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ExportOptionsModal/helpers/focusTrap.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ExportOptionsModal/helpers/focusTrap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FeatureGate.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './FeatureGate';\n\ndescribe('FeatureGate', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for FeatureGate, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FeatureGate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FloatingParticles.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[736,739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[736,739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[791,794],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[791,794],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './FloatingParticles';\n\ndescribe('FloatingParticles', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for FloatingParticles, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FloatingParticles.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageDisplay.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './FoodImageDisplay';\n\ndescribe('FoodImageDisplay', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for FoodImageDisplay, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageDisplay.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":197,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":197,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6528,6531],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6528,6531],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\n// Food image display component with multi-plating support\n// HMR fix: Using direct lucide-react imports instead of Icon wrapper to avoid Turbopack module resolution issues\nimport { LoadingSkeleton } from '@/components/ui/LoadingSkeleton';\nimport { ImageIcon, ChevronDown } from 'lucide-react';\nimport { useState, useRef, useEffect } from 'react';\nimport { ImageLightbox } from './ImageLightbox';\nimport { renderImageComponent } from './FoodImageDisplay/helpers/renderImage';\nimport { buildImageMap } from './FoodImageDisplay/helpers/buildImageMap';\n\n// All supported plating methods\nexport type PlatingMethod =\n  | 'classic'\n  | 'modern'\n  | 'rustic'\n  | 'minimalist'\n  | 'landscape'\n  | 'futuristic'\n  | 'hide_and_seek'\n  | 'super_bowl'\n  | 'bathing'\n  | 'deconstructed'\n  | 'stacking'\n  | 'brush_stroke'\n  | 'free_form';\n\ninterface FoodImageDisplayProps {\n  imageUrl?: string | null; // Classic/primary\n  imageUrlAlternative?: string | null; // Rustic\n  imageUrlModern?: string | null; // Modern\n  imageUrlMinimalist?: string | null; // Minimalist\n  platingMethodsImages?: Record<string, string | null>; // Additional plating methods from JSON column\n  alt: string;\n  className?: string;\n  priority?: boolean;\n  showSelector?: boolean;\n  onImageLoad?: () => void;\n}\n\n/**\n * FoodImageDisplay Component\n *\n * Displays food images with support for multiple plating methods:\n * - Classic, Modern, Rustic, Minimalist (from dedicated columns)\n * - Landscape, Futuristic, Hide and Seek, Super Bowl, Bathing, Deconstructed, Stacking, Brush Stroke, Free Form (from JSON column)\n *\n * Includes dropdown selector to switch between plating methods, click-to-view lightbox, and proper loading/error states.\n *\n * @component\n * @param {FoodImageDisplayProps} props - Component props\n * @returns {JSX.Element} Rendered component\n */\nexport function FoodImageDisplay({\n  imageUrl,\n  imageUrlAlternative,\n  imageUrlModern,\n  imageUrlMinimalist,\n  platingMethodsImages,\n  alt,\n  className = '',\n  priority = false,\n  showSelector = true,\n  onImageLoad,\n}: FoodImageDisplayProps) {\n  const [selectedPlating, setSelectedPlating] = useState<PlatingMethod>('classic');\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [isLightboxOpen, setIsLightboxOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  const imageMap = buildImageMap(\n    imageUrl,\n    imageUrlModern,\n    imageUrlAlternative,\n    imageUrlMinimalist,\n    platingMethodsImages,\n  );\n\n  // Get available plating methods (those with images)\n  const availablePlatingMethods = (Object.keys(imageMap) as PlatingMethod[]).filter(\n    method => !!imageMap[method],\n  );\n\n  // Determine which image to show based on selected plating method\n  const currentImageUrl = imageMap[selectedPlating] || null;\n  const hasAnyImage = availablePlatingMethods.length > 0;\n\n  // Auto-select first available plating method if current selection has no image\n  useEffect(() => {\n    if (!currentImageUrl && availablePlatingMethods.length > 0) {\n      setSelectedPlating(availablePlatingMethods[0] as PlatingMethod);\n    }\n  }, [currentImageUrl, availablePlatingMethods]);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsDropdownOpen(false);\n      }\n    };\n\n    if (isDropdownOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [isDropdownOpen]);\n\n  // Plating method display names\n  const platingMethodLabels: Record<string, string> = {\n    classic: 'Classic',\n    modern: 'Modern',\n    rustic: 'Rustic',\n    minimalist: 'Minimalist',\n    landscape: 'Landscape',\n    futuristic: 'Futuristic',\n    hide_and_seek: 'Hide and Seek',\n    super_bowl: 'Super Bowl',\n    bathing: 'Bathing',\n    deconstructed: 'Deconstructed',\n    stacking: 'Stacking',\n    brush_stroke: 'Brush Stroke',\n    free_form: 'Free Form',\n  };\n\n  // Handle image load\n  const handleLoad = () => {\n    setIsLoading(false);\n    setHasError(false);\n    onImageLoad?.();\n  };\n\n  // Handle image error\n  const handleError = () => {\n    setIsLoading(false);\n    setHasError(true);\n  };\n\n  // Handle image click to open lightbox\n  const handleImageClick = (e: React.MouseEvent) => {\n    // Don't open lightbox if clicking on the dropdown selector\n    if ((e.target as HTMLElement).closest('[data-plating-selector]')) {\n      return;\n    }\n    if (currentImageUrl) {\n      setIsLightboxOpen(true);\n    }\n  };\n\n  // If no images available, show placeholder\n  if (!hasAnyImage) {\n    return (\n      <div\n        className={`flex items-center justify-center rounded-2xl border border-[var(--border)] bg-[var(--surface)] ${className}`}\n        style={{ minHeight: '200px' }}\n      >\n        <div className=\"flex flex-col items-center gap-3 text-center\">\n          <ImageIcon className=\"h-8 w-8 text-[var(--foreground-subtle)]\" aria-hidden={true} />\n          <p className=\"text-sm text-[var(--foreground-muted)]\">No image available</p>\n        </div>\n      </div>\n    );\n  }\n\n  // If error loading image, show error state\n  if (hasError && currentImageUrl) {\n    return (\n      <div\n        className={`flex items-center justify-center rounded-2xl border border-[var(--color-error)]/20 bg-[var(--color-error)]/10 ${className}`}\n        style={{ minHeight: '200px' }}\n      >\n        <div className=\"flex flex-col items-center gap-3 text-center\">\n          <ImageIcon className=\"h-8 w-8 text-[var(--color-error)]\" aria-hidden={true} />\n          <p className=\"text-sm text-[var(--color-error)]\">Failed to load image</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div\n        className={`relative overflow-hidden rounded-2xl border border-[var(--border)] bg-[var(--surface)] ${className}`}\n      >\n        {/* Image Container - Clickable */}\n        <div\n          className=\"relative aspect-video w-full cursor-pointer bg-[var(--background)] transition-all duration-200 hover:opacity-90\"\n          onClick={handleImageClick}\n          role=\"button\"\n          tabIndex={0}\n          aria-label=\"Click to view full-size image\"\n          onKeyDown={e => {\n            if (e.key === 'Enter' || e.key === ' ') {\n              e.preventDefault();\n              handleImageClick(e as any);\n            }\n          }}\n        >\n          {isLoading && (\n            <div className=\"absolute inset-0 z-10\">\n              <LoadingSkeleton variant=\"card\" className=\"h-full w-full\" />\n            </div>\n          )}\n\n          {currentImageUrl &&\n            renderImageComponent(\n              currentImageUrl,\n              alt,\n              isLoading,\n              priority,\n              handleLoad,\n              handleError,\n            )}\n\n          {/* Plating Method Selector - Only show if multiple images exist */}\n          {availablePlatingMethods.length > 1 && showSelector && (\n            <div ref={dropdownRef} data-plating-selector className=\"absolute right-4 bottom-4 z-20\">\n              <button\n                onClick={e => {\n                  e.stopPropagation();\n                  setIsDropdownOpen(!isDropdownOpen);\n                }}\n                className=\"flex items-center gap-2 rounded-xl bg-black/60 px-4 py-2 text-sm font-medium text-[var(--foreground)] backdrop-blur-sm transition-all duration-200 hover:bg-black/80 hover:shadow-lg\"\n                aria-label=\"Select plating method\"\n                aria-expanded={isDropdownOpen}\n                aria-haspopup=\"true\"\n              >\n                <span>{platingMethodLabels[selectedPlating] || selectedPlating}</span>\n                <ChevronDown\n                  className={`h-4 w-4 transition-transform duration-200 ${isDropdownOpen ? 'rotate-180' : ''}`}\n                  aria-hidden={true}\n                />\n              </button>\n\n              {/* Dropdown Menu */}\n              {isDropdownOpen && (\n                <div className=\"absolute right-0 bottom-full mb-2 max-h-[300px] min-w-[160px] overflow-y-auto rounded-xl border border-[var(--border)] bg-[var(--surface)] shadow-lg\">\n                  {availablePlatingMethods.map(method => (\n                    <button\n                      key={method}\n                      onClick={e => {\n                        e.stopPropagation();\n                        setSelectedPlating(method as PlatingMethod);\n                        setIsDropdownOpen(false);\n                      }}\n                      className={`w-full px-4 py-2.5 text-left text-sm transition-colors first:rounded-t-xl last:rounded-b-xl ${\n                        selectedPlating === method\n                          ? 'bg-[var(--primary)]/10 text-[var(--primary)]'\n                          : 'text-[var(--foreground)] hover:bg-[var(--muted)]'\n                      }`}\n                    >\n                      {platingMethodLabels[method] || method}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Plating Method Badge */}\n          {hasAnyImage && (\n            <div className=\"absolute top-4 left-4 z-20 rounded-lg bg-black/60 px-3 py-1.5 text-xs font-medium text-[var(--foreground)] backdrop-blur-sm\">\n              {platingMethodLabels[selectedPlating] || selectedPlating} Plating\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Image Lightbox */}\n      <ImageLightbox\n        isOpen={isLightboxOpen}\n        imageUrl={currentImageUrl}\n        alt={alt}\n        onClose={() => setIsLightboxOpen(false)}\n        platingMethod={platingMethodLabels[selectedPlating] || selectedPlating}\n      />\n    </>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageDisplay/helpers/buildImageMap.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageDisplay/helpers/buildImageMap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageDisplay/helpers/normalizeImageUrl.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageDisplay/helpers/normalizeImageUrl.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageDisplay/helpers/renderImage.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './renderImage';\n\ndescribe('renderImage', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for renderImage, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageDisplay/helpers/renderImage.tsx","messages":[],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":20,"column":7,"nodeType":"JSXOpeningElement","endLine":26,"endColumn":9,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageGenerator.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[738,741],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[738,741],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[793,796],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[793,796],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './FoodImageGenerator';\n\ndescribe('FoodImageGenerator', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for FoodImageGenerator, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageGenerator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageGenerator/components/CompactMode.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './CompactMode';\n\ndescribe('CompactMode', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for CompactMode, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageGenerator/components/CompactMode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageGenerator/helpers/handleGenerate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/FoodImageGenerator/helpers/handleGenerate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/GlowCard.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[718,721],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[718,721],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[773,776],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[773,776],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './GlowCard';\n\ndescribe('GlowCard', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for GlowCard, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/GlowCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/HelpTooltip.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './HelpTooltip';\n\ndescribe('HelpTooltip', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for HelpTooltip, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/HelpTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/Icon.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[710,713],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[710,713],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[765,768],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[765,768],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './Icon';\n\ndescribe('Icon', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for Icon, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/Icon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ImageLightbox.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ImageLightbox';\n\ndescribe('ImageLightbox', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ImageLightbox, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ImageLightbox.tsx","messages":[],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":187,"column":15,"nodeType":"JSXOpeningElement","endLine":195,"endColumn":17,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ImportButton.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ImportButton';\n\ndescribe('ImportButton', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ImportButton, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ImportButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ImportProgress.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ImportProgress';\n\ndescribe('ImportProgress', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ImportProgress, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ImportProgress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/InputDialog.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './InputDialog';\n\ndescribe('InputDialog', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for InputDialog, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/InputDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/InputDialog/helpers/focusTrap.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/InputDialog/helpers/focusTrap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/InputDialog/helpers/validation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/InputDialog/helpers/validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/LandingSectionSkeleton.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[746,749],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[746,749],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[801,804],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[801,804],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './LandingSectionSkeleton';\n\ndescribe('LandingSectionSkeleton', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for LandingSectionSkeleton, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/LandingSectionSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/LightweightChart.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './LightweightChart';\n\ndescribe('LightweightChart', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for LightweightChart, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/LightweightChart.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":109,"column":84,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":87,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3054,3057],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3054,3057],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Lightweight Chart Component\n * Replaces Recharts with CSS/SVG-based charts for 90% smaller bundle\n */\n\n'use client';\n\nimport React from 'react';\n\ninterface ChartData {\n  name: string;\n  value: number;\n  color?: string;\n}\n\ninterface BarChartProps {\n  data: ChartData[];\n  height?: number;\n  width?: number;\n  showValues?: boolean;\n  className?: string;\n}\n\ninterface PieChartProps {\n  data: ChartData[];\n  size?: number;\n  showLabels?: boolean;\n  className?: string;\n}\n\ninterface LineChartProps {\n  data: { x: string | number; y: number; label?: string }[];\n  height?: number;\n  width?: number;\n  showGrid?: boolean;\n  showValues?: boolean;\n  className?: string;\n}\n\n// Lightweight Bar Chart Component\nfunction BarChart({\n  data,\n  height = 200,\n  width = 400,\n  showValues = true,\n  className = '',\n}: BarChartProps) {\n  const maxValue = Math.max(...data.map(d => d.value));\n  const colors = ['#29E7CD', '#3B82F6', '#D925C7', '#10B981', '#F59E0B', '#EF4444'];\n\n  return (\n    <div\n      className={`rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6 ${className}`}\n    >\n      <div className=\"flex h-48 items-end justify-between space-x-2\">\n        {data.map((item, index) => {\n          const barHeight = (item.value / maxValue) * 100;\n          const color = item.color || colors[index % colors.length];\n\n          return (\n            <div key={item.name} className=\"flex flex-1 flex-col items-center\">\n              {showValues && (\n                <span className=\"text-fluid-xs mb-1 text-[var(--foreground-muted)]\">\n                  {item.value}\n                </span>\n              )}\n              <div\n                className=\"w-full rounded-t-lg transition-all duration-300 hover:opacity-80\"\n                style={{\n                  height: `${barHeight}%`,\n                  backgroundColor: color,\n                  minHeight: '4px',\n                }}\n                title={`${item.name}: ${item.value}`}\n              />\n              <span className=\"text-fluid-xs mt-2 text-center leading-tight text-[var(--foreground-secondary)]\">\n                {item.name}\n              </span>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\n// Lightweight Pie Chart Component\nfunction PieChart({ data, size = 200, showLabels = true, className = '' }: PieChartProps) {\n  const total = data.reduce((sum, item) => sum + item.value, 0);\n  const colors = ['#29E7CD', '#3B82F6', '#D925C7', '#10B981', '#F59E0B', '#EF4444'];\n\n  // Calculate cumulative percentages without reassigning in render\n  const segments = data.reduce(\n    (acc, item) => {\n      const percentage = (item.value / total) * 100;\n      const previousCumulative =\n        acc.length > 0\n          ? acc[acc.length - 1].cumulativePercentage + acc[acc.length - 1].percentage\n          : 0;\n      return [\n        ...acc,\n        {\n          ...item,\n          percentage,\n          cumulativePercentage: previousCumulative,\n        },\n      ];\n    },\n    [] as Array<{ percentage: number; cumulativePercentage: number; [key: string]: any }>,\n  );\n\n  return (\n    <div\n      className={`rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6 ${className}`}\n    >\n      <div className=\"flex items-center justify-center\">\n        <div className=\"relative\" style={{ width: size, height: size }}>\n          <svg width={size} height={size} className=\"-rotate-90 transform\">\n            {segments.map((segment, index) => {\n              const circumference = 2 * Math.PI * (size / 2 - 10);\n              const strokeDasharray = `${(segment.percentage / 100) * circumference} ${circumference}`;\n              const strokeDashoffset = -((segment.cumulativePercentage / 100) * circumference);\n\n              const color = segment.color || colors[index % colors.length];\n\n              return (\n                <circle\n                  key={segment.name}\n                  cx={size / 2}\n                  cy={size / 2}\n                  r={size / 2 - 10}\n                  fill=\"none\"\n                  stroke={color}\n                  strokeWidth=\"20\"\n                  strokeDasharray={strokeDasharray}\n                  strokeDashoffset={strokeDashoffset}\n                  className=\"hover:stroke-opacity-80 transition-all duration-300\"\n                  style={{\n                    strokeLinecap: 'round',\n                  }}\n                />\n              );\n            })}\n          </svg>\n\n          {/* Center text */}\n          <div className=\"absolute inset-0 flex items-center justify-center\">\n            <div className=\"text-center\">\n              <div className=\"text-fluid-2xl font-bold text-[var(--foreground)]\">{total}</div>\n              <div className=\"text-fluid-xs text-[var(--foreground-muted)]\">Total</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {showLabels && (\n        <div className=\"mt-4 space-y-2\">\n          {data.map((item, index) => {\n            const color = item.color || colors[index % colors.length];\n            const percentage = ((item.value / total) * 100).toFixed(1);\n\n            return (\n              <div key={item.name} className=\"text-fluid-sm flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"h-3 w-3 rounded-full\" style={{ backgroundColor: color }} />\n                  <span className=\"text-[var(--foreground-secondary)]\">{item.name}</span>\n                </div>\n                <span className=\"text-[var(--foreground-muted)]\">{percentage}%</span>\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// Lightweight Line Chart Component\nfunction LineChart({\n  data,\n  height = 200,\n  width = 400,\n  showGrid = true,\n  showValues = false,\n  className = '',\n}: LineChartProps) {\n  if (data.length === 0) return null;\n\n  const maxValue = Math.max(...data.map(d => d.y));\n  const minValue = Math.min(...data.map(d => d.y));\n  const range = maxValue - minValue || 1;\n\n  const points = data\n    .map((item, index) => {\n      const x = (index / (data.length - 1)) * (width - 40) + 20;\n      const y = height - 20 - ((item.y - minValue) / range) * (height - 40);\n      return `${x},${y}`;\n    })\n    .join(' ');\n\n  return (\n    <div\n      className={`rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-6 ${className}`}\n    >\n      <svg width={width} height={height} className=\"overflow-visible\">\n        {/* Grid lines */}\n        {showGrid && (\n          <>\n            {[0, 0.25, 0.5, 0.75, 1].map(ratio => {\n              const y = height - 20 - ratio * (height - 40);\n              return (\n                <line\n                  key={ratio}\n                  x1=\"20\"\n                  y1={y}\n                  x2={width - 20}\n                  y2={y}\n                  stroke=\"var(--muted)\"\n                  strokeWidth=\"1\"\n                />\n              );\n            })}\n          </>\n        )}\n\n        {/* Line */}\n        <polyline\n          fill=\"none\"\n          stroke=\"#29E7CD\"\n          strokeWidth=\"2\"\n          points={points}\n          className=\"transition-all duration-300\"\n        />\n\n        {/* Data points */}\n        {data.map((item, index) => {\n          const x = (index / (data.length - 1)) * (width - 40) + 20;\n          const y = height - 20 - ((item.y - minValue) / range) * (height - 40);\n\n          return (\n            <circle\n              key={index}\n              cx={x}\n              cy={y}\n              r=\"4\"\n              fill=\"#29E7CD\"\n              className=\"hover:r-6 transition-all duration-300 hover:fill-[#3B82F6]\"\n            >\n              {showValues && <title>{item.label || item.y}</title>}\n            </circle>\n          );\n        })}\n      </svg>\n    </div>\n  );\n}\n\n// Export all components\nexport { BarChart, PieChart, LineChart };\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/LoadingSkeleton.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './LoadingSkeleton';\n\ndescribe('LoadingSkeleton', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for LoadingSkeleton, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/LoadingSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/LogoWatermark.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './LogoWatermark';\n\ndescribe('LogoWatermark', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for LogoWatermark, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/LogoWatermark.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/MagneticButton.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './MagneticButton';\n\ndescribe('MagneticButton', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for MagneticButton, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/MagneticButton.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[808,811],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[808,811],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":39,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[826,829],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[826,829],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { motion, useMotionValue, useSpring, useTransform } from 'framer-motion';\nimport { ReactNode, useRef, useState, useEffect } from 'react';\n\ninterface MagneticButtonProps {\n  children: ReactNode;\n  className?: string;\n  /**\n   * Magnetic strength (0-1). Higher values = stronger pull\n   */\n  strength?: number;\n  /**\n   * Maximum distance in pixels the button can move\n   */\n  maxDistance?: number;\n  /**\n   * Whether to scale on hover\n   */\n  scaleOnHover?: boolean;\n  /**\n   * Scale value on hover (default: 1.05)\n   */\n  hoverScale?: number;\n  /**\n   * Standard button props\n   */\n  onClick?: () => void;\n  type?: 'button' | 'submit' | 'reset';\n  disabled?: boolean;\n  /**\n   * Accessibility label\n   */\n  'aria-label'?: string;\n  /**\n   * Additional motion props\n   */\n  whileHover?: any;\n  whileTap?: any;\n}\n\n/**\n * MagneticButton component that follows mouse cursor with smooth spring animation\n * Creates an engaging, interactive button experience\n */\nexport function MagneticButton({\n  children,\n  className = '',\n  strength = 0.3,\n  maxDistance = 20,\n  scaleOnHover = true,\n  hoverScale = 1.05,\n  onClick,\n  type = 'button',\n  disabled = false,\n  'aria-label': ariaLabel,\n  whileHover,\n  whileTap,\n}: MagneticButtonProps) {\n  const [isHovering, setIsHovering] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const mouseX = useMotionValue(0);\n  const mouseY = useMotionValue(0);\n\n  // Smooth spring animations\n  const springConfig = { damping: 15, stiffness: 150 };\n  const x = useSpring(mouseX, springConfig);\n  const y = useSpring(mouseY, springConfig);\n\n  // Transform to limit movement distance\n  const translateX = useTransform(x, value =>\n    Math.max(-maxDistance, Math.min(maxDistance, value * strength)),\n  );\n  const translateY = useTransform(y, value =>\n    Math.max(-maxDistance, Math.min(maxDistance, value * strength)),\n  );\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  const handleMouseMove = (e: React.MouseEvent<HTMLButtonElement>) => {\n    if (!buttonRef.current || !isHovering || disabled) return;\n\n    const rect = buttonRef.current.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n\n    const deltaX = e.clientX - centerX;\n    const deltaY = e.clientY - centerY;\n\n    mouseX.set(deltaX);\n    mouseY.set(deltaY);\n  };\n\n  const handleMouseLeave = () => {\n    setIsHovering(false);\n    mouseX.set(0);\n    mouseY.set(0);\n  };\n\n  const handleMouseEnter = () => {\n    setIsHovering(true);\n  };\n\n  // Don't render magnetic effect on server\n  if (!isMounted) {\n    return (\n      <motion.button\n        ref={buttonRef}\n        type={type}\n        onClick={onClick}\n        disabled={disabled}\n        className={className}\n        aria-label={ariaLabel}\n        whileHover={scaleOnHover ? { scale: hoverScale } : whileHover}\n        whileTap={whileTap || { scale: 0.95 }}\n      >\n        {children}\n      </motion.button>\n    );\n  }\n\n  return (\n    <motion.button\n      ref={buttonRef}\n      type={type}\n      onClick={onClick}\n      disabled={disabled}\n      className={className}\n      aria-label={ariaLabel}\n      onMouseMove={handleMouseMove}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      style={{\n        x: translateX,\n        y: translateY,\n      }}\n      whileHover={\n        scaleOnHover && !disabled\n          ? {\n              scale: hoverScale,\n              ...whileHover,\n            }\n          : whileHover\n      }\n      whileTap={whileTap || { scale: 0.95 }}\n      transition={{\n        type: 'spring',\n        stiffness: 150,\n        damping: 15,\n      }}\n    >\n      {children}\n    </motion.button>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/MobileSectionDivider.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[742,745],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[742,745],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[797,800],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[797,800],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './MobileSectionDivider';\n\ndescribe('MobileSectionDivider', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for MobileSectionDivider, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/MobileSectionDivider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/PlatingMethodSelectorPopup.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[754,757],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[754,757],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[809,812],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[809,812],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './PlatingMethodSelectorPopup';\n\ndescribe('PlatingMethodSelectorPopup', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for PlatingMethodSelectorPopup, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/PlatingMethodSelectorPopup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/PrintButton.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './PrintButton';\n\ndescribe('PrintButton', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for PrintButton, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/PrintButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ResponsiveCardActions.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[744,747],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[744,747],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[799,802],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[799,802],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ResponsiveCardActions';\n\ndescribe('ResponsiveCardActions', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ResponsiveCardActions, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ResponsiveCardActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ResponsiveCardActionsMenu.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[752,755],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[752,755],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[807,810],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[807,810],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ResponsiveCardActionsMenu';\n\ndescribe('ResponsiveCardActionsMenu', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ResponsiveCardActionsMenu, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ResponsiveCardActionsMenu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ResponsiveCardActionsOverlay.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[758,761],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[758,761],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[813,816],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[813,816],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ResponsiveCardActionsOverlay';\n\ndescribe('ResponsiveCardActionsOverlay', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ResponsiveCardActionsOverlay, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ResponsiveCardActionsOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ResponsivePageContainer.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[748,751],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[748,751],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[803,806],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[803,806],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ResponsivePageContainer';\n\ndescribe('ResponsivePageContainer', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ResponsivePageContainer, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ResponsivePageContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ScrollProgress.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ScrollProgress';\n\ndescribe('ScrollProgress', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ScrollProgress, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ScrollProgress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ScrollReveal.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ScrollReveal';\n\ndescribe('ScrollReveal', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ScrollReveal, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ScrollReveal.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[758,761],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[758,761],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1352,1355],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1352,1355],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { motion, useInView, useReducedMotion } from 'framer-motion';\nimport React, { useRef } from 'react';\n\ninterface ScrollRevealProps {\n  children: React.ReactNode;\n  className?: string;\n  variant?: 'fade-up' | 'fade-in' | 'scale-up' | 'slide-left' | 'slide-right';\n  delay?: number;\n  duration?: number;\n  offset?: number;\n  once?: boolean;\n}\n\nexport const ScrollReveal: React.FC<ScrollRevealProps> = ({\n  children,\n  className = '',\n  variant = 'fade-up',\n  delay = 0,\n  duration = 0.5,\n  offset = 0.2,\n  once = true,\n}) => {\n  const ref = useRef(null);\n  const reducedMotion = useReducedMotion();\n  const isInView = useInView(ref, {\n    once,\n    amount: offset,\n    margin: '0px 0px -100px 0px',\n  });\n\n  const variants: Record<string, any> = {\n    'fade-up': {\n      hidden: { opacity: 0, y: 40 },\n      visible: { opacity: 1, y: 0 },\n    },\n    'fade-in': {\n      hidden: { opacity: 0 },\n      visible: { opacity: 1 },\n    },\n    'scale-up': {\n      hidden: { opacity: 0, scale: 0.8 },\n      visible: { opacity: 1, scale: 1 },\n    },\n    'slide-left': {\n      hidden: { opacity: 0, x: -50 },\n      visible: { opacity: 1, x: 0 },\n    },\n    'slide-right': {\n      hidden: { opacity: 0, x: 50 },\n      visible: { opacity: 1, x: 0 },\n    },\n  };\n\n  // Simplified variants for reduced motion\n  const reducedVariants: Record<string, any> = {\n    'fade-up': {\n      hidden: { opacity: 0 },\n      visible: { opacity: 1 },\n    },\n    'fade-in': {\n      hidden: { opacity: 0 },\n      visible: { opacity: 1 },\n    },\n    'scale-up': {\n      hidden: { opacity: 0 },\n      visible: { opacity: 1 },\n    },\n    'slide-left': {\n      hidden: { opacity: 0 },\n      visible: { opacity: 1 },\n    },\n    'slide-right': {\n      hidden: { opacity: 0 },\n      visible: { opacity: 1 },\n    },\n  };\n\n  const activeVariants = reducedMotion ? reducedVariants : variants;\n\n  return (\n    <motion.div\n      ref={ref}\n      initial=\"hidden\"\n      animate={isInView ? 'visible' : 'hidden'}\n      variants={activeVariants[variant]}\n      transition={{\n        duration: reducedMotion ? 0.2 : duration,\n        delay: reducedMotion ? 0 : delay,\n        ease: [0.21, 0.47, 0.32, 0.98],\n      }}\n      className={className}\n    >\n      {children}\n    </motion.div>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ScrollToTop.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ScrollToTop';\n\ndescribe('ScrollToTop', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ScrollToTop, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ScrollToTop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ShareButton.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ShareButton';\n\ndescribe('ShareButton', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ShareButton, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/ShareButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/Spotlight.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[720,723],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[720,723],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[775,778],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[775,778],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './Spotlight';\n\ndescribe('Spotlight', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for Spotlight, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/Spotlight.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/SubscriptionStatusBanner.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[750,753],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[750,753],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[805,808],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[805,808],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './SubscriptionStatusBanner';\n\ndescribe('SubscriptionStatusBanner', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for SubscriptionStatusBanner, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/SubscriptionStatusBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/SummaryCardGrid.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './SummaryCardGrid';\n\ndescribe('SummaryCardGrid', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for SummaryCardGrid, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/SummaryCardGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/TablePagination.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './TablePagination';\n\ndescribe('TablePagination', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for TablePagination, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/TablePagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/TextContainer.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './TextContainer';\n\ndescribe('TextContainer', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for TextContainer, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/TextContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/Toggle.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[714,717],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[714,717],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[769,772],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[769,772],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './Toggle';\n\ndescribe('Toggle', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for Toggle, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/Toggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/UpgradePrompt.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './UpgradePrompt';\n\ndescribe('UpgradePrompt', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for UpgradePrompt, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/UpgradePrompt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/WebappBackground.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './WebappBackground';\n\ndescribe('WebappBackground', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for WebappBackground, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/WebappBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimatedButton.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AnimatedButton';\n\ndescribe('AnimatedButton', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AnimatedButton, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimatedButton.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[334,337],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[334,337],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Animated Button with Press Effect\n */\n\n'use client';\n\nimport React from 'react';\n\ninterface AnimatedButtonProps {\n  children: React.ReactNode;\n  variant?: 'primary' | 'secondary' | 'outline';\n  size?: 'sm' | 'md' | 'lg';\n  className?: string;\n  onClick?: () => void;\n  disabled?: boolean;\n  loading?: boolean;\n  [key: string]: any;\n}\n\nexport function AnimatedButton({\n  children,\n  variant = 'primary',\n  size = 'md',\n  className = '',\n  onClick,\n  disabled = false,\n  loading = false,\n  ...props\n}: AnimatedButtonProps) {\n  const baseClasses = `\n    relative inline-flex items-center justify-center font-medium rounded-xl\n    transition-all duration-200 ease-out transform\n    hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2\n    disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100\n  `;\n\n  const variantClasses = {\n    primary: `\n      bg-gradient-to-r from-[var(--primary)] via-[var(--tertiary)] to-[var(--accent)] text-[var(--button-active-text)]\n      hover:from-[var(--primary)]/80 hover:via-[var(--tertiary)]/80 hover:to-[var(--accent)]/80\n      focus:ring-[var(--primary)] shadow-lg hover:shadow-xl hover:shadow-[var(--tertiary)]/25\n    `,\n    secondary: `\n      bg-[var(--muted)] text-[var(--foreground)] border border-[var(--border)]\n      hover:bg-[var(--surface-variant)] hover:border-[var(--tertiary)]/50\n      focus:ring-[var(--primary)]\n    `,\n    outline: `\n      bg-transparent text-[var(--primary)] border border-[var(--primary)]\n      hover:bg-[var(--primary)] hover:text-[var(--button-active-text)]\n      focus:ring-[var(--primary)]\n    `,\n  };\n\n  const sizeClasses = {\n    sm: 'px-3 py-2 text-fluid-sm',\n    md: 'px-4 py-3 text-fluid-base',\n    lg: 'px-6 py-4 text-fluid-lg',\n  };\n\n  return (\n    <button\n      className={` ${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className} `}\n      onClick={onClick}\n      disabled={disabled || loading}\n      {...props}\n    >\n      {loading && (\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent\" />\n        </div>\n      )}\n      <span className={loading ? 'opacity-0' : 'opacity-100 transition-opacity duration-200'}>\n        {children}\n      </span>\n    </button>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimatedCard.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AnimatedCard';\n\ndescribe('AnimatedCard', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AnimatedCard, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimatedCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimatedProgressBar.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[740,743],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[740,743],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[795,798],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[795,798],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AnimatedProgressBar';\n\ndescribe('AnimatedProgressBar', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AnimatedProgressBar, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimatedProgressBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimatedSkeleton.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AnimatedSkeleton';\n\ndescribe('AnimatedSkeleton', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AnimatedSkeleton, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimatedSkeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimatedToast.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AnimatedToast';\n\ndescribe('AnimatedToast', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AnimatedToast, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimatedToast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimationShowcase.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[736,739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[736,739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[791,794],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[791,794],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './AnimationShowcase';\n\ndescribe('AnimationShowcase', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for AnimationShowcase, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/AnimationShowcase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/animated/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/ui/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/HeroBullets.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './HeroBullets';\n\ndescribe('HeroBullets', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for HeroBullets, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/HeroBullets.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[249,252],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[249,252],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[268,271],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[268,271],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// PrepFlow - Hero Bullets Component\n// Extracted from HeroVariants.tsx to meet file size limits\n\n'use client';\n\nimport React from 'react';\nimport { Bullet } from './HeroContent';\n\ninterface HeroBulletsProps {\n  t: (key: string, fallback?: string | any[]) => string | any[];\n  variant: 'control' | 'variantA' | 'variantB' | 'variantC';\n}\n\nexport function HeroBullets({ t, variant }: HeroBulletsProps) {\n  if (variant === 'control') {\n    return (\n      <ul className=\"text-fluid-base mt-8 space-y-3 text-[var(--foreground-secondary)]\">\n        <Bullet>\n          <strong>Item Profit & Popularity</strong>  know what to promote, fix, or drop to raise\n          gross profit\n        </Bullet>\n        <Bullet>\n          <strong>Recipe Builder</strong>  auto-calculate COGS, GP$, and GP% for every dish,\n          instantly\n        </Bullet>\n        <Bullet>\n          <strong>Yield/Waste Aware</strong>  realistic ingredient costs  no fantasy margins\n        </Bullet>\n        <Bullet>\n          <strong>GST-Ready for AU</strong>  price confidently; avoid surprises\n        </Bullet>\n        <Bullet>\n          <strong>Menu Mix Intelligence</strong>  &quot;Chef&apos;s Kiss / Hidden Gem / Bargain\n          Bucket&quot; categories to guide decisions\n        </Bullet>\n        <Bullet>\n          <strong>AI Method Generator</strong>  discover new cooking methods that could improve\n          your margins and reduce waste\n        </Bullet>\n      </ul>\n    );\n  }\n\n  if (variant === 'variantA') {\n    return (\n      <ul className=\"text-fluid-base mt-8 space-y-3 text-[var(--foreground-secondary)]\">\n        <Bullet>\n          <strong>{t('hero.variantA.bullet1.title', 'Stop the Bleeding')}</strong> {' '}\n          {t(\n            'hero.variantA.bullet1.description',\n            'identify which menu items are costing you money',\n          )}\n        </Bullet>\n        <Bullet>\n          <strong>{t('hero.variantA.bullet2.title', 'Real Cost Analysis')}</strong> {' '}\n          {t(\n            'hero.variantA.bullet2.description',\n            'see true ingredient costs including waste and yields',\n          )}\n        </Bullet>\n        <Bullet>\n          <strong>{t('hero.variantA.bullet3.title', 'Profit Optimization')}</strong> {' '}\n          {t('hero.variantA.bullet3.description', 'know which dishes to promote, fix, or remove')}\n        </Bullet>\n        <Bullet>\n          <strong>{t('hero.variantA.bullet4.title', 'GST Compliance')}</strong> {' '}\n          {t(\n            'hero.variantA.bullet4.description',\n            'price correctly for Australian tax requirements',\n          )}\n        </Bullet>\n        <Bullet>\n          <strong>{t('hero.variantA.bullet5.title', 'Smart Menu Decisions')}</strong> {' '}\n          {t('hero.variantA.bullet5.description', 'data-driven choices about your menu mix')}\n        </Bullet>\n        <Bullet>\n          <strong>{t('hero.variantA.bullet6.title', 'AI Kitchen Insights')}</strong> {' '}\n          {t('hero.variantA.bullet6.description', 'discover new methods to improve margins')}\n        </Bullet>\n      </ul>\n    );\n  }\n\n  if (variant === 'variantB') {\n    return (\n      <ul className=\"text-fluid-base mt-8 space-y-3 text-[var(--foreground-secondary)]\">\n        <Bullet>\n          <strong>{t('hero.variantB.bullet1.title', 'Profit Maximization')}</strong> {' '}\n          {t('hero.variantB.bullet1.description', 'identify your highest-margin opportunities')}\n        </Bullet>\n        <Bullet>\n          <strong>{t('hero.variantB.bullet2.title', 'Cost Transparency')}</strong> {' '}\n          {t('hero.variantB.bullet2.description', 'see exactly what each dish costs to make')}\n        </Bullet>\n        <Bullet>\n          <strong>{t('hero.variantB.bullet3.title', 'Menu Optimization')}</strong> {' '}\n          {t('hero.variantB.bullet3.description', 'know which items to feature or remove')}\n        </Bullet>\n        <Bullet>\n          <strong>{t('hero.variantB.bullet4.title', 'Tax Compliance')}</strong> {' '}\n          {t('hero.variantB.bullet4.description', 'GST-ready pricing for Australian businesses')}\n        </Bullet>\n        <Bullet>\n          <strong>{t('hero.variantB.bullet5.title', 'Performance Tracking')}</strong> {' '}\n          {t('hero.variantB.bullet5.description', 'monitor which dishes drive your profit')}\n        </Bullet>\n        <Bullet>\n          <strong>{t('hero.variantB.bullet6.title', 'AI Optimization')}</strong> {' '}\n          {t('hero.variantB.bullet6.description', 'get suggestions to improve your margins')}\n        </Bullet>\n      </ul>\n    );\n  }\n\n  // variantC\n  return (\n    <ul className=\"text-fluid-base mt-8 space-y-3 text-[var(--foreground-secondary)]\">\n      <Bullet>\n        <strong>{t('hero.variantC.bullet1.title', 'Cost Breakdown')}</strong> {' '}\n        {t('hero.variantC.bullet1.description', 'see exactly what each dish costs to make')}\n      </Bullet>\n      <Bullet>\n        <strong>{t('hero.variantC.bullet2.title', 'Profit Calculation')}</strong> {' '}\n        {t('hero.variantC.bullet2.description', 'know your margin on every item')}\n      </Bullet>\n      <Bullet>\n        <strong>{t('hero.variantC.bullet3.title', 'Menu Decisions')}</strong> {' '}\n        {t('hero.variantC.bullet3.description', 'decide what to keep, change, or remove')}\n      </Bullet>\n      <Bullet>\n        <strong>{t('hero.variantC.bullet4.title', 'GST Ready')}</strong> {' '}\n        {t('hero.variantC.bullet4.description', 'Australian tax compliance built-in')}\n      </Bullet>\n      <Bullet>\n        <strong>{t('hero.variantC.bullet5.title', 'Easy Setup')}</strong> {' '}\n        {t('hero.variantC.bullet5.description', 'works in Google Sheets, no new software')}\n      </Bullet>\n      <Bullet>\n        <strong>{t('hero.variantC.bullet6.title', 'Smart Insights')}</strong> {' '}\n        {t('hero.variantC.bullet6.description', 'AI suggestions to improve your margins')}\n      </Bullet>\n    </ul>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/HeroCTA.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[716,719],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[716,719],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[771,774],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[771,774],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './HeroCTA';\n\ndescribe('HeroCTA', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for HeroCTA, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/HeroCTA.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[201,204],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[201,204],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[220,223],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[220,223],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// PrepFlow - Hero CTA Component\n// Extracted from HeroVariants.tsx to meet file size limits\n\n'use client';\n\nimport React from 'react';\n\ninterface HeroCTAProps {\n  t: (key: string, fallback?: string | any[]) => string | any[];\n  handleEngagement?: (event: string) => void;\n  variant: 'control' | 'variantA' | 'variantB' | 'variantC';\n}\n\nexport function HeroCTA({ t, handleEngagement, variant }: HeroCTAProps) {\n  const getPrimaryCTA = () => {\n    switch (variant) {\n      case 'variantA':\n        return {\n          text: t('hero.variantA.ctaPrimary', 'Get Sample Dashboard'),\n          href: '#lead-magnet',\n          gradient: 'from-[var(--accent)] to-[var(--primary)]',\n          shadow: 'hover:shadow-[#D925C7]/25',\n        };\n      case 'variantB':\n        return {\n          text: t('hero.variantB.ctaPrimary', 'Get Sample Dashboard'),\n          href: '#lead-magnet',\n          gradient: 'from-[var(--color-info)] to-[var(--primary)]',\n          shadow: 'hover:shadow-[var(--color-info)]/25',\n        };\n      case 'variantC':\n        return {\n          text: t('hero.variantC.ctaPrimary', 'Get Sample Dashboard'),\n          href: '#lead-magnet',\n          gradient: 'from-[var(--primary)] to-[var(--accent)]',\n          shadow: 'hover:shadow-[var(--primary)]/25',\n        };\n      default:\n        return {\n          text: t('hero.ctaPrimary', 'Get PrepFlow Now - $29 AUD'),\n          href: 'https://7495573591101.gumroad.com/l/prepflow',\n          gradient: 'from-[var(--primary)] to-[var(--color-info)]',\n          shadow: 'hover:shadow-[var(--primary)]/25',\n        };\n    }\n  };\n\n  const getSecondaryCTA = () => {\n    switch (variant) {\n      case 'variantA':\n        return {\n          text: t('hero.variantA.ctaSecondary', 'Get Free Sample'),\n          href: '#lead-magnet',\n          borderHover: 'hover:border-[var(--accent)] hover:text-[var(--accent)]',\n        };\n      case 'variantB':\n        return {\n          text: t('hero.variantB.ctaSecondary', 'Try Sample Sheet'),\n          href: '#lead-magnet',\n          borderHover: 'hover:border-[var(--color-info)] hover:text-[var(--color-info)]',\n        };\n      case 'variantC':\n        return {\n          text: t('hero.variantC.ctaSecondary', 'Free Sample'),\n          href: '#lead-magnet',\n          borderHover: 'hover:border-[var(--primary)] hover:text-[var(--primary)]',\n        };\n      default:\n        return {\n          text: t('hero.ctaSecondary', 'Get Free Sample'),\n          href: '#lead-magnet',\n          borderHover: 'hover:border-[var(--primary)] hover:text-[var(--primary)]',\n        };\n    }\n  };\n\n  const getDisclaimer = () => {\n    switch (variant) {\n      case 'variantA':\n        return t(\n          'hero.variantA.disclaimer',\n          'Built for Australian cafs and restaurants. No lock-in. 7-day refund policy.',\n        );\n      case 'variantB':\n        return t(\n          'hero.variantB.disclaimer',\n          'Designed for Australian hospitality. Simple setup. 7-day refund guarantee.',\n        );\n      case 'variantC':\n        return t(\n          'hero.variantC.disclaimer',\n          'For Australian cafs and restaurants. 7-day refund policy.',\n        );\n      default:\n        return t(\n          'hero.disclaimer',\n          'Works for cafs, food trucks, small restaurants. No lock-in. 7-day refund policy. Results may vary based on your current menu and operations.',\n        );\n    }\n  };\n\n  const primary = getPrimaryCTA();\n  const secondary = getSecondaryCTA();\n\n  return (\n    <div className=\"mt-10 flex flex-wrap items-center gap-4\">\n      <a\n        href={primary.href}\n        target={variant === 'control' ? '_blank' : undefined}\n        rel={variant === 'control' ? 'noopener noreferrer' : undefined}\n        className={`rounded-2xl bg-gradient-to-r ${primary.gradient} text-fluid-base px-8 py-4 font-semibold text-[var(--button-active-text)] shadow-lg transition-all duration-300 hover:shadow-xl ${primary.shadow}`}\n        onClick={() => handleEngagement?.('hero_cta_click')}\n      >\n        {primary.text}\n      </a>\n      <a\n        href={secondary.href}\n        className={`text-fluid-base rounded-2xl border border-[var(--border)] px-8 py-4 font-semibold text-[var(--foreground-secondary)] transition-all duration-300 ${secondary.borderHover}`}\n        onClick={() => handleEngagement?.('hero_demo_click')}\n      >\n        {secondary.text}\n      </a>\n      <p className=\"text-fluid-sm w-full text-[var(--foreground-subtle)]\">{getDisclaimer()}</p>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/HeroContent.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './HeroContent';\n\ndescribe('HeroContent', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for HeroContent, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/HeroContent.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[209,212],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[209,212],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[228,231],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[228,231],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// PrepFlow - Hero Content Component\n// Extracted from HeroVariants.tsx to meet file size limits\n\n'use client';\n\nimport React from 'react';\n\ninterface HeroContentProps {\n  t: (key: string, fallback?: string | any[]) => string | any[];\n  handleEngagement?: (event: string) => void;\n  variant: 'control' | 'variantA' | 'variantB' | 'variantC';\n  children?: React.ReactNode;\n}\n\nexport function HeroContent({ t, handleEngagement, variant, children }: HeroContentProps) {\n  const getTitle = () => {\n    switch (variant) {\n      case 'variantA':\n        return t('hero.variantA.title', 'Stop losing money on your menu.');\n      case 'variantB':\n        return t('hero.variantB.title', 'Turn your menu into a profit machine.');\n      case 'variantC':\n        return t('hero.variantC.title', 'Know your menu costs. Make more profit.');\n      default:\n        return t('hero.title', \"Stop Guessing Your Menu's Profit\");\n    }\n  };\n\n  const getSubtitle = () => {\n    switch (variant) {\n      case 'variantA':\n        return t(\n          'hero.variantA.subtitle',\n          \"Most restaurants don't know which dishes are profitable. PrepFlow shows you exactly where your money is going  and how to fix it.\",\n        );\n      case 'variantB':\n        return t(\n          'hero.variantB.subtitle',\n          'Transform guesswork into data-driven decisions. PrepFlow gives you the insights to maximize every dollar on your menu.',\n        );\n      case 'variantC':\n        return t(\n          'hero.variantC.subtitle',\n          'PrepFlow shows you exactly what each dish costs and how much profit it makes. Simple Google Sheet. Real results.',\n        );\n      default:\n        return t(\n          'hero.subtitle',\n          'See exactly which dishes make money and which eat your profit. Built from 20 years of real kitchen experience.',\n        );\n    }\n  };\n\n  return (\n    <div>\n      <h1 className=\"text-fluid-4xl tablet:text-fluid-4xl desktop:text-fluid-4xl font-extrabold tracking-tight\">\n        <span className=\"bg-gradient-to-r from-[var(--primary)] to-[var(--accent)] bg-clip-text text-transparent\">\n          {getTitle()}\n        </span>\n      </h1>\n      <p className=\"text-fluid-lg desktop:text-fluid-xl mt-6 leading-8 text-[var(--foreground-secondary)]\">\n        {getSubtitle()}\n      </p>\n      {children}\n    </div>\n  );\n}\n\n// Helper component\nexport function Bullet({ children }: { children: React.ReactNode }) {\n  return (\n    <li className=\"flex items-start gap-3\">\n      <span className=\"mt-2 h-3 w-3 rounded-full bg-gradient-to-r from-[var(--primary)] to-[var(--accent)]\" />\n      {children}\n    </li>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/HeroImageGallery.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './HeroImageGallery';\n\ndescribe('HeroImageGallery', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for HeroImageGallery, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/HeroImageGallery.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/HeroVariants.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './HeroVariants';\n\ndescribe('HeroVariants', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for HeroVariants, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/HeroVariants.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[286,289],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[286,289],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[305,308],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[305,308],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React from 'react';\nimport { HeroContent } from './HeroContent';\nimport { HeroBullets } from './HeroBullets';\nimport { HeroCTA } from './HeroCTA';\nimport { HeroImageGallery } from './HeroImageGallery';\n\ninterface HeroProps {\n  t: (key: string, fallback?: string | any[]) => string | any[];\n  handleEngagement?: (event: string) => void;\n}\n\n// Control Hero (Original)\nexport function ControlHero({ t, handleEngagement }: HeroProps) {\n  return (\n    <section id=\"hero\" className=\"desktop:grid-cols-2 desktop:py-24 grid items-center gap-12 py-16\">\n      <HeroContent t={t} handleEngagement={handleEngagement} variant=\"control\">\n        <HeroBullets t={t} variant=\"control\" />\n        <HeroCTA t={t} handleEngagement={handleEngagement} variant=\"control\" />\n      </HeroContent>\n      <HeroImageGallery\n        gradientFrom=\"#29E7CD\"\n        gradientTo=\"#D925C7\"\n        overlayTitle=\"Live GP% Dashboard\"\n        overlayBg=\"#29E7CD\"\n        overlayText=\"black\"\n      />\n    </section>\n  );\n}\n\n// Variant A - Problem-Focused Hero\nexport function VariantAHero({ t, handleEngagement }: HeroProps) {\n  return (\n    <section id=\"hero\" className=\"desktop:grid-cols-2 desktop:py-24 grid items-center gap-12 py-16\">\n      <HeroContent t={t} handleEngagement={handleEngagement} variant=\"variantA\">\n        <HeroBullets t={t} variant=\"variantA\" />\n        <HeroCTA t={t} handleEngagement={handleEngagement} variant=\"variantA\" />\n      </HeroContent>\n      <HeroImageGallery\n        gradientFrom=\"#D925C7\"\n        gradientTo=\"#29E7CD\"\n        overlayTitle=\"Profit Analysis Dashboard\"\n        overlayBg=\"#D925C7\"\n        overlayText=\"white\"\n      />\n    </section>\n  );\n}\n\n// Variant B - Results-Focused Hero\nexport function VariantBHero({ t, handleEngagement }: HeroProps) {\n  return (\n    <section id=\"hero\" className=\"desktop:grid-cols-2 desktop:py-24 grid items-center gap-12 py-16\">\n      <HeroContent t={t} handleEngagement={handleEngagement} variant=\"variantB\">\n        <HeroBullets t={t} variant=\"variantB\" />\n        <HeroCTA t={t} handleEngagement={handleEngagement} variant=\"variantB\" />\n      </HeroContent>\n      <HeroImageGallery\n        gradientFrom=\"#3B82F6\"\n        gradientTo=\"#29E7CD\"\n        overlayTitle=\"Profit Optimization\"\n        overlayBg=\"#3B82F6\"\n        overlayText=\"white\"\n      />\n    </section>\n  );\n}\n\n// Variant C - Simple/Direct Hero\nexport function VariantCHero({ t, handleEngagement }: HeroProps) {\n  return (\n    <section id=\"hero\" className=\"desktop:grid-cols-2 desktop:py-24 grid items-center gap-12 py-16\">\n      <HeroContent t={t} handleEngagement={handleEngagement} variant=\"variantC\">\n        <HeroBullets t={t} variant=\"variantC\" />\n        <HeroCTA t={t} handleEngagement={handleEngagement} variant=\"variantC\" />\n      </HeroContent>\n      <HeroImageGallery\n        gradientFrom=\"#29E7CD\"\n        gradientTo=\"#D925C7\"\n        overlayTitle=\"Cost Analysis Dashboard\"\n        overlayBg=\"#29E7CD\"\n        overlayText=\"black\"\n      />\n    </section>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/PricingVariants.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './PricingVariants';\n\ndescribe('PricingVariants', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for PricingVariants, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/PricingVariants.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/pricing/ControlPricing.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[730,733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[730,733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[785,788],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[785,788],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ControlPricing';\n\ndescribe('ControlPricing', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ControlPricing, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/pricing/ControlPricing.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[198,201],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[198,201],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[217,220],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[217,220],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { Icon } from '@/components/ui/Icon';\nimport { CheckCircle2, Globe, Lock, Shield, Check } from 'lucide-react';\n\ninterface PricingProps {\n  t: (key: string, fallback?: string | any[]) => string | any[];\n  handleEngagement?: (event: string) => void;\n}\n\nexport function ControlPricing({ t, handleEngagement }: PricingProps) {\n  return (\n    <section id=\"pricing\" className=\"py-20\">\n      <div className=\"desktop:p-16 rounded-3xl border border-[var(--border)] bg-[var(--surface)]/80 p-10 shadow-2xl backdrop-blur-sm\">\n        <div className=\"desktop:grid-cols-2 grid items-center gap-12\">\n          <div>\n            <h3 className=\"text-fluid-3xl desktop:text-fluid-4xl font-bold tracking-tight\">\n              Get Your Menu Clarity Tool\n            </h3>\n            <p className=\"text-fluid-lg mt-4 text-[var(--foreground-secondary)]\">\n              Simple, powerful, and designed to give you the insights you need to make better\n              decisions.\n            </p>\n\n            {/* Refund Policy */}\n            <div className=\"mt-6 rounded-xl border border-[var(--primary)]/20 bg-[var(--primary)]/5 p-4\">\n              <div className=\"text-center\">\n                <h4 className=\"text-fluid-sm mb-2 font-semibold text-[var(--primary)]\">\n                  Our Refund Policy\n                </h4>\n                <p className=\"text-fluid-sm leading-relaxed text-[var(--foreground-secondary)]\">\n                  PrepFlow is a digital product with instant access. That said, we want you to feel\n                  confident. If PrepFlow isn&apos;t what you expected, you can request a full refund\n                  within 7 days of purchase. No hoops, no hassle  just reply to your purchase email\n                  and let us know. After 7 days, all sales are final.\n                </p>\n              </div>\n            </div>\n\n            <div className=\"mt-6 space-y-4\">\n              <div className=\"flex items-center gap-3\">\n                <Icon\n                  icon={CheckCircle2}\n                  size=\"sm\"\n                  className=\"text-[var(--primary)]\"\n                  aria-hidden={true}\n                />\n                <span className=\"text-[var(--foreground-secondary)]\">\n                  Google Sheet template  ready to use immediately\n                </span>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Icon\n                  icon={CheckCircle2}\n                  size=\"sm\"\n                  className=\"text-[var(--primary)]\"\n                  aria-hidden={true}\n                />\n                <span className=\"text-[var(--foreground-secondary)]\">\n                  Automated COGS, GP%, GP$ per item\n                </span>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Icon\n                  icon={CheckCircle2}\n                  size=\"sm\"\n                  className=\"text-[var(--primary)]\"\n                  aria-hidden={true}\n                />\n                <span className=\"text-[var(--foreground-secondary)]\">\n                  Popularity & profit classes (Chef&apos;s Kiss etc.)\n                </span>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Icon\n                  icon={CheckCircle2}\n                  size=\"sm\"\n                  className=\"text-[var(--primary)]\"\n                  aria-hidden={true}\n                />\n                <span className=\"text-[var(--foreground-secondary)]\">\n                  AI Method Generator for cooking optimization\n                </span>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Icon\n                  icon={CheckCircle2}\n                  size=\"sm\"\n                  className=\"text-[var(--primary)]\"\n                  aria-hidden={true}\n                />\n                <span className=\"text-[var(--foreground-secondary)]\">\n                  Comprehensive setup guide and resources\n                </span>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Icon\n                  icon={CheckCircle2}\n                  size=\"sm\"\n                  className=\"text-[var(--primary)]\"\n                  aria-hidden={true}\n                />\n                <span className=\"text-[var(--foreground-secondary)]\">7-day refund policy</span>\n              </div>\n            </div>\n          </div>\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--muted)]/80 p-8 text-center shadow-lg\">\n            <p className=\"text-fluid-4xl mt-2 bg-gradient-to-r from-[var(--primary)] to-[var(--accent)] bg-clip-text font-extrabold tracking-tight text-transparent\">\n              AUD $29\n            </p>\n            <p className=\"text-fluid-sm text-[var(--foreground-subtle)]\">\n              one-time purchase  Lifetime access\n            </p>\n            <a\n              href=\"https://7495573591101.gumroad.com/l/prepflow\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-fluid-base mt-8 inline-flex w-full justify-center rounded-2xl bg-gradient-to-r from-[var(--primary)] to-[var(--color-info)] px-8 py-4 font-semibold text-[var(--button-active-text)] shadow-lg transition-all duration-300 hover:shadow-[var(--primary)]/25 hover:shadow-xl\"\n            >\n              Start Now  Get Menu Clarity Today\n            </a>\n            <p className=\"text-fluid-sm mt-4 text-[var(--foreground-subtle)]\">\n              Secure checkout via Gumroad\n            </p>\n            <p className=\"text-fluid-xs mt-2 text-[var(--foreground-muted)]\">\n              Not satisfied in 7 days? Full refund.\n            </p>\n            <p className=\"text-fluid-xs mt-2 flex items-center justify-center gap-1 text-[var(--primary)]\">\n              <Icon icon={Globe} size=\"xs\" className=\"text-[var(--primary)]\" aria-hidden={true} />\n              Global pricing available in USD, EUR, GBP, AUD\n            </p>\n\n            {/* Trust Indicators */}\n            <div className=\"mt-4 border-t border-[var(--border)] pt-4\">\n              <div className=\"text-fluid-xs flex items-center justify-center gap-4 text-[var(--foreground-muted)]\">\n                <div className=\"flex items-center gap-1\">\n                  <Icon\n                    icon={Lock}\n                    size=\"xs\"\n                    className=\"text-[var(--color-success)]\"\n                    aria-hidden={true}\n                  />\n                  <span>SSL Secure</span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <Icon\n                    icon={Shield}\n                    size=\"xs\"\n                    className=\"text-[var(--color-info)]\"\n                    aria-hidden={true}\n                  />\n                  <span>Privacy Focused</span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <Icon\n                    icon={Check}\n                    size=\"xs\"\n                    className=\"text-[var(--accent)]\"\n                    aria-hidden={true}\n                  />\n                  <span>20 years of real kitchen experience</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/pricing/VariantAPricing.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './VariantAPricing';\n\ndescribe('VariantAPricing', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for VariantAPricing, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/pricing/VariantAPricing.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[170,173],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[170,173],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[189,192],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[189,192],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { Icon } from '@/components/ui/Icon';\nimport { Check, Globe } from 'lucide-react';\n\ninterface PricingProps {\n  t: (key: string, fallback?: string | any[]) => string | any[];\n  handleEngagement?: (event: string) => void;\n}\n\nexport function VariantAPricing({ t, handleEngagement }: PricingProps) {\n  return (\n    <section id=\"pricing\" className=\"py-20\">\n      <div className=\"desktop:p-16 rounded-3xl border border-[var(--border)] bg-[var(--surface)]/80 p-10 shadow-2xl backdrop-blur-sm\">\n        <div className=\"mb-12 text-center\">\n          <h3 className=\"text-fluid-3xl desktop:text-fluid-4xl mb-4 font-bold tracking-tight\">\n            Simple Pricing, Maximum Value\n          </h3>\n          <p className=\"text-fluid-lg text-[var(--foreground-secondary)]\">\n            One tool. One price. Everything you need to optimize your menu profitability.\n          </p>\n        </div>\n\n        <div className=\"mx-auto max-w-2xl\">\n          <div className=\"rounded-2xl border border-[var(--accent)]/30 bg-gradient-to-br from-[var(--accent)]/10 to-[var(--primary)]/10 p-8 text-center shadow-lg\">\n            <div className=\"mb-6\">\n              <p className=\"text-fluid-4xl bg-gradient-to-r from-[var(--accent)] to-[var(--primary)] bg-clip-text font-extrabold tracking-tight text-transparent\">\n                AUD $29\n              </p>\n              <p className=\"text-fluid-lg mt-2 text-[var(--foreground-secondary)]\">\n                One-time purchase\n              </p>\n              <p className=\"text-fluid-sm text-[var(--foreground-subtle)]\">\n                Lifetime access  No recurring fees\n              </p>\n            </div>\n\n            <div className=\"mb-8 grid gap-4 text-left\">\n              <div className=\"flex items-center gap-3\">\n                <Icon icon={Check} size=\"lg\" className=\"text-[var(--accent)]\" aria-hidden={true} />\n                <span className=\"text-[var(--foreground-secondary)]\">\n                  Complete Google Sheets template\n                </span>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Icon icon={Check} size=\"lg\" className=\"text-[var(--accent)]\" aria-hidden={true} />\n                <span className=\"text-[var(--foreground-secondary)]\">\n                  Automated COGS calculations\n                </span>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Icon icon={Check} size=\"lg\" className=\"text-[var(--accent)]\" aria-hidden={true} />\n                <span className=\"text-[var(--foreground-secondary)]\">\n                  Profit analysis & menu optimization\n                </span>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Icon icon={Check} size=\"lg\" className=\"text-[var(--accent)]\" aria-hidden={true} />\n                <span className=\"text-[var(--foreground-secondary)]\">\n                  GST-ready for Australian businesses\n                </span>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Icon icon={Check} size=\"lg\" className=\"text-[var(--accent)]\" aria-hidden={true} />\n                <span className=\"text-[var(--foreground-secondary)]\">\n                  AI-powered cooking insights\n                </span>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <Icon icon={Check} size=\"lg\" className=\"text-[var(--accent)]\" aria-hidden={true} />\n                <span className=\"text-[var(--foreground-secondary)]\">\n                  Setup guide & support resources\n                </span>\n              </div>\n            </div>\n\n            <a\n              href=\"https://7495573591101.gumroad.com/l/prepflow\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-fluid-base inline-flex w-full justify-center rounded-2xl bg-gradient-to-r from-[var(--accent)] to-[var(--primary)] px-8 py-4 font-semibold text-[var(--button-active-text)] shadow-lg transition-all duration-300 hover:shadow-[var(--accent)]/25 hover:shadow-xl\"\n            >\n              Get PrepFlow Now\n            </a>\n\n            <div className=\"mt-6 text-center\">\n              <p className=\"text-fluid-sm text-[var(--foreground-subtle)]\">\n                7-day refund policy  Secure checkout via Gumroad\n              </p>\n              <p className=\"text-fluid-xs mt-2 flex items-center justify-center gap-1 text-[var(--foreground-muted)]\">\n                <Icon\n                  icon={Globe}\n                  size=\"xs\"\n                  className=\"text-[var(--foreground-muted)]\"\n                  aria-hidden={true}\n                />\n                Available in USD, EUR, GBP, AUD\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/pricing/VariantBPricing.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './VariantBPricing';\n\ndescribe('VariantBPricing', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for VariantBPricing, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/pricing/VariantBPricing.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[79,82],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[79,82],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[98,101],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[98,101],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\ninterface PricingProps {\n  t: (key: string, fallback?: string | any[]) => string | any[];\n  handleEngagement?: (event: string) => void;\n}\n\nexport function VariantBPricing({ t, handleEngagement }: PricingProps) {\n  return (\n    <section id=\"pricing\" className=\"py-20\">\n      <div className=\"desktop:p-16 rounded-3xl border border-[var(--border)] bg-[var(--surface)]/80 p-10 shadow-2xl backdrop-blur-sm\">\n        <div className=\"mb-12 text-center\">\n          <h3 className=\"text-fluid-3xl desktop:text-fluid-4xl mb-4 font-bold tracking-tight\">\n            Why Choose PrepFlow?\n          </h3>\n          <p className=\"text-fluid-lg text-[var(--foreground-secondary)]\">\n            Compare the cost and value of different solutions\n          </p>\n        </div>\n\n        <div className=\"desktop:grid-cols-3 grid gap-8\">\n          {/* Other Solutions */}\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--muted)]/80 p-6 text-center\">\n            <h4 className=\"text-fluid-xl mb-4 font-semibold text-[var(--foreground-secondary)]\">\n              Other Restaurant Software\n            </h4>\n            <p className=\"text-fluid-3xl mb-2 font-bold text-[var(--foreground-muted)]\">$500+</p>\n            <p className=\"text-fluid-sm mb-4 text-[var(--foreground-subtle)]\">per month</p>\n            <ul className=\"text-fluid-sm space-y-2 text-left text-[var(--foreground-muted)]\">\n              <li> Complex setup</li>\n              <li> Monthly fees</li>\n              <li> Learning curve</li>\n              <li> Limited customization</li>\n            </ul>\n          </div>\n\n          {/* Consultants */}\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--muted)]/80 p-6 text-center\">\n            <h4 className=\"text-fluid-xl mb-4 font-semibold text-[var(--foreground-secondary)]\">\n              Consultants\n            </h4>\n            <p className=\"text-fluid-3xl mb-2 font-bold text-[var(--foreground-muted)]\">$2,000+</p>\n            <p className=\"text-fluid-sm mb-4 text-[var(--foreground-subtle)]\">per project</p>\n            <ul className=\"text-fluid-sm space-y-2 text-left text-[var(--foreground-muted)]\">\n              <li> Expensive</li>\n              <li> One-time analysis</li>\n              <li> No ongoing support</li>\n              <li> Limited availability</li>\n            </ul>\n          </div>\n\n          {/* PrepFlow */}\n          <div className=\"rounded-2xl border border-[var(--color-info)]/30 bg-gradient-to-br from-[var(--color-info)]/10 to-[var(--primary)]/10 p-6 text-center\">\n            <h4 className=\"text-fluid-xl mb-4 font-semibold text-[var(--button-active-text)]\">\n              PrepFlow\n            </h4>\n            <p className=\"text-fluid-3xl mb-2 font-bold text-[var(--color-info)]\">AUD $29</p>\n            <p className=\"text-fluid-sm mb-4 text-[var(--foreground-secondary)]\">one-time</p>\n            <ul className=\"text-fluid-sm space-y-2 text-left text-[var(--foreground-secondary)]\">\n              <li> Simple setup</li>\n              <li> No monthly fees</li>\n              <li> Easy to use</li>\n              <li> Lifetime access</li>\n            </ul>\n            <a\n              href=\"https://7495573591101.gumroad.com/l/prepflow\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-fluid-sm mt-6 inline-flex w-full justify-center rounded-2xl bg-gradient-to-r from-[var(--color-info)] to-[var(--primary)] px-6 py-3 font-semibold text-[var(--button-active-text)] shadow-lg transition-all duration-300 hover:shadow-[var(--color-info)]/25 hover:shadow-xl\"\n            >\n              Choose PrepFlow\n            </a>\n          </div>\n        </div>\n\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-fluid-sm text-[var(--foreground-muted)]\">\n            7-day refund policy  Secure checkout  20 years of kitchen experience\n          </p>\n        </div>\n      </div>\n    </section>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/pricing/VariantCPricing.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './VariantCPricing';\n\ndescribe('VariantCPricing', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for VariantCPricing, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/variants/pricing/VariantCPricing.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[191,194],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[191,194],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[210,213],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[210,213],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { Icon } from '@/components/ui/Icon';\nimport { BarChart3, Calculator, Globe, Bot } from 'lucide-react';\n\ninterface PricingProps {\n  t: (key: string, fallback?: string | any[]) => string | any[];\n  handleEngagement?: (event: string) => void;\n}\n\nexport function VariantCPricing({ t, handleEngagement }: PricingProps) {\n  return (\n    <section id=\"pricing\" className=\"py-20\">\n      <div className=\"desktop:p-16 rounded-3xl border border-[var(--border)] bg-[var(--surface)]/80 p-10 shadow-2xl backdrop-blur-sm\">\n        <div className=\"desktop:grid-cols-2 grid items-center gap-12\">\n          <div>\n            <h3 className=\"text-fluid-3xl desktop:text-fluid-4xl font-bold tracking-tight\">\n              Everything You Need\n            </h3>\n            <p className=\"text-fluid-lg mt-4 text-[var(--foreground-secondary)]\">\n              One comprehensive tool for complete menu profitability analysis.\n            </p>\n\n            <div className=\"mt-8 space-y-6\">\n              <div className=\"flex items-start gap-4\">\n                <div className=\"flex h-12 w-12 items-center justify-center rounded-lg bg-[var(--primary)]/20\">\n                  <Icon\n                    icon={BarChart3}\n                    size=\"lg\"\n                    className=\"text-[var(--primary)]\"\n                    aria-hidden={true}\n                  />\n                </div>\n                <div>\n                  <h4 className=\"font-semibold text-[var(--foreground)]\">Complete Dashboard</h4>\n                  <p className=\"text-fluid-sm text-[var(--foreground-muted)]\">\n                    COGS, GP%, profit analysis, and performance metrics\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex items-start gap-4\">\n                <div className=\"flex h-12 w-12 items-center justify-center rounded-lg bg-[var(--primary)]/20\">\n                  <Icon\n                    icon={Calculator}\n                    size=\"lg\"\n                    className=\"text-[var(--primary)]\"\n                    aria-hidden={true}\n                  />\n                </div>\n                <div>\n                  <h4 className=\"font-semibold text-[var(--foreground)]\">Recipe Builder</h4>\n                  <p className=\"text-fluid-sm text-[var(--foreground-muted)]\">\n                    Automated calculations with yield and waste tracking\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex items-start gap-4\">\n                <div className=\"flex h-12 w-12 items-center justify-center rounded-lg bg-[var(--primary)]/20\">\n                  <Icon\n                    icon={Globe}\n                    size=\"lg\"\n                    className=\"text-[var(--primary)]\"\n                    aria-hidden={true}\n                  />\n                </div>\n                <div>\n                  <h4 className=\"font-semibold text-[var(--foreground)]\">GST Ready</h4>\n                  <p className=\"text-fluid-sm text-[var(--foreground-muted)]\">\n                    Australian tax compliance and multi-currency support\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex items-start gap-4\">\n                <div className=\"flex h-12 w-12 items-center justify-center rounded-lg bg-[var(--primary)]/20\">\n                  <Icon icon={Bot} size=\"lg\" className=\"text-[var(--primary)]\" aria-hidden={true} />\n                </div>\n                <div>\n                  <h4 className=\"font-semibold text-[var(--foreground)]\">AI Insights</h4>\n                  <p className=\"text-fluid-sm text-[var(--foreground-muted)]\">\n                    Smart suggestions for margin improvement\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"rounded-2xl border border-[var(--border)] bg-[var(--muted)]/80 p-8 text-center\">\n            <p className=\"text-fluid-4xl bg-gradient-to-r from-[var(--primary)] to-[var(--accent)] bg-clip-text font-extrabold tracking-tight text-transparent\">\n              AUD $29\n            </p>\n            <p className=\"text-fluid-sm mb-6 text-[var(--foreground-subtle)]\">\n              One-time purchase  Lifetime access\n            </p>\n\n            <a\n              href=\"https://7495573591101.gumroad.com/l/prepflow\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-fluid-base inline-flex w-full justify-center rounded-2xl bg-gradient-to-r from-[var(--primary)] to-[var(--accent)] px-8 py-4 font-semibold text-[var(--button-active-text)] shadow-lg transition-all duration-300 hover:shadow-[var(--primary)]/25 hover:shadow-xl\"\n            >\n              Get Complete Access\n            </a>\n\n            <div className=\"mt-6 text-center\">\n              <p className=\"text-fluid-sm text-[var(--foreground-subtle)]\">7-day refund policy</p>\n              <p className=\"text-fluid-xs mt-2 text-[var(--foreground-muted)]\">\n                Secure checkout via Gumroad\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/webapp/SessionTimeoutWarning.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[744,747],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[744,747],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[799,802],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[799,802],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './SessionTimeoutWarning';\n\ndescribe('SessionTimeoutWarning', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for SessionTimeoutWarning, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/components/webapp/SessionTimeoutWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/contexts/CountryContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/contexts/GlobalWarningContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/contexts/NotificationContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/data/sample-ingredients-consumables.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/data/sample-ingredients-dairy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/data/sample-ingredients-meat.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/data/sample-ingredients-other.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/data/sample-ingredients-vegetables.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/fixtures/auth-helper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/fixtures/global-error-listener.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1160,1163],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1160,1163],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1204,1207],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1204,1207],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":52,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1311,1314],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1311,1314],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1355,1358],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1355,1358],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":60,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1643,1646],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1643,1646],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":67,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1822,1825],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1822,1825],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":68,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":68,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1866,1869],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1866,1869],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":71,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":71,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1970,1973],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1970,1973],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":72,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2014,2017],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2014,2017],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":79,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2301,2304],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2301,2304],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":112,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":112,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3154,3157],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3154,3157],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":112,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":112,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3192,3195],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3192,3195],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":126,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3599,3602],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3599,3602],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":127,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3647,3650],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3647,3650],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":131,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":131,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3764,3767],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3764,3767],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Page, BrowserContext } from '@playwright/test';\n\n/**\n * Extend Window interface for error collection\n */\ndeclare global {\n  interface Window {\n    __playwrightErrors?: Array<{\n      type: string;\n      message: string;\n      timestamp: string;\n      url: string;\n      stack?: string;\n    }>;\n  }\n}\n\n/**\n * Error record structure for collected errors\n */\nexport interface ErrorRecord {\n  type: 'console.error' | 'console.warn' | 'uncaught' | 'network';\n  url: string;\n  message: string;\n  stack?: string;\n  statusCode?: number;\n  timestamp: string;\n  screenshot?: string;\n}\n\n/**\n * Global error collection array\n * This is shared across all tests and pages\n */\nexport const errorCollection: ErrorRecord[] = [];\n\n/**\n * Setup global error listeners on a page\n * This injects listeners for console errors, warnings, uncaught exceptions, and network errors\n */\nexport async function setupGlobalErrorListener(page: Page): Promise<void> {\n  // Clear previous errors for this page\n  const currentUrl = page.url();\n  const initialErrorCount = errorCollection.length;\n\n  // Inject console.error listener\n  await page.addInitScript(() => {\n    if (!(window as any).__playwrightErrors) {\n      (window as any).__playwrightErrors = [];\n    }\n    const originalError = console.error;\n    console.error = (...args: any[]) => {\n      const errors = (window as any).__playwrightErrors || [];\n      errors.push({\n        type: 'console.error',\n        message: args.map(arg => (typeof arg === 'string' ? arg : JSON.stringify(arg))).join(' '),\n        timestamp: new Date().toISOString(),\n        url: window.location.href,\n      });\n      (window as any).__playwrightErrors = errors;\n      originalError.apply(console, args);\n    };\n  });\n\n  // Inject console.warn listener\n  await page.addInitScript(() => {\n    if (!(window as any).__playwrightErrors) {\n      (window as any).__playwrightErrors = [];\n    }\n    const originalWarn = console.warn;\n    console.warn = (...args: any[]) => {\n      const errors = (window as any).__playwrightErrors || [];\n      errors.push({\n        type: 'console.warn',\n        message: args.map(arg => (typeof arg === 'string' ? arg : JSON.stringify(arg))).join(' '),\n        timestamp: new Date().toISOString(),\n        url: window.location.href,\n      });\n      (window as any).__playwrightErrors = errors;\n      originalWarn.apply(console, args);\n    };\n  });\n\n  // Listen for uncaught exceptions\n  page.on('pageerror', error => {\n    errorCollection.push({\n      type: 'uncaught',\n      url: page.url(),\n      message: error.message,\n      stack: error.stack,\n      timestamp: new Date().toISOString(),\n    });\n  });\n\n  // Listen for network errors (4xx, 5xx)\n  page.on('response', response => {\n    const status = response.status();\n    if (status >= 400) {\n      errorCollection.push({\n        type: 'network',\n        url: response.url(),\n        message: `HTTP ${status} ${response.statusText()}`,\n        statusCode: status,\n        timestamp: new Date().toISOString(),\n      });\n    }\n  });\n\n  // Periodically collect errors from page context\n  await page.evaluate(() => {\n    setInterval(() => {\n      if ((window as any).__playwrightErrors && (window as any).__playwrightErrors.length > 0) {\n        // Errors are collected via the listeners above\n        // This interval ensures we don't miss any\n      }\n    }, 1000);\n  });\n}\n\n/**\n * Collect errors from page context and add to errorCollection\n */\nexport async function collectPageErrors(page: Page): Promise<void> {\n  try {\n    const pageErrors = await page.evaluate(() => {\n      const errors = (window as any).__playwrightErrors || [];\n      (window as any).__playwrightErrors = []; // Clear after collection\n      return errors;\n    });\n\n    pageErrors.forEach((error: any) => {\n      errorCollection.push({\n        type: error.type,\n        url: error.url || page.url(),\n        message: error.message,\n        stack: error.stack,\n        timestamp: error.timestamp || new Date().toISOString(),\n      });\n    });\n  } catch (error) {\n    // Page might be closed or navigated away\n    // Silently fail to avoid breaking tests\n  }\n}\n\n/**\n * Get all collected errors\n */\nexport function getCollectedErrors(): ErrorRecord[] {\n  return [...errorCollection];\n}\n\n/**\n * Clear all collected errors\n */\nexport function clearCollectedErrors(): void {\n  errorCollection.length = 0;\n}\n\n/**\n * Get errors for a specific URL\n */\nexport function getErrorsForUrl(url: string): ErrorRecord[] {\n  return errorCollection.filter(error => error.url.includes(url) || url.includes(error.url));\n}\n\n/**\n * Take screenshot for error and add to error record\n */\nexport async function captureErrorScreenshot(\n  page: Page,\n  error: ErrorRecord,\n  screenshotDir: string = 'test-failures',\n): Promise<string> {\n  const timestamp = new Date().toISOString().replace(/[:.]/g, '-');\n  const urlSlug = error.url.replace(/[^a-z0-9]/gi, '_').substring(0, 50);\n  const filename = `error-${error.type}-${urlSlug}-${timestamp}.png`;\n  const filepath = `${screenshotDir}/${filename}`;\n\n  try {\n    await page.screenshot({ path: filepath, fullPage: true });\n    error.screenshot = filepath;\n  } catch (screenshotError) {\n    // If screenshot fails, continue without it\n    console.warn('Failed to capture screenshot:', screenshotError);\n  }\n\n  return filepath;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/fixtures/test-setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/helpers/form-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/helpers/monkey-test.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":212,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":212,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6773,6776],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6773,6776],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":278,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":278,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8678,8681],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8678,8681],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Page, Locator } from '@playwright/test';\nimport { captureErrorScreenshot } from '../fixtures/global-error-listener';\n\n/**\n * Interactive element information\n */\nexport interface InteractiveElement {\n  selector: string;\n  type: 'button' | 'input' | 'textarea' | 'select' | 'link';\n  isVisible: boolean;\n  isEnabled: boolean;\n}\n\n/**\n * Monkey test result\n */\nexport interface MonkeyTestResult {\n  elementsFound: number;\n  elementsInteracted: number;\n  errors: Array<{\n    element: string;\n    error: string;\n    screenshot?: string;\n  }>;\n}\n\n/**\n * Find all interactive elements on the page\n */\nexport async function findAllInteractiveElements(page: Page): Promise<InteractiveElement[]> {\n  const elements: InteractiveElement[] = [];\n\n  // Find buttons\n  const buttons = await page.locator('button:not([disabled])').all();\n  for (const button of buttons) {\n    const isVisible = await button.isVisible().catch(() => false);\n    if (isVisible) {\n      elements.push({\n        selector: await button.evaluate(el => {\n          // Try to get a stable selector\n          if (el.getAttribute('data-testid'))\n            return `[data-testid=\"${el.getAttribute('data-testid')}\"]`;\n          if (el.id) return `#${el.id}`;\n          if (el.className) return `.${el.className.split(' ')[0]}`;\n          return 'button';\n        }),\n        type: 'button',\n        isVisible: true,\n        isEnabled: true,\n      });\n    }\n  }\n\n  // Find inputs\n  const inputs = await page.locator('input:not([disabled]):not([type=\"hidden\"])').all();\n  for (const input of inputs) {\n    const isVisible = await input.isVisible().catch(() => false);\n    if (isVisible) {\n      const type = await input.getAttribute('type').catch(() => 'text');\n      elements.push({\n        selector: await input.evaluate(el => {\n          if (el.getAttribute('data-testid'))\n            return `[data-testid=\"${el.getAttribute('data-testid')}\"]`;\n          if (el.id) return `#${el.id}`;\n          if (el.name) return `input[name=\"${el.name}\"]`;\n          return 'input';\n        }),\n        type: 'input',\n        isVisible: true,\n        isEnabled: true,\n      });\n    }\n  }\n\n  // Find textareas\n  const textareas = await page.locator('textarea:not([disabled])').all();\n  for (const textarea of textareas) {\n    const isVisible = await textarea.isVisible().catch(() => false);\n    if (isVisible) {\n      elements.push({\n        selector: await textarea.evaluate(el => {\n          if (el.getAttribute('data-testid'))\n            return `[data-testid=\"${el.getAttribute('data-testid')}\"]`;\n          if (el.id) return `#${el.id}`;\n          if (el.name) return `textarea[name=\"${el.name}\"]`;\n          return 'textarea';\n        }),\n        type: 'textarea',\n        isVisible: true,\n        isEnabled: true,\n      });\n    }\n  }\n\n  // Find selects\n  const selects = await page.locator('select:not([disabled])').all();\n  for (const select of selects) {\n    const isVisible = await select.isVisible().catch(() => false);\n    if (isVisible) {\n      elements.push({\n        selector: await select.evaluate(el => {\n          if (el.getAttribute('data-testid'))\n            return `[data-testid=\"${el.getAttribute('data-testid')}\"]`;\n          if (el.id) return `#${el.id}`;\n          if (el.name) return `select[name=\"${el.name}\"]`;\n          return 'select';\n        }),\n        type: 'select',\n        isVisible: true,\n        isEnabled: true,\n      });\n    }\n  }\n\n  // Find links (but be careful not to navigate away)\n  const links = await page.locator('a[href]:not([aria-disabled=\"true\"])').all();\n  for (const link of links) {\n    const isVisible = await link.isVisible().catch(() => false);\n    const href = await link.getAttribute('href').catch(() => '');\n    // Only include internal links to avoid navigating away\n    if (isVisible && href && (href.startsWith('/') || href.startsWith('#'))) {\n      elements.push({\n        selector: await link.evaluate(el => {\n          if (el.getAttribute('data-testid'))\n            return `[data-testid=\"${el.getAttribute('data-testid')}\"]`;\n          if (el.id) return `#${el.id}`;\n          return `a[href=\"${el.getAttribute('href')}\"]`;\n        }),\n        type: 'link',\n        isVisible: true,\n        isEnabled: true,\n      });\n    }\n  }\n\n  return elements;\n}\n\n/**\n * Interact with a single element\n */\nexport async function interactWithElement(\n  page: Page,\n  element: InteractiveElement,\n  index: number,\n): Promise<{ success: boolean; error?: string }> {\n  try {\n    const locator = page.locator(element.selector).first();\n\n    // Wait for element to be stable\n    await locator.waitFor({ state: 'visible', timeout: 2000 }).catch(() => {\n      // Element might not be visible, skip it\n      return { success: false, error: 'Element not visible' };\n    });\n\n    switch (element.type) {\n      case 'button':\n        // Click button\n        await locator.click({ timeout: 2000 }).catch(() => {\n          // Might be covered by another element, try force click\n          return locator.click({ force: true, timeout: 2000 });\n        });\n        // Wait a bit for any modals/dialogs to appear\n        await page.waitForTimeout(500);\n        break;\n\n      case 'input':\n        // Fill input with random data\n        const inputType = await locator.getAttribute('type').catch(() => 'text');\n        if (inputType === 'number') {\n          await locator.fill(String(Math.floor(Math.random() * 1000)));\n        } else if (inputType === 'email') {\n          await locator.fill(`test${index}@example.com`);\n        } else if (inputType === 'date') {\n          const date = new Date();\n          date.setDate(date.getDate() + Math.floor(Math.random() * 30));\n          await locator.fill(date.toISOString().split('T')[0]);\n        } else {\n          await locator.fill(`Test Input ${index}`);\n        }\n        break;\n\n      case 'textarea':\n        // Fill textarea with random text\n        await locator.fill(\n          `Test textarea content ${index}. This is a test input for monkey testing.`,\n        );\n        break;\n\n      case 'select':\n        // Select a random option\n        const options = await locator.locator('option').all();\n        if (options.length > 1) {\n          // Skip first option (usually \"Select...\")\n          const randomIndex = Math.floor(Math.random() * (options.length - 1)) + 1;\n          await locator.selectOption({ index: randomIndex });\n        }\n        break;\n\n      case 'link':\n        // For links, we'll just hover to avoid navigation\n        await locator.hover({ timeout: 1000 }).catch(() => {\n          // Link might not be hoverable, that's okay\n        });\n        break;\n    }\n\n    // Wait for any animations/transitions to complete\n    await page.waitForTimeout(300);\n\n    return { success: true };\n  } catch (error: any) {\n    return {\n      success: false,\n      error: error.message || String(error),\n    };\n  }\n}\n\n/**\n * Run monkey test on a page\n * Finds all interactive elements and attempts to interact with them\n */\nexport async function runMonkeyTest(\n  page: Page,\n  maxInteractions: number = 20,\n): Promise<MonkeyTestResult> {\n  const result: MonkeyTestResult = {\n    elementsFound: 0,\n    elementsInteracted: 0,\n    errors: [],\n  };\n\n  try {\n    // Find all interactive elements\n    const elements = await findAllInteractiveElements(page);\n    result.elementsFound = elements.length;\n\n    if (elements.length === 0) {\n      return result;\n    }\n\n    // Randomly select up to maxInteractions elements\n    const shuffled = [...elements].sort(() => Math.random() - 0.5);\n    const elementsToInteract = shuffled.slice(0, Math.min(maxInteractions, elements.length));\n\n    // Interact with each element\n    for (let i = 0; i < elementsToInteract.length; i++) {\n      const element = elementsToInteract[i];\n      const interactionResult = await interactWithElement(page, element, i);\n\n      if (interactionResult.success) {\n        result.elementsInteracted++;\n      } else {\n        // Capture screenshot for error\n        let screenshot: string | undefined;\n        try {\n          screenshot = await captureErrorScreenshot(page, {\n            type: 'console.error',\n            url: page.url(),\n            message: `Monkey test interaction failed: ${interactionResult.error}`,\n            timestamp: new Date().toISOString(),\n          });\n        } catch (screenshotError) {\n          // Screenshot failed, continue without it\n        }\n\n        result.errors.push({\n          element: element.selector,\n          error: interactionResult.error || 'Unknown error',\n          screenshot,\n        });\n      }\n\n      // Small delay between interactions\n      await page.waitForTimeout(100);\n    }\n  } catch (error: any) {\n    result.errors.push({\n      element: 'page',\n      error: error.message || String(error),\n    });\n  }\n\n  return result;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/helpers/report-generator.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":230,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":230,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7736,7739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7736,7739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":256,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":256,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8431,8434],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8431,8434],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { writeFileSync } from 'fs';\nimport { join } from 'path';\nimport type { ErrorRecord } from '../fixtures/global-error-listener';\n\n/**\n * Test results summary\n */\nexport interface TestResultsSummary {\n  total: number;\n  passed: number;\n  failed: number;\n  skipped: number;\n  duration: number;\n  tests: Array<{\n    title: string;\n    status: 'passed' | 'failed' | 'skipped';\n    duration: number;\n    error?: string;\n    steps?: string[];\n  }>;\n}\n\n/**\n * Generate QA Audit Report\n */\nexport function generateQAReport(\n  errors: ErrorRecord[],\n  testResults: TestResultsSummary,\n  outputPath: string = 'QA_AUDIT_REPORT.md',\n): void {\n  const report: string[] = [];\n\n  // Header\n  report.push('# QA Audit Report');\n  report.push('');\n  report.push(`**Generated:** ${new Date().toISOString()}`);\n  report.push('');\n\n  // Summary\n  report.push('## Summary');\n  report.push('');\n  report.push('### Test Results');\n  report.push(`- **Total Tests:** ${testResults.total}`);\n  report.push(`- **Passed:** ${testResults.passed} `);\n  report.push(`- **Failed:** ${testResults.failed} `);\n  report.push(`- **Skipped:** ${testResults.skipped} `);\n  report.push(`- **Total Duration:** ${(testResults.duration / 1000).toFixed(2)}s`);\n  report.push('');\n\n  report.push('### Error Summary');\n  report.push(`- **Total Errors Collected:** ${errors.length}`);\n  const errorCounts = {\n    'console.error': errors.filter(e => e.type === 'console.error').length,\n    'console.warn': errors.filter(e => e.type === 'console.warn').length,\n    uncaught: errors.filter(e => e.type === 'uncaught').length,\n    network: errors.filter(e => e.type === 'network').length,\n  };\n  report.push(`- **Console Errors:** ${errorCounts['console.error']}`);\n  report.push(`- **Console Warnings:** ${errorCounts['console.warn']}`);\n  report.push(`- **Uncaught Exceptions:** ${errorCounts['uncaught']}`);\n  report.push(`- **Network Errors (4xx/5xx):** ${errorCounts['network']}`);\n  report.push('');\n\n  // Failed Tests\n  if (testResults.failed > 0) {\n    report.push('## Failed Tests');\n    report.push('');\n    testResults.tests\n      .filter(t => t.status === 'failed')\n      .forEach(test => {\n        report.push(`### ${test.title}`);\n        report.push(`- **Status:**  Failed`);\n        report.push(`- **Duration:** ${(test.duration / 1000).toFixed(2)}s`);\n        if (test.error) {\n          report.push(`- **Error:** \\`${test.error}\\``);\n        }\n        if (test.steps && test.steps.length > 0) {\n          report.push('- **Steps:**');\n          test.steps.forEach((step, index) => {\n            report.push(`  ${index + 1}. ${step}`);\n          });\n        }\n        report.push('');\n      });\n  }\n\n  // Error Details\n  if (errors.length > 0) {\n    report.push('## Error Details');\n    report.push('');\n\n    // Group errors by type\n    const errorsByType = {\n      'console.error': errors.filter(e => e.type === 'console.error'),\n      'console.warn': errors.filter(e => e.type === 'console.warn'),\n      uncaught: errors.filter(e => e.type === 'uncaught'),\n      network: errors.filter(e => e.type === 'network'),\n    };\n\n    // Console Errors\n    if (errorsByType['console.error'].length > 0) {\n      report.push('### Console Errors');\n      report.push('');\n      errorsByType['console.error'].forEach((error, index) => {\n        report.push(`#### Error ${index + 1}`);\n        report.push(`- **URL:** ${error.url}`);\n        report.push(`- **Message:** \\`${error.message}\\``);\n        if (error.stack) {\n          report.push(`- **Stack:** \\`\\`\\``);\n          report.push(error.stack);\n          report.push(`\\`\\`\\``);\n        }\n        report.push(`- **Timestamp:** ${error.timestamp}`);\n        if (error.screenshot) {\n          report.push(`- **Screenshot:** \\`${error.screenshot}\\``);\n        }\n        report.push('');\n      });\n    }\n\n    // Console Warnings\n    if (errorsByType['console.warn'].length > 0) {\n      report.push('### Console Warnings');\n      report.push('');\n      errorsByType['console.warn'].forEach((error, index) => {\n        report.push(`#### Warning ${index + 1}`);\n        report.push(`- **URL:** ${error.url}`);\n        report.push(`- **Message:** \\`${error.message}\\``);\n        report.push(`- **Timestamp:** ${error.timestamp}`);\n        if (error.screenshot) {\n          report.push(`- **Screenshot:** \\`${error.screenshot}\\``);\n        }\n        report.push('');\n      });\n    }\n\n    // Uncaught Exceptions\n    if (errorsByType['uncaught'].length > 0) {\n      report.push('### Uncaught Exceptions');\n      report.push('');\n      errorsByType['uncaught'].forEach((error, index) => {\n        report.push(`#### Exception ${index + 1}`);\n        report.push(`- **URL:** ${error.url}`);\n        report.push(`- **Message:** \\`${error.message}\\``);\n        if (error.stack) {\n          report.push(`- **Stack Trace:** \\`\\`\\``);\n          report.push(error.stack);\n          report.push(`\\`\\`\\``);\n        }\n        report.push(`- **Timestamp:** ${error.timestamp}`);\n        if (error.screenshot) {\n          report.push(`- **Screenshot:** \\`${error.screenshot}\\``);\n        }\n        report.push('');\n      });\n    }\n\n    // Network Errors\n    if (errorsByType['network'].length > 0) {\n      report.push('### Network Errors (4xx/5xx)');\n      report.push('');\n      errorsByType['network'].forEach((error, index) => {\n        report.push(`#### Network Error ${index + 1}`);\n        report.push(`- **URL:** ${error.url}`);\n        report.push(`- **Status Code:** ${error.statusCode}`);\n        report.push(`- **Message:** \\`${error.message}\\``);\n        report.push(`- **Timestamp:** ${error.timestamp}`);\n        if (error.screenshot) {\n          report.push(`- **Screenshot:** \\`${error.screenshot}\\``);\n        }\n        report.push('');\n      });\n    }\n  }\n\n  // Recommendations\n  report.push('## Recommendations');\n  report.push('');\n\n  // Group errors by type for recommendations\n  const errorsByType = {\n    'console.error': errors.filter(e => e.type === 'console.error'),\n    'console.warn': errors.filter(e => e.type === 'console.warn'),\n    uncaught: errors.filter(e => e.type === 'uncaught'),\n    network: errors.filter(e => e.type === 'network'),\n  };\n\n  if (errors.length === 0 && testResults.failed === 0) {\n    report.push(' **No issues found!** All tests passed and no errors were detected.');\n  } else {\n    if (testResults.failed > 0) {\n      report.push(`- **${testResults.failed} test(s) failed** - Review failed test details above`);\n    }\n    if (errorsByType['console.error'].length > 0) {\n      report.push(\n        `- **${errorsByType['console.error'].length} console error(s)** - Fix JavaScript errors in application code`,\n      );\n    }\n    if (errorsByType['uncaught'].length > 0) {\n      report.push(\n        `- **${errorsByType['uncaught'].length} uncaught exception(s)** - Add proper error handling and try-catch blocks`,\n      );\n    }\n    if (errorsByType['network'].length > 0) {\n      report.push(\n        `- **${errorsByType['network'].length} network error(s)** - Check API endpoints and server responses`,\n      );\n    }\n    if (errorsByType['console.warn'].length > 0) {\n      report.push(\n        `- **${errorsByType['console.warn'].length} console warning(s)** - Review warnings and address non-critical issues`,\n      );\n    }\n  }\n\n  report.push('');\n  report.push('---');\n  report.push('');\n  report.push('*This report was automatically generated by Playwright E2E test suite.*');\n\n  // Write report to file\n  const fullPath = join(process.cwd(), outputPath);\n  writeFileSync(fullPath, report.join('\\n'), 'utf-8');\n  console.log(`QA Audit Report generated: ${fullPath}`);\n}\n\n/**\n * Parse Playwright test results into summary format\n */\nexport function parseTestResults(testResults: any[]): TestResultsSummary {\n  const summary: TestResultsSummary = {\n    total: testResults.length,\n    passed: 0,\n    failed: 0,\n    skipped: 0,\n    duration: 0,\n    tests: [],\n  };\n\n  testResults.forEach(result => {\n    summary.duration += result.duration || 0;\n\n    if (result.status === 'passed') {\n      summary.passed++;\n    } else if (result.status === 'failed') {\n      summary.failed++;\n    } else if (result.status === 'skipped') {\n      summary.skipped++;\n    }\n\n    summary.tests.push({\n      title: result.title || 'Unknown Test',\n      status: result.status || 'unknown',\n      duration: result.duration || 0,\n      error: result.error?.message,\n      steps: result.steps?.map((s: any) => s.title),\n    });\n  });\n\n  return summary;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/reporter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/helpers/checkBrokenImages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/helpers/cleanupTestData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/helpers/collectLinks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/helpers/createChefWorkflows.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/helpers/deleteItemBySearch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/helpers/fuzzFormInputs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/helpers/generateRandomData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/helpers/generateReport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/workflows/createEquipmentMaintenance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/workflows/createMenu.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/workflows/createRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/workflows/createTemperatureLog.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/system-audit/workflows/gremlinCrawler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/utils/selectors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/workflows/chef-flow.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/workflows/deep-crawl.spec.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1057,1060],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1057,1060],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":100,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":100,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3162,3165],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3162,3165],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { test, expect } from '@playwright/test';\nimport {\n  setupGlobalErrorListener,\n  collectPageErrors,\n  getCollectedErrors,\n  clearCollectedErrors,\n  captureErrorScreenshot,\n} from '../fixtures/global-error-listener';\nimport { ensureAuthenticated } from '../fixtures/auth-helper';\nimport { runMonkeyTest } from '../helpers/monkey-test';\n\ntest.describe('Deep Crawl - Page Discovery and Monkey Testing', () => {\n  const visitedUrls = new Set<string>();\n  const maxPages = 50;\n  const maxDepth = 3;\n\n  test.beforeEach(async ({ page }) => {\n    clearCollectedErrors();\n    await setupGlobalErrorListener(page);\n    await ensureAuthenticated(page);\n    visitedUrls.clear();\n  });\n\n  test.afterEach(async ({ page }) => {\n    await collectPageErrors(page);\n  });\n\n  test('Crawl all webapp pages and run monkey tests', async ({ page }) => {\n    const pagesToVisit: Array<{ url: string; depth: number }> = [{ url: '/webapp', depth: 0 }];\n    const crawlResults: Array<{\n      url: string;\n      depth: number;\n      linksFound: number;\n      monkeyTestResult?: any;\n      errors: number;\n    }> = [];\n\n    while (pagesToVisit.length > 0 && visitedUrls.size < maxPages) {\n      const current = pagesToVisit.shift();\n      if (!current || current.depth > maxDepth) continue;\n\n      const fullUrl = current.url.startsWith('http')\n        ? current.url\n        : `http://localhost:3000${current.url}`;\n\n      // Skip if already visited\n      if (visitedUrls.has(fullUrl)) continue;\n      visitedUrls.add(fullUrl);\n\n      try {\n        // Navigate to page\n        await page.goto(current.url);\n        await page.waitForLoadState('networkidle', { timeout: 15000 });\n        await collectPageErrors(page);\n\n        // Find all internal links\n        const links = await page.locator('a[href^=\"/webapp\"]').all();\n        const linkUrls = await Promise.all(\n          links.map(async link => {\n            const href = await link.getAttribute('href').catch(() => '');\n            return href;\n          }),\n        );\n\n        // Add new links to queue\n        linkUrls.forEach(href => {\n          if (\n            href &&\n            !visitedUrls.has(`http://localhost:3000${href}`) &&\n            current.depth < maxDepth\n          ) {\n            pagesToVisit.push({ url: href, depth: current.depth + 1 });\n          }\n        });\n\n        // Run limited monkey test on this page (5 interactions max per page)\n        const monkeyResult = await runMonkeyTest(page, 5);\n\n        // Collect errors for this page\n        await collectPageErrors(page);\n        const pageErrors = getCollectedErrors().filter(\n          e => e.url === page.url() || page.url().includes(e.url),\n        );\n\n        crawlResults.push({\n          url: current.url,\n          depth: current.depth,\n          linksFound: linkUrls.length,\n          monkeyTestResult: monkeyResult,\n          errors: pageErrors.length,\n        });\n\n        // Take screenshot if errors found\n        if (pageErrors.length > 0) {\n          await captureErrorScreenshot(page, pageErrors[0], 'test-failures');\n        }\n\n        // Small delay between pages\n        await page.waitForTimeout(500);\n      } catch (error: any) {\n        console.error(`Error crawling ${current.url}:`, error.message);\n        crawlResults.push({\n          url: current.url,\n          depth: current.depth,\n          linksFound: 0,\n          errors: 1,\n        });\n      }\n    }\n\n    // Log crawl results\n    console.log(`\\n=== Deep Crawl Results ===`);\n    console.log(`Total pages visited: ${crawlResults.length}`);\n    console.log(`Total links found: ${crawlResults.reduce((sum, r) => sum + r.linksFound, 0)}`);\n    console.log(`Total errors: ${crawlResults.reduce((sum, r) => sum + r.errors, 0)}`);\n    console.log(`\\nPages with errors:`);\n    crawlResults\n      .filter(r => r.errors > 0)\n      .forEach(r => {\n        console.log(`  - ${r.url} (depth ${r.depth}): ${r.errors} error(s)`);\n      });\n\n    // Assert that we visited at least some pages\n    expect(crawlResults.length).toBeGreaterThan(0);\n\n    // Check for critical errors across all pages\n    const allErrors = getCollectedErrors();\n    const criticalErrors = allErrors.filter(\n      e => e.type === 'uncaught' || (e.type === 'network' && e.statusCode && e.statusCode >= 500),\n    );\n\n    if (criticalErrors.length > 0) {\n      console.error('Critical errors found during crawl:', criticalErrors);\n    }\n\n    // Test passes even with warnings/4xx (they'll be in report)\n    // But fail if critical errors found\n    expect(criticalErrors.length).toBe(0);\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/workflows/helpers/addIngredientToRecipeFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/workflows/helpers/assignDishToMenuFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/workflows/helpers/createEquipmentMaintenanceFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/workflows/helpers/createIngredientFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/workflows/helpers/createRecipeFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/workflows/helpers/createTemperatureLogFlow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/e2e/workflows/stress-test.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/types/temperature.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/types/temperature.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAI.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAIPerformanceTips.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAIPerformanceTips.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAlert.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[718,721],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[718,721],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[773,776],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[773,776],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './useAlert';\n\ndescribe('useAlert', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for useAlert, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAutosave.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAutosave.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'data'. Either include it or remove the dependency array.","line":93,"column":6,"nodeType":"ArrayExpression","endLine":93,"endColumn":82,"suggestions":[{"desc":"Update the dependencies array to be: [dataString, entityType, entityId, userId, debounceMs, enabled, performSave, data]","fix":{"range":[2778,2854],"text":"[dataString, entityType, entityId, userId, debounceMs, enabled, performSave, data]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'hasUnsavedChanges' and 'saveNow'. Either include them or remove the dependency array.","line":109,"column":6,"nodeType":"ArrayExpression","endLine":109,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [hasUnsavedChanges, saveNow]","fix":{"range":[3351,3353],"text":"[hasUnsavedChanges, saveNow]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAutosave/helpers/handleDataChange.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAutosave/helpers/handleDataChange.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAutosave/helpers/initializeDraft.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useAutosave/helpers/initializeDraft.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useCatchTheDocketTrigger.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useCatchTheDocketTrigger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useConfetti.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useConfetti.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useConfirm.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[722,725],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[722,725],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[777,780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[777,780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './useConfirm';\n\ndescribe('useConfirm', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for useConfirm, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useConfirm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useConfirm/helpers/handlers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useConfirm/helpers/handlers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[218,221],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[218,221],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Handlers for useConfirm hook.\n */\nexport function createConfirmHandlers(\n  setIsOpen: (open: boolean) => void,\n  setResolvePromise: (resolver: ((value: boolean) => void) | null) => void,\n  setOptions: (options: any) => void,\n  resolvePromise: ((value: boolean) => void) | null,\n) {\n  return {\n    handleConfirm: () => {\n      setIsOpen(false);\n      if (resolvePromise) {\n        resolvePromise(true);\n        setResolvePromise(null);\n      }\n      setTimeout(() => setOptions(null), 200);\n    },\n    handleCancel: () => {\n      setIsOpen(false);\n      if (resolvePromise) {\n        resolvePromise(false);\n        setResolvePromise(null);\n      }\n      setTimeout(() => setOptions(null), 200);\n    },\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useCountryFormatting.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useCountryFormatting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useDebounce.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useDebounce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useDrawerSwipe.utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useDrawerSwipe.utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useDrawerSwipe/touchStartHandlers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useDrawerSwipe/touchStartHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useDrawerSwipe/touchStartHandlers/helpers/contentTouchStart.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useDrawerSwipe/touchStartHandlers/helpers/contentTouchStart.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useEngagementTracking.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useEngagementTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useEntitlements.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useEntitlements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useEntitlements/helpers/entitlementHelpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useEntitlements/helpers/entitlementHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useEntitlements/helpers/fetchEntitlements.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useEntitlements/helpers/fetchEntitlements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useEntitlements/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useEntitlements/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useFeatureFlag.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useFeatureFlag.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useGamification.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useGamification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useIntersectionObserver.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useIntersectionObserver.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useIsAdmin.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useIsAdmin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useIsVisible.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useIsVisible.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useLogoInteractions.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useLogoInteractions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useLogoInteractions/helpers/cleanup.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useLogoInteractions/helpers/cleanup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useLogoInteractions/helpers/handlers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useLogoInteractions/helpers/handlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useLogoInteractions/helpers/keyboardHandler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useLogoInteractions/helpers/keyboardHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useMediaQuery.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useMediaQuery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/helpers/trackNavigation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/helpers/trackNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/logStorage.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/logStorage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/logSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/logSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/timeTracking.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/timeTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/useLogSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/useLogSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/useTimeTracking.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/useTimeTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/visitCounts.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNavigationTracking/visitCounts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNetworkStatus.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useNetworkStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useOptimisticMutation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useOptimisticMutation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useOptimisticMutation/helpers/mutate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useOptimisticMutation/helpers/mutate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useParallelFetch.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useParallelFetch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/usePrompt.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[720,723],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[720,723],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[775,778],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[775,778],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './usePrompt';\n\ndescribe('usePrompt', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for usePrompt, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/usePrompt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useScrollDirection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useScrollDirection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSessionTimeout.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSessionTimeout.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSmartLoading.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSmartLoading.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSquareAutoSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSquareAutoSync.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1149,1152],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1149,1152],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Square Auto-Sync Hook\n * Client-side hook for managing Supabase real-time subscriptions for automatic Square syncing\n */\n\n'use client';\n\nimport { useEffect, useRef } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { useUser } from '@auth0/nextjs-auth0/client';\nimport { createDebounceSync } from './useSquareAutoSync/helpers/createDebounceSync';\nimport { setupSquareSubscriptions } from './useSquareAutoSync/helpers/setupSquareSubscriptions';\n// Note: This hook triggers syncs via API endpoints, not direct server-side calls\n// The actual sync logic is handled server-side via API routes\n\nexport interface UseSquareAutoSyncOptions {\n  enabled?: boolean; // Override auto-sync enabled check\n  debounceMs?: number; // Debounce time for rapid changes\n}\n\n/**\n * Hook to set up Square auto-sync subscriptions\n * Listens for changes to employees, dishes, recipes, and ingredients\n */\nexport function useSquareAutoSync(options: UseSquareAutoSyncOptions = {}) {\n  const { user } = useUser();\n  // Extract user ID from Auth0 user (user.sub or user.user_id)\n  const userId = user?.sub || (user as any)?.user_id;\n  const debounceTimersRef = useRef<Map<string, NodeJS.Timeout>>(new Map());\n\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    if (!userId) {\n      return;\n    }\n\n    if (!supabase) {\n      return;\n    }\n\n    // Check if auto-sync is enabled (via API)\n    let isEnabled = options.enabled;\n    if (isEnabled === undefined) {\n      // Check server-side via API if not provided\n      fetch('/api/square/config')\n        .then(res => res.json())\n        .then(data => {\n          if (data.config) {\n            isEnabled = data.config.auto_sync_enabled === true;\n          }\n        })\n        .catch(err => {\n          logger.error('[Square Auto-Sync Hook] Error checking auto-sync status:', {\n            error: err.message,\n            userId,\n          });\n        });\n    }\n\n    if (isEnabled === false) {\n      return;\n    }\n\n    const debounceDelay = options.debounceMs || 5000;\n    // Capture ref value at effect execution time for cleanup\n    const timersRef = debounceTimersRef;\n    const debounceSync = createDebounceSync({\n      debounceTimersRef: timersRef,\n      debounceDelay,\n      userId,\n    });\n    const channel = setupSquareSubscriptions({ debounceSync, userId });\n\n    return () => {\n      // Cleanup: unsubscribe and clear timers\n      channel.unsubscribe();\n      const timers = timersRef.current;\n      timers.forEach(timer => clearTimeout(timer));\n      timers.clear();\n      logger.dev('[Square Auto-Sync Hook] Subscriptions cleaned up');\n    };\n  }, [userId, options.enabled, options.debounceMs]);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSquareAutoSync/helpers/createDebounceSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSquareAutoSync/helpers/createDebounceSync.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[930,933],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[930,933],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\n\ninterface CreateDebounceSyncParams {\n  debounceTimersRef: React.MutableRefObject<Map<string, NodeJS.Timeout>>;\n  debounceDelay: number;\n  userId?: string;\n}\n\n/**\n * Create debounced sync function for Square auto-sync\n */\nexport function createDebounceSync({\n  debounceTimersRef,\n  debounceDelay,\n  userId,\n}: CreateDebounceSyncParams) {\n  return (key: string, entityType: string, entityId: string, operation: string) => {\n    const existingTimer = debounceTimersRef.current.get(key);\n    if (existingTimer) {\n      clearTimeout(existingTimer);\n    }\n    const timer = setTimeout(async () => {\n      try {\n        await fetch('/api/square/sync/trigger', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            entityType,\n            entityId,\n            operation,\n          }),\n        });\n      } catch (error: any) {\n        logger.error('[Square Auto-Sync Hook] Error in debounced sync:', {\n          error: error.message,\n          key,\n          userId,\n        });\n      } finally {\n        debounceTimersRef.current.delete(key);\n      }\n    }, debounceDelay);\n    debounceTimersRef.current.set(key, timer);\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSquareAutoSync/helpers/setupSquareSubscriptions.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSquareAutoSync/helpers/setupSquareSubscriptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useStaff.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useStaff.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1209,1212],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1209,1212],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { cacheData, getCachedData } from '@/lib/cache/data-cache';\nimport { logger } from '@/lib/logger';\nimport { useCallback, useEffect, useState } from 'react';\n\nexport interface StaffMember {\n  id: string;\n  full_name: string;\n  role: string | null;\n}\n\n/**\n * Hook to fetch active staff members with caching support\n * Returns array of staff members formatted for dropdowns\n */\nexport function useStaff() {\n  const [staff, setStaff] = useState<StaffMember[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  // Initialize with cached data for instant display\n  useEffect(() => {\n    const cached = getCachedData<StaffMember[]>('staff_members');\n    if (cached) {\n      setStaff(cached);\n      setLoading(false);\n    }\n  }, []);\n\n  const fetchStaff = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = await fetch('/api/employees?status=active');\n      const data = await response.json();\n\n      if (data.success && data.data) {\n        // Format staff members for dropdowns: { id, full_name, role }\n        const formattedStaff: StaffMember[] = data.data.map((employee: any) => ({\n          id: employee.id,\n          full_name: employee.full_name,\n          role: employee.role || null,\n        }));\n\n        // Sort by full_name for consistent ordering\n        formattedStaff.sort((a, b) => a.full_name.localeCompare(b.full_name));\n\n        setStaff(formattedStaff);\n        cacheData('staff_members', formattedStaff);\n      } else {\n        throw new Error(data.error || 'Failed to fetch staff members');\n      }\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error(String(err));\n      logger.error('[useStaff] Error fetching staff members:', {\n        error: error.message,\n        stack: error.stack,\n        context: { endpoint: '/api/employees?status=active', operation: 'fetchStaff' },\n      });\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Fetch fresh data on mount if no cache\n  useEffect(() => {\n    if (staff.length === 0 && !loading) {\n      fetchStaff();\n    }\n  }, [staff.length, loading, fetchStaff]);\n\n  return {\n    staff,\n    loading,\n    error,\n    refetch: fetchStaff,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSubscriptionStatus.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSubscriptionStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSwipeGesture.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useSwipeGesture.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useTableSort.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useTableSort.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useTemperatureWarnings.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useTemperatureWarnings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserAvatar.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserAvatar.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserAvatar/helpers/useAvatarSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserAvatar/helpers/useAvatarSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserAvatar/helpers/useAvatarUpdate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserAvatar/helpers/useAvatarUpdate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserProfile.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserProfile.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[970,973],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[970,973],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1031,1034],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1031,1034],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useUser } from '@auth0/nextjs-auth0/client';\nimport { useQuery } from '@tanstack/react-query';\nimport { useMemo } from 'react';\nimport { fetchUserProfile } from './useUserProfile/helpers/fetchUserProfile';\nimport { initializeProfileState } from './useUserProfile/helpers/initializeProfileState';\n\ninterface UserProfile {\n  first_name: string | null;\n  last_name: string | null;\n  display_name: string | null;\n  first_name_display: string | null;\n  email: string;\n  name?: string | null;\n}\n\ninterface UseUserProfileReturn {\n  profile: UserProfile | null;\n  loading: boolean;\n}\n\nconst CACHE_KEY = 'user_profile_data';\n\n/**\n * Hook to fetch user profile from /api/me endpoint with caching via React Query\n * Returns first_name, last_name, display_name, and first_name_display from database\n */\nexport function useUserProfile(): UseUserProfileReturn {\n  const { user, isLoading: userLoading } = useUser();\n  const userEmail = user?.email || (user as any)?.user?.email;\n  const userName = user?.name || (user as any)?.user?.name;\n\n  // Get initial state (cached in localStorage or derived from session)\n  const { initialProfile, validCachedProfile } = useMemo(\n    () => initializeProfileState({ userEmail, userName }),\n    [userEmail, userName],\n  );\n\n  const { data: profile, isLoading: queryLoading } = useQuery({\n    queryKey: [CACHE_KEY, userEmail],\n    queryFn: async () => {\n      let result: UserProfile | null = null;\n\n      // We need a way to call the fetch logic without it setting state itself\n      // I'll create a promise-based version or just use the current one and adapt it\n      await fetchUserProfile({\n        userEmail,\n        userName,\n        validCachedProfile,\n        setProfile: p => {\n          result = p;\n        },\n        setLoading: () => {}, // Not needed for useQuery\n      });\n\n      return result;\n    },\n    enabled: !userLoading && !!userEmail,\n    initialData: initialProfile,\n    staleTime: 5 * 60 * 1000,\n    gcTime: 10 * 60 * 1000,\n    retry: false,\n  });\n\n  return useMemo(\n    () => ({\n      profile,\n      loading: userLoading || (queryLoading && !profile),\n    }),\n    [profile, userLoading, queryLoading],\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserProfile/helpers/buildFallbackProfile.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserProfile/helpers/buildFallbackProfile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserProfile/helpers/buildProfileData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserProfile/helpers/buildProfileData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[240,243],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[240,243],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"interface UserProfile {\n  first_name: string | null;\n  last_name: string | null;\n  display_name: string | null;\n  first_name_display: string | null;\n  email: string;\n  name?: string | null;\n}\n\ninterface BuildProfileDataParams {\n  userData: any;\n  userEmail?: string | null;\n  userName?: string | null;\n}\n\n/**\n * Build profile data from API response\n */\nexport function buildProfileData({\n  userData,\n  userEmail,\n  userName,\n}: BuildProfileDataParams): UserProfile {\n  return {\n    email: userData.email || userEmail || '',\n    first_name: userData.first_name || null,\n    last_name: userData.last_name || null,\n    display_name: userData.display_name || null,\n    first_name_display: userData.first_name_display || null,\n    name: userData.name || userName || null,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserProfile/helpers/fetchUserProfile.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserProfile/helpers/fetchUserProfile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserProfile/helpers/initializeProfileState.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useUserProfile/helpers/initializeProfileState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useViewportHeight.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/useViewportHeight.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/autosaveHelpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/autosaveHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/autosaveLifecycle.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/autosaveLifecycle.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerStateManagement.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerStateManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerTouchEndHandler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerTouchEndHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerTouchMoveHandler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerTouchMoveHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerTouchMoveHandler/helpers/handleDownwardGesture.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerTouchMoveHandler/helpers/handleDownwardGesture.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerTouchMoveHandler/helpers/handleDraggingGesture.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerTouchMoveHandler/helpers/handleDraggingGesture.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerTouchMoveHandler/helpers/handleUpwardGesture.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/drawerTouchMoveHandler/helpers/handleUpwardGesture.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/temperatureWarningChecks/equipmentOutOfRangeCheck.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/temperatureWarningChecks/equipmentOutOfRangeCheck.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/temperatureWarningChecks/equipmentTemperatureCheck.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/temperatureWarningChecks/equipmentTemperatureCheck.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/temperatureWarningChecks/foodTemperatureCheck.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/temperatureWarningChecks/foodTemperatureCheck.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/hooks/utils/temperatureWarningChecks/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/jest.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/jest.setup.js","messages":[],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":33,"column":12,"nodeType":"JSXOpeningElement","endLine":33,"endColumn":52,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/jest.setup.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1229,1232],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1229,1232],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1368,1371],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1368,1371],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1517,1520],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1517,1520],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":58,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1863,1866],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1863,1866],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":59,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1909,1912],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1909,1912],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":61,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1964,1967],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1964,1967],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2014,2017],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2014,2017],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":65,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2108,2111],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2108,2111],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":66,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2156,2159],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2156,2159],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":85,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":85,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2694,2697],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2694,2697],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":88,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":88,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2822,2825],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2822,2825],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":95,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3009,3012],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3009,3012],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { loadEnvConfig } from '@next/env';\nimport '@testing-library/jest-dom';\n\nconst projectDir = process.cwd();\nloadEnvConfig(projectDir);\n\n// Ensure required env vars are present for tests\nprocess.env.NEXT_PUBLIC_SUPABASE_URL =\n  process.env.NEXT_PUBLIC_SUPABASE_URL || 'https://test.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY =\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || 'test-anon-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY =\n  process.env.SUPABASE_SERVICE_ROLE_KEY || 'test-service-role-key';\nprocess.env.AUTH0_SECRET = process.env.AUTH0_SECRET || 'test-auth0-secret-32-characters-minimum!!';\nprocess.env.AUTH0_BASE_URL = process.env.AUTH0_BASE_URL || 'http://localhost:3000';\nprocess.env.AUTH0_ISSUER_BASE_URL =\n  process.env.AUTH0_ISSUER_BASE_URL || 'https://example.auth0.com';\nprocess.env.AUTH0_CLIENT_ID = process.env.AUTH0_CLIENT_ID || 'test-client-id';\nprocess.env.AUTH0_CLIENT_SECRET = process.env.AUTH0_CLIENT_SECRET || 'test-client-secret';\n\n// Polyfill Web APIs missing in JSDOM\n// Node 18+ has these globally, but JSDOM environment might hide them\nconst polyfillWebAPIs = () => {\n  const MockRequest = class {\n    constructor() {}\n    static json = jest.fn();\n  };\n  (MockRequest.prototype as any).json = jest.fn();\n\n  const MockResponse = class {\n    constructor() {}\n    static json = jest.fn();\n  };\n  (MockResponse.prototype as any).json = jest.fn();\n\n  const MockHeaders = class {\n    constructor() {}\n  };\n\n  const MockPerformanceObserver = class {\n    constructor(callback: any) {}\n    observe() {}\n    disconnect() {}\n    takeRecords() {\n      return [];\n    }\n  };\n\n  const apis = {\n    Request: MockRequest,\n    Response: MockResponse,\n    Headers: MockHeaders,\n    fetch: jest.fn(),\n    PerformanceObserver: MockPerformanceObserver,\n  };\n\n  Object.entries(apis).forEach(([key, value]) => {\n    if (typeof (global as any)[key] === 'undefined') {\n      (global as any)[key] = value;\n    }\n    if (typeof (globalThis as any)[key] === 'undefined') {\n      (globalThis as any)[key] = value;\n    }\n    if (typeof window !== 'undefined') {\n      if (typeof (window as any)[key] === 'undefined') {\n        (window as any)[key] = value;\n      }\n    }\n  });\n\n  // Polyfill URL.createObjectURL if missing\n  if (typeof window !== 'undefined') {\n    if (!window.URL.createObjectURL) {\n      Object.defineProperty(window.URL, 'createObjectURL', { value: jest.fn(() => 'blob:mock') });\n      Object.defineProperty(window.URL, 'revokeObjectURL', { value: jest.fn() });\n    }\n  }\n};\n\npolyfillWebAPIs();\n\n// Mock Auth0 which has ESM issues in Jest\nconst mockAuth0 = {\n  useUser: () => ({ user: null, error: null, isLoading: false }),\n  withPageAuthRequired: (comp: any) => comp,\n  getSession: () => null,\n  getAccessToken: () => ({ accessToken: 'test-token' }),\n  UserProvider: ({ children }: any) => children,\n  Auth0Client: class {\n    constructor() {\n      return {\n        getSession: jest.fn(),\n        getAccessToken: jest.fn(),\n        updateSession: jest.fn(),\n      } as any;\n    }\n  },\n};\n\njest.mock('@auth0/nextjs-auth0', () => mockAuth0, { virtual: true });\njest.mock('@auth0/nextjs-auth0/client', () => mockAuth0, { virtual: true });\njest.mock('@auth0/nextjs-auth0/server', () => mockAuth0, { virtual: true });\n\n// Mock auth0 (SDK)\njest.mock(\n  'auth0',\n  () => ({\n    ManagementClient: jest.fn().mockImplementation(() => ({\n      getUsers: jest.fn().mockResolvedValue([]),\n      updateUser: jest.fn().mockResolvedValue({}),\n    })),\n    Auth0Client: jest.fn().mockImplementation(() => ({\n      // Add common methods if needed\n    })),\n  }),\n  { virtual: true },\n);\n\n// Mock next-auth if used in tests\njest.mock(\n  'next-auth',\n  () => ({\n    useSession: () => ({ data: null, status: 'unauthenticated' }),\n    signIn: jest.fn(),\n    signOut: jest.fn(),\n    getServerSession: jest.fn(),\n  }),\n  { virtual: true },\n);\n\n// Mock @/lib/auth-options which might be missing but used in some tests\njest.mock(\n  './lib/auth-options.mock.ts',\n  () => ({\n    authOptions: {},\n  }),\n  { virtual: true },\n);\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/defaultTests.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/defaultTests.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/eventTracking.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/eventTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/sessionManager.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/sessionManager.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/testResults.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/testResults.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/variantAssignment.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/variantAssignment.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/variantInfo.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ab-testing-analytics/variantInfo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/admin-audit.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/admin-audit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/admin-audit/helpers/extractRequestMetadata.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/admin-audit/helpers/extractRequestMetadata.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/admin-auth.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/admin-auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/admin-rate-limit.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/admin-rate-limit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/admin-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/admin-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/chat.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/chat.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/helpers/buildPromptForPlatingMethod.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/helpers/buildPromptForPlatingMethod.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/helpers/extractCookingMethod.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/helpers/extractCookingMethod.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/helpers/generateFoodImages.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/helpers/generateFoodImages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/helpers/generateFoodImagesForMethods.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/helpers/generateFoodImagesForMethods.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/helpers/generateImageWithRetry.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/helpers/generateImageWithRetry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/image-generation/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/vision.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/ai-service/vision.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/cache/ai-cache.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/cache/ai-cache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/gemini-client.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/gemini-client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/groq-client-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/groq-client-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/groq-client-helpers/error-handling.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/groq-client-helpers/error-handling.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[288,291],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[288,291],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Error handling helpers for Groq API client\n */\n\nimport { logger } from '@/lib/logger';\nimport { parseAIError } from '../utils/errorParser';\n\n/**\n * Handle Groq API error responses\n */\nexport function handleGroqError(response: Response, errorText: string): Error {\n  let errorJson: any = null;\n  try {\n    errorJson = JSON.parse(errorText);\n  } catch {\n    // Not JSON, use as text\n  }\n\n  const errorMessage = errorJson?.error?.message || errorText || `HTTP ${response.status}`;\n  const error = new Error(`Groq API error: ${errorMessage}`);\n  const parsedError = parseAIError(error);\n\n  if (response.status === 429) {\n    logger.warn('[Groq] Rate limited - consider using Ollama fallback or waiting');\n    throw parsedError.details || error;\n  }\n\n  if (response.status === 402 || response.status === 403) {\n    logger.error(\n      '[Groq] Billing/quota error - check Groq Console: https://console.groq.com/ ' +\n        'Consider using Ollama (free, local) by setting USE_GROQ=false',\n    );\n    throw parsedError.details || error;\n  }\n\n  logger.error('[Groq] API error:', {\n    status: response.status,\n    statusText: response.statusText,\n    error: errorMessage.substring(0, 500),\n  });\n\n  throw parsedError.details || error;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/groq-client-helpers/request-builder.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/groq-client-helpers/request-builder.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/groq-client-helpers/response-parser.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/groq-client-helpers/response-parser.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[123,126],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[123,126],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Response parser for Groq API\n */\n\nimport { logger } from '@/lib/logger';\n\nexport function parseGroqResponse(result: any): string {\n  let content = '';\n  if (result.choices && Array.isArray(result.choices) && result.choices.length > 0) {\n    content = result.choices[0].message?.content || '';\n  } else if (result.content) {\n    content = result.content;\n  }\n\n  if (!content) {\n    throw new Error('Empty response from Groq API');\n  }\n\n  if (result.usage) {\n    logger.dev('[Groq] Token usage:', {\n      promptTokens: result.usage.prompt_tokens || 0,\n      completionTokens: result.usage.completion_tokens || 0,\n      totalTokens: result.usage.total_tokens || 0,\n    });\n\n    const totalTokens = result.usage.total_tokens || 0;\n    if (totalTokens > 100000) {\n      logger.warn(\n        '[Groq] High token usage detected. Monitor usage at https://console.groq.com/ ' +\n          'Consider setting spending limits in Groq Console (Settings  Billing  Limits)',\n      );\n    }\n  }\n\n  logger.dev('[Groq] Text generated successfully:', {\n    contentLength: content.length,\n    model: result.model || 'unknown',\n  });\n\n  return content;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/groq-client.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/groq-client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/constants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/generateImage.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/generateImage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/generateText.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/generateText.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":72,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2117,2120],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2117,2120],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport type { AIChatMessage } from '../../types';\nimport { getHuggingFaceTextModel } from './getModels';\nimport { HUGGINGFACE_ROUTER_BASE } from '../constants';\n\n/**\n * Get Hugging Face API key (required for router API)\n */\nfunction getHuggingFaceApiKey(): string | null {\n  return process.env.HUGGINGFACE_API_KEY || null;\n}\n\n/**\n * Generate text using Hugging Face Router API (Llama model)\n *\n * Uses OpenAI-compatible format via router API\n * Router API supports specific models like Llama-3.2-3B-Instruct\n *\n * @param messages - Chat messages (system/user/assistant)\n * @param options - Generation options\n * @returns Generated text response\n */\nexport async function generateTextWithHuggingFace(\n  messages: AIChatMessage[],\n  options: {\n    model?: string;\n    temperature?: number;\n    maxTokens?: number;\n  } = {},\n): Promise<{\n  content: string;\n  usage?: { promptTokens: number; completionTokens: number; totalTokens: number };\n} | null> {\n  const model = options.model || getHuggingFaceTextModel();\n  const apiKey = getHuggingFaceApiKey();\n\n  if (!apiKey) {\n    logger.error('[Hugging Face] API key is required for router API');\n    return null;\n  }\n\n  try {\n    logger.dev('[Hugging Face] Generating text:', {\n      model,\n      messageCount: messages.length,\n      hasApiKey: !!apiKey,\n      endpoint: `${HUGGINGFACE_ROUTER_BASE}/v1/chat/completions`,\n    });\n\n    const headers: Record<string, string> = {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${apiKey}`,\n    };\n\n    // Router API uses OpenAI-compatible format with /v1/chat/completions endpoint\n    const response = await fetch(`${HUGGINGFACE_ROUTER_BASE}/v1/chat/completions`, {\n      method: 'POST',\n      headers,\n      body: JSON.stringify({\n        model,\n        messages: messages.map(msg => ({\n          role: msg.role,\n          content: msg.content,\n        })),\n        temperature: options.temperature ?? 0.7,\n        max_tokens: options.maxTokens ?? 2000,\n      }),\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      let errorJson: any = null;\n      try {\n        errorJson = JSON.parse(errorText);\n      } catch {\n        // Not JSON, use as text\n      }\n\n      logger.error('[Hugging Face] Text generation failed:', {\n        status: response.status,\n        statusText: response.statusText,\n        error: errorText.substring(0, 500),\n        errorJson,\n      });\n\n      // Handle rate limiting and model loading\n      if (response.status === 503) {\n        const retryAfter = response.headers.get('Retry-After');\n        const waitTime = retryAfter ? parseInt(retryAfter, 10) * 1000 : 10000;\n        logger.warn(`[Hugging Face] Model loading, waiting ${waitTime}ms before retry`);\n        await new Promise(resolve => setTimeout(resolve, waitTime));\n        return generateTextWithHuggingFace(messages, options); // Retry once\n      }\n\n      return null;\n    }\n\n    const result = await response.json();\n\n    // OpenAI-compatible format returns { choices: [{ message: { content: \"...\" } }] }\n    let content = '';\n    if (result.choices && Array.isArray(result.choices) && result.choices.length > 0) {\n      content = result.choices[0].message?.content || '';\n    } else if (result.content) {\n      content = result.content;\n    }\n\n    // Extract usage if available\n    const usage = result.usage\n      ? {\n          promptTokens: result.usage.prompt_tokens || 0,\n          completionTokens: result.usage.completion_tokens || 0,\n          totalTokens: result.usage.total_tokens || 0,\n        }\n      : undefined;\n\n    logger.dev('[Hugging Face] Text generated successfully:', {\n      contentLength: content.length,\n      hasUsage: !!usage,\n    });\n\n    return { content, usage };\n  } catch (error) {\n    logger.error('[Hugging Face] Text generation error:', {\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n    });\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/getClient.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/getClient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/getModels.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/getModels.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/processImageResult.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/processImageResult.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/validateBase64.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/huggingface-client/helpers/validateBase64.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/plating-method-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/plating-method-detection.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":87,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2806,2809],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2806,2809],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * AI Plating Method Detection Service\n *\n * Uses AI to analyze dishes and suggest suitable plating methods\n */\n\nimport { logger } from '@/lib/logger';\nimport type { Ingredient } from '@/app/webapp/ingredients/components/types';\nimport {\n  buildPlatingMethodDetectionPrompt,\n  type PlatingMethodSuggestion,\n} from './prompts/plating-method-detection';\n\nexport interface PlatingMethodDetectionResult {\n  suggestions: PlatingMethodSuggestion[];\n  dishCategory?: string;\n  overallReasoning?: string;\n  method: 'ai' | 'fallback';\n}\n\n/**\n * Detect suitable plating methods using AI\n *\n * @param dishName - Name of the dish\n * @param ingredients - List of ingredients\n * @param description - Optional dish description\n * @returns Array of suggested plating methods with confidence scores\n */\nexport async function detectSuitablePlatingMethods(\n  dishName: string,\n  ingredients: Ingredient[],\n  description?: string,\n): Promise<PlatingMethodDetectionResult> {\n  const { isAIEnabled, generateTextWithHuggingFace, getHuggingFaceTextModel } =\n    await import('@/lib/ai/huggingface-client');\n\n  if (!isAIEnabled()) {\n    logger.warn('[Plating Method Detection] AI not enabled, using fallback suggestions');\n    return getFallbackSuggestions(dishName, ingredients);\n  }\n\n  try {\n    const prompt = buildPlatingMethodDetectionPrompt(dishName, ingredients, description);\n\n    const messages = [\n      {\n        role: 'system' as const,\n        content:\n          'You are a professional chef and food styling expert. Analyze dishes and suggest suitable plating methods. Always respond with valid JSON only, no markdown formatting or additional text.',\n      },\n      {\n        role: 'user' as const,\n        content: prompt,\n      },\n    ];\n\n    const result = await generateTextWithHuggingFace(messages, {\n      model: getHuggingFaceTextModel(),\n      temperature: 0.5,\n      maxTokens: 1000,\n    });\n\n    if (!result || !result.content) {\n      throw new Error('No response from AI');\n    }\n\n    // Extract JSON from response (may contain markdown code blocks)\n    let responseText = result.content.trim();\n    const jsonMatch =\n      responseText.match(/```json\\s*([\\s\\S]*?)\\s*```/) ||\n      responseText.match(/```\\s*([\\s\\S]*?)\\s*```/);\n    if (jsonMatch) {\n      responseText = jsonMatch[1].trim();\n    }\n\n    // Remove any leading/trailing non-JSON text\n    const jsonStart = responseText.indexOf('{');\n    const jsonEnd = responseText.lastIndexOf('}');\n    if (jsonStart !== -1 && jsonEnd !== -1 && jsonEnd > jsonStart) {\n      responseText = responseText.substring(jsonStart, jsonEnd + 1);\n    }\n\n    const parsed = JSON.parse(responseText);\n\n    // Validate and normalize the response\n    const suggestions: PlatingMethodSuggestion[] = Array.isArray(parsed.suggestions)\n      ? parsed.suggestions.map((s: any) => ({\n          method: s.method || '',\n          confidence: s.confidence || 'medium',\n          reasoning: s.reasoning || '',\n        }))\n      : [];\n\n    return {\n      suggestions,\n      dishCategory: parsed.dishCategory,\n      overallReasoning: parsed.overallReasoning,\n      method: 'ai',\n    };\n  } catch (err) {\n    logger.error('[Plating Method Detection] AI detection failed:', err);\n    // Fallback to default suggestions\n    return getFallbackSuggestions(dishName, ingredients);\n  }\n}\n\n/**\n * Fallback suggestions when AI is not available\n *\n * @param dishName - Name of the dish\n * @param ingredients - List of ingredients\n * @returns Default plating method suggestions\n */\nfunction getFallbackSuggestions(\n  dishName: string,\n  ingredients: Ingredient[],\n): PlatingMethodDetectionResult {\n  const dishNameLower = dishName.toLowerCase();\n\n  // Simple heuristics based on dish name\n  const suggestions: PlatingMethodSuggestion[] = [];\n\n  // Soup/stew/bowl dishes\n  if (\n    dishNameLower.includes('soup') ||\n    dishNameLower.includes('stew') ||\n    dishNameLower.includes('bowl') ||\n    dishNameLower.includes('salad')\n  ) {\n    suggestions.push({\n      method: 'super_bowl',\n      confidence: 'high',\n      reasoning: 'Bowl-based dishes work well with super bowl technique',\n    });\n  }\n\n  // Desserts\n  if (\n    dishNameLower.includes('dessert') ||\n    dishNameLower.includes('cake') ||\n    dishNameLower.includes('tart') ||\n    dishNameLower.includes('mousse')\n  ) {\n    suggestions.push({\n      method: 'deconstructed',\n      confidence: 'high',\n      reasoning: 'Desserts often benefit from deconstructed presentation',\n    });\n    suggestions.push({\n      method: 'stacking',\n      confidence: 'medium',\n      reasoning: 'Stacking creates visual interest for desserts',\n    });\n  }\n\n  // Always include classic as a safe default\n  suggestions.push({\n    method: 'classic',\n    confidence: 'high',\n    reasoning: 'Classic plating works well for most dishes',\n  });\n\n  // Add modern for contemporary dishes\n  suggestions.push({\n    method: 'modern',\n    confidence: 'medium',\n    reasoning: 'Modern plating adds contemporary appeal',\n  });\n\n  return {\n    suggestions: suggestions.slice(0, 4), // Limit to 4 suggestions\n    method: 'fallback',\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/ai-specials.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/ai-specials.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/consolidated-recipe-card.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/consolidated-recipe-card.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/kitchen-context.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/kitchen-context.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/menu-item-description.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/menu-item-description.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":82,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":85,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[610,613],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[610,613],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Menu Item Description AI Prompt\n *\n * Generates professional, appetizing menu descriptions for dishes and recipes\n */\n\nimport type { MenuItem } from '@/app/webapp/menu-builder/types';\nimport { getAllergenDisplayName } from '@/lib/allergens/australian-allergens';\n\n/**\n * Build AI prompt for generating menu item descriptions.\n *\n * @param {MenuItem} menuItem - Menu item (dish or recipe)\n * @param {any[]} [ingredients] - Optional ingredients list for recipes\n * @returns {string} AI prompt for description generation\n */\nexport function buildMenuItemDescriptionPrompt(menuItem: MenuItem, ingredients?: any[]): string {\n  const isDish = !!menuItem.dish_id;\n  const isRecipe = !!menuItem.recipe_id;\n\n  const itemName = isDish\n    ? menuItem.dishes?.dish_name || 'Unknown Dish'\n    : menuItem.recipes?.recipe_name || 'Unknown Recipe';\n\n  const existingDescription = isDish ? menuItem.dishes?.description : menuItem.recipes?.description;\n\n  const allergens = menuItem.allergens || [];\n  const allergenList =\n    allergens.length > 0 ? allergens.map(code => getAllergenDisplayName(code)).join(', ') : 'None';\n\n  const dietaryInfo: string[] = [];\n  if (menuItem.is_vegetarian) dietaryInfo.push('vegetarian');\n  if (menuItem.is_vegan) dietaryInfo.push('vegan');\n  const dietaryText = dietaryInfo.length > 0 ? dietaryInfo.join(', ') : 'Standard';\n\n  const price = menuItem.actual_selling_price || menuItem.recommended_selling_price || 0;\n\n  let ingredientText = '';\n  if (ingredients && ingredients.length > 0) {\n    const ingredientNames = ingredients\n      .map(ing => ing.ingredients?.ingredient_name || ing.ingredient_name || '')\n      .filter(Boolean)\n      .slice(0, 10); // Limit to first 10 ingredients\n    ingredientText = `\\n**Key Ingredients:**\\n${ingredientNames.map(name => `- ${name}`).join('\\n')}`;\n  }\n\n  const prompt = `You are a professional restaurant menu writer creating an appetizing, professional menu description for a dish.\n\n**Menu Item Information:**\n- Name: ${itemName}\n- Type: ${isDish ? 'Dish' : 'Recipe'}\n- Current Description: ${existingDescription || 'None - needs to be created'}\n- Price: $${price.toFixed(2)}\n- Allergens: ${allergenList}\n- Dietary: ${dietaryText}${ingredientText}\n\n**Your Task:**\nGenerate a professional, appetizing menu description for this item. The description should:\n\n1. **Be concise and compelling:**\n   - 1-2 sentences maximum (30-50 words)\n   - Appetizing and mouth-watering\n   - Highlight key flavors, textures, or cooking methods\n   - Use descriptive, professional language\n\n2. **Be accurate:**\n   - Reflect the ingredients and preparation style\n   - Match dietary information (vegetarian/vegan if applicable)\n   - Avoid mentioning allergens (they're listed separately)\n\n3. **Use professional menu language:**\n   - Avoid clichs like \"delicious\" or \"amazing\"\n   - Focus on specific flavors, textures, and techniques\n   - Use active, descriptive verbs (braised, roasted, seared, etc.)\n   - Highlight unique or standout ingredients\n\n4. **Examples of good descriptions:**\n   - \"Slow-braised beef short ribs with red wine reduction, served over creamy mashed potatoes and seasonal vegetables.\"\n   - \"Pan-seared salmon fillet with lemon butter sauce, accompanied by roasted asparagus and herbed quinoa.\"\n   - \"House-made pasta tossed in a rich tomato basil sauce with fresh mozzarella and parmesan.\"\n\n**Important:**\n- Return ONLY the description text, no additional commentary\n- Do not include the item name in the description\n- Do not include price information\n- Keep it professional and appetizing\n- Make it sound like it belongs on a high-quality restaurant menu\n\nGenerate the menu description now:`;\n\n  return prompt;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/performance-insights.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/performance-insights.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/performance-tips.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/performance-tips.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/plating-method-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/plating-method-detection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/prep-details.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/prep-details.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/recipe-instructions.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/prompts/recipe-instructions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/recipe-database-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/recipe-database-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/recipe-database-helpers/format-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/recipe-database-helpers/format-helpers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[607,610],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[607,610],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Format helpers for recipe database\n */\n\nimport { ScrapedRecipe } from '../../../scripts/recipe-scraper/parsers/types';\n\nconst PROFESSIONAL_SOURCES = new Set([\n  'serious-eats',\n  'food-network',\n  'epicurious',\n  'bon-appetit',\n  'food52',\n  'simply-recipes',\n  'smitten-kitchen',\n  'the-kitchn',\n  'delish',\n]);\n\n/**\n * Format recipes for AI prompt context\n */\nexport function formatRecipesForPrompt(recipes: ScrapedRecipe[]): string {\n  if (recipes.length === 0) {\n    return '';\n  }\n\n  const formatted = recipes.map((recipe, index) => {\n    const ingredients = recipe.ingredients\n      .map((ing: any) => (typeof ing === 'string' ? ing : ing.original_text))\n      .join(', ');\n\n    const sourceDisplay = recipe.source.replace(/-/g, ' ');\n    const isProfessional = PROFESSIONAL_SOURCES.has(recipe.source);\n    const sourceQuality = isProfessional ? 'Professional source' : 'User-rated source';\n    const ratingDisplay = recipe.rating\n      ? ` (${recipe.rating.toFixed(1)} ${sourceQuality})`\n      : ` (${sourceQuality})`;\n\n    return `\nRecipe ${index + 1}: ${recipe.recipe_name}${ratingDisplay}\n- Source: ${sourceDisplay}\n- Ingredients: ${ingredients}\n- Instructions: ${recipe.instructions.slice(0, 3).join('; ')}${recipe.instructions.length > 3 ? '...' : ''}\n${recipe.category ? `- Category: ${recipe.category}` : ''}\n${recipe.cuisine ? `- Cuisine: ${recipe.cuisine}` : ''}\n${recipe.dietary_tags && recipe.dietary_tags.length > 0 ? `- Dietary: ${recipe.dietary_tags.join(', ')}` : ''}\n${recipe.rating ? `- Rating: ${recipe.rating.toFixed(1)}/5.0` : ''}\n`;\n  });\n\n  return `\nSimilar recipes from our database that use these ingredients:\n${formatted.join('\\n')}\n`;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/recipe-database.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/recipe-database.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1319,1322],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1319,1322],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Recipe Database\n * Loads and searches recipes from JSON database for AI specials feature\n */\n\nimport { logger } from '@/lib/logger';\nimport { ScrapedRecipe } from '../../scripts/recipe-scraper/parsers/types';\nimport {\n  loadIndex,\n  loadRecipe,\n  formatRecipesForPrompt,\n  getRecipeDatabaseStats,\n} from './recipe-database-helpers';\n\n/**\n * Search recipes by ingredients with rating prioritization and source diversity\n */\nexport async function searchRecipesByIngredients(\n  ingredientNames: string[],\n  limit: number = 5,\n  sourceFilter?: string,\n): Promise<ScrapedRecipe[]> {\n  try {\n    const index = loadIndex();\n    if (!index || index.recipes.length === 0) {\n      logger.debug('No recipes in database');\n      return [];\n    }\n\n    const matches: Array<{\n      recipe: ScrapedRecipe;\n      matchingIngredientCount: number;\n      rating: number;\n      hasRating: boolean;\n    }> = [];\n    const lowerIngredients = ingredientNames.map(ing => ing.toLowerCase());\n\n    // First pass: collect all matching recipes\n    for (const entry of index.recipes) {\n      if (sourceFilter && entry.source !== sourceFilter) {\n        continue;\n      }\n\n      try {\n        const recipe = await loadRecipe(entry.file_path);\n        if (!recipe) continue;\n\n        const recipeIngredientNames = recipe.ingredients.map((ing: any) =>\n          (typeof ing === 'string' ? ing : ing.name || ing.original_text).toLowerCase(),\n        );\n\n        const matchingIngredientCount = lowerIngredients.filter(searchIng =>\n          recipeIngredientNames.some(recipeIng => recipeIng.includes(searchIng)),\n        ).length;\n\n        if (matchingIngredientCount > 0) {\n          matches.push({\n            recipe,\n            matchingIngredientCount,\n            rating: recipe.rating || 0,\n            hasRating: !!recipe.rating,\n          });\n        }\n      } catch (error) {\n        logger.error(`Error processing recipe entry ${entry.id}:`, error);\n        continue;\n      }\n    }\n\n    // Sort matches by rating and matching count\n    matches.sort((a, b) => {\n      if (a.hasRating !== b.hasRating) {\n        return a.hasRating ? -1 : 1;\n      }\n      if (a.hasRating && b.hasRating) {\n        if (a.rating !== b.rating) {\n          return b.rating - a.rating;\n        }\n      }\n      return b.matchingIngredientCount - a.matchingIngredientCount;\n    });\n\n    // Second pass: ensure source diversity\n    const results: ScrapedRecipe[] = [];\n    const usedSources = new Set<string>();\n    const sourceGroups = new Map<string, ScrapedRecipe[]>();\n\n    for (const match of matches) {\n      const source = match.recipe.source;\n      if (!sourceGroups.has(source)) {\n        sourceGroups.set(source, []);\n      }\n      sourceGroups.get(source)!.push(match.recipe);\n    }\n\n    // First, add one recipe from each source\n    for (const [source, recipes] of sourceGroups.entries()) {\n      if (results.length >= limit) break;\n      if (usedSources.has(source)) continue;\n      results.push(recipes[0]);\n      usedSources.add(source);\n    }\n\n    // Then, fill remaining slots\n    for (const match of matches) {\n      if (results.length >= limit) break;\n      if (results.some(r => r.id === match.recipe.id)) continue;\n      results.push(match.recipe);\n    }\n\n    return results.slice(0, limit);\n  } catch (error) {\n    logger.error('Error searching recipes by ingredients:', error);\n    return [];\n  }\n}\n\n// Re-export helper functions\nexport { formatRecipesForPrompt, getRecipeDatabaseStats };\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/utils/cost-tracker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/utils/cost-tracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/utils/errorParser.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/utils/errorParser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/utils/rate-limiter.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/utils/rate-limiter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/utils/responseProcessor.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/utils/responseProcessor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/utils/retryHandler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ai/utils/retryHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/ai-allergen-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/ai-allergen-detection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/batchProcessRecipeAllergens.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/batchProcessRecipeAllergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/cacheAllergens.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/cacheAllergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/collectAllergens.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/collectAllergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/dishAggregation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/dishAggregation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/recipeAggregation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/recipeAggregation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/sourceExtraction.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/allergen-aggregation/helpers/sourceExtraction.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/australian-allergens.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/australian-allergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/cache-invalidation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/cache-invalidation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/cache-invalidation/helpers/invalidateDishCache.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/cache-invalidation/helpers/invalidateDishCache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/cache-invalidation/helpers/invalidateDishesWithRelation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/cache-invalidation/helpers/invalidateDishesWithRelation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/cache-invalidation/helpers/invalidateRecipeCache.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/cache-invalidation/helpers/invalidateRecipeCache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/cache-invalidation/helpers/invalidateRecipesWithIngredient.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/cache-invalidation/helpers/invalidateRecipesWithIngredient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/hybrid-allergen-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allergens/hybrid-allergen-detection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allowlist.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/allowlist.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/senders/analyticsSender.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/senders/analyticsSender.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/sessionManager.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/sessionManager.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/trackers/conversionTracker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/trackers/conversionTracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/trackers/pageViewTracker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/trackers/pageViewTracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/trackers/performanceTracker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/trackers/performanceTracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/trackers/userInteractionTracker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/trackers/userInteractionTracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/analytics/types.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[570,573],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[570,573],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export interface AnalyticsEvent {\n  action: string;\n  category: string;\n  label?: string;\n  value?: number;\n  timestamp: number;\n  sessionId: string;\n  userId?: string;\n  page: string;\n  referrer?: string;\n  userAgent?: string;\n}\n\nexport interface ConversionEvent {\n  type:\n    | 'cta_click'\n    | 'demo_watch'\n    | 'pricing_view'\n    | 'signup_start'\n    | 'purchase_complete'\n    | 'exit_intent'\n    | 'section_view'\n    | 'scroll_milestone';\n  element: string;\n  page: string;\n  timestamp: number;\n  sessionId: string;\n  userId?: string;\n  metadata?: Record<string, any>;\n}\n\nexport interface PerformanceMetrics {\n  pageLoadTime: number;\n  firstContentfulPaint: number;\n  largestContentfulPaint: number;\n  firstInputDelay: number;\n  cumulativeLayoutShift: number;\n  timestamp: number;\n  page: string;\n  sessionId: string;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/animation-stubs.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './animation-stubs';\n\ndescribe('animation-stubs', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for animation-stubs, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/animation-stubs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/animations.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/animations.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[722,725],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[722,725],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[777,780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[777,780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './animations';\n\ndescribe('animations', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for animations, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/animations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/animations.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api-error-handler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api-error-handler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[660,663],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[660,663],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  isClientError,\n  isNetworkError,\n  isRowNotFoundError,\n  isServerError,\n  isTableNotFoundError,\n} from './api-error-handler/errorChecks';\nimport {\n  parseSupabaseError,\n  SUPABASE_ERROR_CODES,\n  type ApiError,\n} from './api-error-handler/supabaseErrorParser';\n\nimport { PostgrestError } from '@supabase/supabase-js';\n\n// ... imports\n\nexport { SUPABASE_ERROR_CODES };\nexport type { ApiError };\n\nexport class ApiErrorHandler {\n  static createError(message: string, code?: string, status?: number, details?: unknown): ApiError {\n    return { message, code, status, details, timestamp: new Date() };\n  }\n  static fromResponse(response: Response, data?: any): ApiError {\n    return {\n      message: data?.message || data?.error || 'An error occurred',\n      code: data?.code || response.status.toString(),\n      status: response.status,\n      details: data,\n      timestamp: new Date(),\n    };\n  }\n  static fromException(error: Error): ApiError {\n    return {\n      message: error.message,\n      code: 'EXCEPTION',\n      details: error.stack,\n      timestamp: new Date(),\n    };\n  }\n  static fromSupabaseError(error: PostgrestError | unknown, defaultStatus: number = 500): ApiError {\n    return parseSupabaseError(error, defaultStatus);\n  }\n  static isNetworkError(error: unknown): boolean {\n    return isNetworkError(error);\n  }\n  static isServerError(error: ApiError): boolean {\n    return isServerError(error);\n  }\n  static isClientError(error: ApiError): boolean {\n    return isClientError(error);\n  }\n  static getErrorMessage(error: ApiError, usePersonality = false): string {\n    // Try to get personality error message if enabled\n    if (usePersonality && typeof window !== 'undefined') {\n      try {\n        // Dynamic import to avoid circular dependencies\n        const personalityModule = require('./personality/ui');\n        const { dispatchErrorPersonality } = personalityModule;\n        let errorType: 'validation' | 'network' | 'server' | 'notFound' | null = null;\n\n        if (this.isNetworkError(error)) {\n          errorType = 'network';\n        } else if (this.isServerError(error)) {\n          errorType = 'server';\n        } else if (this.isRowNotFoundError(error)) {\n          errorType = 'notFound';\n        } else if (this.isClientError(error) && error.status === 400) {\n          errorType = 'validation';\n        }\n\n        if (errorType && dispatchErrorPersonality) {\n          const personalityMsg = dispatchErrorPersonality.pick(errorType);\n          if (personalityMsg) {\n            return personalityMsg;\n          }\n        }\n      } catch {\n        // Fall through to default messages if personality system not available\n      }\n    }\n\n    // Default error messages\n    if (this.isNetworkError(error))\n      return 'Network connection failed. Please check your internet connection.';\n    if (this.isServerError(error)) return 'Server error occurred. Please try again later.';\n    if (this.isClientError(error))\n      return error.message || 'Invalid request. Please check your input.';\n    return error.message || 'An unexpected error occurred.';\n  }\n  static isTableNotFoundError(error: PostgrestError | unknown): boolean {\n    return isTableNotFoundError(error);\n  }\n  static isRowNotFoundError(error: PostgrestError | unknown): boolean {\n    return isRowNotFoundError(error);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api-error-handler/errorChecks.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api-error-handler/errorChecks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api-error-handler/supabaseErrorParser.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api-error-handler/supabaseErrorParser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api-feature-gate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api-feature-gate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/batch-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/batch-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/performance/dateFiltering.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/performance/dateFiltering.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/performance/dishDeduplication.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/performance/dishDeduplication.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[159,162],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[159,162],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[825,828],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[825,828],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Dish deduplication utilities for performance API\n */\n\nexport function deduplicateDishes<\n  T extends { name?: string; created_at?: string; sales_data?: any[] | null },\n>(dishes: T[]): T[] {\n  return dishes.reduce((acc: T[], dish: T) => {\n    // If name is missing, keep it (safer default)\n    if (!dish.name) return [...acc, dish];\n\n    const existingDish = acc.find(d => d.name === dish.name);\n    if (\n      !existingDish ||\n      (dish.created_at &&\n        existingDish.created_at &&\n        new Date(dish.created_at) > new Date(existingDish.created_at))\n    ) {\n      // Remove existing entry if it exists\n      const filteredAcc = acc.filter(d => d.name !== dish.name);\n      return [...filteredAcc, dish];\n    }\n    return acc;\n  }, [] as T[]);\n}\n\nexport function filterDishesWithSales<T extends { sales_data?: any[] | null }>(dishes: T[]): T[] {\n  return dishes.filter(dish => dish.sales_data && dish.sales_data.length > 0);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/performance/performanceCalculation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/performance/performanceCalculation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/performance/salesAggregation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/performance/salesAggregation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/performance/thresholdCalculation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/performance/thresholdCalculation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/performance/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/retry-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/api/retry-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/arcadeGuards.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/arcadeGuards.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1091,1094],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1091,1094],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nexport const prefersReducedMotion = (): boolean => {\n  if (typeof window === 'undefined') return false;\n  return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n};\n\nexport const isArcadeDisabled = (): boolean => {\n  if (typeof window === 'undefined') return false;\n  try {\n    return localStorage.getItem('PF_DISABLE_ARCADE_LOADING') === '1';\n  } catch (_) {\n    logger.error('[arcadeGuards.ts] Error in catch block:', {\n      error: _ instanceof Error ? _.message : String(_),\n      stack: _ instanceof Error ? _.stack : undefined,\n    });\n\n    return false;\n  }\n};\n\nexport const isTouchDevice = (): boolean => {\n  if (typeof window === 'undefined' || typeof navigator === 'undefined') return false;\n  try {\n    // Check for explicit force enable flag\n    const forceEnable = localStorage.getItem('PF_ENABLE_ARCADE_MOBILE') === '1';\n    if (forceEnable) return false;\n\n    // Multiple detection methods for better Android/iOS coverage\n    const hasTouchPoints = navigator.maxTouchPoints > 0;\n    const hasTouchStart = typeof (window as any).ontouchstart !== 'undefined';\n\n    // User agent detection as fallback (Android, iOS, iPad, etc.)\n    const userAgent = navigator.userAgent || '';\n    const isMobileUA = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      userAgent,\n    );\n\n    // Also check for mobile viewport (common on Android)\n    const isMobileViewport =\n      typeof window !== 'undefined' &&\n      window.matchMedia('(max-width: 768px)').matches &&\n      window.matchMedia('(pointer: coarse)').matches;\n\n    const hasTouch = hasTouchPoints || hasTouchStart || isMobileUA || isMobileViewport;\n    return hasTouch;\n  } catch (_) {\n    logger.error('[arcadeGuards.ts] Error in catch block:', {\n      error: _ instanceof Error ? _.message : String(_),\n      stack: _ instanceof Error ? _.stack : undefined,\n    });\n\n    // On error, assume it's a touch device to be safe\n    return true;\n  }\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/arcadeStats.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/arcadeStats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/arcadeStats/helpers/dispatchStatsEvent.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/arcadeStats/helpers/dispatchStatsEvent.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth-user-sync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth-user-sync.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1161,1164],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1161,1164],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from './logger';\nimport { supabaseAdmin } from './supabase';\nimport { updateExistingUser } from './auth-user-sync/helpers/updateExistingUser';\nimport { createNewUser } from './auth-user-sync/helpers/createNewUser';\n\n/**\n * Sync user from Auth0 to database on first login\n * Auth0 best practice: Create user record immediately on authentication\n *\n * @param email - User email from Auth0\n * @param emailVerified - Email verification status from Auth0\n * @param name - User full name from Auth0 (optional)\n * @returns Promise<void>\n */\nexport async function syncUserFromAuth0(\n  email: string,\n  emailVerified: boolean = false,\n  name?: string | null,\n): Promise<void> {\n  if (!supabaseAdmin || !email) {\n    return;\n  }\n\n  try {\n    // Check if user already exists\n    const { data: existingUser, error: existingUserError } = await supabaseAdmin\n      .from('users')\n      .select('id, email, email_verified, last_login')\n      .eq('email', email)\n      .maybeSingle();\n\n    if (existingUserError) {\n      logger.warn('[Auth0 Sync] Error checking existing user:', {\n        error: existingUserError.message,\n        code: (existingUserError as any).code,\n        context: { email, operation: 'checkExistingUser' },\n      });\n    }\n\n    if (existingUser) {\n      await updateExistingUser(email, emailVerified, existingUser.email_verified, name);\n      return;\n    }\n\n    await createNewUser(email, emailVerified, name);\n  } catch (error) {\n    // Log error but don't throw - authentication should still succeed\n    logger.error('[Auth0 Sync] Error syncing user:', {\n      error: error instanceof Error ? error.message : String(error),\n      email,\n    });\n  }\n}\n\n/**\n * Detect and store user country for data transfer restrictions\n * Should be called when request headers are available (e.g., in middleware or API routes)\n *\n * @param {string} email - User email\n * @param {Headers} headers - Request headers\n * @returns {Promise<void>}\n */\nexport async function detectAndStoreUserCountry(email: string, headers: Headers): Promise<void> {\n  try {\n    const { detectCountryFromHeaders, storeUserCountry } =\n      await import('./data-transfer/country-detection');\n    const countryCode = detectCountryFromHeaders(headers);\n    if (countryCode) {\n      await storeUserCountry(email, countryCode);\n    }\n  } catch (error) {\n    // Don't fail if country detection fails\n    logger.warn('[Auth User Sync] Failed to detect/store country:', {\n      error: error instanceof Error ? error.message : String(error),\n      email,\n    });\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth-user-sync/helpers/createNewUser.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth-user-sync/helpers/createNewUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth-user-sync/helpers/handleRaceCondition.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth-user-sync/helpers/handleRaceCondition.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1086,1089],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1086,1089],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1707,1710],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1707,1710],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { splitName } from './splitName';\n\n/**\n * Handle race condition when user is created by another request\n */\nexport async function handleRaceCondition(email: string, name?: string | null): Promise<void> {\n  if (!supabaseAdmin) {\n    logger.error('[Auth0 Sync] Database connection not available');\n    return;\n  }\n\n  const updateData: {\n    last_login: string;\n    updated_at: string;\n    first_name?: string | null;\n    last_name?: string | null;\n  } = {\n    last_login: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n  };\n\n  if (name) {\n    const { first_name, last_name } = splitName(name);\n    const { data: existingUser, error: existingUserError } = await supabaseAdmin\n      .from('users')\n      .select('first_name, last_name')\n      .eq('email', email)\n      .maybeSingle();\n\n    if (existingUserError) {\n      logger.warn('[Auth0 Sync] Error fetching existing user for name update:', {\n        error: existingUserError.message,\n        code: (existingUserError as any).code,\n        context: { email, operation: 'fetchExistingUserForNameUpdate' },\n      });\n    }\n\n    if (existingUser) {\n      if (!existingUser.first_name && first_name) {\n        updateData.first_name = first_name;\n      }\n      if (!existingUser.last_name && last_name) {\n        updateData.last_name = last_name;\n      }\n    }\n  }\n\n  const { error: updateError } = await supabaseAdmin\n    .from('users')\n    .update(updateData)\n    .eq('email', email);\n  if (updateError) {\n    logger.error('[Auth0 Sync] Error updating user after race condition:', {\n      error: updateError.message,\n      code: (updateError as any).code,\n      context: { email, operation: 'updateUserAfterRaceCondition' },\n    });\n  } else {\n    logger.dev('[Auth0 Sync] User already exists, updated last_login:', { email });\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth-user-sync/helpers/splitName.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth-user-sync/helpers/splitName.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth-user-sync/helpers/updateExistingUser.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth-user-sync/helpers/updateExistingUser.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[825,828],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[825,828],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1775,1778],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1775,1778],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { splitName } from './splitName';\n\n/**\n * Update existing user with last_login and optional name fields\n */\nexport async function updateExistingUser(\n  email: string,\n  emailVerified: boolean,\n  existingUserEmailVerified: boolean,\n  name?: string | null,\n): Promise<void> {\n  if (!supabaseAdmin) {\n    logger.error('[Auth0 Sync] Database connection not available');\n    return;\n  }\n\n  const { data: userWithName, error: userWithNameError } = await supabaseAdmin\n    .from('users')\n    .select('first_name, last_name')\n    .eq('email', email)\n    .maybeSingle();\n\n  if (userWithNameError) {\n    logger.warn('[Auth0 Sync] Error fetching user name fields:', {\n      error: userWithNameError.message,\n      code: (userWithNameError as any).code,\n      context: { email, operation: 'fetchUserNameFields' },\n    });\n  }\n\n  const updateData: {\n    last_login: string;\n    updated_at: string;\n    email_verified: boolean;\n    first_name?: string | null;\n    last_name?: string | null;\n  } = {\n    last_login: new Date().toISOString(),\n    email_verified: emailVerified || existingUserEmailVerified,\n    updated_at: new Date().toISOString(),\n  };\n\n  if (name && userWithName) {\n    const { first_name, last_name } = splitName(name);\n    if (!userWithName.first_name && first_name) {\n      updateData.first_name = first_name;\n    }\n    if (!userWithName.last_name && last_name) {\n      updateData.last_name = last_name;\n    }\n  }\n\n  const { error: updateError } = await supabaseAdmin\n    .from('users')\n    .update(updateData)\n    .eq('email', email);\n  if (updateError) {\n    logger.error('[Auth0 Sync] Error updating user:', {\n      error: updateError.message,\n      code: (updateError as any).code,\n      context: { email, operation: 'updateUser' },\n    });\n  } else {\n    logger.dev('[Auth0 Sync] Updated user:', {\n      email,\n      updatedName: !!(\n        name &&\n        userWithName &&\n        (!userWithName.first_name || !userWithName.last_name)\n      ),\n    });\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-api-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-api-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-api-helpers/helpers/extractUserFromSession.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-api-helpers/helpers/extractUserFromSession.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-api-helpers/helpers/getDevUser.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-api-helpers/helpers/getDevUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-apple-microsoft-connection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-apple-microsoft-connection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-apple-microsoft-connection/helpers/enableConnection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-apple-microsoft-connection/helpers/enableConnection.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[304,307],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[304,307],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { getManagementClient } from '@/lib/auth0-management';\nimport { logger } from '@/lib/logger';\n\ninterface EnableConnectionResult {\n  success: boolean;\n  enabled: boolean;\n  message: string;\n}\n\n/**\n * Enable connection for application\n */\nexport async function enableConnectionForApp(\n  connection: any,\n  applicationClientId: string,\n  connectionType: 'apple' | 'microsoft',\n  connectionName: string,\n): Promise<EnableConnectionResult> {\n  const client = getManagementClient();\n  if (!client || !applicationClientId) {\n    return {\n      success: false,\n      enabled: false,\n      message: 'Auth0 configuration is missing. Please check your Auth0 environment variables.',\n    };\n  }\n\n  if (!connection) {\n    return {\n      success: false,\n      enabled: false,\n      message: `${connectionName} connection not found. Create it in Auth0 Dashboard > Connections > Social > ${connectionName}`,\n    };\n  }\n\n  if (connection.enabled_clients?.includes(applicationClientId)) {\n    return {\n      success: true,\n      enabled: true,\n      message: `${connectionName} connection is already enabled for this application`,\n    };\n  }\n\n  try {\n    const enabledClients = [...(connection.enabled_clients || []), applicationClientId];\n    await client.connections.update({ id: connection.id }, { enabled_clients: enabledClients });\n\n    logger.info(`[Auth0 ${connectionType}] Enabled ${connectionName} connection for application`, {\n      connectionId: connection.id,\n      strategy: connection.strategy,\n      applicationClientId,\n    });\n\n    return {\n      success: true,\n      enabled: true,\n      message: `${connectionName} connection enabled successfully`,\n    };\n  } catch (error) {\n    logger.error(`[Auth0 ${connectionType}] Failed to enable ${connectionName} connection:`, error);\n    return {\n      success: false,\n      enabled: false,\n      message:\n        error instanceof Error\n          ? `Failed to enable ${connectionName} connection: ${error.message}`\n          : `Failed to enable ${connectionName} connection`,\n    };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-apple-microsoft-connection/helpers/findConnection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-apple-microsoft-connection/helpers/findConnection.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[216,219],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[216,219],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[475,478],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[475,478],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[550,553],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[550,553],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[895,898],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[895,898],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1154,1157],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1154,1157],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1229,1232],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1229,1232],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { getManagementClient } from '@/lib/auth0-management';\nimport { logger } from '@/lib/logger';\n\n/**\n * Find Apple connection from Auth0 connections list\n */\nexport async function findAppleConnection(): Promise<any | null> {\n  const client = getManagementClient();\n  if (!client) {\n    return null;\n  }\n\n  try {\n    const connections = await client.connections.getAll();\n    const connectionsList = Array.isArray(connections)\n      ? connections\n      : (connections as any)?.data || [];\n\n    return (\n      connectionsList.find(\n        (conn: any) => conn.strategy === 'apple' || conn.name?.toLowerCase().includes('apple'),\n      ) || null\n    );\n  } catch (error) {\n    logger.error('[Auth0 Apple] Failed to find Apple connection:', error);\n    return null;\n  }\n}\n\n/**\n * Find Microsoft connection from Auth0 connections list\n */\nexport async function findMicrosoftConnection(): Promise<any | null> {\n  const client = getManagementClient();\n  if (!client) {\n    return null;\n  }\n\n  try {\n    const connections = await client.connections.getAll();\n    const connectionsList = Array.isArray(connections)\n      ? connections\n      : (connections as any)?.data || [];\n\n    return (\n      connectionsList.find(\n        (conn: any) =>\n          conn.strategy === 'windowslive' ||\n          conn.strategy === 'waad' ||\n          conn.strategy === 'microsoft-account' ||\n          conn.name?.toLowerCase().includes('microsoft') ||\n          conn.name?.toLowerCase().includes('windows'),\n      ) || null\n    );\n  } catch (error) {\n    logger.error('[Auth0 Microsoft] Failed to find Microsoft connection:', error);\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-apple-microsoft-connection/helpers/verifyConnection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-apple-microsoft-connection/helpers/verifyConnection.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[151,154],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[151,154],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\n\n/**\n * Verify connection is enabled for application\n */\nexport function verifyConnectionEnabled(\n  connection: any,\n  applicationClientId: string,\n  connectionType: 'apple' | 'microsoft',\n): boolean {\n  if (!connection) {\n    logger.dev(`[Auth0 ${connectionType}] ${connectionType} connection not found`);\n    return false;\n  }\n\n  const isEnabled = connection.enabled_clients?.includes(applicationClientId) || false;\n\n  logger.dev(`[Auth0 ${connectionType}] Connection status:`, {\n    id: connection.id,\n    name: connection.name,\n    strategy: connection.strategy,\n    enabled: isEnabled,\n  });\n\n  return isEnabled;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-google-connection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-google-connection.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[617,620],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[617,620],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Auth0 Google Connection Management Utilities\n * Handles enabling and verifying Google social connection for the application\n */\nimport { verifyGoogleConnection } from './auth0-google-connection/helpers/verifyGoogleConnection';\nimport { configureGoogleOAuthCredentials } from './auth0-google-connection/helpers/configureGoogleOAuth';\nimport { enableGoogleConnectionForApp } from './auth0-google-connection/helpers/enableGoogleConnection';\n\nexport interface Connection {\n  id: string;\n  name: string;\n  strategy: string;\n  enabled_clients?: string[];\n  is_domain_connection?: boolean;\n  options?: Record<string, any>;\n}\n\n/** Verify if Google connection is enabled and configured correctly */\nexport { verifyGoogleConnection };\n\n/** Configure Google OAuth credentials for the connection */\nexport { configureGoogleOAuthCredentials };\n\n/** Configure Google OAuth credentials and enable connection for the application */\nexport async function configureAndEnableGoogleConnection(\n  googleClientId: string,\n  googleClientSecret: string,\n): Promise<{\n  success: boolean;\n  message: string;\n  configured?: boolean;\n  enabled?: boolean;\n}> {\n  const configureResult = await configureGoogleOAuthCredentials(googleClientId, googleClientSecret);\n  if (!configureResult.success) {\n    return {\n      success: false,\n      message: configureResult.message,\n      configured: false,\n    };\n  }\n\n  const enableResult = await enableGoogleConnectionForApp();\n  if (!enableResult.success) {\n    return {\n      success: false,\n      message: `OAuth credentials configured, but failed to enable connection: ${enableResult.message}`,\n      configured: true,\n      enabled: false,\n    };\n  }\n\n  return {\n    success: true,\n    message: 'Google OAuth credentials configured and connection enabled successfully',\n    configured: true,\n    enabled: enableResult.enabled,\n  };\n}\n\n/** Enable Google connection for the application */\nexport { enableGoogleConnectionForApp };\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-google-connection/helpers/configureGoogleOAuth.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-google-connection/helpers/configureGoogleOAuth.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1014,1017],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1014,1017],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":59,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1736,1739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1736,1739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport { getManagementClient } from '@/lib/auth0-management';\nimport { getGoogleConnection } from './getGoogleConnection';\n\n/**\n * Configure Google OAuth credentials for the connection\n */\nexport async function configureGoogleOAuthCredentials(\n  googleClientId: string,\n  googleClientSecret: string,\n): Promise<{ success: boolean; message: string }> {\n  const client = getManagementClient();\n\n  if (!client) {\n    return {\n      success: false,\n      message:\n        'Auth0 configuration is missing. Please check your AUTH0_ISSUER_BASE_URL, AUTH0_CLIENT_ID, and AUTH0_CLIENT_SECRET environment variables.',\n    };\n  }\n\n  if (!googleClientId || !googleClientSecret) {\n    return {\n      success: false,\n      message: 'Google Client ID and Client Secret are required',\n    };\n  }\n\n  try {\n    const connectionsResponse = await client.connections.getAll();\n    const connections = Array.isArray(connectionsResponse)\n      ? connectionsResponse\n      : (connectionsResponse as any)?.data || [];\n\n    if (!connections || !Array.isArray(connections)) {\n      return {\n        success: false,\n        message: 'Failed to fetch connections from Auth0',\n      };\n    }\n\n    const googleConnection = await getGoogleConnection(client);\n\n    if (!googleConnection) {\n      return {\n        success: false,\n        message:\n          \"Google connection doesn't exist. Please create it in Auth0 Dashboard > Connections > Social > Google\",\n      };\n    }\n\n    await client.connections.update({ id: googleConnection.id }, {\n      options: {\n        ...googleConnection.options,\n        client_id: googleClientId,\n        client_secret: googleClientSecret,\n        scope: ['email', 'profile'],\n      },\n    } as any);\n\n    logger.info('[Auth0 Google Connection] Configured Google OAuth credentials', {\n      connectionId: googleConnection.id,\n    });\n\n    return {\n      success: true,\n      message: 'Google OAuth credentials configured successfully',\n    };\n  } catch (error) {\n    logger.error('[Auth0 Google Connection] Failed to configure Google OAuth credentials:', error);\n    return {\n      success: false,\n      message: `Failed to configure Google OAuth credentials: ${error instanceof Error ? error.message : String(error)}`,\n    };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-google-connection/helpers/enableGoogleConnection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-google-connection/helpers/enableGoogleConnection.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1761,1764],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1761,1764],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport { getManagementClient } from '@/lib/auth0-management';\nimport { getGoogleConnection } from './getGoogleConnection';\n\n/**\n * Enable Google connection for the application\n */\nexport async function enableGoogleConnectionForApp(): Promise<{\n  success: boolean;\n  message: string;\n  enabled?: boolean;\n}> {\n  const client = getManagementClient();\n  const auth0ClientId = process.env.AUTH0_CLIENT_ID;\n\n  if (!client) {\n    return {\n      success: false,\n      message:\n        'Auth0 configuration is missing. Please check your AUTH0_ISSUER_BASE_URL, AUTH0_CLIENT_ID, and AUTH0_CLIENT_SECRET environment variables.',\n    };\n  }\n\n  if (!auth0ClientId) {\n    return {\n      success: false,\n      message: 'AUTH0_CLIENT_ID not set',\n    };\n  }\n\n  try {\n    const googleConnection = await getGoogleConnection(client);\n    if (!googleConnection) {\n      return {\n        success: false,\n        message:\n          \"Google connection doesn't exist. Please create it in Auth0 Dashboard > Connections > Social > Google\",\n      };\n    }\n    if (!googleConnection.options?.client_id) {\n      return {\n        success: false,\n        message:\n          \"Google connection exists but isn't configured with OAuth credentials. Please configure it in Auth0 Dashboard > Connections > Social > Google\",\n      };\n    }\n    const enabledClients = googleConnection.enabled_clients || [];\n    if (enabledClients.includes(auth0ClientId)) {\n      return {\n        success: true,\n        message: 'Google connection is already enabled for this application',\n        enabled: true,\n      };\n    }\n    await client.connections.update({ id: googleConnection.id }, {\n      enabled_clients: [...new Set([...enabledClients, auth0ClientId])],\n    } as any);\n    logger.info('[Auth0 Google Connection] Enabled Google connection for application', {\n      connectionId: googleConnection.id,\n      clientId: auth0ClientId,\n    });\n    return {\n      success: true,\n      message: 'Google connection enabled successfully for this application',\n      enabled: true,\n    };\n  } catch (error) {\n    logger.error('[Auth0 Google Connection] Failed to enable Google connection:', error);\n    return {\n      success: false,\n      message: `Failed to enable Google connection: ${error instanceof Error ? error.message : String(error)}`,\n    };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-google-connection/helpers/getGoogleConnection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-google-connection/helpers/getGoogleConnection.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[164,167],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[164,167],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[349,352],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[349,352],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[474,477],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[474,477],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":80,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":83,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[520,523],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[520,523],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ManagementClient } from 'auth0';\n\n/**\n * Get Google connection from Auth0\n */\nexport async function getGoogleConnection(client: ManagementClient): Promise<any> {\n  const connectionsResponse = await client.connections.getAll();\n  const connections = Array.isArray(connectionsResponse)\n    ? connectionsResponse\n    : (connectionsResponse as any)?.data || [];\n  if (!connections || !Array.isArray(connections)) {\n    return null;\n  }\n  return connections.find((conn: any) => conn.strategy === 'google-oauth2') as any;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-google-connection/helpers/verifyGoogleConnection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-google-connection/helpers/verifyGoogleConnection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":75,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2349,2352],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2349,2352],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Auth0 Management API utilities\n * Fetches user roles from Auth0 Management API when not included in token\n */\nimport { ManagementClient } from 'auth0';\nimport { logger } from './logger';\nimport { getUserRoles } from './auth0-management/helpers/getUserRoles';\nimport { getSocialConnections } from './auth0-management/helpers/getSocialConnections';\nimport { verifyCallbackUrls } from './auth0-management/helpers/verifyCallbackUrls';\nimport { getUserProfileFromManagementAPI } from './auth0-management/helpers/getUserProfile';\nimport { fetchProfileWithRetry } from './auth0-management/helpers/fetchProfileWithRetry';\n\nlet managementClient: ManagementClient | null = null;\n\n/**\n * Get or create Auth0 Management API client\n */\nexport function getManagementClient(): ManagementClient | null {\n  const issuerBaseUrl = process.env.AUTH0_ISSUER_BASE_URL;\n  const clientId = process.env.AUTH0_CLIENT_ID;\n  const clientSecret = process.env.AUTH0_CLIENT_SECRET;\n\n  if (!issuerBaseUrl || !clientId || !clientSecret) {\n    return null;\n  }\n\n  // Extract domain from issuer URL (e.g., https://dev-xxx.us.auth0.com -> dev-xxx.us.auth0.com)\n  const domain = issuerBaseUrl.replace(/^https?:\\/\\//, '').replace(/\\/$/, '');\n\n  if (!managementClient) {\n    try {\n      managementClient = new ManagementClient({\n        domain,\n        clientId,\n        clientSecret,\n      });\n    } catch (error) {\n      logger.error('[Auth0 Management] Failed to create Management API client:', error);\n      return null;\n    }\n  }\n\n  return managementClient;\n}\n\n/** Get user roles from Auth0 Management API */\nexport { getUserRoles };\n\n/**\n * Extract Auth0 user ID from NextAuth token sub claim\n * Auth0 sub format: \"provider|user_id\" (e.g., \"google-oauth2|102050647966509234700\")\n *\n * @param {string} sub - NextAuth token sub claim\n * @returns {string | null} Auth0 user ID or null if invalid format\n */\nexport function extractAuth0UserId(sub: string | undefined): string | null {\n  if (!sub || typeof sub !== 'string') {\n    return null;\n  }\n\n  // Auth0 sub format: \"provider|user_id\"\n  // This is the format Auth0 uses for user IDs\n  return sub;\n}\n\n/**\n * Connection type from Auth0 Management API\n */\nexport interface Connection {\n  id: string;\n  name: string;\n  strategy: string;\n  enabled_clients?: string[];\n  is_domain_connection?: boolean;\n  options?: Record<string, any>;\n}\n\n/**\n * Callback URL verification status\n */\nexport interface CallbackUrlStatus {\n  isValid: boolean;\n  configuredUrls: string[];\n  expectedUrls: string[];\n  missingUrls: string[];\n  extraUrls: string[];\n}\n\n/** Get all social connections from Auth0 */\nexport { getSocialConnections };\n\n// Google connection functions moved to lib/auth0-google-connection.ts\n// Re-export for backward compatibility\nexport { verifyGoogleConnection, enableGoogleConnectionForApp } from './auth0-google-connection';\n\n/** Verify callback URLs match Auth0 configuration */\nexport { verifyCallbackUrls };\n\n/** Get user profile from Auth0 Management API */\nexport { getUserProfileFromManagementAPI };\n\n/** Fetch user profile with timeout and retry logic */\nexport { fetchProfileWithRetry };\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management/helpers/fetchProfileWithRetry.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management/helpers/fetchProfileWithRetry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management/helpers/getSocialConnections.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management/helpers/getSocialConnections.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management/helpers/getUserProfile.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management/helpers/getUserProfile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management/helpers/getUserRoles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management/helpers/getUserRoles.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[567,570],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[567,570],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport { getManagementClient } from '../../auth0-management';\n\n/**\n * Get user roles from Auth0 Management API\n */\nexport async function getUserRoles(auth0UserId: string): Promise<string[]> {\n  const client = getManagementClient();\n\n  if (!client) {\n    logger.warn('[Auth0 Management] Management API client not available');\n    return [];\n  }\n\n  try {\n    const roles = await client.users.getRoles({ id: auth0UserId });\n\n    if (!roles || !Array.isArray(roles)) {\n      return [];\n    }\n\n    const roleNames = roles.map((role: any) => role.name || role).filter(Boolean);\n\n    if (roleNames.length > 0) {\n      logger.dev(\n        `[Auth0 Management] Fetched ${roleNames.length} roles for user ${auth0UserId}:`,\n        roleNames,\n      );\n    }\n\n    return roleNames;\n  } catch (error) {\n    logger.error(`[Auth0 Management] Failed to fetch roles for user ${auth0UserId}:`, error);\n    return [];\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management/helpers/verifyCallbackUrls.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-management/helpers/verifyCallbackUrls.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[751,754],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[751,754],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport { getManagementClient } from '../../auth0-management';\nimport type { CallbackUrlStatus } from '../../auth0-management';\n\n/**\n * Verify callback URLs match Auth0 configuration\n */\nexport async function verifyCallbackUrls(expectedUrls: string[]): Promise<CallbackUrlStatus> {\n  const client = getManagementClient();\n\n  if (!client || !process.env.AUTH0_CLIENT_ID) {\n    return {\n      isValid: false,\n      configuredUrls: [],\n      expectedUrls,\n      missingUrls: expectedUrls,\n      extraUrls: [],\n    };\n  }\n  try {\n    const auth0ClientId = process.env.AUTH0_CLIENT_ID;\n    const appResponse = await client.clients.get({ client_id: auth0ClientId });\n    const app = appResponse.data || (appResponse as any);\n\n    const configuredUrls = (app.callbacks || []) as string[];\n    const missingUrls = expectedUrls.filter(url => !configuredUrls.includes(url));\n    const extraUrls = configuredUrls.filter(url => !expectedUrls.includes(url));\n    return {\n      isValid: missingUrls.length === 0,\n      configuredUrls,\n      expectedUrls,\n      missingUrls,\n      extraUrls,\n    };\n  } catch (error) {\n    logger.error('[Auth0 Management] Failed to verify callback URLs:', error);\n    return {\n      isValid: false,\n      configuredUrls: [],\n      expectedUrls,\n      missingUrls: expectedUrls,\n      extraUrls: [],\n    };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-middleware.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0-middleware.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1459,1462],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1459,1462],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":119,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3140,3143],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3140,3143],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { auth0, isAuthRequired } from './auth0';\nimport type { NextRequest } from 'next/server';\nimport { isEmailAllowed } from './allowlist';\nimport { isAdmin } from './admin-utils';\nimport { logger } from '@/lib/logger';\n\nconst isDev = process.env.NODE_ENV === 'development';\n\n/**\n * Extract user email from Auth0 session for middleware\n * Returns null if not authenticated or in development (bypass mode)\n */\nexport async function getUserEmailFromSession(req: NextRequest): Promise<string | null> {\n  // Development bypass: Return mock email\n  if (!isAuthRequired()) {\n    return 'dev@prepflow.org';\n  }\n\n  try {\n    const session = await auth0.getSession(req);\n    return session?.user?.email || null;\n  } catch (error) {\n    logger.error('[auth0-middleware.ts] Error in catch block:', {\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n    });\n\n    // Session not available or error\n    return null;\n  }\n}\n\n/**\n * Extract user roles from Auth0 session for middleware\n * Returns empty array if not authenticated or in development (bypass mode)\n */\nexport async function getUserRolesFromSession(req: NextRequest): Promise<string[]> {\n  // Development bypass: Return admin role\n  if (!isAuthRequired()) {\n    return ['admin'];\n  }\n\n  try {\n    const session = await auth0.getSession(req);\n    if (!session?.user) {\n      return [];\n    }\n\n    const roles = (session.user as any)['https://prepflow.org/roles'] || [];\n    return Array.isArray(roles) ? roles : [];\n  } catch (error) {\n    logger.error('[auth0-middleware.ts] Error in catch block:', {\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n    });\n\n    return [];\n  }\n}\n\n/**\n * Check if user has admin role from Auth0 session\n */\nexport async function isUserAdmin(req: NextRequest): Promise<boolean> {\n  // Development bypass: Always admin\n  if (!isAuthRequired()) {\n    return true;\n  }\n\n  const roles = await getUserRolesFromSession(req);\n  return roles.includes('admin') || roles.includes('super_admin');\n}\n\n/**\n * Check if user email is allowed (for allowlist enforcement)\n */\nexport async function isUserEmailAllowed(req: NextRequest): Promise<boolean> {\n  // Development bypass: Always allowed\n  if (!isAuthRequired()) {\n    return true;\n  }\n\n  const email = await getUserEmailFromSession(req);\n  if (!email) {\n    return false;\n  }\n\n  return isEmailAllowed(email);\n}\n\n/**\n * Get full user object from Auth0 session for middleware\n * Returns null if not authenticated\n */\nexport async function getUserFromSession(req: NextRequest): Promise<{\n  email: string;\n  name?: string;\n  picture?: string;\n  sub: string;\n  roles: string[];\n} | null> {\n  // Development bypass: Return mock user\n  if (!isAuthRequired()) {\n    return {\n      email: 'dev@prepflow.org',\n      name: 'Dev User',\n      picture: undefined,\n      sub: 'dev|123',\n      roles: ['admin'],\n    };\n  }\n\n  try {\n    const session = await auth0.getSession(req);\n    if (!session?.user) {\n      return null;\n    }\n\n    const roles = (session.user as any)['https://prepflow.org/roles'] || [];\n\n    return {\n      email: session.user.email || '',\n      name: session.user.name,\n      picture: session.user.picture,\n      sub: session.user.sub || '',\n      roles: Array.isArray(roles) ? roles : [],\n    };\n  } catch (error) {\n    logger.error('[auth0-middleware.ts] Error in catch block:', {\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n    });\n\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0/helpers/createAuth0Client.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0/helpers/createAuth0Client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0/helpers/getAuth0Domain.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0/helpers/getAuth0Domain.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0/helpers/getBaseUrl.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0/helpers/getBaseUrl.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0/helpers/validateAuth0Config.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0/helpers/validateAuth0Config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0/helpers/validateAuth0Secret.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/auth0/helpers/validateAuth0Secret.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-id.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-id.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-storage.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-storage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-sync-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-sync-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-sync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-sync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-sync/batchSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-sync/batchSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-sync/conflictCheck.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-sync/conflictCheck.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-sync/databaseSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/autosave-sync/databaseSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/avatar-names.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/avatar-names.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/avatar-names/helpers/matchFilenameToCategory.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/avatar-names/helpers/matchFilenameToCategory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/avatars.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/avatars.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/constants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/decrypt.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/decrypt.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":104,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":104,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3045,3048],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3045,3048],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Backup decryption operations.\n */\n\nimport type { BackupData } from '../types';\nimport { logger } from '@/lib/logger';\nimport {\n  AUTH_TAG_LENGTH,\n  BACKUP_HEADER,\n  BACKUP_VERSION,\n  ENCRYPTION_MODE_PREPFLOW_ONLY,\n  ENCRYPTION_MODE_USER_PASSWORD,\n  IV_LENGTH,\n} from './constants';\nimport {\n  deriveKeyFromPassword,\n  deriveKeyFromServerKey,\n  getPrepFlowEncryptionKey,\n} from './key-management';\n\n/**\n * Decrypt backup file.\n *\n * @param {Uint8Array} encryptedFile - Encrypted backup file data\n * @param {string} passwordOrKey - Password (for user-password mode) or server key (for prepflow-only mode)\n * @returns {Promise<BackupData>} Decrypted backup data\n */\nexport async function decryptBackup(\n  encryptedFile: Uint8Array,\n  passwordOrKey: string,\n): Promise<BackupData> {\n  let offset = 0;\n\n  // Read header\n  const headerLength = BACKUP_HEADER.length;\n  const header = new TextDecoder().decode(encryptedFile.slice(offset, offset + headerLength));\n  offset += headerLength;\n\n  if (header !== BACKUP_HEADER) {\n    throw new Error('Invalid backup file format: incorrect header');\n  }\n\n  // Read version\n  const version = encryptedFile[offset];\n  offset += 1;\n\n  if (version !== BACKUP_VERSION) {\n    throw new Error(`Unsupported backup version: ${version}`);\n  }\n\n  // Read encryption mode\n  const encryptionMode = encryptedFile[offset];\n  offset += 1;\n\n  if (\n    encryptionMode !== ENCRYPTION_MODE_USER_PASSWORD &&\n    encryptionMode !== ENCRYPTION_MODE_PREPFLOW_ONLY\n  ) {\n    throw new Error(`Invalid encryption mode: ${encryptionMode}`);\n  }\n\n  // Read salt length and salt\n  const saltLength = encryptedFile[offset];\n  offset += 1;\n  const salt = encryptedFile.slice(offset, offset + saltLength);\n  offset += saltLength;\n\n  // Read IV\n  const iv = encryptedFile.slice(offset, offset + IV_LENGTH);\n  offset += IV_LENGTH;\n\n  // Read metadata size\n  const metadataSize = new DataView(encryptedFile.buffer, offset, 4).getUint32(0, false); // Big-endian\n  offset += 4;\n\n  // Read encrypted metadata\n  const metadataCiphertext = encryptedFile.slice(offset, offset + metadataSize);\n  offset += metadataSize;\n\n  // Read metadata auth tag\n  const metadataAuthTag = encryptedFile.slice(offset, offset + AUTH_TAG_LENGTH);\n  offset += AUTH_TAG_LENGTH;\n\n  // Read encrypted data\n  const dataCiphertext = encryptedFile.slice(offset, -AUTH_TAG_LENGTH);\n\n  // Read auth tag\n  const authTag = encryptedFile.slice(-AUTH_TAG_LENGTH);\n\n  // Derive decryption key using salt from file\n  let decryptionKey: CryptoKey;\n\n  if (encryptionMode === ENCRYPTION_MODE_USER_PASSWORD) {\n    decryptionKey = await deriveKeyFromPassword(passwordOrKey, salt);\n  } else {\n    // PrepFlow-only mode - passwordOrKey should be the server key\n    // If not provided, get from environment\n    const serverKey = passwordOrKey || (await getPrepFlowEncryptionKey());\n    decryptionKey = await deriveKeyFromServerKey(serverKey, salt);\n  }\n\n  // Decrypt metadata\n  const metadataArray = new Uint8Array([...metadataCiphertext, ...metadataAuthTag]);\n  let decryptedMetadata: any;\n\n  try {\n    const decryptedMetadataBuffer = await crypto.subtle.decrypt(\n      {\n        name: 'AES-GCM',\n        iv,\n      },\n      decryptionKey,\n      metadataArray,\n    );\n\n    const metadataJson = new TextDecoder().decode(decryptedMetadataBuffer);\n    decryptedMetadata = JSON.parse(metadataJson);\n  } catch (error) {\n    throw new Error('Failed to decrypt backup metadata. Invalid password or key.');\n  }\n\n  // Now decrypt actual data\n  const dataArray = new Uint8Array([...dataCiphertext, ...authTag]);\n  let decryptedDataBuffer: ArrayBuffer;\n\n  try {\n    decryptedDataBuffer = await crypto.subtle.decrypt(\n      {\n        name: 'AES-GCM',\n        iv,\n      },\n      decryptionKey,\n      dataArray,\n    );\n  } catch (error) {\n    throw new Error('Failed to decrypt backup data. Invalid password or key.');\n  }\n\n  // Parse decrypted JSON\n  const decryptedJson = new TextDecoder().decode(decryptedDataBuffer);\n  const backupData: BackupData = JSON.parse(decryptedJson);\n\n  return backupData;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/encrypt.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/encrypt.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/encrypt/build-file.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/encrypt/build-file.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/encrypt/encrypt-data.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/encrypt/encrypt-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/encrypt/encrypt-metadata.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/encrypt/encrypt-metadata.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/key-management.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/encryption/key-management.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/buildBackupData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/buildBackupData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[380,383],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[380,383],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { BackupData, TableData } from '../../types';\n\n/**\n * Build backup data structure from table data.\n *\n * @param {string} userId - User ID (email)\n * @param {TableData[]} tables - Array of table data\n * @returns {BackupData} Backup data structure\n */\nexport function buildBackupData(userId: string, tables: TableData[]): BackupData {\n  const tablesData: Record<string, any[]> = {};\n  const recordCounts: Record<string, number> = {};\n\n  for (const table of tables) {\n    tablesData[table.tableName] = table.records;\n    recordCounts[table.tableName] = table.recordCount;\n  }\n\n  return {\n    version: '1.0.0',\n    timestamp: new Date().toISOString(),\n    userId,\n    tables: tablesData,\n    metadata: {\n      recordCounts,\n      exportFormat: 'json',\n    },\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/convertToSQL.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/convertToSQL.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[667,670],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[667,670],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { BackupData } from '../../types';\n\n/**\n * Convert backup data to SQL format.\n *\n * @param {BackupData} backupData - Backup data structure\n * @returns {string} SQL dump string\n */\nexport function convertToSQL(backupData: BackupData): string {\n  const sql: string[] = [];\n  sql.push('-- PrepFlow Backup SQL Export');\n  sql.push(`-- Version: ${backupData.version}`);\n  sql.push(`-- Timestamp: ${backupData.timestamp}`);\n  sql.push(`-- User ID: ${backupData.userId}`);\n  sql.push('');\n\n  // Generate INSERT statements for each table\n  for (const [tableName, records] of Object.entries(backupData.tables)) {\n    const typedRecords = records as Record<string, any>[];\n    if (typedRecords.length === 0) {\n      continue;\n    }\n\n    sql.push(`-- Table: ${tableName}`);\n    sql.push(`-- Records: ${typedRecords.length}`);\n    sql.push('');\n\n    // Get column names from first record\n    const columns = Object.keys(typedRecords[0]);\n    const columnsStr = columns.map(col => `\"${col}\"`).join(', ');\n\n    // Generate INSERT statements (batch inserts for efficiency)\n    const batchSize = 100;\n    for (let i = 0; i < typedRecords.length; i += batchSize) {\n      const batch = typedRecords.slice(i, i + batchSize);\n      const values = batch.map(record => {\n        const rowValues = columns.map(col => {\n          const value = record[col];\n          if (value === null || value === undefined) {\n            return 'NULL';\n          }\n          if (typeof value === 'string') {\n            return `'${value.replace(/'/g, \"''\")}'`; // Escape single quotes\n          }\n          if (typeof value === 'boolean') {\n            return value ? 'TRUE' : 'FALSE';\n          }\n          if (value instanceof Date) {\n            return `'${value.toISOString()}'`;\n          }\n          return String(value);\n        });\n        return `(${rowValues.join(', ')})`;\n      });\n\n      sql.push(`INSERT INTO \"${tableName}\" (${columnsStr}) VALUES`);\n      sql.push(values.join(',\\n'));\n      sql.push(';');\n      sql.push('');\n    }\n  }\n\n  return sql.join('\\n');\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/fetchAllTableData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/fetchAllTableData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[501,504],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[501,504],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[582,585],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[582,585],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1608,1611],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1608,1611],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport { getUserTableData, getChildTableData } from './fetchTableData';\nimport { USER_TABLES, CHILD_TABLES } from './tableConfig';\n\n/**\n * Fetch all table data for a user (parent and child tables).\n *\n * @param {string} userId - User ID (email)\n * @returns {Promise<{ tables: Record<string, any[]>, recordCounts: Record<string, number> }>} Tables data and counts\n */\nexport async function fetchAllTableData(\n  userId: string,\n): Promise<{ tables: Record<string, any[]>; recordCounts: Record<string, number> }> {\n  const tables: Record<string, any[]> = {};\n  const recordCounts: Record<string, number> = {};\n\n  // Export parent tables with user_id\n  for (const table of USER_TABLES) {\n    try {\n      const data = await getUserTableData(userId, table.name);\n      tables[table.name] = data;\n      recordCounts[table.name] = data.length;\n      logger.dev(`[Backup Export] Exported ${data.length} records from ${table.name}`);\n    } catch (error) {\n      logger.error(`[Backup Export] Failed to export ${table.name}:`, {\n        error: error instanceof Error ? error.message : String(error),\n        stack: error instanceof Error ? error.stack : undefined,\n        context: { tableName: table.name, userId, operation: 'exportUserData' },\n      });\n      tables[table.name] = [];\n      recordCounts[table.name] = 0;\n    }\n  }\n\n  // Export child tables\n  for (const childTable of CHILD_TABLES) {\n    try {\n      // Get parent IDs from the parent table data\n      const parentData = tables[childTable.parentTable] || [];\n      const parentIds = parentData\n        .map((row: any) => row[childTable.parentIdColumn])\n        .filter(Boolean);\n\n      if (parentIds.length > 0) {\n        const childData = await getChildTableData(childTable.name, childTable.fk, parentIds);\n        tables[childTable.name] = childData;\n        recordCounts[childTable.name] = childData.length;\n        logger.dev(`[Backup Export] Exported ${childData.length} records from ${childTable.name}`);\n      } else {\n        tables[childTable.name] = [];\n        recordCounts[childTable.name] = 0;\n      }\n    } catch (error) {\n      logger.error(`[Backup Export] Failed to export ${childTable.name}:`, error);\n      tables[childTable.name] = [];\n      recordCounts[childTable.name] = 0;\n    }\n  }\n\n  return { tables, recordCounts };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/fetchTableData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/fetchTableData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/getUserTablesWithData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/getUserTablesWithData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1546,1549],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1546,1549],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createSupabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { TableData } from '../../types';\nimport { getUserTableData, getChildTableData } from './fetchTableData';\nimport { USER_TABLES, CHILD_TABLES } from './tableConfig';\n\n/**\n * Get list of tables with data for a user.\n *\n * @param {string} userId - User ID (email)\n * @returns {Promise<TableData[]>} Array of table data summaries\n */\nexport async function getUserTablesWithData(userId: string): Promise<TableData[]> {\n  const tables: TableData[] = [];\n\n  // Check parent tables\n  for (const table of USER_TABLES) {\n    try {\n      const data = await getUserTableData(userId, table.name);\n      tables.push({\n        tableName: table.name,\n        records: data,\n        recordCount: data.length,\n      });\n    } catch (error) {\n      logger.dev(`[Backup Export] Skipping table ${table.name}:`, error);\n    }\n  }\n\n  // Check child tables\n  for (const childTable of CHILD_TABLES) {\n    try {\n      // Get parent IDs\n      const supabase = createSupabaseAdmin();\n      const { data: parentData, error: parentError } = await supabase\n        .from(childTable.parentTable)\n        .select(childTable.parentIdColumn)\n        .eq('user_id', userId);\n\n      if (parentError) {\n        logger.warn(`[Backup Export] Error fetching parent data for ${childTable.name}:`, {\n          error: parentError.message,\n          tableName: childTable.parentTable,\n        });\n        continue;\n      }\n\n      const parentIds = (parentData || [])\n        .map((row: any) => row[childTable.parentIdColumn])\n        .filter(Boolean);\n\n      if (parentIds.length > 0) {\n        const childData = await getChildTableData(childTable.name, childTable.fk, parentIds);\n        tables.push({\n          tableName: childTable.name,\n          records: childData,\n          recordCount: childData.length,\n        });\n      }\n    } catch (error) {\n      logger.dev(`[Backup Export] Skipping child table ${childTable.name}:`, error);\n    }\n  }\n\n  return tables;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/tableConfig.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/export/helpers/tableConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/authentication.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/authentication.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/disconnect.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/disconnect.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/download.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/download.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/folder-management.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/folder-management.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1396,1399],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1396,1399],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Google Drive folder management for backups.\n */\n\nimport { google, type Auth } from 'googleapis';\nimport { logger } from '@/lib/logger';\n\n/**\n * Ensure user-specific folder exists in Google Drive.\n * Creates \"PrepFlow Backups/{userId}\" folder structure.\n *\n * @param {auth.OAuth2Client} client - Authenticated OAuth2 client\n * @param {string} userId - User ID (email)\n * @returns {Promise<string>} Folder ID\n */\nexport async function ensureUserBackupFolder(\n  client: Auth.OAuth2Client,\n  userId: string,\n): Promise<string> {\n  const drive = google.drive({ version: 'v3', auth: client });\n\n  // First, ensure \"PrepFlow Backups\" parent folder exists\n  let parentFolderId: string | null = null;\n\n  try {\n    const parentSearch = await drive.files.list({\n      q: \"name='PrepFlow Backups' and mimeType='application/vnd.google-apps.folder' and trashed=false\",\n      fields: 'files(id, name)',\n      spaces: 'drive',\n    });\n\n    if (parentSearch.data.files && parentSearch.data.files.length > 0) {\n      parentFolderId = parentSearch.data.files[0].id || null;\n    } else {\n      // Create parent folder\n      const parentCreate = await drive.files.create({\n        requestBody: {\n          name: 'PrepFlow Backups',\n          mimeType: 'application/vnd.google-apps.folder',\n        },\n        fields: 'id',\n      });\n      parentFolderId = parentCreate.data.id || null;\n    }\n  } catch (error: any) {\n    logger.error('[Google Drive] Failed to create/find parent folder:', error);\n    throw new Error('Failed to create backup folder structure');\n  }\n\n  if (!parentFolderId) {\n    throw new Error('Failed to get parent folder ID');\n  }\n\n  // Sanitize userId for folder name (remove special characters)\n  const sanitizedUserId = userId.replace(/[^a-zA-Z0-9@._-]/g, '_');\n  const userFolderName = `User: ${sanitizedUserId}`;\n\n  // Check if user folder exists\n  const userFolderQuery = `name='${userFolderName}' and mimeType='application/vnd.google-apps.folder' and '${parentFolderId}' in parents and trashed=false`;\n  const userFolderSearch = await drive.files.list({\n    q: userFolderQuery,\n    fields: 'files(id, name)',\n    spaces: 'drive',\n  });\n\n  if (userFolderSearch.data.files && userFolderSearch.data.files.length > 0) {\n    return userFolderSearch.data.files[0].id!;\n  }\n\n  // Create user-specific folder\n  const userFolderCreate = await drive.files.create({\n    requestBody: {\n      name: userFolderName,\n      mimeType: 'application/vnd.google-apps.folder',\n      parents: [parentFolderId],\n    },\n    fields: 'id',\n  });\n\n  const userFolderId = userFolderCreate.data.id;\n  if (!userFolderId) {\n    throw new Error('Failed to create user backup folder');\n  }\n\n  logger.info(`[Google Drive] Created user folder for ${userId}: ${userFolderId}`);\n  return userFolderId;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/list.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/list.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1652,1655],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1652,1655],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * List backup files from Google Drive.\n */\n\nimport { google, type Auth } from 'googleapis';\nimport { logger } from '@/lib/logger';\nimport type { BackupFile } from '../types';\n\n/**\n * List backup files from Google Drive for a specific user.\n *\n * @param {auth.OAuth2Client} client - Authenticated OAuth2 client\n * @param {string} userId - User ID (email)\n * @returns {Promise<BackupFile[]>} Array of backup files\n */\nexport async function listBackupsFromDrive(\n  client: Auth.OAuth2Client,\n  userId: string,\n): Promise<BackupFile[]> {\n  const drive = google.drive({ version: 'v3', auth: client });\n\n  // Get user-specific folder ID\n  let userFolderId: string | null = null;\n  try {\n    // Find parent folder\n    const parentSearch = await drive.files.list({\n      q: \"name='PrepFlow Backups' and mimeType='application/vnd.google-apps.folder' and trashed=false\",\n      fields: 'files(id)',\n      spaces: 'drive',\n    });\n\n    if (parentSearch.data.files && parentSearch.data.files.length > 0) {\n      const parentFolderId = parentSearch.data.files[0].id!;\n      const sanitizedUserId = userId.replace(/[^a-zA-Z0-9@._-]/g, '_');\n      const userFolderName = `User: ${sanitizedUserId}`;\n\n      // Find user folder\n      const userFolderSearch = await drive.files.list({\n        q: `name='${userFolderName}' and mimeType='application/vnd.google-apps.folder' and '${parentFolderId}' in parents and trashed=false`,\n        fields: 'files(id)',\n        spaces: 'drive',\n      });\n\n      if (userFolderSearch.data.files && userFolderSearch.data.files.length > 0) {\n        userFolderId = userFolderSearch.data.files[0].id!;\n      }\n    }\n  } catch (error: any) {\n    logger.warn(`[Google Drive] Failed to find user folder for ${userId}:`, error);\n    // Continue with root search as fallback\n  }\n\n  // Search for backup files in user's folder (or root if folder not found)\n  const folderQuery = userFolderId\n    ? `'${userFolderId}' in parents`\n    : \"name contains 'prepflow-backup'\";\n  const response = await drive.files.list({\n    q: `${folderQuery} and trashed = false`,\n    fields: 'files(id, name, size, createdTime, modifiedTime)',\n    orderBy: 'createdTime desc',\n  });\n\n  if (!response.data.files) {\n    return [];\n  }\n\n  const backupFiles: BackupFile[] = (response.data.files || []).map(file => {\n    const filename = file.name || '';\n    const format = filename.endsWith('.pfbk')\n      ? 'encrypted'\n      : filename.endsWith('.sql')\n        ? 'sql'\n        : 'json';\n    const encryptionMode = filename.endsWith('.pfbk') ? 'prepflow-only' : undefined; // Default assumption\n\n    return {\n      id: file.id || '',\n      filename: filename,\n      size: parseInt(file.size || '0', 10),\n      createdAt: file.createdTime || new Date().toISOString(),\n      format: format as 'json' | 'sql' | 'encrypted',\n      encryptionMode: encryptionMode as 'user-password' | 'prepflow-only' | undefined,\n      googleDriveFileId: file.id || undefined,\n    };\n  });\n\n  return backupFiles;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/oauth-client.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/oauth-client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/oauth-flow.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/oauth-flow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/oauth-state.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/oauth-state.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1372,1375],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1372,1375],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * OAuth state token generation and verification for Google Drive.\n */\n\nimport { logger } from '@/lib/logger';\n\n/**\n * Generate a secure state token for OAuth flow.\n * Includes user ID and a timestamp for validation.\n *\n * @param {string} userId - User ID (email)\n * @returns {string} Base64 encoded state token\n */\nexport function generateSecureState(userId: string): string {\n  const stateData = {\n    userId,\n    timestamp: Date.now(),\n    nonce: crypto.getRandomValues(new Uint8Array(16)).toString(),\n  };\n  return Buffer.from(JSON.stringify(stateData)).toString('base64');\n}\n\n/**\n * Verify and extract user ID from secure state token.\n *\n * @param {string} stateToken - State token from OAuth callback\n * @param {number} maxAgeMs - Maximum age of state token in milliseconds (default: 10 minutes)\n * @returns {string} User ID if valid\n * @throws {Error} If state is invalid or expired\n */\nexport function verifySecureState(stateToken: string, maxAgeMs: number = 10 * 60 * 1000): string {\n  try {\n    const stateData = JSON.parse(Buffer.from(stateToken, 'base64').toString());\n    const age = Date.now() - stateData.timestamp;\n\n    if (age > maxAgeMs) {\n      throw new Error('OAuth state token expired');\n    }\n\n    if (!stateData.userId) {\n      throw new Error('Invalid OAuth state token: missing userId');\n    }\n\n    return stateData.userId;\n  } catch (error: any) {\n    logger.error('[Google Drive] Failed to verify state token:', error);\n    throw new Error('Invalid OAuth state token');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/token-management.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/token-management.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1016,1019],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1016,1019],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1273,1276],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1273,1276],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":82,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2267,2270],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2267,2270],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Token storage and retrieval for Google Drive authentication.\n */\n\nimport { logger } from '@/lib/logger';\nimport { createSupabaseAdmin } from '@/lib/supabase';\nimport { encryptToken, decryptToken } from '../token-encryption';\n\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Get encrypted refresh token from database.\n *\n * @param {string} userId - User ID (email)\n * @returns {Promise<string | null>} Encrypted refresh token or null\n */\nexport async function getEncryptedRefreshToken(userId: string): Promise<string | null> {\n  const supabase = createSupabaseAdmin();\n\n  const { data, error } = await supabase\n    .from('user_google_tokens')\n    .select('encrypted_refresh_token')\n    .eq('user_id', userId)\n    .single();\n\n  if (error) {\n    if ((error as any).code !== 'PGRST116') {\n      // PGRST116 is \"not found\" - that's okay, user hasn't connected Google Drive\n      logger.warn('[Google Drive] Error fetching refresh token:', {\n        error: error.message,\n        code: (error as any).code,\n        userId,\n      });\n    }\n    return null;\n  }\n\n  if (!data) {\n    return null;\n  }\n\n  try {\n    // Decrypt the token\n    const decryptedToken = await decryptToken(data.encrypted_refresh_token);\n    return decryptedToken;\n  } catch (error: any) {\n    logger.error(`[Google Drive] Failed to decrypt token for user ${userId}:`, error);\n    // If decryption fails, token is invalid - return null to trigger re-auth\n    return null;\n  }\n}\n\n/**\n * Store encrypted refresh token in database.\n *\n * @param {string} userId - User ID (email)\n * @param {string} refreshToken - Refresh token to encrypt and store\n */\nexport async function storeEncryptedRefreshToken(\n  userId: string,\n  refreshToken: string,\n): Promise<void> {\n  const supabase = createSupabaseAdmin();\n\n  // Encrypt the token before storing\n  const encryptedToken = await encryptToken(refreshToken);\n\n  const { error } = await supabase.from('user_google_tokens').upsert(\n    {\n      user_id: userId,\n      encrypted_refresh_token: encryptedToken,\n      updated_at: new Date().toISOString(),\n    },\n    {\n      onConflict: 'user_id',\n    },\n  );\n\n  if (error) {\n    logger.error('[Google Drive] Error storing refresh token:', {\n      error: error.message,\n      code: (error as any).code,\n      userId,\n    });\n    throw ApiErrorHandler.createError('Database error', 'DATABASE_ERROR', 500);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/upload.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/google-drive/upload.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/helpers/delete-tables.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/helpers/delete-tables.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1231,1234],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1231,1234],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1709,1712],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1709,1712],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":72,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2233,2236],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2233,2236],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":86,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":86,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2702,2705],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2702,2705],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":108,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":108,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3321,3324],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3321,3324],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Table deletion helpers for restore operations.\n */\nimport { logger } from '@/lib/logger';\nimport type { SupabaseClient } from '@supabase/supabase-js';\n\n// Type-safe interface for Supabase/Postgrest errors\ninterface PostgrestErrorLike {\n  message: string;\n  code?: string;\n  details?: string;\n  hint?: string;\n}\n\n/** Delete records from a table by user_id. */\nasync function deleteByUserId(\n  supabase: SupabaseClient,\n  tableName: string,\n  userId: string,\n): Promise<void> {\n  const { error } = await supabase.from(tableName).delete().eq('user_id', userId);\n  if (error) {\n    logger.warn('[Restore] Error deleting records by user_id:', {\n      error: error.message,\n      code: (error as PostgrestErrorLike).code,\n      context: { tableName, userId, operation: 'deleteByUserId' },\n    });\n  }\n}\n\n/** Delete order list items via parent order lists. */\nasync function deleteOrderListItems(supabase: SupabaseClient, userId: string): Promise<void> {\n  const { data: orderLists, error: fetchError } = await supabase\n    .from('order_lists')\n    .select('id')\n    .eq('user_id', userId);\n\n  if (fetchError) {\n    logger.warn('[Restore] Error fetching order lists:', {\n      error: fetchError.message,\n      code: (fetchError as any).code,\n      context: { userId, operation: 'deleteOrderListItems' },\n    });\n  }\n\n  if (orderLists && orderLists.length > 0) {\n    const orderListIds = orderLists.map(r => r.id);\n    const { error: deleteError } = await supabase\n      .from('order_list_items')\n      .delete()\n      .in('order_list_id', orderListIds);\n    if (deleteError) {\n      logger.warn('[Restore] Error deleting order list items:', {\n        error: deleteError.message,\n        code: (deleteError as any).code,\n        context: { orderListIds, operation: 'deleteOrderListItems' },\n      });\n    }\n  }\n}\n\n/** Delete prep list items via parent prep lists. */\nasync function deletePrepListItems(supabase: SupabaseClient, userId: string): Promise<void> {\n  const { data: prepLists, error: fetchError } = await supabase\n    .from('prep_lists')\n    .select('id')\n    .eq('user_id', userId);\n\n  if (fetchError) {\n    logger.warn('[Restore] Error fetching prep lists:', {\n      error: fetchError.message,\n      code: (fetchError as any).code,\n      context: { userId, operation: 'deletePrepListItems' },\n    });\n  }\n\n  if (prepLists && prepLists.length > 0) {\n    const prepListIds = prepLists.map(r => r.id);\n    const { error: deleteError } = await supabase\n      .from('prep_list_items')\n      .delete()\n      .in('prep_list_id', prepListIds);\n    if (deleteError) {\n      logger.warn('[Restore] Error deleting prep list items:', {\n        error: deleteError.message,\n        code: (deleteError as any).code,\n        context: { prepListIds, operation: 'deletePrepListItems' },\n      });\n    }\n  }\n}\n\n/** Delete records from a table, handling child tables appropriately. */\nexport async function deleteTableRecords(\n  supabase: SupabaseClient,\n  tableName: string,\n  userId: string,\n): Promise<void> {\n  // Get user's records to delete\n  const { data: existingRecords, error: fetchError } = await supabase\n    .from(tableName)\n    .select('id')\n    .eq('user_id', userId);\n\n  if (fetchError) {\n    logger.warn('[Restore] Error fetching existing records:', {\n      error: fetchError.message,\n      code: (fetchError as any).code,\n      context: { tableName, userId, operation: 'deleteTableRecords' },\n    });\n  }\n\n  if (!existingRecords || existingRecords.length === 0) {\n    return; // No records to delete\n  }\n\n  // For child tables, delete by foreign key\n  if (tableName === 'order_list_items') {\n    await deleteOrderListItems(supabase, userId);\n  } else if (tableName === 'prep_list_items') {\n    await deletePrepListItems(supabase, userId);\n  } else {\n    // Parent table - delete by user_id\n    await deleteByUserId(supabase, tableName, userId);\n  }\n}\n\n/** Delete multiple tables, collecting errors. */\nexport async function deleteTables(\n  supabase: SupabaseClient,\n  tableNames: string[],\n  userId: string,\n): Promise<string[]> {\n  const errors: string[] = [];\n\n  for (const tableName of tableNames) {\n    try {\n      await deleteTableRecords(supabase, tableName, userId);\n    } catch (error: unknown) {\n      const message = error instanceof Error ? error.message : String(error);\n      // Skip tables that don't exist\n      if (message?.includes('does not exist')) {\n        logger.dev(`[Restore] Skipping table ${tableName}: ${message}`);\n        continue;\n      }\n      errors.push(`Failed to delete ${tableName}: ${message}`);\n    }\n  }\n\n  return errors;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/helpers/insert-records.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/helpers/insert-records.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[335,338],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[335,338],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1356,1359],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1356,1359],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Record insertion helpers for restore operations.\n */\n\nimport { logger } from '@/lib/logger';\nimport type { SupabaseClient } from '@supabase/supabase-js';\n\nconst BATCH_SIZE = 100;\n\n/**\n * Insert records into a table in batches.\n */\nexport async function insertRecords(\n  supabase: SupabaseClient,\n  tableName: string,\n  records: any[],\n  userId: string,\n): Promise<{ insertedCount: number; error?: string }> {\n  if (records.length === 0) {\n    return { insertedCount: 0 };\n  }\n\n  let insertedCount = 0;\n\n  try {\n    for (let i = 0; i < records.length; i += BATCH_SIZE) {\n      const batch = records.slice(i, i + BATCH_SIZE);\n\n      // Ensure user_id is set on all records\n      const batchWithUserId = batch.map(record => ({\n        ...record,\n        user_id: userId,\n      }));\n\n      const { error } = await supabase.from(tableName).insert(batchWithUserId);\n\n      if (error) {\n        // Skip tables that don't exist\n        if (error.message?.includes('does not exist')) {\n          logger.dev(`[Restore] Skipping table ${tableName}: ${error.message}`);\n          return { insertedCount, error: `Table ${tableName} does not exist` };\n        }\n        throw error;\n      }\n\n      insertedCount += batch.length;\n    }\n\n    logger.dev(`[Restore] Restored ${insertedCount} records to ${tableName}`);\n    return { insertedCount };\n  } catch (error: any) {\n    logger.error('[insert-records.ts] Error in catch block:', {\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n    });\n\n    return {\n      insertedCount,\n      error: `Failed to restore ${tableName}: ${error.message}`,\n    };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/helpers/merge-records.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/helpers/merge-records.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/helpers/merge-records/helpers/processBatches.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/helpers/merge-records/helpers/processBatches.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[266,269],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[266,269],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[486,489],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[486,489],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[758,761],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[758,761],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1128,1131],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1128,1131],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport type { SupabaseClient } from '@supabase/supabase-js';\n\nconst BATCH_SIZE = 100;\n\n/**\n * Process insert batch\n */\nexport async function processInsertBatch(\n  supabase: SupabaseClient,\n  tableName: string,\n  batchToInsert: any[],\n): Promise<void> {\n  const { error } = await supabase.from(tableName).insert(batchToInsert);\n  if (error) {\n    logger.error('[Restore] Error inserting batch:', {\n      error: error.message,\n      code: (error as any).code,\n      context: { tableName, batchSize: batchToInsert.length, operation: 'insertBatch' },\n    });\n    throw error;\n  }\n}\n\n/**\n * Process update batch\n */\nexport async function processUpdateBatch(\n  supabase: SupabaseClient,\n  tableName: string,\n  batchToUpdate: any[],\n  userId: string,\n): Promise<void> {\n  for (const updateRecord of batchToUpdate) {\n    const { error } = await supabase\n      .from(tableName)\n      .update(updateRecord)\n      .eq('id', updateRecord.id)\n      .eq('user_id', userId);\n\n    if (error) {\n      logger.error('[Restore] Error updating record:', {\n        error: error.message,\n        code: (error as any).code,\n        context: { tableName, recordId: updateRecord.id, operation: 'updateRecord' },\n      });\n      throw error;\n    }\n  }\n}\n\nexport { BATCH_SIZE };\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/helpers/validate-restore.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/helpers/validate-restore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/restore-full.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/restore-full.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/restore-merge.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/restore-merge.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":79,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2464,2467],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2464,2467],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Merge restore operation - merges backup data with existing data.\n */\n\nimport { createSupabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { BackupData, RestoreResult, MergeOptions } from '../types';\nimport { validateBackupUser } from './helpers/validate-restore';\nimport { getExistingRecords, mergeRecords } from './helpers/merge-records';\n\n/**\n * Default merge options.\n */\nfunction getDefaultMergeOptions(options?: MergeOptions): MergeOptions {\n  return {\n    conflictResolution: options?.conflictResolution || 'skip',\n    skipExisting: options?.skipExisting !== false,\n    updateExisting: options?.updateExisting || false,\n    createNewIds: options?.createNewIds || false,\n  };\n}\n\n/**\n * Restore selected tables only (selective restore).\n * Deletes selected tables, then inserts backup data for those tables.\n *\n * @param {string} userId - User ID (email)\n * @param {BackupData} backup - Backup data to restore\n * @param {MergeOptions} options - Merge options\n * @returns {Promise<RestoreResult>} Restore result\n */\nexport async function restoreMerge(\n  userId: string,\n  backup: BackupData,\n  options?: MergeOptions,\n): Promise<RestoreResult> {\n  const supabase = createSupabaseAdmin();\n  const tablesRestored: string[] = [];\n  const recordsRestored: Record<string, number> = {};\n  const conflicts: Record<string, number> = {};\n  const errors: string[] = [];\n\n  // Validate backup user ID matches current user\n  validateBackupUser(userId, backup);\n\n  // Default merge options\n  const mergeOptions = getDefaultMergeOptions(options);\n\n  // Process each table\n  for (const [tableName, records] of Object.entries(backup.tables)) {\n    if (records.length === 0) {\n      continue;\n    }\n\n    try {\n      // Get existing records to check for conflicts\n      const existingRecords = await getExistingRecords(supabase, tableName, userId);\n\n      // Merge records\n      const { insertedCount, conflictCount, error } = await mergeRecords(\n        supabase,\n        tableName,\n        records,\n        existingRecords,\n        userId,\n        mergeOptions,\n      );\n\n      if (error) {\n        errors.push(error);\n        logger.error(`[Restore] ${error}`);\n      } else if (insertedCount > 0 || conflictCount > 0) {\n        tablesRestored.push(tableName);\n        recordsRestored[tableName] = insertedCount;\n        if (conflictCount > 0) {\n          conflicts[tableName] = conflictCount;\n        }\n      }\n    } catch (error: any) {\n      if (error.message?.includes('does not exist')) {\n        logger.dev(`[Restore] Skipping table ${tableName}: ${error.message}`);\n        continue;\n      }\n      errors.push(`Failed to merge ${tableName}: ${error.message}`);\n      logger.error(`[Restore] Failed to merge ${tableName}:`, error);\n    }\n  }\n\n  return {\n    success: errors.length === 0,\n    tablesRestored,\n    recordsRestored,\n    conflicts,\n    errors: errors.length > 0 ? errors : undefined,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/restore-selective.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/restore/restore-selective.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1397,1400],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1397,1400],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Selective restore operation - restores only specified tables.\n */\n\nimport { createSupabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { BackupData, RestoreResult } from '../types';\nimport { validateBackupUser, validateTablesExist } from './helpers/validate-restore';\nimport { deleteTableRecords } from './helpers/delete-tables';\nimport { insertRecords } from './helpers/insert-records';\n\n/**\n * Restore selected tables only (selective restore).\n * Deletes selected tables, then inserts backup data for those tables.\n *\n * @param {string} userId - User ID (email)\n * @param {BackupData} backup - Backup data to restore\n * @param {string[]} tables - Array of table names to restore\n * @returns {Promise<RestoreResult>} Restore result\n */\nexport async function restoreSelective(\n  userId: string,\n  backup: BackupData,\n  tables: string[],\n): Promise<RestoreResult> {\n  const supabase = createSupabaseAdmin();\n  const tablesRestored: string[] = [];\n  const recordsRestored: Record<string, number> = {};\n  const errors: string[] = [];\n\n  // Validate backup user ID matches current user\n  validateBackupUser(userId, backup);\n\n  // Validate tables exist in backup\n  validateTablesExist(backup, tables);\n\n  // Delete selected tables\n  for (const tableName of tables) {\n    try {\n      await deleteTableRecords(supabase, tableName, userId);\n    } catch (error: any) {\n      if (error.message?.includes('does not exist')) {\n        logger.dev(`[Restore] Skipping table ${tableName}: ${error.message}`);\n        continue;\n      }\n      errors.push(`Failed to delete ${tableName}: ${error.message}`);\n    }\n  }\n\n  // Insert backup data for selected tables\n  for (const tableName of tables) {\n    const records = backup.tables[tableName];\n    if (!records || records.length === 0) {\n      continue;\n    }\n\n    const { insertedCount, error } = await insertRecords(supabase, tableName, records, userId);\n\n    if (error) {\n      errors.push(error);\n    } else if (insertedCount > 0) {\n      tablesRestored.push(tableName);\n      recordsRestored[tableName] = insertedCount;\n    }\n  }\n\n  return {\n    success: errors.length === 0,\n    tablesRestored,\n    recordsRestored,\n    conflicts: {},\n    errors: errors.length > 0 ? errors : undefined,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/scheduler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/scheduler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1664,1667],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1664,1667],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Scheduled backup system - runs automatic backups at configured intervals.\n */\nimport { createSupabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { BackupSchedule } from './types';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { runUserScheduledBackup } from './scheduler/helpers/runUserScheduledBackup';\n\n/** Run scheduled backups for all users with enabled schedules. */\nexport async function runScheduledBackups(): Promise<void> {\n  const supabase = createSupabaseAdmin();\n  const now = new Date();\n\n  // Get all enabled schedules where next_backup_at is in the past\n  const { data: schedules, error } = await supabase\n    .from('backup_schedules')\n    .select('*')\n    .eq('enabled', true)\n    .lte('next_backup_at', now.toISOString());\n\n  if (error) {\n    logger.error('[Backup Scheduler] Error fetching schedules:', error);\n    return;\n  }\n\n  if (!schedules || schedules.length === 0) {\n    logger.dev('[Backup Scheduler] No scheduled backups to run');\n    return;\n  }\n\n  logger.info(`[Backup Scheduler] Running ${schedules.length} scheduled backup(s)`);\n\n  for (const schedule of schedules) {\n    try {\n      // Map database fields (snake_case) to interface (camelCase)\n      const mappedSchedule: BackupSchedule = {\n        userId: schedule.user_id,\n        intervalHours: schedule.interval_hours,\n        lastBackupAt: schedule.last_backup_at || undefined,\n        nextBackupAt: schedule.next_backup_at || undefined,\n        enabled: schedule.enabled,\n        autoUploadToDrive: schedule.auto_upload_to_drive,\n      };\n      await runUserScheduledBackup(mappedSchedule);\n    } catch (error: any) {\n      logger.error(`[Backup Scheduler] Failed to run backup for user ${schedule.user_id}:`, error);\n    }\n  }\n}\n\n/** Schedule backup for a user. */\nexport async function scheduleBackup(\n  userId: string,\n  intervalHours: number,\n  enabled: boolean = true,\n  autoUploadToDrive: boolean = false,\n): Promise<void> {\n  const supabase = createSupabaseAdmin();\n\n  const nextBackupAt = enabled ? new Date(Date.now() + intervalHours * 60 * 60 * 1000) : null;\n\n  const { error } = await supabase.from('backup_schedules').upsert(\n    {\n      user_id: userId,\n      interval_hours: intervalHours,\n      enabled,\n      auto_upload_to_drive: autoUploadToDrive,\n      next_backup_at: nextBackupAt?.toISOString() || null,\n      updated_at: new Date().toISOString(),\n    },\n    {\n      onConflict: 'user_id',\n    },\n  );\n\n  if (error) {\n    throw ApiErrorHandler.createError('Database error', 'DATABASE_ERROR', 500);\n  }\n}\n\n/** Cancel scheduled backup for a user. */\nexport async function cancelScheduledBackup(userId: string): Promise<void> {\n  const supabase = createSupabaseAdmin();\n\n  const { error } = await supabase.from('backup_schedules').delete().eq('user_id', userId);\n\n  if (error) {\n    throw ApiErrorHandler.createError('Database error', 'DATABASE_ERROR', 500);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/scheduler/helpers/runUserScheduledBackup.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/scheduler/helpers/runUserScheduledBackup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/token-encryption.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/token-encryption.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":65,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2041,2044],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2041,2044],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":88,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":88,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2830,2833],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2830,2833],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Token encryption utilities for Google OAuth refresh tokens.\n * Uses AES-256-GCM encryption with a server-side key.\n */\n\nimport { logger } from '@/lib/logger';\n\nconst ENCRYPTION_KEY_ENV = 'GOOGLE_TOKEN_ENCRYPTION_KEY';\nconst IV_LENGTH = 12; // GCM recommended IV length\nconst AUTH_TAG_LENGTH = 16; // GCM auth tag length\n\n/**\n * Get encryption key from environment variable.\n *\n * @returns {Promise<CryptoKey>} Encryption key\n * @throws {Error} If key is not configured\n */\nasync function getEncryptionKey(): Promise<CryptoKey> {\n  const keyHex = process.env[ENCRYPTION_KEY_ENV];\n\n  if (!keyHex) {\n    throw new Error(`${ENCRYPTION_KEY_ENV} environment variable is not set`);\n  }\n\n  // Validate key length (should be 64 hex characters = 32 bytes)\n  if (keyHex.length !== 64) {\n    throw new Error(`${ENCRYPTION_KEY_ENV} must be 64 hex characters (32 bytes)`);\n  }\n\n  // Convert hex string to bytes\n  const keyBytes = new Uint8Array(32);\n  for (let i = 0; i < 32; i++) {\n    keyBytes[i] = parseInt(keyHex.substr(i * 2, 2), 16);\n  }\n\n  return crypto.subtle.importKey('raw', keyBytes, { name: 'AES-GCM', length: 256 }, false, [\n    'encrypt',\n    'decrypt',\n  ]);\n}\n\n/**\n * Encrypts a refresh token for storage.\n *\n * @param {string} token - Refresh token to encrypt\n * @returns {Promise<string>} Encrypted token (base64 encoded)\n */\nexport async function encryptToken(token: string): Promise<string> {\n  try {\n    const key = await getEncryptionKey();\n    const iv = crypto.getRandomValues(new Uint8Array(IV_LENGTH));\n    const encoder = new TextEncoder();\n    const data = encoder.encode(token);\n\n    const encrypted = await crypto.subtle.encrypt({ name: 'AES-GCM', iv }, key, data);\n    const encryptedArray = new Uint8Array(encrypted);\n\n    // Combine IV + encrypted data + auth tag\n    const combined = new Uint8Array(IV_LENGTH + encryptedArray.length);\n    combined.set(iv, 0);\n    combined.set(encryptedArray, IV_LENGTH);\n\n    // Convert to base64 for storage\n    return Buffer.from(combined).toString('base64');\n  } catch (error: any) {\n    logger.error('[Token Encryption] Failed to encrypt token:', error);\n    throw new Error('Failed to encrypt token');\n  }\n}\n\n/**\n * Decrypts a refresh token from storage.\n *\n * @param {string} encryptedToken - Encrypted token (base64 encoded)\n * @returns {Promise<string>} Decrypted refresh token\n */\nexport async function decryptToken(encryptedToken: string): Promise<string> {\n  try {\n    const key = await getEncryptionKey();\n    const combined = Buffer.from(encryptedToken, 'base64');\n    const iv = combined.slice(0, IV_LENGTH);\n    const encryptedData = combined.slice(IV_LENGTH);\n\n    const decrypted = await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, encryptedData);\n    const decoder = new TextDecoder();\n\n    return decoder.decode(decrypted);\n  } catch (error: any) {\n    logger.error('[Token Decryption] Failed to decrypt token:', error);\n    throw new Error(\n      'Failed to decrypt token. Token may be corrupted or encryption key may have changed.',\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/backup/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing-sync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing-sync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing-sync/helpers/syncAllSubscriptions.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing-sync/helpers/syncAllSubscriptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing-sync/helpers/syncCustomerEmails.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing-sync/helpers/syncCustomerEmails.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing-sync/helpers/syncUserSubscription.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing-sync/helpers/syncUserSubscription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing/helpers/createStripeCustomer.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing/helpers/createStripeCustomer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing/helpers/getCachedCustomerId.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing/helpers/getCachedCustomerId.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing/helpers/searchCustomerByEmail.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing/helpers/searchCustomerByEmail.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing/helpers/upsertCustomerMapping.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing/helpers/upsertCustomerMapping.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing/helpers/verifyCachedCustomer.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/billing/helpers/verifyCachedCustomer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cache/data-cache.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cache/data-cache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cache/prefetch-config.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cache/prefetch-config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cache/recipe-cache.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cache/recipe-cache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/completion-logic.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/completion-logic.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateBiDaily.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateBiDaily.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateDaily.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateDaily.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateDayOfWeek.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateDayOfWeek.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateEveryNDays.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateEveryNDays.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateMonthly.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateMonthly.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateQuarterly.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateQuarterly.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateWeekly.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/frequency-calculator/helpers/calculateWeekly.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/standard-tasks.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/cleaning/standard-tasks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/australian-standards.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/australian-standards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-generator.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-generator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/allergens.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/allergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/business-info.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/business-info.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/cleaning-records.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/cleaning-records.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/compliance-gaps.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/compliance-gaps.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/compliance-records.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/compliance-records.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/employee-roster.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/employee-roster.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/equipment-maintenance.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/equipment-maintenance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/executive-summary.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/executive-summary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/haccp.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/haccp.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/incidents.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/incidents.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/procedures.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/procedures.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/qualification-summary.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/qualification-summary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/sanitizer-logs.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/sanitizer-logs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/staff-health.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/staff-health.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/supplier-verification.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/supplier-verification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/temperature-logs.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/temperature-logs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/temperature-violations.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/temperature-violations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/waste-management.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-sections/waste-management.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-types/ExecutiveSummary.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-types/ExecutiveSummary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-types/ReportData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-types/ReportData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/compliance/report-types/report-item-types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/constants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/country-config.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/country-config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/country-config/configs.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/country-config/configs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/country-config/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/country-config/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/country-config/utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/country-config/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/css-optimization.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/css-optimization.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/csv-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/csv-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/csv-utils/helpers/exportCSV.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/csv-utils/helpers/exportCSV.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[396,399],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[396,399],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1397,1400],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1397,1400],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Papa from 'papaparse';\nimport { logger } from '@/lib/logger';\n\n/**\n * Export data to CSV file with proper formatting\n *\n * @param {any[]} data - Data array to export\n * @param {string[]} headers - Column headers\n * @param {string} filename - Filename for download\n * @param {boolean} includeHeaders - Whether to include headers row (default: true)\n */\nexport function exportToCSV(\n  data: any[],\n  headers: string[],\n  filename: string,\n  includeHeaders = true,\n): void {\n  if (!data || data.length === 0) {\n    logger.warn('[CSV Export] No data to export');\n    return;\n  }\n\n  const csv = Papa.unparse(data, {\n    columns: headers,\n    header: includeHeaders,\n    delimiter: ',',\n    newline: '\\n',\n    quoteChar: '\"',\n    escapeChar: '\"',\n  });\n\n  const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n  const url = window.URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  window.URL.revokeObjectURL(url);\n}\n\n/**\n * Export data to CSV string (for server-side use)\n *\n * @param {any[]} data - Data array to export\n * @param {string[]} headers - Column headers\n * @param {boolean} includeHeaders - Whether to include headers row (default: true)\n * @returns {string} CSV string\n */\nexport function exportToCSVString(data: any[], headers: string[], includeHeaders = true): string {\n  if (!data || data.length === 0) {\n    return '';\n  }\n\n  return Papa.unparse(data, {\n    columns: headers,\n    header: includeHeaders,\n    delimiter: ',',\n    newline: '\\n',\n    quoteChar: '\"',\n    escapeChar: '\"',\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/csv-utils/helpers/parseCSV.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/csv-utils/helpers/parseCSV.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[376,379],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[376,379],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Papa from 'papaparse';\nimport { logger } from '@/lib/logger';\nimport type { ParseCSVOptions, ParseCSVResult } from '../types';\n\n/**\n * Parse CSV text using PapaParse\n *\n * @param {string} csvText - CSV text to parse\n * @param {ParseCSVOptions} options - Parsing options\n * @returns {ParseCSVResult} Parsed data with errors and metadata\n */\nexport function parseCSV<T = any>(\n  csvText: string,\n  options: ParseCSVOptions = {},\n): ParseCSVResult<T> {\n  const config: Papa.ParseConfig = {\n    header: options.header ?? true,\n    skipEmptyLines: options.skipEmptyLines ?? true,\n    transformHeader: options.transformHeader,\n    transform: options.transform,\n    delimiter: ',',\n    newline: '\\n',\n    quoteChar: '\"',\n    escapeChar: '\"',\n  };\n\n  const result = Papa.parse<T>(csvText, config);\n\n  if (result.errors.length > 0) {\n    logger.warn('[CSV Parse] Parse errors:', result.errors);\n  }\n\n  return {\n    data: result.data,\n    errors: result.errors,\n    meta: result.meta,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/csv-utils/helpers/validateCSV.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/csv-utils/helpers/validateCSV.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/csv-utils/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/csv-utils/types.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[184,187],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[184,187],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[207,210],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[207,210],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[251,254],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[251,254],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Papa from 'papaparse';\n\nexport interface ParseCSVOptions {\n  header?: boolean;\n  skipEmptyLines?: boolean;\n  transformHeader?: (header: string) => string;\n  transform?: (value: any, field: string) => any;\n}\n\nexport interface ParseCSVResult<T = any> {\n  data: T[];\n  errors: Papa.ParseError[];\n  meta: Papa.ParseMeta;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation/helpers/schemas.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation/helpers/schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation/helpers/transformCSVData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation/helpers/transformCSVData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[404,407],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[404,407],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { ValidationSchema } from '../types';\n\n/**\n * Transform CSV data according to schema rules\n *\n * @param {T[]} data - Data to transform\n * @param {ValidationSchema} schema - Schema with transform functions\n * @returns {T[]} Transformed data\n */\nexport function transformCSVData<T extends object>(data: T[], schema: ValidationSchema): T[] {\n  return data.map(row => {\n    const transformedRow: any = { ...row };\n\n    Object.entries(schema).forEach(([field, rule]) => {\n      if (rule.transform && transformedRow[field] !== undefined) {\n        transformedRow[field] = rule.transform(transformedRow[field]);\n      }\n    });\n\n    return transformedRow as T;\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation/helpers/validateCSVData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation/helpers/validateCSVData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[489,492],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[489,492],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { ValidationSchema, ValidationResult, ValidationError } from '../types';\nimport { validateValue } from './validateValue';\n\n/**\n * Validate CSV data against a schema\n *\n * @param {any[]} data - Data rows to validate\n * @param {ValidationSchema} schema - Validation schema\n * @param {boolean} stopOnFirstError - Stop validation on first error (default: false)\n * @returns {ValidationResult} Validation result with errors and warnings\n */\nexport function validateCSVData(\n  data: any[],\n  schema: ValidationSchema,\n  stopOnFirstError = false,\n): ValidationResult {\n  const errors: ValidationError[] = [];\n  const warnings: ValidationError[] = [];\n\n  data.forEach((row, index) => {\n    const rowNumber = index + 1;\n\n    Object.entries(schema).forEach(([field, rule]) => {\n      const value = row[field];\n      const error = validateValue(value, rule, field);\n\n      if (error) {\n        errors.push({\n          row: rowNumber,\n          field,\n          value,\n          error,\n        });\n\n        if (stopOnFirstError) {\n          return;\n        }\n      }\n    });\n\n    if (stopOnFirstError && errors.length > 0) {\n      return;\n    }\n  });\n\n  return {\n    valid: errors.length === 0,\n    errors,\n    warnings,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation/helpers/validateValue.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation/helpers/validateValue.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[351,354],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[351,354],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { ValidationRule } from '../types';\n\n/**\n * Validate a single value against a rule\n *\n * @param {any} value - Value to validate\n * @param {ValidationRule} rule - Validation rule\n * @param {string} fieldName - Field name for error messages\n * @returns {string | null} Error message or null if valid\n */\nexport function validateValue(value: any, rule: ValidationRule, fieldName: string): string | null {\n  if (rule.required && (value === null || value === undefined || value === '')) {\n    return `${fieldName} is required`;\n  }\n\n  if (value === null || value === undefined || value === '') {\n    return null;\n  }\n\n  if (rule.type) {\n    switch (rule.type) {\n      case 'string':\n        if (typeof value !== 'string') {\n          return `${fieldName} must be a string`;\n        }\n        break;\n      case 'number':\n        const numValue = typeof value === 'string' ? parseFloat(value) : value;\n        if (isNaN(numValue)) {\n          return `${fieldName} must be a number`;\n        }\n        if (rule.min !== undefined && numValue < rule.min) {\n          return `${fieldName} must be at least ${rule.min}`;\n        }\n        if (rule.max !== undefined && numValue > rule.max) {\n          return `${fieldName} must be at most ${rule.max}`;\n        }\n        break;\n      case 'boolean':\n        if (\n          typeof value !== 'boolean' &&\n          value !== 'true' &&\n          value !== 'false' &&\n          value !== '1' &&\n          value !== '0'\n        ) {\n          return `${fieldName} must be a boolean`;\n        }\n        break;\n      case 'date':\n        const dateValue = new Date(value);\n        if (isNaN(dateValue.getTime())) {\n          return `${fieldName} must be a valid date`;\n        }\n        break;\n      case 'email':\n        const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailPattern.test(String(value))) {\n          return `${fieldName} must be a valid email address`;\n        }\n        break;\n    }\n  }\n\n  if (rule.pattern && typeof value === 'string') {\n    if (!rule.pattern.test(value)) {\n      return `${fieldName} does not match required pattern`;\n    }\n  }\n\n  if (rule.custom) {\n    const customResult = rule.custom(value);\n    if (customResult !== true) {\n      return typeof customResult === 'string' ? customResult : `${fieldName} validation failed`;\n    }\n  }\n\n  return null;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/csv/validation/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/curbos/public-token-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/curbos/public-token-helpers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[451,454],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[451,454],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":39,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1059,1062],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1059,1062],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper functions for CurbOS public token operations\n */\n\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport crypto from 'crypto';\n\n/**\n * Generate a secure public token for CurbOS display\n */\nexport function generatePublicToken(): string {\n  return crypto.randomBytes(32).toString('hex'); // 64-character hex string\n}\n\n/**\n * Handle token fetch errors\n */\nexport function handleTokenFetchError(error: any, userEmail: string): void {\n  logger.error('[CurbOS Public Token] Error fetching existing token:', {\n    error: error.message,\n    code: error.code,\n    details: error.details,\n    hint: error.hint,\n    userEmail,\n  });\n\n  // Check if table doesn't exist (common error code)\n  if (error.code === '42P01' || error.message?.includes('does not exist')) {\n    logger.error(\n      '[CurbOS Public Token] Table curbos_public_tokens does not exist. Please run migration: migrations/add-curbos-public-tokens.sql',\n    );\n  }\n}\n\n/**\n * Handle token insert errors\n */\nexport function handleTokenInsertError(error: any, userEmail: string): void {\n  logger.error('[CurbOS Public Token] Error inserting new token:', {\n    error: error.message,\n    code: error.code,\n    details: error.details,\n    hint: error.hint,\n    userEmail,\n  });\n\n  // Check for common errors\n  if (error.code === '42P01' || error.message?.includes('does not exist')) {\n    logger.error(\n      '[CurbOS Public Token] Table curbos_public_tokens does not exist. Please run migration: migrations/add-curbos-public-tokens.sql',\n    );\n  } else if (error.code === '23505') {\n    logger.error(\n      '[CurbOS Public Token] Unique constraint violation. Token or email already exists.',\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/curbos/public-token.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/curbos/public-token.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/curbos/tier-access.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/curbos/tier-access.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[834,837],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[834,837],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { isAdmin as checkUserAdminRole } from '@/lib/admin-utils';\nimport { isEmailAllowed } from '@/lib/allowlist';\nimport { evaluateGateAsync } from '@/lib/feature-gate';\nimport { logger } from '@/lib/logger';\nimport { NextRequest } from 'next/server';\n\n/**\n * Check if user has CurbOS access (Business tier required, or admin via allowlist/role)\n */\nexport async function hasCurbOSAccess(userEmail: string, req?: NextRequest): Promise<boolean> {\n  try {\n    // 1. Admin access (hardcoded allowlist)\n    if (isEmailAllowed(userEmail)) {\n      logger.dev('[CurbOS] Access granted via allowlist:', { userEmail });\n      return true;\n    }\n\n    // 2. Auth0 Admin Role check (if request is provided)\n    if (req) {\n      try {\n        const { auth0 } = await import('@/lib/auth0');\n        const session = await auth0.getSession(req as any);\n        if (session?.user) {\n          const isUserAdmin = checkUserAdminRole(session.user);\n          if (isUserAdmin) {\n            logger.dev('[CurbOS] Access granted via Auth0 admin role:', {\n              email: session.user.email,\n            });\n            return true;\n          }\n        }\n      } catch (authError) {\n        logger.warn('[CurbOS] Auth0 session check failed:', {\n          error: authError instanceof Error ? authError.message : String(authError),\n        });\n      }\n    }\n\n    // 3. Check tier-based access (Business tier required)\n    const result = await evaluateGateAsync('curbos', req, userEmail);\n    return result.allowed;\n  } catch (error) {\n    logger.error('[CurbOS] Error checking tier access:', {\n      error: error instanceof Error ? error.message : String(error),\n      userEmail,\n    });\n    return false; // Fail secure\n  }\n}\n\n/**\n * Get user email from CurbOS Supabase session\n * Extracts email from the curbos_auth cookie or Supabase session\n */\nexport async function getCurbOSUserEmail(req: NextRequest): Promise<string | null> {\n  // Try to get email from cookie (stored during login)\n  const userEmailCookie = req.cookies.get('curbos_user_email')?.value;\n  if (userEmailCookie) {\n    return userEmailCookie;\n  }\n\n  // Fallback: Try to get from Supabase session\n  // This would require decoding the session token or querying Supabase\n  // For now, return null and rely on cookie storage\n  return null;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/cleanup.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/cleanup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/cleanup/helpers/deleteUserData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/cleanup/helpers/deleteUserData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/cleanup/helpers/getAccountsDueForDeletion.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/cleanup/helpers/getAccountsDueForDeletion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/cleanup/helpers/sendDeletionWarning.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/cleanup/helpers/sendDeletionWarning.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/cancelDeletion.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/cancelDeletion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/createDeletionSchedule.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/createDeletionSchedule.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/getDeletionDate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/getDeletionDate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/getExistingDeletion.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/getExistingDeletion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/markDataExported.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/markDataExported.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/rescheduleDeletion.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/helpers/rescheduleDeletion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-retention/schedule-deletion/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/country-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/country-detection.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":106,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":106,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3116,3119],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3116,3119],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":110,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3351,3354],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3351,3354],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":180,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":180,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5286,5289],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5286,5289],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Country Detection Utilities\n * Detects user country from IP address or request headers\n */\n\nimport { logger } from '@/lib/logger';\n\n/**\n * List of restricted countries (ISO 3166-1 alpha-2 codes)\n * Data transfers to these countries are restricted unless explicit consent is given\n */\nexport const RESTRICTED_COUNTRIES = ['CN', 'RU', 'IR'] as const;\n\nexport type RestrictedCountry = (typeof RESTRICTED_COUNTRIES)[number];\n\n/**\n * Check if a country code is restricted\n * @param countryCode - ISO 3166-1 alpha-2 country code\n * @returns Whether country is restricted\n */\nexport function isRestrictedCountry(countryCode: string | null): boolean {\n  if (!countryCode) {\n    return false;\n  }\n  return RESTRICTED_COUNTRIES.includes(countryCode.toUpperCase() as RestrictedCountry);\n}\n\n/**\n * Detect country from request headers (Vercel geolocation)\n * @param headers - Request headers\n * @returns Country code or null\n */\nexport function detectCountryFromHeaders(headers: Headers): string | null {\n  // Vercel automatically provides geolocation headers\n  const countryCode = headers.get('x-vercel-ip-country');\n\n  if (countryCode) {\n    return countryCode.toUpperCase();\n  }\n\n  // Fallback: Try to detect from Accept-Language header\n  const acceptLanguage = headers.get('accept-language');\n  if (acceptLanguage) {\n    const locale = acceptLanguage.split(',')[0] || 'en-AU';\n    // Extract country from locale (e.g., 'en-AU' -> 'AU')\n    const parts = locale.split('-');\n    if (parts.length > 1) {\n      return parts[1].toUpperCase();\n    }\n  }\n\n  return null;\n}\n\n/**\n * Detect country from IP address (using Vercel headers or external service)\n * @param request - Request object with headers\n * @returns Country code or null\n */\nexport async function detectCountryFromRequest(request: Request): Promise<string | null> {\n  try {\n    // Try Vercel geolocation header first\n    const countryCode = detectCountryFromHeaders(request.headers);\n\n    if (countryCode) {\n      return countryCode;\n    }\n\n    // Fallback: Could use external IP geolocation service if needed\n    // For now, return null if detection fails\n    return null;\n  } catch (error) {\n    logger.error('[Country Detection] Error detecting country:', {\n      error: error instanceof Error ? error.message : String(error),\n    });\n    return null;\n  }\n}\n\n/**\n * Get user's country from database or detect from request\n * @param userEmail - User email\n * @param request - Request object (optional, for detection)\n * @returns Country code or null\n */\nexport async function getUserCountry(userEmail: string, request?: Request): Promise<string | null> {\n  try {\n    const { supabaseAdmin } = await import('@/lib/supabase');\n\n    if (!supabaseAdmin) {\n      // If no database, try to detect from request\n      if (request) {\n        return await detectCountryFromRequest(request);\n      }\n      return null;\n    }\n\n    // Get country from database\n    const { data, error } = await supabaseAdmin\n      .from('data_transfer_restrictions')\n      .select('country_code')\n      .eq('user_email', userEmail)\n      .single();\n\n    if (error) {\n      if ((error as any).code !== 'PGRST116') {\n        // PGRST116 is \"not found\" - that's okay, user not in database yet\n        logger.warn('[Country Detection] Error fetching user country:', {\n          error: error.message,\n          code: (error as any).code,\n          userEmail,\n        });\n      }\n      // Not in database, try to detect from request\n      if (request) {\n        const detectedCountry = await detectCountryFromRequest(request);\n        // Store detected country for future use\n        if (detectedCountry) {\n          await storeUserCountry(userEmail, detectedCountry);\n        }\n        return detectedCountry;\n      }\n      return null;\n    }\n\n    if (!data) {\n      // Not in database, try to detect from request\n      if (request) {\n        const detectedCountry = await detectCountryFromRequest(request);\n        // Store detected country for future use\n        if (detectedCountry) {\n          await storeUserCountry(userEmail, detectedCountry);\n        }\n        return detectedCountry;\n      }\n      return null;\n    }\n\n    return data.country_code;\n  } catch (error) {\n    logger.error('[Country Detection] Error getting user country:', {\n      error: error instanceof Error ? error.message : String(error),\n      userEmail,\n    });\n    return null;\n  }\n}\n\n/**\n * Store user's country in database\n * @param userEmail - User email\n * @param countryCode - ISO 3166-1 alpha-2 country code\n * @returns Success status\n */\nexport async function storeUserCountry(userEmail: string, countryCode: string): Promise<boolean> {\n  try {\n    const { supabaseAdmin } = await import('@/lib/supabase');\n\n    if (!supabaseAdmin) {\n      return false;\n    }\n\n    const restricted = isRestrictedCountry(countryCode);\n\n    const { error } = await supabaseAdmin.from('data_transfer_restrictions').upsert(\n      {\n        user_email: userEmail,\n        country_code: countryCode.toUpperCase(),\n        restricted,\n        last_updated_at: new Date().toISOString(),\n      },\n      {\n        onConflict: 'user_email',\n      },\n    );\n\n    if (error) {\n      logger.error('[Country Detection] Failed to store user country:', {\n        error: error.message,\n        code: (error as any).code,\n        userEmail,\n        countryCode,\n      });\n      return false;\n    }\n\n    logger.info('[Country Detection] User country stored:', {\n      userEmail,\n      countryCode: countryCode.toUpperCase(),\n      restricted,\n    });\n\n    return true;\n  } catch (error) {\n    logger.error('[Country Detection] Unexpected error storing country:', {\n      error: error instanceof Error ? error.message : String(error),\n      userEmail,\n      countryCode,\n    });\n    return false;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions/helpers/checkConsent.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions/helpers/checkConsent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[712,715],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[712,715],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[870,873],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[870,873],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport type { TransferRestrictionResult } from '../types';\n\n/**\n * Check if user has given consent for restricted data transfer\n */\nexport async function checkUserConsent(\n  userEmail: string,\n  countryCode: string,\n): Promise<{ consentGiven: boolean; error?: string }> {\n  if (!supabaseAdmin) {\n    return {\n      consentGiven: false,\n      error: 'Database not available to verify consent',\n    };\n  }\n\n  const { data, error } = await supabaseAdmin\n    .from('data_transfer_restrictions')\n    .select('consent_given_at, consent_revoked_at')\n    .eq('user_email', userEmail)\n    .single();\n\n  if (error) {\n    if ((error as any).code !== 'PGRST116') {\n      logger.warn('[Data Transfer Restrictions] Error checking consent:', {\n        error: error.message,\n        code: (error as any).code,\n        userEmail,\n        countryCode,\n      });\n    }\n    return { consentGiven: false };\n  }\n\n  if (!data) {\n    return { consentGiven: false };\n  }\n\n  return {\n    consentGiven: !!data.consent_given_at && !data.consent_revoked_at,\n  };\n}\n\n/**\n * Build restriction result for restricted country\n */\nexport function buildRestrictedResult(\n  countryCode: string,\n  consentGiven: boolean,\n  reason?: string,\n): TransferRestrictionResult {\n  if (consentGiven) {\n    return {\n      allowed: true,\n      restricted: true,\n      countryCode,\n      requiresConsent: true,\n      consentGiven: true,\n    };\n  }\n\n  return {\n    allowed: false,\n    restricted: true,\n    countryCode,\n    reason: reason || `Data transfers to ${countryCode} require explicit consent.`,\n    requiresConsent: true,\n    consentGiven: false,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions/helpers/checkTransferRestriction.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions/helpers/checkTransferRestriction.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions/helpers/recordConsent.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions/helpers/recordConsent.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions/helpers/revokeConsent.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions/helpers/revokeConsent.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/data-transfer/restrictions/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/cache-management.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/cache-management.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/dish-aggregation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/dish-aggregation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/dish-aggregation/helpers/checkCachedStatus.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/dish-aggregation/helpers/checkCachedStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/dish-aggregation/helpers/fetchDishIngredients.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/dish-aggregation/helpers/fetchDishIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/dish-aggregation/helpers/handleEmptyIngredients.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/dish-aggregation/helpers/handleEmptyIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/recipe-aggregation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/recipe-aggregation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/recipe-aggregation/helpers/aggregateAllergens.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/recipe-aggregation/helpers/aggregateAllergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/recipe-aggregation/helpers/checkCachedStatus.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/recipe-aggregation/helpers/checkCachedStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/recipe-aggregation/helpers/fetchRecipeIngredients.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/recipe-aggregation/helpers/fetchRecipeIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/validation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/dietary-aggregation/validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/vegetarian-vegan-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/vegetarian-vegan-detection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/vegetarian-vegan-detection/constants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/vegetarian-vegan-detection/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/vegetarian-vegan-detection/helpers/checkIngredients.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/vegetarian-vegan-detection/helpers/checkIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/vegetarian-vegan-detection/helpers/detectFromIngredients.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/vegetarian-vegan-detection/helpers/detectFromIngredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/vegetarian-vegan-detection/helpers/detectWithAI.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/dietary/vegetarian-vegan-detection/helpers/detectWithAI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/employees/photo-validation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/employees/photo-validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/entitlements.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/entitlements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/category-detector.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/category-detector.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/severity-detector.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/severity-detector.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/severity-detector/constants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/severity-detector/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/severity-detector/helpers/collectTextSources.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/severity-detector/helpers/collectTextSources.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/severity-detector/helpers/matchEndpointPatterns.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/severity-detector/helpers/matchEndpointPatterns.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/severity-detector/helpers/matchKeywords.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-detection/severity-detector/helpers/matchKeywords.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-handlers/client-error-handler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-handlers/client-error-handler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/document-fix.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/document-fix.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/knowledge-base.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/knowledge-base.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/knowledge-index.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/knowledge-index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/pattern-matcher.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/pattern-matcher.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/rule-generator.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/rule-generator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/suggest-fix.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/error-learning/suggest-fix.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/export-html.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/export-html.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/export-template.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/export-template.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":52,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1395,1398],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1395,1398],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Unified export template wrapper\n * Enhances pdf-template.ts for consistency across all export formats\n * Supports CSV, PDF, HTML exports with Cyber Carrot branding\n */\n\nimport { generateExportTemplate, escapeHtml as escapeHtmlServer } from './pdf-template';\nimport { formatDateAustralian, formatMetaInfo } from './template-utils';\n\nexport interface ExportTemplateOptions {\n  title: string;\n  subtitle?: string;\n  content: string;\n  format: 'csv' | 'pdf' | 'html';\n  totalItems?: number;\n  customMeta?: string;\n  forPDF?: boolean;\n}\n\n/**\n * Generate export template for server-side use (PDF/HTML)\n * Wraps pdf-template.ts with consistent options\n *\n * @param {ExportTemplateOptions} options - Template options\n * @returns {string} Complete HTML document\n */\nexport function generateServerExportTemplate({\n  title,\n  subtitle,\n  content,\n  format,\n  totalItems,\n  customMeta,\n  forPDF = false,\n}: ExportTemplateOptions): string {\n  return generateExportTemplate({\n    title,\n    subtitle,\n    content,\n    forPDF: format === 'pdf' || forPDF,\n    totalItems,\n    customMeta,\n  });\n}\n\n/**\n * Generate CSV export with proper formatting\n * Uses unified CSV utilities\n * Note: CSV exports should use exportToCSVString from lib/csv/csv-utils.ts directly\n * This function is a placeholder for consistency - actual CSV generation is handled by csv-utils\n */\nexport function generateCSVExport(data: any[], headers: string[], filename: string): string {\n  // CSV exports should use exportToCSVString from lib/csv/csv-utils.ts directly\n  // This is kept for API consistency but delegates to csv-utils\n  throw new Error('Use exportToCSVString from lib/csv/csv-utils.ts for CSV exports');\n}\n\n/**\n * Escape HTML for server-side templates\n * Re-exports from pdf-template for consistency\n *\n * @param {string} text - Text to escape\n * @returns {string} Escaped HTML string\n */\nexport function escapeHtml(text: string): string {\n  return escapeHtmlServer(text);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/buildHTML.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/buildHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/escapeHtml.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/escapeHtml.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getLogo.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getLogo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getStyles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getStyles/backgroundStyles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getStyles/backgroundStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getStyles/baseStyles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getStyles/baseStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getStyles/contentStyles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getStyles/contentStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getStyles/printStyles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/pdf-template/helpers/getStyles/printStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateCompactVariant.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateCompactVariant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateComplianceVariant.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateComplianceVariant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateCustomerVariant.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateCustomerVariant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateDefaultVariant.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateDefaultVariant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateKitchenVariant.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateKitchenVariant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateSupplierVariant.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/generateSupplierVariant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/printWithTemplate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/print-template/helpers/printWithTemplate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getBackgroundElementsCSS.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getBackgroundElementsCSS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getBaseStylesCSS.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getBaseStylesCSS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getContentWrapperCSS.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getContentWrapperCSS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getFooterCSS.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getFooterCSS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getHeaderCSS.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getHeaderCSS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getPrintMediaCSS.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/baseStyles/getPrintMediaCSS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getCompactVariantCSS.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getCompactVariantCSS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getComplianceVariantCSS.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getComplianceVariantCSS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getComplianceVariantCSS/baseStyles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getComplianceVariantCSS/baseStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getComplianceVariantCSS/reportStyles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getComplianceVariantCSS/reportStyles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getCustomerVariantCSS.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getCustomerVariantCSS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getKitchenVariantCSS.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getKitchenVariantCSS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getSupplierVariantCSS.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-styles/helpers/variantStyles/getSupplierVariantCSS.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-utils/helpers/formatCurrency.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-utils/helpers/formatCurrency.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-utils/helpers/formatDate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-utils/helpers/formatDate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-utils/helpers/htmlUtils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-utils/helpers/htmlUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-utils/helpers/variantUtils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/template-utils/helpers/variantUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/test-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/test-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/test-helpers/helpers/extractHTML.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/test-helpers/helpers/extractHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/test-helpers/helpers/testExecution.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/test-helpers/helpers/testExecution.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/test-helpers/helpers/validateHTML.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/test-helpers/helpers/validateHTML.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/test-helpers/mockData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/exports/test-helpers/mockData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-descriptions.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-descriptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-scanner.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-scanner.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-scanner/constants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-scanner/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-scanner/helpers/scanDirectory.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-scanner/helpers/scanDirectory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-scanner/helpers/scanFile.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-scanner/helpers/scanFile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-scanner/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flag-scanner/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[997,1000],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[997,1000],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Feature flag system.\n * Manages feature flags stored in database with support for global and user-specific flags.\n */\n\nimport { checkAdminAccess } from './feature-flags/helpers/checkAdminAccess';\nimport { checkGlobalFlag } from './feature-flags/helpers/checkGlobalFlag';\nimport { checkUserFlag } from './feature-flags/helpers/checkUserFlag';\nimport { deleteFeatureFlag as deleteFeatureFlagHelper } from './feature-flags/helpers/deleteFeatureFlag';\nimport { getFeatureFlags as getFeatureFlagsHelper } from './feature-flags/helpers/getFeatureFlags';\nimport { setFeatureFlag as setFeatureFlagHelper } from './feature-flags/helpers/setFeatureFlag';\n\nexport interface FeatureFlag {\n  id: string;\n  flag_key: string;\n  enabled: boolean;\n  user_id: string | null;\n  description: string | null;\n  created_at: string;\n  updated_at: string;\n}\n\n/**\n * Check if a feature flag is enabled.\n */\nexport async function isFeatureEnabled(\n  flagKey: string,\n  userId?: string,\n  userEmail?: string,\n  user?: any,\n): Promise<boolean> {\n  if (checkAdminAccess(userId, userEmail, user)) {\n    return true;\n  }\n\n  if (userId) {\n    const userFlag = await checkUserFlag(flagKey, userId);\n    if (userFlag.found) {\n      return userFlag.enabled;\n    }\n  }\n\n  return await checkGlobalFlag(flagKey);\n}\n\nexport {\n  deleteFeatureFlagHelper as deleteFeatureFlag,\n  getFeatureFlagsHelper as getFeatureFlags,\n  setFeatureFlagHelper as setFeatureFlag,\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/checkAdminAccess.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/checkAdminAccess.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[260,263],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[260,263],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { isAdmin as checkUserAdminRole } from '@/lib/admin-utils';\nimport { isEmailAllowed } from '@/lib/allowlist';\n\n/**\n * Check if user has admin access (all features enabled)\n */\nexport function checkAdminAccess(userId?: string, userEmail?: string, user?: any): boolean {\n  // If user object is provided, check Auth0 roles first\n  if (user && checkUserAdminRole(user)) {\n    return true;\n  }\n\n  // Fallback to allowlist check\n  if (userEmail && isEmailAllowed(userEmail)) {\n    return true;\n  }\n\n  if (userId && userId.includes('@') && isEmailAllowed(userId)) {\n    return true;\n  }\n\n  return false;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/checkGlobalFlag.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/checkGlobalFlag.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/checkUserFlag.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/checkUserFlag.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/deleteFeatureFlag.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/deleteFeatureFlag.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/getFeatureFlags.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/getFeatureFlags.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/setFeatureFlag.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-flags/helpers/setFeatureFlag.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-gate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-gate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-gate/helpers/checkHiddenFeature.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-gate/helpers/checkHiddenFeature.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[805,808],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[805,808],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\n\n/**\n * Check hidden feature flags (for unlockable features)\n */\nexport async function checkHiddenFeature(\n  featureKey: string,\n  userEmail?: string,\n): Promise<{ enabled: boolean; exists: boolean }> {\n  try {\n    let hiddenFeatureFlagsModule: {\n      isHiddenFeatureEnabled?: (key: string, email?: string) => Promise<boolean>;\n    } | null = null;\n    try {\n      hiddenFeatureFlagsModule = await import('@/lib/hidden-feature-flags');\n    } catch {\n      hiddenFeatureFlagsModule = null;\n    }\n\n    if (hiddenFeatureFlagsModule?.isHiddenFeatureEnabled) {\n      const enabled = await hiddenFeatureFlagsModule.isHiddenFeatureEnabled(featureKey, userEmail);\n      return { enabled, exists: true };\n    }\n\n    return { enabled: false, exists: false };\n  } catch (err: any) {\n    if (err?.message?.includes('relation') || err?.message?.includes('does not exist')) {\n      return { enabled: false, exists: false };\n    }\n    logger.warn('[Feature Gate] Error checking hidden feature flag:', err);\n    return { enabled: false, exists: false };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-gate/helpers/evaluateTierGate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-gate/helpers/evaluateTierGate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-gate/helpers/tierCache.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/feature-gate/helpers/tierCache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/achievements.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/achievements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/events.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/events.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones/constants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones/helpers/checkMilestones.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones/helpers/checkMilestones.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones/helpers/confetti.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones/helpers/confetti.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones/helpers/milestoneProgress.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones/helpers/milestoneProgress.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones/helpers/milestoneStorage.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/milestones/helpers/milestoneStorage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/stats.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/stats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/stats/helpers/dispatchStatsEvent.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/stats/helpers/dispatchStatsEvent.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/stats/helpers/localStorageStats.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/stats/helpers/localStorageStats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/stats/helpers/sessionStorageStats.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/stats/helpers/sessionStorageStats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/gamification/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/generate-legacy-temperature-logs.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/generate-legacy-temperature-logs.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[995,998],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[995,998],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  generateRealisticTemperature,\n  generateFoodTemperature,\n  getTemperatureStatusText,\n  getFoodSafetyStatusText,\n} from './temperature-log-helpers';\n\nexport interface TemperatureLogEntry {\n  log_date: string;\n  log_time: string;\n  temperature_celsius: number;\n  temperature_type: string;\n  location: string;\n  notes: string;\n  logged_by: string;\n  created_at: string;\n}\n\nconst FOOD_ITEMS = {\n  hotHolding: ['Chicken Curry', 'Beef Stew', 'Vegetable Soup', 'Pasta Sauce', 'Rice Pilaf'],\n  coldHolding: ['Salad Bar Mix', 'Coleslaw', 'Potato Salad', 'Fruit Salad', 'Caesar Salad'],\n  cooking: ['Chicken Breast', 'Salmon Fillet', 'Beef Tenderloin', 'Pork Chops', 'Vegetable Medley'],\n};\n\nconst STAFF_MEMBERS = [\n  'Chef Sarah',\n  'Chef Mike',\n  'Chef Emma',\n  'Chef James',\n  'Chef Lisa',\n  'Sous Chef Tom',\n  'Line Cook Alex',\n  'Prep Cook Sam',\n  'Kitchen Manager Kim',\n];\n\n/**\n * Generate temperature logs for a date range\n */\nexport function generateLegacyTemperatureLogs(\n  equipment: any[],\n  startDate: Date,\n  endDate: Date,\n): TemperatureLogEntry[] {\n  const temperatureLogs: TemperatureLogEntry[] = [];\n\n  for (let date = new Date(startDate); date <= endDate; date.setDate(date.getDate() + 1)) {\n    const currentDate = new Date(date);\n    const dateStr = currentDate.toISOString().split('T')[0];\n\n    for (const item of equipment) {\n      const morningHour = 7 + Math.floor(Math.random() * 3);\n      const morningMinute = Math.floor(Math.random() * 60);\n      const morningTime = `${morningHour.toString().padStart(2, '0')}:${morningMinute.toString().padStart(2, '0')}`;\n      const morningTemp = generateRealisticTemperature(item, 'morning');\n      temperatureLogs.push({\n        log_date: dateStr,\n        log_time: morningTime,\n        temperature_celsius: morningTemp,\n        temperature_type: item.equipment_type,\n        location: item.name,\n        notes: `Morning temperature check - ${getTemperatureStatusText(morningTemp, item)}`,\n        logged_by: STAFF_MEMBERS[Math.floor(Math.random() * STAFF_MEMBERS.length)],\n        created_at: new Date(`${dateStr}T${morningTime}:00`).toISOString(),\n      });\n      const eveningHour = 17 + Math.floor(Math.random() * 3);\n      const eveningMinute = Math.floor(Math.random() * 60);\n      const eveningTime = `${eveningHour.toString().padStart(2, '0')}:${eveningMinute.toString().padStart(2, '0')}`;\n      const eveningTemp = generateRealisticTemperature(item, 'evening');\n      temperatureLogs.push({\n        log_date: dateStr,\n        log_time: eveningTime,\n        temperature_celsius: eveningTemp,\n        temperature_type: item.equipment_type,\n        location: item.name,\n        notes: `Evening temperature check - ${getTemperatureStatusText(eveningTemp, item)}`,\n        logged_by: STAFF_MEMBERS[Math.floor(Math.random() * STAFF_MEMBERS.length)],\n        created_at: new Date(`${dateStr}T${eveningTime}:00`).toISOString(),\n      });\n    }\n\n    for (let i = 0; i < 2; i++) {\n      const foodItem =\n        FOOD_ITEMS.hotHolding[Math.floor(Math.random() * FOOD_ITEMS.hotHolding.length)];\n      const hour = (i === 0 ? 11 : 14) + Math.floor(Math.random() * 2);\n      const minute = Math.floor(Math.random() * 60);\n      const time = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n      const temp = generateFoodTemperature('hot_holding');\n      temperatureLogs.push({\n        log_date: dateStr,\n        log_time: time,\n        temperature_celsius: temp,\n        temperature_type: 'food_hot_holding',\n        location: foodItem,\n        notes: `Hot holding temperature check - ${getFoodSafetyStatusText(temp)}`,\n        logged_by: STAFF_MEMBERS[Math.floor(Math.random() * STAFF_MEMBERS.length)],\n        created_at: new Date(`${dateStr}T${time}:00`).toISOString(),\n      });\n    }\n    for (let i = 0; i < 2; i++) {\n      const foodItem =\n        FOOD_ITEMS.coldHolding[Math.floor(Math.random() * FOOD_ITEMS.coldHolding.length)];\n      const hour = (i === 0 ? 10 : 15) + Math.floor(Math.random() * 2);\n      const minute = Math.floor(Math.random() * 60);\n      const time = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n      const temp = generateFoodTemperature('cold_holding');\n      temperatureLogs.push({\n        log_date: dateStr,\n        log_time: time,\n        temperature_celsius: temp,\n        temperature_type: 'food_cold_holding',\n        location: foodItem,\n        notes: `Cold holding temperature check - ${getFoodSafetyStatusText(temp)}`,\n        logged_by: STAFF_MEMBERS[Math.floor(Math.random() * STAFF_MEMBERS.length)],\n        created_at: new Date(`${dateStr}T${time}:00`).toISOString(),\n      });\n    }\n    const cookingItem = FOOD_ITEMS.cooking[Math.floor(Math.random() * FOOD_ITEMS.cooking.length)];\n    const cookingHour = 13 + Math.floor(Math.random() * 2);\n    const cookingMinute = Math.floor(Math.random() * 60);\n    const cookingTime = `${cookingHour.toString().padStart(2, '0')}:${cookingMinute.toString().padStart(2, '0')}`;\n    const cookingTemp = generateFoodTemperature('cooking');\n    temperatureLogs.push({\n      log_date: dateStr,\n      log_time: cookingTime,\n      temperature_celsius: cookingTemp,\n      temperature_type: 'food_cooking',\n      location: cookingItem,\n      notes: `Cooking temperature check - ${getFoodSafetyStatusText(cookingTemp)}`,\n      logged_by: STAFF_MEMBERS[Math.floor(Math.random() * STAFF_MEMBERS.length)],\n      created_at: new Date(`${dateStr}T${cookingTime}:00`).toISOString(),\n    });\n  }\n\n  return temperatureLogs;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/geo/eu-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/geo/eu-detection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/github-release.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/github-release.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1119,1122],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1119,1122],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { logger } from '@/lib/logger';\n\nexport interface ReleaseData {\n  tag_name: string;\n  name: string;\n  published_at: string;\n  html_url: string;\n  download_url: string;\n}\n\n/**\n * Fetches the latest release from GitHub.\n * Designed to be used in Server Components and API routes.\n */\nexport async function getLatestRelease(): Promise<ReleaseData | null> {\n  const GITHUB_REPO = 'KuschiKuschbert/CurbOS';\n\n  try {\n    const headers: HeadersInit = {\n      Accept: 'application/vnd.github.v3+json',\n    };\n\n    if (process.env.GITHUB_TOKEN) {\n      headers['Authorization'] = `token ${process.env.GITHUB_TOKEN}`;\n    }\n\n    const response = await fetch(`https://api.github.com/repos/${GITHUB_REPO}/releases/latest`, {\n      headers,\n      next: { revalidate: 300 }, // Cache for 5 minutes\n    });\n\n    if (!response.ok) {\n      if (response.status === 404) {\n        return null;\n      }\n      logger.error('[GitHub Release] Failed to fetch release', { status: response.status });\n      return null;\n    }\n\n    const data = await response.json();\n\n    // Find the APK asset\n    const apkAsset = data.assets?.find((a: any) => a.name.endsWith('.apk')) || data.assets?.[0];\n\n    return {\n      tag_name: data.tag_name,\n      name: data.name,\n      published_at: data.published_at,\n      html_url: data.html_url,\n      download_url: apkAsset ? apkAsset.browser_download_url : data.html_url,\n    };\n  } catch (error) {\n    logger.error('[GitHub Release] Fetch error:', error);\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/hidden-feature-flags.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/hidden-feature-flags.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/compliance-import.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[736,739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[736,739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[791,794],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[791,794],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './compliance-import';\n\ndescribe('compliance-import', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for compliance-import, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/compliance-import.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/compliance-import/helpers/formatComplianceRecordPreview.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[760,763],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[760,763],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[815,818],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[815,818],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './formatComplianceRecordPreview';\n\ndescribe('formatComplianceRecordPreview', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for formatComplianceRecordPreview, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/compliance-import/helpers/formatComplianceRecordPreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/compliance-import/helpers/generateComplianceRecordTemplate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/compliance-import/helpers/generateComplianceRecordTemplate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/compliance-import/helpers/parseComplianceRecordsCSV.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/compliance-import/helpers/parseComplianceRecordsCSV.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[470,473],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[470,473],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { parseCSV, type ParseCSVResult } from '@/lib/csv/csv-utils';\nimport {\n  normalizeColumnName,\n  mapCSVRowToEntity,\n  parseDate,\n  parseBoolean,\n  parseNumber,\n} from '../../import-utils';\nimport type { ComplianceRecordImportRow } from '../../compliance-import';\n\n/**\n * Parse compliance records from CSV text\n */\nexport function parseComplianceRecordsCSV(\n  csvText: string,\n): ParseCSVResult<ComplianceRecordImportRow> {\n  const result = parseCSV<Record<string, any>>(csvText, {\n    header: true,\n    skipEmptyLines: true,\n    transformHeader: header => normalizeColumnName(header),\n  });\n\n  const records: ComplianceRecordImportRow[] = result.data.map(row => {\n    const record = mapCSVRowToEntity<ComplianceRecordImportRow>(row, {\n      compliance_type_id: ['compliance_type_id', 'type_id', 'type', 'compliance_type'],\n      document_name: ['document_name', 'name', 'document'],\n      issue_date: ['issue_date', 'issue date', 'issued'],\n      expiry_date: ['expiry_date', 'expiry date', 'expires', 'expiry'],\n      status: ['status'],\n      document_url: ['document_url', 'url', 'document url'],\n      notes: ['notes', 'note'],\n      reminder_enabled: ['reminder_enabled', 'reminder', 'reminder enabled'],\n      reminder_days_before: ['reminder_days_before', 'reminder days', 'days before'],\n    });\n\n    // Normalize status\n    const statusValue = String(record.status || 'active')\n      .toLowerCase()\n      .trim();\n    const normalizedStatus =\n      statusValue === 'expired' || statusValue === 'expire'\n        ? 'expired'\n        : statusValue === 'pending' ||\n            statusValue === 'pending_renewal' ||\n            statusValue === 'renewal'\n          ? 'pending_renewal'\n          : 'active';\n\n    return {\n      compliance_type_id: parseNumber(record.compliance_type_id),\n      document_name: String(record.document_name || '').trim(),\n      issue_date: record.issue_date ? parseDate(record.issue_date) || undefined : undefined,\n      expiry_date: record.expiry_date ? parseDate(record.expiry_date) || undefined : undefined,\n      status: normalizedStatus as 'active' | 'expired' | 'pending_renewal',\n      document_url: record.document_url ? String(record.document_url).trim() : undefined,\n      notes: record.notes ? String(record.notes).trim() : undefined,\n      reminder_enabled:\n        record.reminder_enabled !== undefined ? parseBoolean(record.reminder_enabled) : undefined,\n      reminder_days_before: record.reminder_days_before\n        ? parseNumber(record.reminder_days_before, 30)\n        : undefined,\n    };\n  });\n\n  return {\n    ...result,\n    data: records,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/compliance-import/helpers/validateComplianceRecord.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/compliance-import/helpers/validateComplianceRecord.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/import-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/import-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/order-list-import.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[736,739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[736,739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[791,794],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[791,794],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './order-list-import';\n\ndescribe('order-list-import', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for order-list-import, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/order-list-import.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[714,717],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[714,717],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Order list CSV import configuration\n * Provides parsing, validation, and template generation for order list imports\n */\n\nimport { parseCSV, type ParseCSVResult } from '@/lib/csv/csv-utils';\nimport { CSVImportConfig } from '@/components/ui/CSVImportModal';\nimport {\n  normalizeColumnName,\n  mapCSVRowToEntity,\n  parseNumber,\n  formatEntityPreview,\n} from './import-utils';\n\nexport interface OrderListItemImportRow {\n  supplier_id: string;\n  ingredient_id: string;\n  quantity: number;\n  unit: string;\n  notes?: string;\n}\n\n/**\n * Parse order list items from CSV text\n */\nexport function parseOrderListItemsCSV(csvText: string): ParseCSVResult<OrderListItemImportRow> {\n  const result = parseCSV<Record<string, any>>(csvText, {\n    header: true,\n    skipEmptyLines: true,\n    transformHeader: header => normalizeColumnName(header),\n  });\n\n  const items: OrderListItemImportRow[] = result.data.map(row => {\n    const item = mapCSVRowToEntity<OrderListItemImportRow>(row, {\n      supplier_id: ['supplier_id', 'supplier', 'supplier id'],\n      ingredient_id: ['ingredient_id', 'ingredient', 'ingredient id'],\n      quantity: ['quantity', 'qty', 'amount'],\n      unit: ['unit'],\n      notes: ['notes', 'note'],\n    });\n\n    // Normalize values\n    return {\n      supplier_id: String(item.supplier_id || '').trim(),\n      ingredient_id: String(item.ingredient_id || '').trim(),\n      quantity: parseNumber(item.quantity, 0),\n      unit: String(item.unit || '').trim(),\n      notes: item.notes ? String(item.notes).trim() : undefined,\n    };\n  });\n\n  return {\n    ...result,\n    data: items,\n  };\n}\n\n/**\n * Validate order list item import row\n */\nexport function validateOrderListItem(\n  row: OrderListItemImportRow,\n  index: number,\n): { valid: boolean; error?: string } {\n  if (!row.supplier_id || row.supplier_id.trim().length === 0) {\n    return { valid: false, error: 'Supplier ID is required' };\n  }\n\n  if (!row.ingredient_id || row.ingredient_id.trim().length === 0) {\n    return { valid: false, error: 'Ingredient ID is required' };\n  }\n\n  if (row.quantity === undefined || isNaN(row.quantity) || row.quantity <= 0) {\n    return { valid: false, error: 'Quantity must be a positive number' };\n  }\n\n  if (!row.unit || row.unit.trim().length === 0) {\n    return { valid: false, error: 'Unit is required' };\n  }\n\n  return { valid: true };\n}\n\n/**\n * Format order list item for preview\n */\nexport function formatOrderListItemPreview(\n  item: OrderListItemImportRow,\n  index: number,\n): React.ReactNode {\n  return (\n    <div className=\"space-y-1\">\n      <div className=\"font-medium text-white\">\n        Ingredient: {item.ingredient_id} | Supplier: {item.supplier_id}\n      </div>\n      <div className=\"text-xs text-gray-400\">\n        Quantity: {item.quantity} {item.unit} {item.notes ? `| Notes: ${item.notes}` : ''}\n      </div>\n    </div>\n  );\n}\n\n/**\n * Generate order list item CSV template\n */\nexport function generateOrderListItemTemplate(): string {\n  const headers = ['supplier_id', 'ingredient_id', 'quantity', 'unit', 'notes'];\n\n  const exampleRow = ['supplier123', 'ingredient456', '10', 'kg', 'Fresh stock needed'];\n\n  return [headers.join(','), exampleRow.join(',')].join('\\n');\n}\n\n/**\n * Order list item import configuration\n */\nexport const orderListItemImportConfig: CSVImportConfig<OrderListItemImportRow> = {\n  entityName: 'Order List Item',\n  entityNamePlural: 'order list items',\n  expectedColumns: ['supplier_id', 'ingredient_id', 'quantity', 'unit'],\n  optionalColumns: ['notes'],\n  parseCSV: parseOrderListItemsCSV,\n  validateEntity: validateOrderListItem,\n  formatEntityForPreview: formatOrderListItemPreview,\n  generateTemplate: generateOrderListItemTemplate,\n  templateFilename: 'order-list-item-import-template.csv',\n  instructions: [\n    'First row should contain column headers',\n    'Required columns: supplier_id (or supplier), ingredient_id (or ingredient), quantity, unit',\n    'Optional columns: notes',\n    'Quantity must be a positive number',\n    'Unit should match the ingredient unit (e.g., kg, g, L, mL)',\n  ],\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/par-level-import.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[734,737],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[734,737],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[789,792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[789,792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './par-level-import';\n\ndescribe('par-level-import', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for par-level-import, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/par-level-import.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[676,679],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[676,679],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Par level CSV import configuration\n * Provides parsing, validation, and template generation for par level imports\n */\n\nimport { parseCSV, type ParseCSVResult } from '@/lib/csv/csv-utils';\nimport { CSVImportConfig } from '@/components/ui/CSVImportModal';\nimport {\n  normalizeColumnName,\n  mapCSVRowToEntity,\n  parseNumber,\n  formatEntityPreview,\n} from './import-utils';\n\nexport interface ParLevelImportRow {\n  ingredient_id: string;\n  par_level: number;\n  reorder_point: number;\n  unit: string;\n}\n\n/**\n * Parse par levels from CSV text\n */\nexport function parseParLevelsCSV(csvText: string): ParseCSVResult<ParLevelImportRow> {\n  const result = parseCSV<Record<string, any>>(csvText, {\n    header: true,\n    skipEmptyLines: true,\n    transformHeader: header => normalizeColumnName(header),\n  });\n\n  const parLevels: ParLevelImportRow[] = result.data.map(row => {\n    const parLevel = mapCSVRowToEntity<ParLevelImportRow>(row, {\n      ingredient_id: ['ingredient_id', 'ingredient', 'ingredient id'],\n      par_level: ['par_level', 'par level', 'par', 'minimum_level', 'minimum level'],\n      reorder_point: [\n        'reorder_point',\n        'reorder point',\n        'reorder',\n        'reorder_level',\n        'reorder level',\n      ],\n      unit: ['unit'],\n    });\n\n    // Normalize values\n    return {\n      ingredient_id: String(parLevel.ingredient_id || '').trim(),\n      par_level: parseNumber(parLevel.par_level, 0),\n      reorder_point: parseNumber(parLevel.reorder_point, 0),\n      unit: String(parLevel.unit || '').trim(),\n    };\n  });\n\n  return {\n    ...result,\n    data: parLevels,\n  };\n}\n\n/**\n * Validate par level import row\n */\nexport function validateParLevel(\n  row: ParLevelImportRow,\n  index: number,\n): { valid: boolean; error?: string } {\n  if (!row.ingredient_id || row.ingredient_id.trim().length === 0) {\n    return { valid: false, error: 'Ingredient ID is required' };\n  }\n\n  if (row.par_level === undefined || isNaN(row.par_level) || row.par_level < 0) {\n    return { valid: false, error: 'Par level must be a non-negative number' };\n  }\n\n  if (row.reorder_point === undefined || isNaN(row.reorder_point) || row.reorder_point < 0) {\n    return { valid: false, error: 'Reorder point must be a non-negative number' };\n  }\n\n  if (!row.unit || row.unit.trim().length === 0) {\n    return { valid: false, error: 'Unit is required' };\n  }\n\n  return { valid: true };\n}\n\n/**\n * Format par level for preview\n */\nexport function formatParLevelPreview(parLevel: ParLevelImportRow, index: number): React.ReactNode {\n  return (\n    <div className=\"space-y-1\">\n      <div className=\"font-medium text-white\">Ingredient ID: {parLevel.ingredient_id}</div>\n      <div className=\"text-xs text-gray-400\">\n        Par Level: {parLevel.par_level} {parLevel.unit} | Reorder Point: {parLevel.reorder_point}{' '}\n        {parLevel.unit}\n      </div>\n    </div>\n  );\n}\n\n/**\n * Generate par level CSV template\n */\nexport function generateParLevelTemplate(): string {\n  const headers = ['ingredient_id', 'par_level', 'reorder_point', 'unit'];\n\n  const exampleRow = ['abc123', '50', '20', 'kg'];\n\n  return [headers.join(','), exampleRow.join(',')].join('\\n');\n}\n\n/**\n * Par level import configuration\n */\nexport const parLevelImportConfig: CSVImportConfig<ParLevelImportRow> = {\n  entityName: 'Par Level',\n  entityNamePlural: 'par levels',\n  expectedColumns: ['ingredient_id', 'par_level', 'reorder_point', 'unit'],\n  optionalColumns: [],\n  parseCSV: parseParLevelsCSV,\n  validateEntity: validateParLevel,\n  formatEntityForPreview: formatParLevelPreview,\n  generateTemplate: generateParLevelTemplate,\n  templateFilename: 'par-level-import-template.csv',\n  instructions: [\n    'First row should contain column headers',\n    'Required columns: ingredient_id (or ingredient), par_level (or par level), reorder_point (or reorder point), unit',\n    'Par level and reorder point should be numbers',\n    'Unit should match the ingredient unit (e.g., kg, g, L, mL)',\n  ],\n};\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/recipe-import.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './recipe-import';\n\ndescribe('recipe-import', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for recipe-import, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/recipe-import.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/recipe-import/helpers/formatRecipePreview.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[740,743],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[740,743],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[795,798],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[795,798],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './formatRecipePreview';\n\ndescribe('formatRecipePreview', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for formatRecipePreview, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/recipe-import/helpers/formatRecipePreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/recipe-import/helpers/generateRecipeTemplate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/recipe-import/helpers/generateRecipeTemplate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/recipe-import/helpers/parseRecipesCSV.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/recipe-import/helpers/parseRecipesCSV.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[384,387],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[384,387],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { parseCSV, type ParseCSVResult } from '@/lib/csv/csv-utils';\nimport { normalizeColumnName, mapCSVRowToEntity, parseNumber } from '../../import-utils';\nimport type { RecipeImportRow } from '../../recipe-import';\n\n/**\n * Parse recipes from CSV text\n */\nexport function parseRecipesCSV(csvText: string): ParseCSVResult<RecipeImportRow> {\n  const result = parseCSV<Record<string, any>>(csvText, {\n    header: true,\n    skipEmptyLines: true,\n    transformHeader: header => normalizeColumnName(header),\n  });\n\n  const recipes: RecipeImportRow[] = result.data.map(row => {\n    const recipe = mapCSVRowToEntity<RecipeImportRow>(row, {\n      recipe_name: ['name', 'recipe_name', 'recipe', 'title'],\n      description: ['description', 'desc'],\n      instructions: ['instructions', 'steps', 'method'],\n      yield: ['yield', 'servings', 'serves', 'quantity'],\n      yield_unit: ['yield_unit', 'unit', 'yield unit'],\n      category: ['category', 'cat'],\n      selling_price: ['selling_price', 'price', 'cost'],\n      allergens: ['allergens', 'allergen'],\n      is_vegetarian: ['is_vegetarian', 'vegetarian', 'veg'],\n      is_vegan: ['is_vegan', 'vegan'],\n    });\n\n    return {\n      recipe_name: String(recipe.recipe_name || '').trim(),\n      description: recipe.description ? String(recipe.description).trim() : undefined,\n      instructions: recipe.instructions ? String(recipe.instructions).trim() : undefined,\n      yield: recipe.yield ? parseNumber(recipe.yield, 1) : undefined,\n      yield_unit: recipe.yield_unit ? String(recipe.yield_unit).trim() : undefined,\n      category: recipe.category ? String(recipe.category).trim() : undefined,\n      selling_price: recipe.selling_price ? parseNumber(recipe.selling_price) : undefined,\n      allergens: recipe.allergens ? String(recipe.allergens).trim() : undefined,\n      is_vegetarian: recipe.is_vegetarian !== undefined ? Boolean(recipe.is_vegetarian) : undefined,\n      is_vegan: recipe.is_vegan !== undefined ? Boolean(recipe.is_vegan) : undefined,\n    };\n  });\n\n  return {\n    ...result,\n    data: recipes,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/recipe-import/helpers/validateRecipe.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/recipe-import/helpers/validateRecipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/supplier-import.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[732,735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[732,735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[787,790],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[787,790],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './supplier-import';\n\ndescribe('supplier-import', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for supplier-import, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/supplier-import.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/supplier-import/helpers/formatSupplierPreview.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[744,747],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[744,747],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[799,802],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[799,802],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './formatSupplierPreview';\n\ndescribe('formatSupplierPreview', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for formatSupplierPreview, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/supplier-import/helpers/formatSupplierPreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/supplier-import/helpers/generateSupplierTemplate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/supplier-import/helpers/generateSupplierTemplate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/supplier-import/helpers/parseSuppliersCSV.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/supplier-import/helpers/parseSuppliersCSV.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[417,420],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[417,420],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { parseCSV, type ParseCSVResult } from '@/lib/csv/csv-utils';\nimport {\n  normalizeColumnName,\n  mapCSVRowToEntity,\n  parseNumber,\n  parseBoolean,\n} from '../../import-utils';\nimport type { SupplierImportRow } from '../../supplier-import';\n\n/**\n * Parse suppliers from CSV text\n */\nexport function parseSuppliersCSV(csvText: string): ParseCSVResult<SupplierImportRow> {\n  const result = parseCSV<Record<string, any>>(csvText, {\n    header: true,\n    skipEmptyLines: true,\n    transformHeader: header => normalizeColumnName(header),\n  });\n\n  const suppliers: SupplierImportRow[] = result.data.map(row => {\n    const supplier = mapCSVRowToEntity<SupplierImportRow>(row, {\n      name: ['name', 'supplier_name', 'supplier name'],\n      contact_person: ['contact_person', 'contact', 'contact person'],\n      email: ['email'],\n      phone: ['phone', 'telephone'],\n      address: ['address'],\n      website: ['website', 'url'],\n      payment_terms: ['payment_terms', 'payment terms', 'terms'],\n      delivery_schedule: ['delivery_schedule', 'delivery schedule', 'schedule'],\n      minimum_order_amount: ['minimum_order_amount', 'minimum order', 'min order'],\n      is_active: ['is_active', 'active', 'is active'],\n      notes: ['notes', 'note'],\n    });\n\n    // Normalize values\n    return {\n      name: String(supplier.name || '').trim(),\n      contact_person: supplier.contact_person ? String(supplier.contact_person).trim() : undefined,\n      email: supplier.email ? String(supplier.email).trim() : undefined,\n      phone: supplier.phone ? String(supplier.phone).trim() : undefined,\n      address: supplier.address ? String(supplier.address).trim() : undefined,\n      website: supplier.website ? String(supplier.website).trim() : undefined,\n      payment_terms: supplier.payment_terms ? String(supplier.payment_terms).trim() : undefined,\n      delivery_schedule: supplier.delivery_schedule\n        ? String(supplier.delivery_schedule).trim()\n        : undefined,\n      minimum_order_amount: supplier.minimum_order_amount\n        ? parseNumber(supplier.minimum_order_amount)\n        : undefined,\n      is_active: supplier.is_active !== undefined ? parseBoolean(supplier.is_active) : undefined,\n      notes: supplier.notes ? String(supplier.notes).trim() : undefined,\n    };\n  });\n\n  return {\n    ...result,\n    data: suppliers,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/supplier-import/helpers/validateSupplier.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/supplier-import/helpers/validateSupplier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[738,741],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[738,741],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[793,796],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[793,796],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './temperature-import';\n\ndescribe('temperature-import', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for temperature-import, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import/helpers/formatTemperatureLogPreview.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[756,759],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[756,759],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[811,814],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[811,814],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './formatTemperatureLogPreview';\n\ndescribe('formatTemperatureLogPreview', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for formatTemperatureLogPreview, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import/helpers/formatTemperatureLogPreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import/helpers/generateTemperatureLogTemplate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import/helpers/generateTemperatureLogTemplate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import/helpers/parseTemperatureLogsCSV.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import/helpers/parseTemperatureLogsCSV.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[450,453],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[450,453],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Parse temperature logs from CSV text\n */\nimport { parseCSV, type ParseCSVResult } from '@/lib/csv/csv-utils';\nimport {\n  normalizeColumnName,\n  mapCSVRowToEntity,\n  parseNumber,\n  parseDate,\n} from '@/lib/imports/import-utils';\nimport type { TemperatureLogImportRow } from '../../temperature-import';\n\nexport function parseTemperatureLogsCSV(csvText: string): ParseCSVResult<TemperatureLogImportRow> {\n  const result = parseCSV<Record<string, any>>(csvText, {\n    header: true,\n    skipEmptyLines: true,\n    transformHeader: header => normalizeColumnName(header),\n  });\n\n  const logs: TemperatureLogImportRow[] = result.data.map(row => {\n    const log = mapCSVRowToEntity<TemperatureLogImportRow>(row, {\n      log_date: ['log_date', 'date', 'log date'],\n      log_time: ['log_time', 'time', 'log time'],\n      temperature_type: ['temperature_type', 'type', 'equipment_type', 'equipment type'],\n      temperature_celsius: ['temperature_celsius', 'temperature', 'temp', 'temp_celsius'],\n      location: ['location', 'loc'],\n      notes: ['notes', 'note'],\n      logged_by: ['logged_by', 'logged by', 'user', 'staff'],\n    });\n\n    // Normalize values\n    return {\n      log_date: parseDate(log.log_date) || new Date().toISOString().split('T')[0],\n      log_time: log.log_time\n        ? String(log.log_time).trim()\n        : new Date().toTimeString().split(' ')[0].slice(0, 5),\n      temperature_type: String(log.temperature_type || '').trim(),\n      temperature_celsius: parseNumber(log.temperature_celsius),\n      location: log.location ? String(log.location).trim() : undefined,\n      notes: log.notes ? String(log.notes).trim() : undefined,\n      logged_by: log.logged_by ? String(log.logged_by).trim() : undefined,\n    };\n  });\n\n  return {\n    ...result,\n    data: logs,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import/helpers/temperatureLogImportConfig.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import/helpers/temperatureLogImportConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import/helpers/validateTemperatureLog.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/imports/temperature-import/helpers/validateTemperatureLog.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/ai-category-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/ai-category-detection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/buildInsertData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/buildInsertData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection/constants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection/constants/other.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection/constants/other.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection/constants/pantry.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection/constants/pantry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection/constants/produce.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection/constants/produce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection/constants/protein.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/category-detection/constants/protein.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/migrate-to-standard-units.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/migrate-to-standard-units.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/migrate-to-standard-units/conversion.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/migrate-to-standard-units/conversion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/migrate-to-standard-units/migrateIngredient.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/migrate-to-standard-units/migrateIngredient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/migrate-to-standard-units/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/migrate-to-standard-units/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/normalizeIngredientData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/normalizeIngredientData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/normalizeIngredientDataMain.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/ingredients/normalizeIngredientDataMain.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/landing-styles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/landing-styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/large-screen-utils-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/large-screen-utils-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/large-screen-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/large-screen-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/loading-gate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/loading-gate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/logger.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/logger/logEntry.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/logger/logEntry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/logger/logEntry/helpers/redactSecrets.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/logger/logEntry/helpers/redactSecrets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/logger/logEntry/helpers/safeStringify.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/logger/logEntry/helpers/safeStringify.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/logger/logEntry/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/logger/logEntry/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-lock/change-tracking.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-lock/change-tracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-lock/change-tracking/helpers/getLockedMenusUsingEntity.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-lock/change-tracking/helpers/getLockedMenusUsingEntity.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":65,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2218,2221],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2218,2221],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":69,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2392,2395],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2392,2395],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":110,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3664,3667],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3664,3667],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { EntityType } from '../types';\nimport { getLockedMenusByMenuItems } from './getLockedMenusUsingEntity/helpers/getLockedMenusByMenuItems';\n\n/**\n * Find all locked menus using a specific entity (dish, recipe, or ingredient)\n */\nexport async function getLockedMenusUsingEntity(\n  entityType: EntityType,\n  entityId: string,\n): Promise<string[]> {\n  if (!supabaseAdmin) {\n    logger.error('[Menu Change Tracking] Supabase admin client not available');\n    return [];\n  }\n\n  try {\n    const lockedMenuIds: string[] = [];\n\n    if (entityType === 'dish' || entityType === 'recipe') {\n      const column = entityType === 'dish' ? 'dish_id' : 'recipe_id';\n      const { data: menuItems, error } = await supabaseAdmin\n        .from('menu_items')\n        .select('menu_id')\n        .eq(column, entityId);\n\n      if (error) {\n        logger.error(`[Menu Change Tracking] Failed to fetch menu items with ${entityType}:`, {\n          [entityType === 'dish' ? 'dishId' : 'recipeId']: entityId,\n          error: error.message,\n        });\n        return [];\n      }\n\n      if (menuItems && menuItems.length > 0) {\n        const menuIds = [...new Set(menuItems.map(item => item.menu_id))];\n        const locked = await getLockedMenusByMenuItems(menuIds);\n        lockedMenuIds.push(...locked);\n      }\n    } else if (entityType === 'ingredient') {\n      const { data: recipeIngredients, error: recipeError } = await supabaseAdmin\n        .from('recipe_ingredients')\n        .select('recipe_id')\n        .eq('ingredient_id', entityId);\n\n      if (recipeError) {\n        logger.warn('[Menu Change Tracking] Error fetching recipe ingredients:', {\n          error: recipeError.message,\n        });\n      }\n\n      const { data: dishIngredients, error: dishError } = await supabaseAdmin\n        .from('dish_ingredients')\n        .select('dish_id')\n        .eq('ingredient_id', entityId);\n\n      if (dishError) {\n        logger.warn('[Menu Change Tracking] Error fetching dish ingredients:', {\n          error: dishError.message,\n        });\n      }\n\n      const recipeIds = recipeIngredients\n        ? [...new Set(recipeIngredients.map((ri: any) => ri.recipe_id))]\n        : [];\n      const dishIds = dishIngredients ? [...new Set(dishIngredients.map(di => di.dish_id))] : [];\n\n      const menuItemQueries: Promise<any>[] = [];\n\n      if (recipeIds.length > 0) {\n        menuItemQueries.push(\n          Promise.resolve(\n            supabaseAdmin\n              .from('menu_items')\n              .select('menu_id')\n              .in('recipe_id', recipeIds)\n              .then(({ data, error }) => {\n                if (error) {\n                  logger.warn('[Menu Change Tracking] Error fetching menu items with recipes:', {\n                    error: error.message,\n                  });\n                }\n                return data || [];\n              }),\n          ),\n        );\n      }\n\n      if (dishIds.length > 0) {\n        menuItemQueries.push(\n          Promise.resolve(\n            supabaseAdmin\n              .from('menu_items')\n              .select('menu_id')\n              .in('dish_id', dishIds)\n              .then(({ data, error }) => {\n                if (error) {\n                  logger.warn('[Menu Change Tracking] Error fetching menu items with dishes:', {\n                    error: error.message,\n                  });\n                }\n                return data || [];\n              }),\n          ),\n        );\n      }\n\n      const menuItemResults = await Promise.all(menuItemQueries);\n      const allMenuIds = [...new Set(menuItemResults.flat().map((item: any) => item.menu_id))];\n\n      if (allMenuIds.length > 0) {\n        const locked = await getLockedMenusByMenuItems(allMenuIds);\n        lockedMenuIds.push(...locked);\n      }\n    }\n\n    return lockedMenuIds;\n  } catch (err) {\n    logger.error('[Menu Change Tracking] Error finding locked menus:', {\n      error: err instanceof Error ? err.message : String(err),\n      context: { entityType, entityId },\n    });\n    return [];\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-lock/change-tracking/helpers/getLockedMenusUsingEntity/helpers/getLockedMenusByMenuItems.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-lock/change-tracking/helpers/getLockedMenusUsingEntity/helpers/getLockedMenusByMenuItems.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-lock/change-tracking/helpers/menuChangeOperations.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-lock/change-tracking/helpers/menuChangeOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-lock/change-tracking/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-lock/change-tracking/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/helpers/check-menu-locks.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/helpers/check-menu-locks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/helpers/find-menu-items.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/helpers/find-menu-items.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/helpers/invalidate-prices.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/helpers/invalidate-prices.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/helpers/track-changes.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/helpers/track-changes.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[393,396],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[393,396],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[600,603],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[600,603],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helpers to track changes for locked menus.\n */\n\nimport { trackChangeForLockedMenus } from '@/lib/menu-lock/change-tracking';\n\n/**\n * Track changes for locked menus.\n */\nexport async function trackLockedMenuChanges(\n  lockedMenuIds: Set<string>,\n  entityType: 'recipe' | 'dish' | 'ingredient',\n  entityId: string,\n  entityName: string | undefined,\n  changeType: string,\n  changeDetails: any,\n  changedBy: string | null,\n): Promise<void> {\n  if (lockedMenuIds.size > 0 && entityName) {\n    await trackChangeForLockedMenus(\n      entityType,\n      entityId,\n      entityName,\n      changeType as any,\n      changeDetails,\n      changedBy,\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/invalidate-dish.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/invalidate-dish.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1072,1075],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1072,1075],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Invalidate menu item prices for dish changes.\n */\n\nimport { logger } from '@/lib/logger';\nimport { findMenuItemsWithDish } from './helpers/find-menu-items';\nimport { checkMenuLocks } from './helpers/check-menu-locks';\nimport { invalidateMenuItemPrices } from './helpers/invalidate-prices';\nimport { trackLockedMenuChanges } from './helpers/track-changes';\n\n/**\n * Invalidate cached recommended prices for all menu items using a specific dish.\n * Called when dish ingredients or recipes change.\n * Skips invalidation for locked menus and tracks changes instead.\n *\n * @param {string} dishId - Dish ID\n * @param {string} dishName - Dish name (for change tracking)\n * @param {string} changeType - Type of change (for tracking)\n * @param {any} changeDetails - Change details (for tracking)\n * @param {string} changedBy - User email (for tracking)\n * @returns {Promise<void>} Resolves when invalidation completes\n */\nexport async function invalidateMenuItemsWithDish(\n  dishId: string,\n  dishName?: string,\n  changeType: string = 'ingredients_changed',\n  changeDetails: any = {},\n  changedBy: string | null = null,\n): Promise<void> {\n  try {\n    // Find all menu items using this dish\n    const menuItems = await findMenuItemsWithDish(dishId);\n\n    if (menuItems.length === 0) {\n      return;\n    }\n\n    // Group menu items by menu_id and check which menus are locked\n    const menuIds = [...new Set(menuItems.map(item => item.menu_id))];\n    const { lockedMenuIds, unlockedMenuIds } = await checkMenuLocks(menuIds);\n\n    // Track changes for locked menus\n    await trackLockedMenuChanges(\n      lockedMenuIds,\n      'dish',\n      dishId,\n      dishName,\n      changeType,\n      changeDetails,\n      changedBy,\n    );\n\n    // Only invalidate prices for unlocked menus\n    const unlockedMenuItemIds = menuItems\n      .filter(item => unlockedMenuIds.has(item.menu_id))\n      .map(item => item.id);\n\n    if (unlockedMenuItemIds.length > 0) {\n      await invalidateMenuItemPrices(unlockedMenuItemIds, {\n        type: 'dish',\n        id: dishId,\n        lockedCount: lockedMenuIds.size,\n      });\n    } else if (lockedMenuIds.size > 0) {\n      logger.dev(\n        `[Menu Pricing Cache] Skipped price invalidation for dish ${dishId} (all ${lockedMenuIds.size} menus are locked, changes tracked)`,\n      );\n    }\n  } catch (err) {\n    logger.error('[Menu Pricing Cache] Error invalidating menu items with dish:', err);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/invalidate-ingredient.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/invalidate-ingredient.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/invalidate-menu.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/invalidate-menu.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/invalidate-recipe.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/menu-pricing/cache-invalidation/invalidate-recipe.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1092,1095],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1092,1095],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Invalidate menu item prices for recipe changes.\n */\n\nimport { logger } from '@/lib/logger';\nimport { findMenuItemsWithRecipe } from './helpers/find-menu-items';\nimport { checkMenuLocks } from './helpers/check-menu-locks';\nimport { invalidateMenuItemPrices } from './helpers/invalidate-prices';\nimport { trackLockedMenuChanges } from './helpers/track-changes';\n\n/**\n * Invalidate cached recommended prices for all menu items using a specific recipe.\n * Called when recipe ingredients or yield change.\n * Skips invalidation for locked menus and tracks changes instead.\n *\n * @param {string} recipeId - Recipe ID\n * @param {string} recipeName - Recipe name (for change tracking)\n * @param {string} changeType - Type of change (for tracking)\n * @param {any} changeDetails - Change details (for tracking)\n * @param {string} changedBy - User email (for tracking)\n * @returns {Promise<void>} Resolves when invalidation completes\n */\nexport async function invalidateMenuItemsWithRecipe(\n  recipeId: string,\n  recipeName?: string,\n  changeType: string = 'ingredients_changed',\n  changeDetails: any = {},\n  changedBy: string | null = null,\n): Promise<void> {\n  try {\n    // Find all menu items using this recipe\n    const menuItems = await findMenuItemsWithRecipe(recipeId);\n\n    if (menuItems.length === 0) {\n      return;\n    }\n\n    // Group menu items by menu_id and check which menus are locked\n    const menuIds = [...new Set(menuItems.map(item => item.menu_id))];\n    const { lockedMenuIds, unlockedMenuIds } = await checkMenuLocks(menuIds);\n\n    // Track changes for locked menus\n    await trackLockedMenuChanges(\n      lockedMenuIds,\n      'recipe',\n      recipeId,\n      recipeName,\n      changeType,\n      changeDetails,\n      changedBy,\n    );\n\n    // Only invalidate prices for unlocked menus\n    const unlockedMenuItemIds = menuItems\n      .filter(item => unlockedMenuIds.has(item.menu_id))\n      .map(item => item.id);\n\n    if (unlockedMenuItemIds.length > 0) {\n      await invalidateMenuItemPrices(unlockedMenuItemIds, {\n        type: 'recipe',\n        id: recipeId,\n        lockedCount: lockedMenuIds.size,\n      });\n    } else if (lockedMenuIds.size > 0) {\n      logger.dev(\n        `[Menu Pricing Cache] Skipped price invalidation for recipe ${recipeId} (all ${lockedMenuIds.size} menus are locked, changes tracked)`,\n      );\n    }\n  } catch (err) {\n    logger.error('[Menu Pricing Cache] Error invalidating menu items with recipe:', err);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/localStorage.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/localStorage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/optimizer.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/optimizer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/optimizer/helpers/applyOptimization.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/optimizer/helpers/applyOptimization.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/optimizer/helpers/createOptimizationResult.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/optimizer/helpers/createOptimizationResult.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1230,1233],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1230,1233],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1928,1931],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1928,1931],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":69,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2382,2385],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2382,2385],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { type NavigationItemConfig } from '@/app/webapp/components/navigation/nav-items';\nimport { type OptimizationResult, type NavigationPattern } from '../../schema';\n\n/**\n * Create optimization result from patterns.\n *\n * @param {NavigationItemConfig[]} items - Original items\n * @param {NavigationPattern[]} patterns - Usage patterns\n * @param {string[]} selectedSections - Sections to optimize\n * @param {number} patternVersion - Current pattern version\n * @returns {OptimizationResult} Optimization result\n */\nexport function createOptimizationResult(\n  items: NavigationItemConfig[],\n  patterns: NavigationPattern[],\n  selectedSections: string[],\n  patternVersion: number,\n): OptimizationResult {\n  // Create a map of href to pattern score\n  const patternMap = new Map<string, number>();\n  patterns.forEach(pattern => {\n    patternMap.set(pattern.href, pattern.score);\n  });\n\n  // Group items by category\n  const itemsByCategory = new Map<string, NavigationItemConfig[]>();\n  items.forEach((item, index) => {\n    const category = item.category || 'other';\n    if (!itemsByCategory.has(category)) {\n      itemsByCategory.set(category, []);\n    }\n    itemsByCategory.get(category)!.push({ ...item, originalIndex: index } as any);\n  });\n\n  // Optimize items within selected sections\n  const optimizedItems: Array<{\n    href: string;\n    originalIndex: number;\n    optimizedIndex: number;\n    score: number;\n  }> = [];\n\n  let currentIndex = 0;\n\n  itemsByCategory.forEach((categoryItems, category) => {\n    if (selectedSections.includes(category)) {\n      // Sort items in this category by pattern score\n      const sortedItems = [...categoryItems].sort((a, b) => {\n        const scoreA = patternMap.get(a.href) || 0;\n        const scoreB = patternMap.get(b.href) || 0;\n        return scoreB - scoreA; // Higher score first\n      });\n\n      sortedItems.forEach((item, sortedIndex) => {\n        const originalIndex = (item as any).originalIndex;\n        const score = patternMap.get(item.href) || 0;\n        optimizedItems.push({\n          href: item.href,\n          originalIndex,\n          optimizedIndex: currentIndex + sortedIndex,\n          score,\n        });\n      });\n\n      currentIndex += sortedItems.length;\n    } else {\n      // Keep original order for non-selected sections\n      categoryItems.forEach((item, categoryIndex) => {\n        const originalIndex = (item as any).originalIndex;\n        optimizedItems.push({\n          href: item.href,\n          originalIndex,\n          optimizedIndex: currentIndex + categoryIndex,\n          score: 0,\n        });\n      });\n\n      currentIndex += categoryItems.length;\n    }\n  });\n\n  return {\n    items: optimizedItems,\n    lastCalculated: Date.now(),\n    patternVersion,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/patternAnalyzer.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/patternAnalyzer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/patternAnalyzer/fetchPatterns.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/patternAnalyzer/fetchPatterns.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/patternAnalyzer/patternAnalysis.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/patternAnalyzer/patternAnalysis.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/patternAnalyzer/patternDetection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/patternAnalyzer/patternDetection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/patternAnalyzer/scoring.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/patternAnalyzer/scoring.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/schema.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/store.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/navigation-optimization/store.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/optimistic-updates.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/optimistic-updates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/optimistic-updates/create.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/optimistic-updates/create.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/optimistic-updates/delete.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/optimistic-updates/delete.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/optimistic-updates/reorder.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/optimistic-updates/reorder.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/optimistic-updates/update.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/optimistic-updates/update.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/performance-monitor.test.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[435,438],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[435,438],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[673,676],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[673,676],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\n// Polyfill PerformanceObserver\nif (typeof PerformanceObserver === 'undefined') {\n  (global as any).PerformanceObserver = class PerformanceObserver {\n    observe() {}\n    disconnect() {}\n    takeRecords() {\n      return [];\n    }\n  };\n}\n\n// Polyfill PerformanceObserver\nif (typeof PerformanceObserver === 'undefined') {\n  (global as any).PerformanceObserver = class PerformanceObserver {\n    observe() {}\n    disconnect() {}\n    takeRecords() {\n      return [];\n    }\n  };\n}\n\n// Mock web-vitals\njest.mock('web-vitals', () => ({\n  onCLS: jest.fn(),\n  onFID: jest.fn(),\n  onLCP: jest.fn(),\n  onFCP: jest.fn(),\n  onTTFB: jest.fn(),\n  onINP: jest.fn(),\n}));\n\nimport * as Module from './performance-monitor';\n\ndescribe('performance-monitor', () => {\n  it('module loads (smoke test)', () => {\n    expect(Module).toBeDefined();\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/performance-monitor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/performance-monitor/budgets.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/performance-monitor/budgets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/performance-monitor/metrics.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/performance-monitor/metrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/performance-monitor/scoring.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/performance-monitor/scoring.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/performance-monitor/tracking.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/performance-monitor/tracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker/helpers/storage.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker/helpers/storage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker/helpers/streak.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker/helpers/streak.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker/helpers/trackBooleanAchievements.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker/helpers/trackBooleanAchievements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker/helpers/trackCountAchievements.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker/helpers/trackCountAchievements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker/helpers/unlockAchievement.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievement-tracker/helpers/unlockAchievement.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[410,413],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[410,413],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { type Achievement, type AchievementId, ACHIEVEMENTS } from '../../achievements';\nimport { loadAchievements, saveAchievements } from './storage';\nimport { checkAchievementMilestone, dispatchMilestoneReached } from '@/lib/gamification/milestones';\n\nexport function unlockAchievement(id: AchievementId): void {\n  const achievements = loadAchievements();\n  const unlockedIds = new Set(achievements.map((a: any) => a.id));\n\n  if (unlockedIds.has(id)) return; // Already unlocked\n\n  const achievement: Achievement = {\n    ...ACHIEVEMENTS[id],\n    unlockedAt: Date.now(),\n  };\n\n  achievements.push(achievement);\n  saveAchievements(achievements);\n\n  // Dispatch event for UI to show celebration\n  if (typeof window !== 'undefined') {\n    window.dispatchEvent(\n      new CustomEvent('personality:achievement', {\n        detail: { achievement },\n      }),\n    );\n  }\n\n  // Check for achievement milestones (first achievement, halfway, complete)\n  const achievementMilestone = checkAchievementMilestone(achievements.length);\n  if (achievementMilestone) {\n    dispatchMilestoneReached(achievementMilestone);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievements.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/achievements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/adaptive-personality.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/adaptive-personality.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/behavior-tracker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/behavior-tracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/chaos.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/chaos.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/chefHabits.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/chefHabits.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/context.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/context.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/errors.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/errors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/meta.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/meta.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/metrics.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/metrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/mindful.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/mindful.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/moodShift.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/moodShift.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/seasonal.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/seasonal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/success.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/content/success.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/footer-easter-egg.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/footer-easter-egg.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/hooks.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/hooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/hooks/helpers/useAchievementHooks.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/hooks/helpers/useAchievementHooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/hooks/helpers/useAchievementHooks/helpers/createAchievementHook.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/hooks/helpers/useAchievementHooks/helpers/createAchievementHook.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/hooks/helpers/useContextHooks.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/hooks/helpers/useContextHooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/interactive-content.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/interactive-content.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/metrics-tracker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/metrics-tracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/mise-en-place.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/mise-en-place.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/presets.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/presets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/real-metrics.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/real-metrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/scheduler.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/scheduler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/schema.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/store.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/store.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/ui.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/ui.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/utils/helpers/dateCalculations.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/utils/helpers/dateCalculations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/utils/helpers/seasonalMatch.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/personality/utils/helpers/seasonalMatch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/basic-data.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/basic-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/cleaning-data.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/cleaning-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/dishes-data-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/dishes-data-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/dishes-data.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/dishes-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/generate-sales-data.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/generate-sales-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/menu-dishes-data.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/menu-dishes-data.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[587,590],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[587,590],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper functions for populating menu dishes (old menu_dishes table for Performance page compatibility)\n */\n\nimport { createSupabaseAdmin } from '@/lib/supabase';\n\nimport { logger } from '@/lib/logger';\n\ninterface PopulateResults {\n  cleaned: number;\n  populated: Array<{ table: string; count: number }>;\n  errors: Array<{ table: string; error: string }>;\n}\n\n/**\n * Populate menu dishes (old system for Performance page compatibility)\n */\nexport async function populateMenuDishes(\n  supabaseAdmin: ReturnType<typeof createSupabaseAdmin>,\n  results: PopulateResults,\n  recipesData: any[],\n) {\n  if (!recipesData || recipesData.length === 0) return;\n\n  const recipeMap = new Map(recipesData.map(r => [r.recipe_name || r.name, r.id]));\n\n  const menuDishes = [\n    {\n      name: 'Beef Burger',\n      recipe_id: recipeMap.get('Beef Burger'),\n      selling_price: 18.5,\n      number_sold: 45,\n    },\n    {\n      name: 'Caesar Salad',\n      recipe_id: recipeMap.get('Caesar Salad'),\n      selling_price: 16.5,\n      number_sold: 32,\n    },\n    {\n      name: 'Pasta Carbonara',\n      recipe_id: recipeMap.get('Pasta Carbonara'),\n      selling_price: 22.5,\n      number_sold: 28,\n    },\n    {\n      name: 'Chicken Stir Fry',\n      recipe_id: recipeMap.get('Chicken Stir Fry'),\n      selling_price: 19.5,\n      number_sold: 38,\n    },\n    {\n      name: 'Fish and Chips',\n      recipe_id: recipeMap.get('Fish and Chips'),\n      selling_price: 24.5,\n      number_sold: 42,\n    },\n    {\n      name: 'Roast Chicken',\n      recipe_id: recipeMap.get('Roast Chicken'),\n      selling_price: 28.5,\n      number_sold: 25,\n    },\n    {\n      name: 'Vegetable Soup',\n      recipe_id: recipeMap.get('Vegetable Soup'),\n      selling_price: 14.5,\n      number_sold: 20,\n    },\n    {\n      name: 'Grilled Lamb Chops',\n      recipe_id: recipeMap.get('Grilled Lamb Chops'),\n      selling_price: 32.5,\n      number_sold: 18,\n    },\n  ].filter(dish => dish.recipe_id);\n\n  if (menuDishes.length > 0) {\n    const { data: menuDishesData, error: menuDishesError } = await supabaseAdmin\n      .from('menu_dishes')\n      .insert(menuDishes)\n      .select();\n\n    if (menuDishesError) {\n      logger.error('[Populate Helpers] Error populating menu dishes:', {\n        error: menuDishesError.message,\n        context: { operation: 'populateMenuDishes' },\n      });\n      results.errors.push({ table: 'menu_dishes', error: menuDishesError.message });\n    } else {\n      results.populated.push({ table: 'menu_dishes', count: menuDishesData?.length || 0 });\n    }\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/menus-data-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/menus-data-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/menus-data.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/menus-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/other-data.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/other-data.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":63,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2056,2059],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2056,2059],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper functions for populating other data (compliance, kitchen sections, sales data)\n */\n\nimport { logger } from '@/lib/logger';\nimport { cleanSampleComplianceTypes } from '@/lib/sample-compliance-clean';\nimport { cleanSampleKitchenSections } from '@/lib/sample-sections-clean';\nimport { createSupabaseAdmin } from '@/lib/supabase';\nimport { generateSalesDataForMonth } from './generate-sales-data';\n\ninterface PopulateResults {\n  cleaned: number;\n  populated: Array<{ table: string; count: number }>;\n  errors: Array<{ table: string; error: string }>;\n}\n\n/**\n * Populate compliance types\n */\nexport async function populateComplianceData(\n  supabaseAdmin: ReturnType<typeof createSupabaseAdmin>,\n  results: PopulateResults,\n) {\n  const { data: complianceTypesData, error: complianceTypesError } = await supabaseAdmin\n    .from('compliance_types')\n    .insert(cleanSampleComplianceTypes)\n    .select();\n\n  if (complianceTypesError) {\n    results.errors.push({ table: 'compliance_types', error: complianceTypesError.message });\n    logger.error('Error inserting compliance_types:', complianceTypesError);\n  } else {\n    results.populated.push({ table: 'compliance_types', count: complianceTypesData?.length || 0 });\n  }\n}\n\n/**\n * Populate kitchen sections\n */\nexport async function populateKitchenSections(\n  supabaseAdmin: ReturnType<typeof createSupabaseAdmin>,\n  results: PopulateResults,\n) {\n  const { data: sectionsData, error: sectionsError } = await supabaseAdmin\n    .from('kitchen_sections')\n    .insert(cleanSampleKitchenSections)\n    .select();\n\n  if (sectionsError) {\n    results.errors.push({ table: 'kitchen_sections', error: sectionsError.message });\n    logger.error('Error inserting kitchen_sections:', sectionsError);\n  } else {\n    results.populated.push({ table: 'kitchen_sections', count: sectionsData?.length || 0 });\n  }\n}\n\n/**\n * Populate sales data for menu dishes (last 30 days)\n */\nexport async function populateSalesData(\n  supabaseAdmin: ReturnType<typeof createSupabaseAdmin>,\n  results: PopulateResults,\n  recipesData: any[],\n) {\n  if (!recipesData || recipesData.length === 0) {\n    logger.dev('No recipes available for sales data generation');\n    return;\n  }\n\n  try {\n    // Generate sales data for the last 30 days\n    const endDate = new Date();\n    endDate.setHours(23, 59, 59, 999); // End of today\n    const startDate = new Date(endDate.getTime() - 29 * 24 * 60 * 60 * 1000); // 30 days ago\n    startDate.setHours(0, 0, 0, 0); // Start of day\n\n    logger.dev(\n      ` Generating sales data for ${recipesData.length} recipes from ${startDate.toISOString().split('T')[0]} to ${endDate.toISOString().split('T')[0]}...`,\n    );\n\n    // Convert recipes to format expected by generateSalesDataForMonth\n    const recipes = recipesData.map(r => ({\n      id: r.id,\n      recipe_name: r.recipe_name || r.name,\n      name: r.name || r.recipe_name,\n    }));\n\n    const { salesData, dishesCreated, dishesUsed } = await generateSalesDataForMonth(\n      recipes,\n      startDate,\n      endDate,\n      supabaseAdmin,\n    );\n\n    if (salesData.length === 0) {\n      logger.warn('No sales data generated');\n      return;\n    }\n\n    // Batch insert sales data\n    const BATCH_SIZE = 500;\n    let insertedCount = 0;\n\n    for (let i = 0; i < salesData.length; i += BATCH_SIZE) {\n      const batch = salesData.slice(i, i + BATCH_SIZE);\n\n      // Try upsert first, fallback to insert if constraint doesn't exist\n      let { data, error } = await supabaseAdmin\n        .from('sales_data')\n        .upsert(batch, {\n          onConflict: 'dish_id,date',\n          ignoreDuplicates: false,\n        })\n        .select();\n\n      // If upsert fails due to missing constraint, try insert\n      if (error && error.message.includes('no unique or exclusion constraint')) {\n        // Insert one by one, skipping duplicates\n        for (const record of batch) {\n          const { error: singleError } = await supabaseAdmin.from('sales_data').insert(record);\n\n          if (!singleError) {\n            insertedCount++;\n          } else if (!singleError.message.includes('duplicate')) {\n            logger.warn(`Error inserting sales record: ${singleError.message}`);\n          }\n        }\n      } else if (error) {\n        results.errors.push({ table: 'sales_data', error: error.message });\n        logger.error(`Error inserting sales data batch:`, error);\n      } else {\n        insertedCount += data?.length || 0;\n      }\n    }\n\n    if (insertedCount > 0) {\n      results.populated.push({ table: 'sales_data', count: insertedCount });\n      logger.dev(` Inserted ${insertedCount} sales data records`);\n    }\n  } catch (err) {\n    const errorMessage = err instanceof Error ? err.message : 'Unknown error';\n    results.errors.push({ table: 'sales_data', error: errorMessage });\n    logger.error('Error populating sales data:', err);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/dish-checks.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/dish-checks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/dish-ingredients.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/dish-ingredients.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/ingredient-finder.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/ingredient-finder.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/ingredient-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/ingredient-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/pattern-matchers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/pattern-matchers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/burger.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/burger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/chicken.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/chicken.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/common.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/common.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/default.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/default.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/fish.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/fish.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/pasta.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/pasta.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/pizza.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/pizza.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/salad.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/salad.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/soup.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/patterns/soup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/recipe-aggregation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/recipe-aggregation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/recipe-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/recipe-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-empty-dishes-helpers/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-staff.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/populate-staff.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/temperature-data.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-helpers/temperature-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-recipes-data.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/populate-recipes-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/QRCodeActions.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './QRCodeActions';\n\ndescribe('QRCodeActions', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for QRCodeActions, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/QRCodeActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/QRCodeDisplay.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[783,786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[783,786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport '@testing-library/jest-dom';\nimport { render } from '@testing-library/react';\nimport * as Module from './QRCodeDisplay';\n\ndescribe('QRCodeDisplay', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component value=\"https://example.com\" />);\n      } catch (e) {\n        // console.warn('Render failed for QRCodeDisplay, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/QRCodeDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/QRCodeHeader.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './QRCodeHeader';\n\ndescribe('QRCodeHeader', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for QRCodeHeader, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/QRCodeHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/QRCodeModal.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './QRCodeModal';\n\ndescribe('QRCodeModal', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for QRCodeModal, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/QRCodeModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/qr-print-template.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/qr-print-template.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/useQRCodeModal.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/qr-codes/useQRCodeModal.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rate-limit.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rate-limit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/react-query.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/react-query.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/architecture-analysis/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/auto-fix/fix-orchestrator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/auto-fix/fix-provider.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/auto-refactoring/codemod-runner.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[851,854],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[851,854],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { exec } from 'child_process';\nimport util from 'util';\n\nconst execAsync = util.promisify(exec);\n\n/**\n * Codemod Runner\n * Wrapper for jscodeshift execution.\n */\n\nexport class CodemodRunner {\n  static async run(\n    codemodPath: string,\n    targetFiles: string[],\n    dryRun: boolean = false,\n  ): Promise<{ success: boolean; output: string }> {\n    const filesStr = targetFiles.map(f => `\"${f}\"`).join(' ');\n    const dryRunFlag = dryRun ? '--dry' : ''; // jscodeshift dry run\n    const command = `npx jscodeshift -t ${codemodPath} ${filesStr} --parser=tsx ${dryRunFlag}`;\n\n    try {\n      console.log(`Executing codemod: ${command}`);\n      const { stdout, stderr } = await execAsync(command);\n      if (stdout) console.log(stdout);\n      if (stderr) console.error(stderr);\n      return { success: true, output: stdout };\n    } catch (error: any) {\n      console.error('Codemod execution failed:', error.message);\n      if (error.stdout) console.log(error.stdout);\n      if (error.stderr) console.error(error.stderr);\n      return { success: false, output: error.message };\n    }\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/auto-refactoring/refactoring-planner.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/auto-refactoring/validation-suite.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[918,921],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[918,921],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { exec } from 'child_process';\nimport path from 'path';\nimport util from 'util';\n\nconst execAsync = util.promisify(exec);\n\n/**\n * Validation Suite\n * Runs targeted validations after a refactor.\n */\n\nexport class ValidationSuite {\n  static async validate(affectedFiles: string[]): Promise<boolean> {\n    try {\n      console.log(`Validating ${affectedFiles.length} files...`);\n\n      // 1. Check if git sees any changes\n      const { stdout: diffStdout } = await execAsync('git diff --name-only');\n      if (!diffStdout.trim()) {\n        console.warn(' No changes detected after refactoring execution.');\n        return false;\n      }\n\n      console.log(' Changes detected on disk.');\n\n      // 2. Perform basic type check\n      console.log('Running type check...');\n      try {\n        await execAsync('npx tsc --noEmit');\n        console.log(' Type check passed.');\n        return true;\n      } catch (err: any) {\n        console.error(' Type check failed. Analyzing errors...');\n        const output = err.stdout || err.message;\n\n        // Extract file paths from TSC output\n        // Example: app/webapp/temperature/components/TemperatureLogCard.tsx(24,87): error TS1005...\n        const failedFiles = new Set<string>();\n        const lines = output.split('\\n');\n        const pathRegex = /^([^\\s(]+)\\(/;\n\n        for (const line of lines) {\n          const match = line.match(pathRegex);\n          if (match && match[1] && affectedFiles.some(f => match[1].includes(path.basename(f)))) {\n            // Basic match check - can be improved to be exact match if passing full paths\n            failedFiles.add(match[1]);\n          }\n        }\n\n        if (failedFiles.size > 0) {\n          console.log(` Identifying ${failedFiles.size} broken files. Reverting them...`);\n          for (const file of failedFiles) {\n            console.log(`   Reverting ${file}...`);\n            await execAsync(`git checkout \"${file}\"`);\n          }\n          console.log(' Partial rollback complete. Valid changes preserved.');\n          return true; // Return true because we fixed the broken state by reverting\n        } else {\n          console.error(' Could not identify specific broken files. Reverting all...');\n          return false; // Trigger full revert in caller\n        }\n      }\n    } catch (error) {\n      console.error('Validation failed', error);\n      return false;\n    }\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/feedback/effectiveness-tracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/feedback/improvement-metrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/meta-learning/knowledge-synthesizer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/meta-learning/learning-strategy.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[298,301],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[298,301],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[463,466],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[463,466],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Learning Strategy Interface\n * Defines how RSI analyzes success patterns.\n */\n\nexport interface LearningInsight {\n  patternId: string;\n  type: string;\n  confidence: number;\n  insight: string;\n  sourceFiles: string[];\n}\n\nexport interface LearningStrategy {\n  name: string;\n  analyze(history: any[]): Promise<LearningInsight[]>;\n}\n\nexport class FrequencyAnalysisStrategy implements LearningStrategy {\n  name = 'Frequency Analysis';\n\n  async analyze(history: any[]): Promise<LearningInsight[]> {\n    const insights: LearningInsight[] = [];\n\n    // Group by type\n    const stats: Record<string, { total: number; successful: number; files: string[] }> = {};\n\n    for (const record of history) {\n      const type = record.type;\n      if (!stats[type]) {\n        stats[type] = { total: 0, successful: 0, files: [] };\n      }\n\n      stats[type].total++;\n      if (record.status === 'applied') {\n        stats[type].successful++;\n        if (record.files && record.files.length > 0) {\n          stats[type].files.push(...record.files);\n        }\n      }\n    }\n\n    // Generate insights\n    for (const [type, data] of Object.entries(stats)) {\n      if (data.total === 0) continue;\n\n      const successRate = data.successful / data.total;\n\n      // Only generate insight if we have enough data points and high success rate\n      // Lowering threshold slightly for demo purposes, but realistically should be higher\n        if (data.total >= 1 && successRate >= 0.8) {\n        insights.push({\n          patternId: type,\n          type: 'frequency',\n          confidence: successRate,\n          insight: `Fixes of type '${type}' have a ${(successRate * 100).toFixed(1)}% success rate across ${data.total} attempts.`,\n          sourceFiles: [...new Set(data.files)].slice(0, 5), // Limit file list\n        });\n      }\n    }\n\n    return insights;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/meta-learning/pattern-refiner.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[308,311],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[308,311],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Pattern Refiner\n * Tunes existing error patterns to be more specific or general.\n */\n\nexport interface RefinementSuggestion {\n  originalPattern: string;\n  refinedPattern: string;\n  reason: string;\n  confidence: number;\n}\n\nexport class PatternRefiner {\n  static async refine(pattern: string, feedback: any[]): Promise<RefinementSuggestion | null> {\n    // Mock logic\n    // If a pattern has high false positive rate (from feedback), suggest adding constraints.\n\n    if (feedback.some(f => f.outcome === 'negative')) {\n      return {\n        originalPattern: pattern,\n        refinedPattern: `${pattern} && !isTestFile`,\n        reason: 'High negative feedback in test files. Adding exclusion.',\n        confidence: 0.9,\n      };\n    }\n\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/orchestrator.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":108,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":108,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3465,3468],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3465,3468],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { exec } from 'child_process';\nimport util from 'util';\nimport { runArchitectureAnalysis } from './architecture-analysis';\nimport { runPredictiveAnalysis } from './predictive-analysis';\nimport { SafetyChecker } from './safety/safety-checker';\nimport { PerformanceTracker } from './self-optimization/performance-tracker';\n\nconst execAsync = util.promisify(exec);\n\nexport interface OrchestratorConfig {\n  dryRun?: boolean;\n  modules: {\n    autoFix: boolean;\n    selfOptimize: boolean;\n    metaLearning: boolean;\n    ruleEvolution: boolean;\n    autoRefactor: boolean;\n    predictiveAnalysis: boolean;\n    architectureAnalysis: boolean;\n  };\n}\n\nexport class RSIOrchestrator {\n  static async run(config: OrchestratorConfig) {\n    console.log(' RSI Orchestrator Initializing...');\n\n    // 1. Safety Check (Global Gate)\n    if (!config.dryRun) {\n      const isClean = await SafetyChecker.isGitClean();\n      if (!isClean) {\n        console.error(' Git working directory is not clean. Aborting RSI run.');\n        return;\n      }\n    }\n\n    PerformanceTracker.startTimer();\n\n    try {\n      // 2. Auto-Fixer\n      if (config.modules.autoFix) {\n        console.log('\\n--- Module: Auto-Fixer ---');\n        await this.runScript('rsi:fix', config.dryRun);\n      }\n\n      // 3. Self-Optimization\n      if (config.modules.selfOptimize) {\n        console.log('\\n--- Module: Self-Optimization ---');\n        await this.runScript('rsi:optimize', config.dryRun);\n      }\n\n      // 4. Meta-Learning\n      if (config.modules.metaLearning) {\n        console.log('\\n--- Module: Meta-Learning ---');\n        await this.runScript('rsi:evolve', config.dryRun);\n      }\n\n      // 5. Rule Evolution\n      if (config.modules.ruleEvolution) {\n        console.log('\\n--- Module: Rule Evolution ---');\n        await this.runScript('rsi:rule', config.dryRun, ['generate']);\n      }\n\n      // 6. Auto-Refactoring (Expensive, usually separate)\n      if (config.modules.autoRefactor) {\n        console.log('\\n--- Module: Auto-Refactoring ---');\n        await this.runScript('rsi:refactor', config.dryRun);\n      }\n\n      // 7. Predictive Analysis (merged from autonomous-developer)\n      if (config.modules.predictiveAnalysis) {\n        console.log('\\n--- Module: Predictive Analysis ---');\n        await runPredictiveAnalysis(config.dryRun);\n      }\n\n      // 8. Architecture Analysis (merged from autonomous-developer)\n      if (config.modules.architectureAnalysis) {\n        console.log('\\n--- Module: Architecture Analysis ---');\n        await runArchitectureAnalysis(config.dryRun);\n      }\n    } catch (error) {\n      console.error('RSI Run failed:', error);\n    } finally {\n      const duration = PerformanceTracker.stopTimer();\n      await PerformanceTracker.logPerformance({\n        taskId: 'orchestrator-run',\n        taskType: 'full-cycle',\n        durationMs: duration,\n        success: true,\n      });\n      console.log(`\\n RSI Cycle Complete (${(duration / 1000).toFixed(2)}s)`);\n    }\n  }\n\n  private static async runScript(\n    scriptName: string,\n    dryRun: boolean | undefined,\n    args: string[] = [],\n  ) {\n    const dryRunFlag = dryRun ? '-- --dry-run' : '';\n    const argsStr = args.join(' ');\n    const command = `npm run ${scriptName} ${dryRunFlag} ${argsStr}`;\n\n    console.log(`> Executing: ${command}`);\n    try {\n      const { stdout, stderr } = await execAsync(command);\n      console.log(stdout);\n      if (stderr) console.error(stderr);\n    } catch (error: any) {\n      console.error(`Script ${scriptName} failed:`);\n      console.error(error.message);\n      // Don't throw, allow valid modules to finish?\n      // For now, let's keep going.\n    }\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/predictive-analysis/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/rule-evolution/rule-evaluator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/rule-evolution/rule-generator.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[682,685],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[682,685],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1434,1437],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1434,1437],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { HfInference } from '@huggingface/inference';\n\nexport interface GeneratedRule {\n  id: string;\n  name: string;\n  description: string;\n  type: 'regex' | 'ast' | 'file-structure' | 'eslint';\n  definition: string; // The regex or the ESLint rule ID\n  severity: 'error' | 'warning';\n  generatedFrom: string; // Insight ID\n}\n\nexport class RuleGenerator {\n  private static hf: HfInference | null = null;\n\n  private static getHFClient(): HfInference | null {\n    if (this.hf) return this.hf;\n    const apiKey = process.env.HUGGINGFACE_API_KEY;\n    if (!apiKey) return null;\n    this.hf = new HfInference(apiKey);\n    return this.hf;\n  }\n\n  static async generateFromInsight(insight: any): Promise<GeneratedRule | null> {\n    // 1. Hardcoded / Native Logic (Fast Path)\n    if (insight.insight.includes('Replacing \"any\"') || insight.patternId === 'fix-any-type') {\n      return {\n        id: `rule-no-any-${Date.now()}`,\n        name: 'No Explicit Any (Native)',\n        description: 'Native ESLint enforcement to ban \"any\" type.',\n        type: 'eslint',\n        definition: '@typescript-eslint/no-explicit-any',\n        severity: 'error',\n        generatedFrom: insight.patternId,\n      };\n    }\n\n    // 2. LLM-Powered Dynamic Logic (Slow Path)\n    // If we have an insight we don't recognize, ask the AI Brain.\n    return await this.generateDynamicRuleFromLLM(insight);\n  }\n\n  private static async generateDynamicRuleFromLLM(insight: any): Promise<GeneratedRule | null> {\n    const hf = this.getHFClient();\n    if (!hf) {\n      console.log('Skipping dynamic rule generation (No HF Key)');\n      return null;\n    }\n\n    console.log(` Consulting LLM for insight: \"${insight.insight}\"...`);\n\n    const prompt = `\n      You are an expert DevOps engineer.\n      Analyze this code improvement insight and map it to a standard ESLint rule.\n\n      Insight: \"${insight.insight}\"\n      Pattern ID: \"${insight.patternId}\"\n\n      Return ONLY a JSON object with this format (no markdown, no explanation):\n      {\n        \"name\": \"Human readable rule name\",\n        \"description\": \"Short description\",\n        \"eslintRuleId\": \"standard-eslint-rule-id-only\",\n        \"severity\": \"error\"\n      }\n\n      Example:\n      Insight: \"Removing console.log calls has 100% success.\"\n      {\"name\": \"No Console Logging\", \"description\": \"Prevent shipping console logs.\", \"eslintRuleId\": \"no-console\", \"severity\": \"warning\"}\n    `;\n\n    try {\n      const response = await hf.textGeneration({\n        model: 'mistralai/Mistral-7B-Instruct-v0.2',\n        inputs: `<s>[INST] ${prompt} [/INST]`,\n        parameters: {\n          max_new_tokens: 150,\n          temperature: 0.1, // Deterministic\n        }\n      });\n\n      const text = response.generated_text;\n      // Extract JSON part if model chats too much (simple regex for {} block)\n      const jsonMatch = text.match(/\\{[\\s\\S]*\\}/);\n      if (!jsonMatch) return null;\n\n      const result = JSON.parse(jsonMatch[0]);\n\n      if (result.eslintRuleId) {\n        console.log(` LLM suggested rule: ${result.eslintRuleId}`);\n        return {\n          id: `rule-llm-${Date.now()}`,\n          name: result.name || 'AI Generated Rule',\n          description: result.description || 'Generated by RSI LLM',\n          type: 'eslint',\n          definition: result.eslintRuleId,\n          severity: result.severity === 'error' ? 'error' : 'warning',\n          generatedFrom: insight.patternId,\n        };\n      }\n    } catch (error) {\n      console.error('LLM Generation Failed:', error);\n    }\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/rule-evolution/rule-manager.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/safety/change-tracker.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[373,376],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[373,376],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import fs from 'fs';\nimport path from 'path';\n\n/**\n * Change Tracker for RSI\n * Logs all automated changes for audit and rollback purposes.\n */\n\nexport interface ChangeRecord {\n  id: string;\n  timestamp: string;\n  type: string;\n  files: string[];\n  description: string;\n  confidenceScore: number;\n  status: 'applied' | 'failed' | 'rolled_back';\n  metadata?: Record<string, any>;\n}\n\nconst LOG_FILE_PATH = path.join(process.cwd(), 'docs/rsi/improvements.json');\n\nexport class ChangeTracker {\n  static async logChange(record: Omit<ChangeRecord, 'id' | 'timestamp'>): Promise<string> {\n    const id = crypto.randomUUID();\n    const timestamp = new Date().toISOString();\n\n    const newRecord: ChangeRecord = {\n      id,\n      timestamp,\n      ...record,\n    };\n\n    try {\n      let logs: ChangeRecord[] = [];\n      if (fs.existsSync(LOG_FILE_PATH)) {\n        const content = fs.readFileSync(LOG_FILE_PATH, 'utf-8');\n        logs = JSON.parse(content || '[]');\n      }\n\n      logs.push(newRecord);\n      fs.writeFileSync(LOG_FILE_PATH, JSON.stringify(logs, null, 2));\n\n      return id;\n    } catch (error) {\n      console.error('Failed to log RSI change:', error);\n      throw error;\n    }\n  }\n\n  static async updateStatus(id: string, status: ChangeRecord['status']): Promise<void> {\n    try {\n      if (!fs.existsSync(LOG_FILE_PATH)) return;\n\n      const content = fs.readFileSync(LOG_FILE_PATH, 'utf-8');\n      const logs: ChangeRecord[] = JSON.parse(content || '[]');\n\n      const index = logs.findIndex(l => l.id === id);\n      if (index !== -1) {\n        logs[index].status = status;\n        fs.writeFileSync(LOG_FILE_PATH, JSON.stringify(logs, null, 2));\n      }\n    } catch (error) {\n      console.error('Failed to update RSI change status:', error);\n    }\n  }\n\n  static async getHistory(): Promise<ChangeRecord[]> {\n    try {\n      if (!fs.existsSync(LOG_FILE_PATH)) return [];\n      const content = fs.readFileSync(LOG_FILE_PATH, 'utf-8');\n      return JSON.parse(content || '[]');\n    } catch (error) {\n      console.error('Failed to read RSI history:', error);\n      return [];\n    }\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/safety/confidence-scorer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/safety/rollback-manager.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/safety/safety-checker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/self-optimization/ab-tester.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/self-optimization/optimizer.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[191,194],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[191,194],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[213,216],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[213,216],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import path from 'path';\n\n/**\n * Optimizer for RSI\n * Analyzes metrics and proposes parameter adjustments.\n */\n\nexport interface OptimizationSuggestion {\n  parameter: string;\n  currentValue: any;\n  proposedValue: any;\n  reason: string;\n  confidence: number;\n}\n\nconst METRICS_FILE_PATH = path.join(process.cwd(), 'docs/rsi/metrics.json');\n\nexport class Optimizer {\n  static async analyze(): Promise<OptimizationSuggestion[]> {\n    const suggestions: OptimizationSuggestion[] = [];\n\n    try {\n      const fs = require('fs');\n      if (fs.existsSync(METRICS_FILE_PATH)) {\n        const metrics = JSON.parse(fs.readFileSync(METRICS_FILE_PATH, 'utf-8'));\n        const successRates: number[] = metrics.fixSuccessRate || [];\n\n        if (successRates.length > 0) {\n          const avgSuccess = successRates.reduce((a, b) => a + b, 0) / successRates.length;\n\n          // If we are very successful, we can be more aggressive\n          if (avgSuccess > 0.9) {\n             suggestions.push({\n              parameter: 'confidenceThreshold.medium',\n              currentValue: 0.7, // In a real system, we'd read this from config\n              proposedValue: 0.65,\n              reason: `High fix success rate (${(avgSuccess * 100).toFixed(1)}%). We can significantly increase velocity by lowering the confidence threshold.`,\n              confidence: 0.9,\n            });\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Optimizer analysis failed:', error);\n    }\n\n    return suggestions;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/rsi/self-optimization/performance-tracker.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[373,376],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[373,376],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import fs from 'fs';\nimport path from 'path';\n\n/**\n * Performance Tracker for RSI\n * Tracks execution metrics for RSI tasks to enable optimization.\n */\n\nexport interface PerformanceRecord {\n  taskId: string;\n  taskType: string;\n  timestamp: string;\n  durationMs: number;\n  memoryUsageMb?: number;\n  cpuUsagePercent?: number;\n  success: boolean;\n  metadata?: Record<string, any>;\n}\n\nconst METRICS_FILE_PATH = path.join(process.cwd(), 'docs/rsi/metrics.json');\n\nexport class PerformanceTracker {\n  private static startTime: number | null = null;\n\n  static startTimer() {\n    this.startTime = performance.now();\n  }\n\n  static stopTimer(): number {\n    if (this.startTime === null) return 0;\n    const duration = performance.now() - this.startTime;\n    this.startTime = null;\n    return duration;\n  }\n\n  static async logPerformance(record: Omit<PerformanceRecord, 'timestamp'>): Promise<void> {\n    const timestamp = new Date().toISOString();\n    const newRecord: PerformanceRecord = {\n      timestamp,\n      ...record,\n    };\n\n    try {\n      // In a real system, we might append to a separate log file or DB.\n      // For this simplified version, we'll append to a specific section in metrics.json\n      // or a new file if we want to keep it separate.\n      // Let's assume we append to the generic metrics file for now,\n      // but structured differently or just to a log file.\n      // For clarity, let's just log to console for Phase 3 or append to a list in metrics.json if we define a schema.\n\n      // Let's use a dedicated log file for raw performance logs to avoid bloating the main metrics summary.\n      const perfLogPath = path.join(process.cwd(), 'docs/rsi/performance-logs.json');\n\n      let logs: PerformanceRecord[] = [];\n      if (fs.existsSync(perfLogPath)) {\n        const content = fs.readFileSync(perfLogPath, 'utf-8');\n        try {\n          logs = JSON.parse(content || '[]');\n        } catch {\n          logs = [];\n        }\n      }\n\n      logs.push(newRecord);\n\n      // Keep log size manageable? For now, unlimited.\n      fs.writeFileSync(perfLogPath, JSON.stringify(logs, null, 2));\n    } catch (error) {\n      console.error('Failed to log RSI performance:', error);\n    }\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-cleaning-clean.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-cleaning-clean.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-compliance-clean.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-compliance-clean.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-dishes-clean.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-dishes-clean.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-equipment-clean.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-equipment-clean.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-ingredients-clean.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-ingredients-clean.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-ingredients-updated.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-ingredients-updated.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-menus-clean.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-menus-clean.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-recipes-clean.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-recipes-clean.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-sections-clean.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-sections-clean.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-suppliers-clean.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/sample-suppliers-clean.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/CurbOSMiddleware.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/CurbOSMiddleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/SecurityHeaders.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/SecurityHeaders.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-detection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification/helpers/notifyAffectedUsers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification/helpers/notifyAffectedUsers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification/helpers/processPendingBreaches.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification/helpers/processPendingBreaches.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification/helpers/sendBreachEmail.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification/helpers/sendBreachEmail.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification/helpers/sendBreachInApp.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification/helpers/sendBreachInApp.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification/helpers/updateBreachStatus.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/security/breach-notification/helpers/updateBreachStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/seed/helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/seed/helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/seed/recipes.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/seed/recipes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/constants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/createValidationWarnings.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/createValidationWarnings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/helpers/calculateHours.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/helpers/calculateHours.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/helpers/dateUtils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/helpers/dateUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/helpers/getConsecutiveDays.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/helpers/getConsecutiveDays.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/validateEmployeeShifts.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/validateEmployeeShifts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/validateShift.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/validateShift.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/validateShiftAvailability.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/validateShiftAvailability.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/validateShiftSkills.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/compliance/validator/validateShiftSkills.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/payroll/calculator.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/payroll/calculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/payroll/helpers/formatting.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/payroll/helpers/formatting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/payroll/helpers/rateMultiplier.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/payroll/helpers/rateMultiplier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/payroll/helpers/shiftHours.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/payroll/helpers/shiftHours.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/payroll/helpers/weeklyCost.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/payroll/helpers/weeklyCost.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/roster/templateService.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/roster/templateService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/roster/templateService/helpers/createShiftFromTemplate.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/roster/templateService/helpers/createShiftFromTemplate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/roster/templateService/helpers/findShiftConflict.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/roster/templateService/helpers/findShiftConflict.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/roster/templateService/helpers/validateTemplateApplication.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/services/roster/templateService/helpers/validateTemplateApplication.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/share/share-modal.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[779,782],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[779,782],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './share-modal';\n\ndescribe('share-modal', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for share-modal, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/share/share-modal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/share/share-modal/EmailForm.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[720,723],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[720,723],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[775,778],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[775,778],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './EmailForm';\n\ndescribe('EmailForm', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for EmailForm, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/share/share-modal/EmailForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/share/share-modal/ShareOptions.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock env vars for smoke test\nprocess.env.NEXT_PUBLIC_SUPABASE_URL = 'https://mock.supabase.co';\nprocess.env.NEXT_PUBLIC_SUPABASE_ANON_KEY = 'mock-key';\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'mock-service-key';\nprocess.env.NEXT_PUBLIC_AUTH0_DOMAIN = 'mock-domain.auth0.com';\nprocess.env.NEXT_PUBLIC_AUTH0_CLIENT_ID = 'mock-client-id';\n\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport * as Module from './ShareOptions';\n\ndescribe('ShareOptions', () => {\n  it('renders without crashing (smoke test)', () => {\n    // Verify module exports something\n    expect(Module).toBeDefined();\n\n    // Try to find a component to render using heuristics\n    const Component =\n      (Module as any).default ||\n      Object.values(Module).find((exp: any) => typeof exp === 'function');\n\n    if (Component) {\n      try {\n        render(<Component />);\n      } catch (e) {\n        // console.warn('Render failed for ShareOptions, but module loaded');\n      }\n    }\n  });\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/share/share-modal/ShareOptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/share/share-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/share/share-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/client.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/client.ts","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-explicit-any').","line":61,"column":5,"severity":1,"nodeType":null,"fix":{"range":[2151,2213],"text":" "}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":66,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2368,2371],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2368,2371],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"/**\n * Square client library with singleton pattern and error handling.\n * Provides Square API client instances for authenticated requests.\n *  Complete Reference: See `docs/SQUARE_API_REFERENCE.md` for comprehensive Square API\n * configuration, setup, testing, and troubleshooting guide.\n * @module lib/square/client\n */\n\nimport { logger } from '@/lib/logger';\nimport { SquareClient, SquareEnvironment } from 'square';\nimport { getSquareConfig } from './config';\nimport { decryptSquareToken } from './token-encryption';\n\n// Cache for Square client instances per user\nconst clientCache = new Map<string, { client: SquareClient; expiresAt: number }>();\nconst CACHE_TTL_MS = 5 * 60 * 1000; // 5 minutes cache TTL\n\n/**\n * Get Square client instance for a user.\n * Uses singleton pattern with per-user caching.\n * @param {string} userId - User ID\n * @returns {Promise<SquareClient | null>} Square client instance or null if not configured\n */\nexport async function getSquareClient(userId: string): Promise<SquareClient | null> {\n  try {\n    // Check cache first\n    const cached = clientCache.get(userId);\n    if (cached && cached.expiresAt > Date.now()) {\n      return cached.client;\n    }\n\n    // Get user's Square configuration\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      return null;\n    }\n\n    // Decrypt access token\n    let accessToken: string;\n    try {\n      accessToken = await decryptSquareToken(config.square_access_token_encrypted);\n    } catch (error: unknown) {\n      const message = error instanceof Error ? error.message : String(error);\n      logger.error('[Square Client] Failed to decrypt access token:', {\n        error: message,\n        userId,\n        context: { endpoint: 'getSquareClient', operation: 'decrypt_token' },\n      });\n      return null;\n    }\n\n    // Determine environment\n    const environment =\n      config.square_environment === 'production'\n        ? SquareEnvironment.Production\n        : SquareEnvironment.Sandbox;\n\n    // Create Square client\n    // Note: Square SDK constructor signature may vary by version\n    // Using type assertion to handle potential type mismatches\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const client = new SquareClient({\n      accessToken: accessToken,\n      environment: environment,\n      timeout: 30000, // 30 second timeout\n    } as any);\n\n    // Cache client instance\n    clientCache.set(userId, {\n      client,\n      expiresAt: Date.now() + CACHE_TTL_MS,\n    });\n\n    return client;\n  } catch (error: unknown) {\n    const message = error instanceof Error ? error.message : String(error);\n    logger.error('[Square Client] Failed to create client:', {\n      error: message,\n      userId,\n      context: { endpoint: 'getSquareClient', operation: 'create_client' },\n    });\n    return null;\n  }\n}\n\n/**\n * Check if Square is configured for a user.\n * @param {string} userId - User ID\n * @returns {Promise<boolean>} True if Square is configured\n */\nexport async function isSquareConfigured(userId: string): Promise<boolean> {\n  try {\n    const config = await getSquareConfig(userId);\n    return config !== null;\n  } catch (error: unknown) {\n    const message = error instanceof Error ? error.message : String(error);\n    logger.error('[Square Client] Failed to check configuration:', {\n      error: message,\n      userId,\n      context: { endpoint: 'isSquareConfigured', operation: 'check_config' },\n    });\n    return false;\n  }\n}\n\n/**\n * Validate Square credentials by making a test API call.\n * @param {string} userId - User ID\n * @returns {Promise<boolean>} True if credentials are valid\n */\nexport async function validateSquareCredentials(userId: string): Promise<boolean> {\n  try {\n    const client = await getSquareClient(userId);\n    if (!client) {\n      return false;\n    }\n\n    // Make a test API call to Locations API (lightweight endpoint)\n    const locationsApi = client.locations;\n    // @ts-expect-error - Square SDK method may have different signature\n    const response = await locationsApi.listLocations();\n\n    if (response.result?.locations) {\n      return true;\n    }\n\n    return false;\n  } catch (error: unknown) {\n    const message = error instanceof Error ? error.message : String(error);\n    logger.error('[Square Client] Failed to validate credentials:', {\n      error: message,\n      userId,\n      context: { endpoint: 'validateSquareCredentials', operation: 'validate' },\n    });\n    return false;\n  }\n}\n\n/**\n * Clear cached Square client for a user.\n * Useful when credentials are updated.\n * @param {string} userId - User ID\n */\nexport function clearSquareClientCache(userId: string): void {\n  clientCache.delete(userId);\n}\n\n/**\n * Clear all cached Square clients. Useful for testing or when encryption key changes.\n */\nexport function clearAllSquareClientCache(): void {\n  clientCache.clear();\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/delete.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/delete.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":36,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1060,1063],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1060,1063],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Delete Square configuration for a user.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Delete Square configuration for a user.\n */\nexport async function deleteSquareConfig(userId: string): Promise<void> {\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  try {\n    const { error } = await supabaseAdmin\n      .from('square_configurations')\n      .delete()\n      .eq('user_id', userId);\n\n    if (error) {\n      logger.error('[Square Config] Error deleting configuration:', {\n        error: error.message,\n        code: (error as any).code,\n        userId,\n        context: { endpoint: 'deleteSquareConfig', operation: 'delete' },\n      });\n\n      throw ApiErrorHandler.fromSupabaseError(error, 500);\n    }\n\n    // Clear cached client instance\n    const { clearSquareClientCache } = await import('../client');\n    clearSquareClientCache(userId);\n  } catch (error: any) {\n    if (error.status) {\n      throw error;\n    }\n\n    logger.error('[Square Config] Unexpected error deleting configuration:', {\n      error: error.message,\n      userId,\n      context: { endpoint: 'deleteSquareConfig', operation: 'delete' },\n    });\n\n    throw ApiErrorHandler.createError(\n      'Failed to delete Square configuration',\n      'DATABASE_ERROR',\n      500,\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/get.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/get.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":40,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[941,944],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[941,944],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Get Square configuration for a user.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport type { SquareConfig } from './types';\n\n/**\n * Get Square configuration for a user.\n */\nexport async function getSquareConfig(userId: string): Promise<SquareConfig | null> {\n  if (!supabaseAdmin) {\n    logger.error('[Square Config] Database connection not available');\n    return null;\n  }\n\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('square_configurations')\n      .select('*')\n      .eq('user_id', userId)\n      .single();\n\n    if (error) {\n      if (error.code === 'PGRST116') {\n        // No configuration found\n        return null;\n      }\n\n      logger.error('[Square Config] Error fetching configuration:', {\n        error: error.message,\n        code: error.code,\n        userId,\n      });\n\n      return null;\n    }\n\n    return data as SquareConfig;\n  } catch (error: any) {\n    logger.error('[Square Config] Unexpected error fetching configuration:', {\n      error: error.message,\n      userId,\n    });\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/save.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/save.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":39,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1356,1359],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1356,1359],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":89,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":89,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3427,3430],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3427,3430],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":98,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3654,3657],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3654,3657],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Save Square configuration for a user.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { encryptSquareToken } from '../token-encryption';\nimport type { SquareConfig, SquareConfigInput } from './types';\n\n/**\n * Save Square configuration for a user.\n * Encrypts the access token before storage.\n */\nexport async function saveSquareConfig(\n  userId: string,\n  configInput: SquareConfigInput,\n): Promise<SquareConfig> {\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  try {\n    // Encrypt access token\n    const encryptedToken = await encryptSquareToken(configInput.square_access_token);\n\n    // Encrypt refresh token if provided (OAuth flow)\n    let encryptedRefreshToken: string | null = null;\n    if (configInput.refresh_token) {\n      encryptedRefreshToken = await encryptSquareToken(configInput.refresh_token);\n    }\n\n    // Encrypt application secret if provided (OAuth flow - needed for token refresh)\n    let encryptedAppSecret: string | null = null;\n    if (configInput.square_application_secret) {\n      encryptedAppSecret = await encryptSquareToken(configInput.square_application_secret);\n    }\n\n    // Prepare configuration data\n    const configData: any = {\n      user_id: userId,\n      square_application_id: configInput.square_application_id,\n      square_access_token_encrypted: encryptedToken,\n      square_environment: configInput.square_environment || 'sandbox',\n    };\n\n    // Only set refresh_token_encrypted if provided (OAuth flow)\n    if (encryptedRefreshToken !== null) {\n      configData.refresh_token_encrypted = encryptedRefreshToken;\n    }\n\n    // Only set application_secret_encrypted if provided (OAuth flow)\n    if (encryptedAppSecret !== null) {\n      configData.square_application_secret_encrypted = encryptedAppSecret;\n    }\n\n    // Add other config fields\n    Object.assign(configData, {\n      default_location_id: configInput.default_location_id || null,\n      auto_sync_enabled: configInput.auto_sync_enabled ?? true,\n      sync_frequency_minutes: configInput.sync_frequency_minutes || 60,\n      sync_menu_items: configInput.sync_menu_items ?? true,\n      sync_staff: configInput.sync_staff ?? true,\n      sync_sales_data: configInput.sync_sales_data ?? true,\n      sync_food_costs: configInput.sync_food_costs ?? true,\n      webhook_enabled: configInput.webhook_enabled ?? false,\n      webhook_url: configInput.webhook_url || null,\n      webhook_secret: configInput.webhook_secret || null,\n      auto_sync_direction: configInput.auto_sync_direction || 'prepflow_to_square',\n      auto_sync_staff: configInput.auto_sync_staff ?? true,\n      auto_sync_dishes: configInput.auto_sync_dishes ?? true,\n      auto_sync_costs: configInput.auto_sync_costs ?? true,\n      sync_debounce_ms: configInput.sync_debounce_ms || 5000,\n      sync_queue_batch_size: configInput.sync_queue_batch_size || 10,\n      updated_at: new Date().toISOString(),\n    });\n\n    // Upsert configuration\n    const { data, error } = await supabaseAdmin\n      .from('square_configurations')\n      .upsert(configData, {\n        onConflict: 'user_id',\n      })\n      .select()\n      .single();\n\n    if (error) {\n      logger.error('[Square Config] Error saving configuration:', {\n        error: error.message,\n        code: (error as any).code,\n        userId,\n        context: { endpoint: 'saveSquareConfig', operation: 'upsert' },\n      });\n\n      throw ApiErrorHandler.fromSupabaseError(error, 500);\n    }\n\n    return data as SquareConfig;\n  } catch (error: any) {\n    if (error.status) {\n      throw error;\n    }\n\n    logger.error('[Square Config] Unexpected error saving configuration:', {\n      error: error.message,\n      userId,\n      context: { endpoint: 'saveSquareConfig', operation: 'upsert' },\n    });\n\n    throw ApiErrorHandler.createError('Failed to save Square configuration', 'DATABASE_ERROR', 500);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/update.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/update.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[726,729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[726,729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":105,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3660,3663],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3660,3663],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":114,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":114,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3889,3892],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3889,3892],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Update Square configuration for a user.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { encryptSquareToken } from '../token-encryption';\nimport type { SquareConfig, SquareConfigInput } from './types';\n\n/**\n * Update Square configuration for a user.\n * Only updates provided fields, preserves existing values for others.\n */\nexport async function updateSquareConfig(\n  userId: string,\n  updates: Partial<SquareConfigInput>,\n): Promise<SquareConfig> {\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  try {\n    const updateData: any = {\n      updated_at: new Date().toISOString(),\n    };\n\n    // Encrypt access token if provided\n    if (updates.square_access_token) {\n      updateData.square_access_token_encrypted = await encryptSquareToken(\n        updates.square_access_token,\n      );\n    }\n\n    // Encrypt refresh token if provided\n    if (updates.refresh_token) {\n      updateData.refresh_token_encrypted = await encryptSquareToken(updates.refresh_token);\n    }\n\n    // Add other fields if provided\n    if (updates.square_application_id !== undefined) {\n      updateData.square_application_id = updates.square_application_id;\n    }\n    if (updates.square_environment !== undefined) {\n      updateData.square_environment = updates.square_environment;\n    }\n    if (updates.default_location_id !== undefined) {\n      updateData.default_location_id = updates.default_location_id;\n    }\n    if (updates.auto_sync_enabled !== undefined) {\n      updateData.auto_sync_enabled = updates.auto_sync_enabled;\n    }\n    if (updates.sync_frequency_minutes !== undefined) {\n      updateData.sync_frequency_minutes = updates.sync_frequency_minutes;\n    }\n    if (updates.sync_menu_items !== undefined) {\n      updateData.sync_menu_items = updates.sync_menu_items;\n    }\n    if (updates.sync_staff !== undefined) {\n      updateData.sync_staff = updates.sync_staff;\n    }\n    if (updates.sync_sales_data !== undefined) {\n      updateData.sync_sales_data = updates.sync_sales_data;\n    }\n    if (updates.sync_food_costs !== undefined) {\n      updateData.sync_food_costs = updates.sync_food_costs;\n    }\n    if (updates.webhook_enabled !== undefined) {\n      updateData.webhook_enabled = updates.webhook_enabled;\n    }\n    if (updates.webhook_url !== undefined) {\n      updateData.webhook_url = updates.webhook_url;\n    }\n    if (updates.webhook_secret !== undefined) {\n      updateData.webhook_secret = updates.webhook_secret;\n    }\n    if (updates.auto_sync_direction !== undefined) {\n      updateData.auto_sync_direction = updates.auto_sync_direction;\n    }\n    if (updates.auto_sync_staff !== undefined) {\n      updateData.auto_sync_staff = updates.auto_sync_staff;\n    }\n    if (updates.auto_sync_dishes !== undefined) {\n      updateData.auto_sync_dishes = updates.auto_sync_dishes;\n    }\n    if (updates.auto_sync_costs !== undefined) {\n      updateData.auto_sync_costs = updates.auto_sync_costs;\n    }\n    if (updates.sync_debounce_ms !== undefined) {\n      updateData.sync_debounce_ms = updates.sync_debounce_ms;\n    }\n    if (updates.sync_queue_batch_size !== undefined) {\n      updateData.sync_queue_batch_size = updates.sync_queue_batch_size;\n    }\n\n    const { data, error } = await supabaseAdmin\n      .from('square_configurations')\n      .update(updateData)\n      .eq('user_id', userId)\n      .select()\n      .single();\n\n    if (error) {\n      logger.error('[Square Config] Error updating configuration:', {\n        error: error.message,\n        code: (error as any).code,\n        userId,\n        context: { endpoint: 'updateSquareConfig', operation: 'update' },\n      });\n\n      throw ApiErrorHandler.fromSupabaseError(error, 500);\n    }\n\n    return data as SquareConfig;\n  } catch (error: any) {\n    if (error.status) {\n      throw error;\n    }\n\n    logger.error('[Square Config] Unexpected error updating configuration:', {\n      error: error.message,\n      userId,\n      context: { endpoint: 'updateSquareConfig', operation: 'update' },\n    });\n\n    throw ApiErrorHandler.createError(\n      'Failed to update Square configuration',\n      'DATABASE_ERROR',\n      500,\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/updateInitialSyncStatus.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/updateInitialSyncStatus.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[574,577],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[574,577],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1477,1480],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1477,1480],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1677,1680],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1677,1680],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Update initial sync status.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Update initial sync status.\n */\nexport async function updateInitialSyncStatus(\n  userId: string,\n  statusUpdate: {\n    status: 'pending' | 'in_progress' | 'completed' | 'failed';\n    error?: string;\n  },\n): Promise<void> {\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  try {\n    const updateData: any = {\n      initial_sync_status: statusUpdate.status,\n      updated_at: new Date().toISOString(),\n    };\n\n    if (statusUpdate.status === 'in_progress' && !updateData.initial_sync_started_at) {\n      updateData.initial_sync_started_at = new Date().toISOString();\n    }\n\n    if (statusUpdate.status === 'completed') {\n      updateData.initial_sync_completed = true;\n      updateData.initial_sync_completed_at = new Date().toISOString();\n      updateData.initial_sync_error = null;\n    }\n\n    if (statusUpdate.status === 'failed' && statusUpdate.error) {\n      updateData.initial_sync_error = statusUpdate.error;\n    }\n\n    const { error } = await supabaseAdmin\n      .from('square_configurations')\n      .update(updateData)\n      .eq('user_id', userId);\n\n    if (error) {\n      logger.error('[Square Config] Error updating initial sync status:', {\n        error: error.message,\n        code: (error as any).code,\n        userId,\n        context: { endpoint: 'updateInitialSyncStatus', operation: 'update' },\n      });\n\n      throw ApiErrorHandler.fromSupabaseError(error, 500);\n    }\n  } catch (error: any) {\n    if (error.status) {\n      throw error;\n    }\n\n    logger.error('[Square Config] Unexpected error updating initial sync status:', {\n      error: error.message,\n      userId,\n      context: { endpoint: 'updateInitialSyncStatus', operation: 'update' },\n    });\n\n    throw ApiErrorHandler.createError(\n      'Failed to update initial sync status',\n      'DATABASE_ERROR',\n      500,\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/updateLastSyncTimestamp.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/config/updateLastSyncTimestamp.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[596,599],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[596,599],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1290,1293],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1290,1293],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":56,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1508,1511],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1508,1511],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Update last sync timestamp for a sync type.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Update last sync timestamp for a sync type.\n */\nexport async function updateLastSyncTimestamp(\n  userId: string,\n  syncType: 'full' | 'menu' | 'staff' | 'sales',\n): Promise<void> {\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  try {\n    const timestamp = new Date().toISOString();\n    const updateData: any = {\n      updated_at: timestamp,\n    };\n\n    switch (syncType) {\n      case 'full':\n        updateData.last_full_sync_at = timestamp;\n        break;\n      case 'menu':\n        updateData.last_menu_sync_at = timestamp;\n        break;\n      case 'staff':\n        updateData.last_staff_sync_at = timestamp;\n        break;\n      case 'sales':\n        updateData.last_sales_sync_at = timestamp;\n        break;\n    }\n\n    const { error } = await supabaseAdmin\n      .from('square_configurations')\n      .update(updateData)\n      .eq('user_id', userId);\n\n    if (error) {\n      logger.error('[Square Config] Error updating sync timestamp:', {\n        error: error.message,\n        code: (error as any).code,\n        userId,\n        syncType,\n        context: { endpoint: 'updateLastSyncTimestamp', operation: 'update' },\n      });\n\n      throw ApiErrorHandler.fromSupabaseError(error, 500);\n    }\n  } catch (error: any) {\n    if (error.status) {\n      throw error;\n    }\n\n    logger.error('[Square Config] Unexpected error updating sync timestamp:', {\n      error: error.message,\n      userId,\n      syncType,\n      context: { endpoint: 'updateLastSyncTimestamp', operation: 'update' },\n    });\n\n    throw ApiErrorHandler.createError('Failed to update sync timestamp', 'DATABASE_ERROR', 500);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/feature-flags.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/feature-flags.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[884,887],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[884,887],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":59,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2073,2076],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2073,2076],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Square POS feature flag integration.\n * Wraps existing feature flag system for Square-specific checks.\n *\n *  Complete Reference: See `docs/SQUARE_API_REFERENCE.md` (Setup & Configuration section) for\n * feature flag setup and enabling instructions.\n */\n\nimport { isFeatureEnabled } from '@/lib/feature-flags';\nimport { logger } from '@/lib/logger';\n\nconst SQUARE_POS_FLAG_KEY = 'square_pos_integration';\n\n/**\n * Check if Square POS integration is enabled for a user.\n *\n * @param {string} [userId] - Optional user ID for user-specific flags\n * @param {string} [userEmail] - Optional user email for admin check\n * @returns {Promise<boolean>} True if Square POS is enabled\n */\nexport async function isSquarePOSEnabled(userId?: string, userEmail?: string): Promise<boolean> {\n  try {\n    return await isFeatureEnabled(SQUARE_POS_FLAG_KEY, userId, userEmail);\n  } catch (error: any) {\n    logger.error('[Square Feature Flags] Error checking Square POS flag:', {\n      error: error.message,\n      userId,\n      userEmail,\n      context: { endpoint: 'isSquarePOSEnabled', operation: 'check_flag' },\n    });\n    return false;\n  }\n}\n\n/**\n * Check if a specific Square feature is accessible for a user.\n * Currently all Square features are gated by the main square_pos_integration flag.\n *\n * @param {string} userId - User ID\n * @param {string} feature - Feature name (e.g., 'catalog_sync', 'staff_sync')\n * @returns {Promise<boolean>} True if feature is accessible\n */\nexport async function checkSquareFeatureAccess(userId: string, feature: string): Promise<boolean> {\n  try {\n    // For now, all Square features are gated by the main flag\n    // Future: Could add feature-specific flags if needed\n    const enabled = await isSquarePOSEnabled(userId);\n\n    if (!enabled) {\n      logger.dev('[Square Feature Flags] Feature access denied:', {\n        userId,\n        feature,\n        reason: 'square_pos_integration flag disabled',\n        context: { endpoint: 'checkSquareFeatureAccess', operation: 'check_access' },\n      });\n    }\n\n    return enabled;\n  } catch (error: any) {\n    logger.error('[Square Feature Flags] Error checking feature access:', {\n      error: error.message,\n      userId,\n      feature,\n      context: { endpoint: 'checkSquareFeatureAccess', operation: 'check_access' },\n    });\n    return false;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/create.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/create.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1202,1205],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1202,1205],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1428,1431],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1428,1431],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Create a new Square mapping.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport type { SquareMapping, SquareMappingInput } from './types';\n\n/**\n * Create a new Square mapping.\n */\nexport async function createMapping(mapping: SquareMappingInput): Promise<SquareMapping> {\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  try {\n    const mappingData = {\n      user_id: mapping.user_id,\n      entity_type: mapping.entity_type,\n      prepflow_id: mapping.prepflow_id,\n      square_id: mapping.square_id,\n      square_location_id: mapping.square_location_id || null,\n      sync_direction: mapping.sync_direction || 'bidirectional',\n      sync_metadata: mapping.sync_metadata || null,\n      updated_at: new Date().toISOString(),\n    };\n\n    const { data, error } = await supabaseAdmin\n      .from('square_mappings')\n      .insert(mappingData)\n      .select()\n      .single();\n\n    if (error) {\n      logger.error('[Square Mappings] Error creating mapping:', {\n        error: error.message,\n        code: (error as any).code,\n        mapping,\n        context: { endpoint: 'createMapping', operation: 'insert' },\n      });\n\n      throw ApiErrorHandler.fromSupabaseError(error, 500);\n    }\n\n    return data as SquareMapping;\n  } catch (error: any) {\n    if (error.status) {\n      throw error;\n    }\n\n    logger.error('[Square Mappings] Unexpected error creating mapping:', {\n      error: error.message,\n      mapping,\n      context: { endpoint: 'createMapping', operation: 'insert' },\n    });\n\n    throw ApiErrorHandler.createError('Failed to create mapping', 'DATABASE_ERROR', 500);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/createAutoMapping.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/createAutoMapping.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/delete.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/delete.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[647,650],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[647,650],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[840,843],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[840,843],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Delete a mapping.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Delete a mapping.\n */\nexport async function deleteMapping(mappingId: string): Promise<void> {\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  try {\n    const { error } = await supabaseAdmin.from('square_mappings').delete().eq('id', mappingId);\n\n    if (error) {\n      logger.error('[Square Mappings] Error deleting mapping:', {\n        error: error.message,\n        code: (error as any).code,\n        mappingId,\n        context: { endpoint: 'deleteMapping', operation: 'delete' },\n      });\n\n      throw ApiErrorHandler.fromSupabaseError(error, 500);\n    }\n  } catch (error: any) {\n    if (error.status) {\n      throw error;\n    }\n\n    logger.error('[Square Mappings] Unexpected error deleting mapping:', {\n      error: error.message,\n      mappingId,\n      context: { endpoint: 'deleteMapping', operation: 'delete' },\n    });\n\n    throw ApiErrorHandler.createError('Failed to delete mapping', 'DATABASE_ERROR', 500);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/findOrCreateMapping.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/findOrCreateMapping.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/getByPrepFlowId.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/getByPrepFlowId.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[939,942],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[939,942],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1179,1182],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1179,1182],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Get mapping by PrepFlow ID.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { SquareMapping } from './types';\n\n/**\n * Get mapping by PrepFlow ID.\n */\nexport async function getMappingByPrepFlowId(\n  prepflowId: string,\n  entityType: 'dish' | 'recipe' | 'ingredient' | 'employee' | 'location',\n  userId: string,\n): Promise<SquareMapping | null> {\n  if (!supabaseAdmin) {\n    logger.error('[Square Mappings] Database connection not available');\n    return null;\n  }\n\n  try {\n    const { data, error } = await supabaseAdmin\n      .from('square_mappings')\n      .select('*')\n      .eq('prepflow_id', prepflowId)\n      .eq('entity_type', entityType)\n      .eq('user_id', userId)\n      .maybeSingle();\n\n    if (error && error.code !== 'PGRST116') {\n      logger.error('[Square Mappings] Error fetching mapping by PrepFlow ID:', {\n        error: error.message,\n        code: (error as any).code,\n        prepflowId,\n        entityType,\n        userId,\n        context: { endpoint: 'getMappingByPrepFlowId', operation: 'select' },\n      });\n      return null;\n    }\n\n    return data as SquareMapping | null;\n  } catch (error: any) {\n    logger.error('[Square Mappings] Unexpected error fetching mapping by PrepFlow ID:', {\n      error: error.message,\n      prepflowId,\n      entityType,\n      userId,\n      context: { endpoint: 'getMappingByPrepFlowId', operation: 'select' },\n    });\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/getBySquareId.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/getBySquareId.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1142,1145],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1142,1145],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1378,1381],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1378,1381],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Get mapping by Square ID.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { SquareMapping } from './types';\n\n/**\n * Get mapping by Square ID.\n */\nexport async function getMappingBySquareId(\n  squareId: string,\n  entityType: 'dish' | 'recipe' | 'ingredient' | 'employee' | 'location',\n  userId: string,\n  squareLocationId?: string | null,\n): Promise<SquareMapping | null> {\n  if (!supabaseAdmin) {\n    logger.error('[Square Mappings] Database connection not available');\n    return null;\n  }\n\n  try {\n    let query = supabaseAdmin\n      .from('square_mappings')\n      .select('*')\n      .eq('square_id', squareId)\n      .eq('entity_type', entityType)\n      .eq('user_id', userId);\n\n    if (squareLocationId) {\n      query = query.eq('square_location_id', squareLocationId);\n    } else {\n      query = query.is('square_location_id', null);\n    }\n\n    const { data, error } = await query.maybeSingle();\n\n    if (error && error.code !== 'PGRST116') {\n      logger.error('[Square Mappings] Error fetching mapping by Square ID:', {\n        error: error.message,\n        code: (error as any).code,\n        squareId,\n        entityType,\n        userId,\n        context: { endpoint: 'getMappingBySquareId', operation: 'select' },\n      });\n      return null;\n    }\n\n    return data as SquareMapping | null;\n  } catch (error: any) {\n    logger.error('[Square Mappings] Unexpected error fetching mapping by Square ID:', {\n      error: error.message,\n      squareId,\n      entityType,\n      userId,\n      context: { endpoint: 'getMappingBySquareId', operation: 'select' },\n    });\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/getUserMappings.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/getUserMappings.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[833,836],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[833,836],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1047,1050],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1047,1050],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Get all mappings for a user and entity type.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { SquareMapping } from './types';\n\n/**\n * Get all mappings for a user and entity type.\n */\nexport async function getUserMappings(\n  userId: string,\n  entityType?: string,\n): Promise<SquareMapping[]> {\n  if (!supabaseAdmin) {\n    return [];\n  }\n\n  try {\n    let query = supabaseAdmin\n      .from('square_mappings')\n      .select('*')\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false });\n\n    if (entityType) {\n      query = query.eq('entity_type', entityType);\n    }\n\n    const { data, error } = await query;\n\n    if (error) {\n      logger.error('[Square Mappings] Error fetching user mappings:', {\n        error: error.message,\n        code: (error as any).code,\n        userId,\n        entityType,\n        context: { endpoint: 'getUserMappings', operation: 'select' },\n      });\n      return [];\n    }\n\n    return (data || []) as SquareMapping[];\n  } catch (error: any) {\n    logger.error('[Square Mappings] Unexpected error fetching user mappings:', {\n      error: error.message,\n      userId,\n      entityType,\n      context: { endpoint: 'getUserMappings', operation: 'select' },\n    });\n    return [];\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/resolveConflict.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/resolveConflict.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[510,513],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[510,513],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1371,1374],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1371,1374],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1586,1589],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1586,1589],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Resolve a mapping conflict.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Resolve a mapping conflict.\n */\nexport async function resolveConflict(\n  mappingId: string,\n  resolution: 'square' | 'prepflow' | 'manual',\n): Promise<void> {\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  try {\n    const updateData: any = {\n      updated_at: new Date().toISOString(),\n    };\n\n    // Update sync direction based on resolution\n    if (resolution === 'square') {\n      updateData.sync_direction = 'square_to_prepflow';\n    } else if (resolution === 'prepflow') {\n      updateData.sync_direction = 'prepflow_to_square';\n    } else {\n      // Manual resolution - keep bidirectional but mark in metadata\n      updateData.sync_direction = 'bidirectional';\n      updateData.sync_metadata = {\n        conflict_resolved: true,\n        resolution: 'manual',\n        resolved_at: new Date().toISOString(),\n      };\n    }\n\n    const { error } = await supabaseAdmin\n      .from('square_mappings')\n      .update(updateData)\n      .eq('id', mappingId);\n\n    if (error) {\n      logger.error('[Square Mappings] Error resolving conflict:', {\n        error: error.message,\n        code: (error as any).code,\n        mappingId,\n        resolution,\n        context: { endpoint: 'resolveConflict', operation: 'update' },\n      });\n\n      throw ApiErrorHandler.fromSupabaseError(error, 500);\n    }\n  } catch (error: any) {\n    if (error.status) {\n      throw error;\n    }\n\n    logger.error('[Square Mappings] Unexpected error resolving conflict:', {\n      error: error.message,\n      mappingId,\n      resolution,\n      context: { endpoint: 'resolveConflict', operation: 'update' },\n    });\n\n    throw ApiErrorHandler.createError('Failed to resolve conflict', 'DATABASE_ERROR', 500);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/types.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[484,487],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[484,487],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[873,876],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[873,876],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Square mapping types.\n */\n\nexport interface SquareMapping {\n  id: string;\n  user_id: string;\n  entity_type: 'dish' | 'recipe' | 'ingredient' | 'employee' | 'location';\n  prepflow_id: string;\n  square_id: string;\n  square_location_id: string | null;\n  sync_direction: 'bidirectional' | 'square_to_prepflow' | 'prepflow_to_square';\n  last_synced_at: string | null;\n  last_synced_from_square: string | null;\n  last_synced_to_square: string | null;\n  sync_metadata: Record<string, any> | null;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface SquareMappingInput {\n  user_id: string;\n  entity_type: 'dish' | 'recipe' | 'ingredient' | 'employee' | 'location';\n  prepflow_id: string;\n  square_id: string;\n  square_location_id?: string | null;\n  sync_direction?: 'bidirectional' | 'square_to_prepflow' | 'prepflow_to_square';\n  sync_metadata?: Record<string, any>;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/updateSyncTimestamp.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/mappings/updateSyncTimestamp.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[578,581],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[578,581],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1172,1175],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1172,1175],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1397,1400],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1397,1400],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Update mapping sync timestamp.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Update mapping sync timestamp.\n */\nexport async function updateMappingSyncTimestamp(\n  mappingId: string,\n  direction: 'from_square' | 'to_square' | 'both',\n): Promise<void> {\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  try {\n    const timestamp = new Date().toISOString();\n    const updateData: any = {\n      last_synced_at: timestamp,\n      updated_at: timestamp,\n    };\n\n    if (direction === 'from_square' || direction === 'both') {\n      updateData.last_synced_from_square = timestamp;\n    }\n\n    if (direction === 'to_square' || direction === 'both') {\n      updateData.last_synced_to_square = timestamp;\n    }\n\n    const { error } = await supabaseAdmin\n      .from('square_mappings')\n      .update(updateData)\n      .eq('id', mappingId);\n\n    if (error) {\n      logger.error('[Square Mappings] Error updating sync timestamp:', {\n        error: error.message,\n        code: (error as any).code,\n        mappingId,\n        direction,\n        context: { endpoint: 'updateMappingSyncTimestamp', operation: 'update' },\n      });\n\n      throw ApiErrorHandler.fromSupabaseError(error, 500);\n    }\n  } catch (error: any) {\n    if (error.status) {\n      throw error;\n    }\n\n    logger.error('[Square Mappings] Unexpected error updating sync timestamp:', {\n      error: error.message,\n      mappingId,\n      direction,\n      context: { endpoint: 'updateMappingSyncTimestamp', operation: 'update' },\n    });\n\n    throw ApiErrorHandler.createError('Failed to update sync timestamp', 'DATABASE_ERROR', 500);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-client.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-flow.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-flow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-flow/helpers/constants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-flow/helpers/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-flow/helpers/exchangeCodeForTokens.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-flow/helpers/exchangeCodeForTokens.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":74,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2480,2483],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2480,2483],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Exchange authorization code for access token and refresh token.\n */\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { getSquareOAuthConfig } from '../../oauth-client';\nimport { SQUARE_TOKEN_URL, type TokenResponse } from './constants';\n\n/**\n * Exchange authorization code for access token and refresh token.\n * Uses PrepFlow's Square Application credentials from environment variables.\n *\n * @param {string} code - Authorization code from OAuth callback\n * @param {'sandbox' | 'production'} environment - Square environment\n * @returns {Promise<TokenResponse>} Token response with access_token and refresh_token\n */\nexport async function exchangeCodeForTokens(\n  code: string,\n  environment: 'sandbox' | 'production' = 'sandbox',\n): Promise<TokenResponse> {\n  const { applicationId, applicationSecret, redirectUri } = getSquareOAuthConfig();\n\n  // Square uses different token URLs for sandbox vs production\n  const tokenUrl =\n    environment === 'production'\n      ? SQUARE_TOKEN_URL.replace('connect.squareup.com', 'connect.squareup.com')\n      : SQUARE_TOKEN_URL.replace('connect.squareup.com', 'connect.squareupsandbox.com');\n\n  try {\n    logger.dev('[Square OAuth] Exchanging authorization code for tokens...');\n\n    const response = await fetch(tokenUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Square-Version': '2024-01-18',\n      },\n      body: JSON.stringify({\n        client_id: applicationId,\n        client_secret: applicationSecret,\n        code,\n        grant_type: 'authorization_code',\n        redirect_uri: redirectUri,\n      }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      logger.error('[Square OAuth] Token exchange failed:', {\n        status: response.status,\n        error: errorData,\n        context: { operation: 'exchange_code' },\n      });\n      throw ApiErrorHandler.createError(\n        errorData.message || 'Failed to exchange authorization code',\n        'TOKEN_EXCHANGE_FAILED',\n        response.status,\n      );\n    }\n\n    const tokenData: TokenResponse = await response.json();\n\n    if (!tokenData.access_token) {\n      throw ApiErrorHandler.createError(\n        'No access token in response',\n        'INVALID_TOKEN_RESPONSE',\n        500,\n      );\n    }\n\n    logger.dev('[Square OAuth] Successfully exchanged code for tokens');\n\n    return tokenData;\n  } catch (error: any) {\n    logger.error('[Square OAuth] Error exchanging code:', {\n      error: error.message,\n      context: { operation: 'exchange_code' },\n    });\n    throw error;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-flow/helpers/handleSquareCallback.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-flow/helpers/handleSquareCallback.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-flow/helpers/refreshAccessToken.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-flow/helpers/refreshAccessToken.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":73,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2372,2375],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2372,2375],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Refresh access token using refresh token.\n */\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { getSquareOAuthConfig } from '../../oauth-client';\nimport { SQUARE_TOKEN_URL, type TokenResponse } from './constants';\n\n/**\n * Refresh access token using refresh token.\n * Uses PrepFlow's Square Application credentials from environment variables.\n *\n * @param {string} refreshToken - Refresh token (encrypted, will be decrypted)\n * @param {'sandbox' | 'production'} environment - Square environment\n * @returns {Promise<TokenResponse>} New token response\n */\nexport async function refreshAccessToken(\n  refreshToken: string,\n  environment: 'sandbox' | 'production' = 'sandbox',\n): Promise<TokenResponse> {\n  const { applicationId, applicationSecret } = getSquareOAuthConfig();\n\n  // Square uses different token URLs for sandbox vs production\n  const tokenUrl =\n    environment === 'production'\n      ? SQUARE_TOKEN_URL.replace('connect.squareup.com', 'connect.squareup.com')\n      : SQUARE_TOKEN_URL.replace('connect.squareup.com', 'connect.squareupsandbox.com');\n\n  try {\n    logger.dev('[Square OAuth] Refreshing access token...');\n\n    const response = await fetch(tokenUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Square-Version': '2024-01-18',\n      },\n      body: JSON.stringify({\n        client_id: applicationId,\n        client_secret: applicationSecret,\n        grant_type: 'refresh_token',\n        refresh_token: refreshToken,\n      }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      logger.error('[Square OAuth] Token refresh failed:', {\n        status: response.status,\n        error: errorData,\n        context: { operation: 'refresh_token' },\n      });\n      throw ApiErrorHandler.createError(\n        errorData.message || 'Failed to refresh access token',\n        'TOKEN_REFRESH_FAILED',\n        response.status,\n      );\n    }\n\n    const tokenData: TokenResponse = await response.json();\n\n    if (!tokenData.access_token) {\n      throw ApiErrorHandler.createError(\n        'No access token in refresh response',\n        'INVALID_TOKEN_RESPONSE',\n        500,\n      );\n    }\n\n    logger.dev('[Square OAuth] Successfully refreshed access token');\n\n    return tokenData;\n  } catch (error: any) {\n    logger.error('[Square OAuth] Error refreshing token:', {\n      error: error.message,\n      context: { operation: 'refresh_token' },\n    });\n    throw error;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-state.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/oauth-state.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":67,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2193,2196],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2193,2196],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * OAuth state token generation and verification for Square.\n * Provides secure state tokens for OAuth flow to prevent CSRF attacks.\n *\n *  Complete Reference: See `docs/SQUARE_API_REFERENCE.md` for comprehensive Square API\n * configuration, setup, testing, and troubleshooting guide.\n */\n\nimport { logger } from '@/lib/logger';\n\ninterface StateData {\n  userId: string;\n  timestamp: number;\n  nonce: string;\n  environment?: 'sandbox' | 'production';\n}\n\n/**\n * Generate a secure state token for OAuth flow.\n * Includes user ID, environment, and a timestamp for validation.\n *\n * @param {string} userId - User ID (email or UUID)\n * @param {'sandbox' | 'production'} environment - Square environment (optional, defaults to sandbox)\n * @returns {string} Base64 encoded state token\n */\nexport function generateSecureState(\n  userId: string,\n  environment: 'sandbox' | 'production' = 'sandbox',\n): string {\n  const stateData: StateData = {\n    userId,\n    timestamp: Date.now(),\n    nonce: crypto.getRandomValues(new Uint8Array(16)).toString(),\n    environment,\n  };\n  return Buffer.from(JSON.stringify(stateData)).toString('base64');\n}\n\n/**\n * Verify and extract user ID and environment from secure state token.\n *\n * @param {string} stateToken - State token from OAuth callback\n * @param {number} maxAgeMs - Maximum age of state token in milliseconds (default: 10 minutes)\n * @returns {{ userId: string; environment: 'sandbox' | 'production' }} User ID and environment if valid\n * @throws {Error} If state is invalid or expired\n */\nexport function verifySecureState(\n  stateToken: string,\n  maxAgeMs: number = 10 * 60 * 1000,\n): { userId: string; environment: 'sandbox' | 'production' } {\n  try {\n    const stateData: StateData = JSON.parse(Buffer.from(stateToken, 'base64').toString());\n    const age = Date.now() - stateData.timestamp;\n\n    if (age > maxAgeMs) {\n      throw new Error('OAuth state token expired');\n    }\n\n    if (!stateData.userId) {\n      throw new Error('Invalid OAuth state token: missing userId');\n    }\n\n    return {\n      userId: stateData.userId,\n      environment: stateData.environment || 'sandbox', // Default to sandbox if not in state\n    };\n  } catch (error: any) {\n    logger.error('[Square OAuth] Failed to verify state token:', {\n      error: error.message,\n      context: { operation: 'verify_state' },\n    });\n    throw new Error('Invalid OAuth state token');\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/getPendingRetries.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/getPendingRetries.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1001,1004],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1001,1004],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1297,1300],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1297,1300],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1487,1490],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1487,1490],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Get pending retry operations.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { SyncLog } from './types';\n\n/**\n * Get pending retry operations.\n * Returns sync logs that need to be retried.\n */\nexport async function getPendingRetries(userId: string): Promise<SyncLog[]> {\n  if (!supabaseAdmin) {\n    return [];\n  }\n\n  try {\n    const now = new Date().toISOString();\n\n    // Fetch retrying logs with next_retry_at <= now\n    // Note: We can't compare retry_count < max_retries directly in Supabase query builder\n    // So we fetch all retrying items and filter in JavaScript\n    const { data, error } = await supabaseAdmin\n      .from('square_sync_logs')\n      .select('*')\n      .eq('user_id', userId)\n      .eq('status', 'retrying')\n      .lte('next_retry_at', now)\n      .order('next_retry_at', { ascending: true });\n\n    // Filter to only include items where retry_count < max_retries\n    const filteredData = (data || []).filter((log: any) => {\n      const retryCount = log.retry_count || 0;\n      const maxRetries = log.max_retries || 5;\n      return retryCount < maxRetries;\n    });\n\n    if (error) {\n      logger.error('[Square Sync Log] Error fetching pending retries:', {\n        error: error.message,\n        code: (error as any).code,\n        userId,\n        context: { endpoint: 'getPendingRetries', operation: 'select' },\n      });\n      return [];\n    }\n\n    return filteredData as SyncLog[];\n  } catch (error: any) {\n    logger.error('[Square Sync Log] Unexpected error fetching pending retries:', {\n      error: error.message,\n      userId,\n      context: { endpoint: 'getPendingRetries', operation: 'select' },\n    });\n    return [];\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/getSyncErrors.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/getSyncErrors.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[839,842],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[839,842],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":40,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1039,1042],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1039,1042],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Get sync errors for a user.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { SyncLog } from './types';\n\n/**\n * Get sync errors for a user.\n */\nexport async function getSyncErrors(userId: string, days: number = 7): Promise<SyncLog[]> {\n  if (!supabaseAdmin) {\n    return [];\n  }\n\n  try {\n    const cutoffDate = new Date();\n    cutoffDate.setDate(cutoffDate.getDate() - days);\n\n    const { data, error } = await supabaseAdmin\n      .from('square_sync_logs')\n      .select('*')\n      .eq('user_id', userId)\n      .eq('status', 'error')\n      .gte('created_at', cutoffDate.toISOString())\n      .order('created_at', { ascending: false });\n\n    if (error) {\n      logger.error('[Square Sync Log] Error fetching sync errors:', {\n        error: error.message,\n        code: (error as any).code,\n        userId,\n        days,\n        context: { endpoint: 'getSyncErrors', operation: 'select' },\n      });\n      return [];\n    }\n\n    return (data || []) as SyncLog[];\n  } catch (error: any) {\n    logger.error('[Square Sync Log] Unexpected error fetching sync errors:', {\n      error: error.message,\n      userId,\n      days,\n      context: { endpoint: 'getSyncErrors', operation: 'select' },\n    });\n    return [];\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/getSyncHistory.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/getSyncHistory.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[929,932],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[929,932],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1170,1173],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1170,1173],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Get sync history for a user.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { SyncLog } from './types';\n\n/**\n * Get sync history for a user.\n */\nexport async function getSyncHistory(\n  userId: string,\n  limit: number = 100,\n  operationType?: string,\n  status?: string,\n): Promise<SyncLog[]> {\n  if (!supabaseAdmin) {\n    return [];\n  }\n\n  try {\n    let query = supabaseAdmin\n      .from('square_sync_logs')\n      .select('*')\n      .eq('user_id', userId)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (operationType) {\n      query = query.eq('operation_type', operationType);\n    }\n\n    if (status) {\n      query = query.eq('status', status);\n    }\n\n    const { data, error } = await query;\n\n    if (error) {\n      logger.error('[Square Sync Log] Error fetching sync history:', {\n        error: error.message,\n        code: (error as any).code,\n        userId,\n        limit,\n        operationType,\n        status,\n        context: { endpoint: 'getSyncHistory', operation: 'select' },\n      });\n      return [];\n    }\n\n    return (data || []) as SyncLog[];\n  } catch (error: any) {\n    logger.error('[Square Sync Log] Unexpected error fetching sync history:', {\n      error: error.message,\n      userId,\n      limit,\n      operationType,\n      status,\n      context: { endpoint: 'getSyncHistory', operation: 'select' },\n    });\n    return [];\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/logSyncOperation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/logSyncOperation.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1476,1479],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1476,1479],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1701,1704],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1701,1704],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Log a sync operation.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\nimport type { SyncOperation, SyncLog } from './types';\n\n/**\n * Log a sync operation.\n */\nexport async function logSyncOperation(operation: SyncOperation): Promise<SyncLog> {\n  if (!supabaseAdmin) {\n    logger.error('[Square Sync Log] Database connection not available');\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  try {\n    const logData = {\n      user_id: operation.user_id,\n      operation_type: operation.operation_type,\n      direction: operation.direction,\n      entity_type: operation.entity_type || null,\n      entity_id: operation.entity_id || null,\n      square_id: operation.square_id || null,\n      status: operation.status,\n      error_message: operation.error_message || null,\n      error_details: operation.error_details || null,\n      sync_metadata: operation.sync_metadata || null,\n      retry_count: operation.retry_count || 0,\n      max_retries: operation.max_retries || 5,\n      next_retry_at: operation.next_retry_at || null,\n    };\n\n    const { data, error } = await supabaseAdmin\n      .from('square_sync_logs')\n      .insert(logData)\n      .select()\n      .single();\n\n    if (error) {\n      logger.error('[Square Sync Log] Error logging sync operation:', {\n        error: error.message,\n        code: (error as any).code,\n        operation,\n        context: { endpoint: 'logSyncOperation', operation: 'insert' },\n      });\n\n      throw ApiErrorHandler.fromSupabaseError(error, 500);\n    }\n\n    return data as SyncLog;\n  } catch (error: any) {\n    if (error.status) {\n      throw error;\n    }\n\n    logger.error('[Square Sync Log] Unexpected error logging sync operation:', {\n      error: error.message,\n      operation,\n      context: { endpoint: 'logSyncOperation', operation: 'insert' },\n    });\n\n    throw ApiErrorHandler.createError('Failed to log sync operation', 'DATABASE_ERROR', 500);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/types.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[554,557],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[554,557],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[599,602],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[599,602],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1210,1213],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1210,1213],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1249,1252],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1249,1252],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync log types.\n */\n\nexport interface SyncLog {\n  id: string;\n  user_id: string;\n  operation_type:\n    | 'sync_catalog'\n    | 'sync_orders'\n    | 'sync_staff'\n    | 'sync_costs'\n    | 'initial_sync'\n    | 'webhook_event'\n    | 'auto_sync';\n  direction: 'square_to_prepflow' | 'prepflow_to_square' | 'bidirectional';\n  entity_type: string | null;\n  entity_id: string | null;\n  square_id: string | null;\n  status: 'success' | 'error' | 'conflict' | 'skipped' | 'pending' | 'retrying';\n  error_message: string | null;\n  error_details: Record<string, any> | null;\n  sync_metadata: Record<string, any> | null;\n  retry_count: number;\n  max_retries: number;\n  next_retry_at: string | null;\n  created_at: string;\n}\n\nexport interface SyncOperation {\n  user_id: string;\n  operation_type:\n    | 'sync_catalog'\n    | 'sync_orders'\n    | 'sync_staff'\n    | 'sync_costs'\n    | 'initial_sync'\n    | 'webhook_event'\n    | 'auto_sync';\n  direction: 'square_to_prepflow' | 'prepflow_to_square' | 'bidirectional';\n  entity_type?: string;\n  entity_id?: string;\n  square_id?: string;\n  status: 'success' | 'error' | 'conflict' | 'skipped' | 'pending' | 'retrying';\n  error_message?: string;\n  error_details?: Record<string, any>;\n  sync_metadata?: Record<string, any>;\n  retry_count?: number;\n  max_retries?: number;\n  next_retry_at?: string | null;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/updateSyncLogRetry.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync-log/updateSyncLogRetry.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[589,592],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[589,592],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1037,1040],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1037,1040],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1250,1253],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1250,1253],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Update sync log retry information.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Update sync log retry information.\n */\nexport async function updateSyncLogRetry(\n  logId: string,\n  retryInfo: {\n    retry_count: number;\n    next_retry_at: string | null;\n    status?: 'retrying' | 'error';\n  },\n): Promise<void> {\n  if (!supabaseAdmin) {\n    throw ApiErrorHandler.createError('Database connection not available', 'DATABASE_ERROR', 500);\n  }\n\n  try {\n    const updateData: any = {\n      retry_count: retryInfo.retry_count,\n      next_retry_at: retryInfo.next_retry_at,\n    };\n\n    if (retryInfo.status) {\n      updateData.status = retryInfo.status;\n    }\n\n    const { error } = await supabaseAdmin\n      .from('square_sync_logs')\n      .update(updateData)\n      .eq('id', logId);\n\n    if (error) {\n      logger.error('[Square Sync Log] Error updating retry info:', {\n        error: error.message,\n        code: (error as any).code,\n        logId,\n        retryInfo,\n        context: { endpoint: 'updateSyncLogRetry', operation: 'update' },\n      });\n\n      throw ApiErrorHandler.fromSupabaseError(error, 500);\n    }\n  } catch (error: any) {\n    if (error.status) {\n      throw error;\n    }\n\n    logger.error('[Square Sync Log] Unexpected error updating retry info:', {\n      error: error.message,\n      logId,\n      retryInfo,\n      context: { endpoint: 'updateSyncLogRetry', operation: 'update' },\n    });\n\n    throw ApiErrorHandler.createError('Failed to update retry info', 'DATABASE_ERROR', 500);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/auto-sync-queue.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/auto-sync-queue.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":96,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":96,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2955,2958],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2955,2958],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync Queue System\n * Manages batching and rate limiting for Square sync operations\n *\n *  Complete Reference: See `docs/SQUARE_API_REFERENCE.md` (Sync Operations, Rate Limiting sections) for\n * detailed sync queue documentation and rate limit management.\n */\n\nimport { logger } from '@/lib/logger';\nimport { processSyncOperation as processSyncOperationHelper } from './helpers/processSyncOperation';\nimport {\n  syncQueue,\n  isProcessing,\n  lastBatchProcessedAt,\n  setIsProcessing,\n  setLastBatchProcessedAt,\n} from './helpers/syncQueueState';\nimport { BATCH_SIZE, RATE_LIMIT_DELAY_MS } from './helpers/syncQueueConstants';\nimport { handleRetry, handleMaxRetriesReached } from './helpers/syncQueueHandlers';\nimport type { QueuedSyncOperation } from './types';\n\nexport type { QueuedSyncOperation } from './types';\n\n/**\n * Add sync operation to queue\n */\nexport async function queueSyncOperation(\n  operation: Omit<QueuedSyncOperation, 'id' | 'created_at' | 'retry_count'>,\n): Promise<void> {\n  const queuedOperation: QueuedSyncOperation = {\n    ...operation,\n    id: `sync-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n    created_at: new Date().toISOString(),\n    retry_count: 0,\n  };\n\n  syncQueue.push(queuedOperation);\n  logger.dev('[Square Sync Queue] Operation queued:', {\n    id: queuedOperation.id,\n    entityType: queuedOperation.entity_type,\n    entityId: queuedOperation.entity_id,\n    operation: queuedOperation.operation,\n  });\n\n  // Trigger queue processing if not already processing\n  if (!isProcessing) {\n    (async () => {\n      try {\n        await processSyncQueue();\n      } catch (err) {\n        logger.error('[Square Sync Queue] Error processing queue:', {\n          error: err instanceof Error ? err.message : String(err),\n        });\n      }\n    })();\n  }\n}\n\n/**\n * Process sync queue in batches\n */\nexport async function processSyncQueue(): Promise<void> {\n  if (isProcessing) {\n    return;\n  }\n\n  setIsProcessing(true);\n\n  try {\n    while (syncQueue.length > 0) {\n      // Rate limiting: wait if we processed a batch recently\n      const timeSinceLastBatch = Date.now() - lastBatchProcessedAt;\n      if (timeSinceLastBatch < RATE_LIMIT_DELAY_MS) {\n        await new Promise(resolve => setTimeout(resolve, RATE_LIMIT_DELAY_MS - timeSinceLastBatch));\n      }\n\n      // Get batch of operations\n      const batch = syncQueue.splice(0, BATCH_SIZE);\n      setLastBatchProcessedAt(Date.now());\n\n      logger.dev('[Square Sync Queue] Processing batch:', {\n        batchSize: batch.length,\n        remainingInQueue: syncQueue.length,\n      });\n\n      // Process batch in parallel\n      const batchPromises = batch.map(operation =>\n        processSyncOperationHelper(\n          operation,\n          (op: QueuedSyncOperation) => handleRetry(op),\n          (op: QueuedSyncOperation, err: Error) => handleMaxRetriesReached(op, err),\n        ),\n      );\n      await Promise.allSettled(batchPromises);\n    }\n  } catch (error: any) {\n    logger.error('[Square Sync Queue] Error processing queue:', {\n      error: error.message,\n      stack: error.stack,\n    });\n  } finally {\n    setIsProcessing(false);\n  }\n}\n\n/**\n * Get queue status\n */\nexport function getQueueStatus(): {\n  queueLength: number;\n  isProcessing: boolean;\n  nextBatchTime: number;\n} {\n  return {\n    queueLength: syncQueue.length,\n    isProcessing,\n    nextBatchTime: lastBatchProcessedAt + RATE_LIMIT_DELAY_MS,\n  };\n}\n\n/**\n * Clear queue (useful for testing or reset)\n */\nexport function clearQueue(): void {\n  const { clearQueueState } = require('./helpers/syncQueueState');\n  clearQueueState();\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/auto-sync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/auto-sync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[479,482],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[479,482],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Catalog/Menu Items Sync Service\n * Handles bidirectional synchronization between Square Catalog and PrepFlow Dishes\n *\n *  Complete Reference: See `docs/SQUARE_API_REFERENCE.md` (Sync Operations section) for\n * detailed sync operation documentation and usage examples.\n */\n\n// Export types\nexport interface SyncResult {\n  success: boolean;\n  synced: number;\n  created: number;\n  updated: number;\n  errors: number;\n  errorMessages?: string[];\n  metadata?: Record<string, any>;\n}\n\nexport interface Dish {\n  id: string;\n  dish_name: string;\n  description?: string;\n  selling_price: number;\n  category?: string;\n  created_at?: string;\n  updated_at?: string;\n}\n\n// Re-export sync functions\nexport { syncCatalogFromSquare } from './catalog/syncFromSquare';\nexport { syncCatalogToSquare } from './catalog/syncToSquare';\nexport { syncCatalogBidirectional } from './catalog/syncBidirectional';\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/common.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/common.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1142,1145],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1142,1145],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Common helpers for catalog sync operations.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logSyncOperation } from '../../../sync-log';\n\n/**\n * Update last catalog sync timestamp\n */\nexport async function updateLastCatalogSyncTimestamp(userId: string): Promise<void> {\n  if (!supabaseAdmin) {\n    logger.warn('[Square Catalog Sync] Supabase not available, cannot update sync timestamp');\n    return;\n  }\n\n  const { error } = await supabaseAdmin\n    .from('square_configurations')\n    .update({\n      last_menu_sync_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    })\n    .eq('user_id', userId);\n\n  if (error) {\n    logger.warn('[Square Catalog Sync] Failed to update last sync timestamp:', {\n      error: error.message,\n      userId,\n    });\n  }\n}\n\n/**\n * Log sync operation for catalog\n */\nexport async function logCatalogSyncOperation(params: {\n  userId: string;\n  direction: 'square_to_prepflow' | 'prepflow_to_square';\n  entityId?: string;\n  squareId?: string;\n  status: 'success' | 'error';\n  errorMessage?: string;\n  errorDetails?: Record<string, any>;\n}): Promise<void> {\n  await logSyncOperation({\n    user_id: params.userId,\n    operation_type: 'sync_catalog',\n    direction: params.direction,\n    entity_type: 'dish',\n    entity_id: params.entityId,\n    square_id: params.squareId,\n    status: params.status,\n    error_message: params.errorMessage,\n    error_details: params.errorDetails,\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/createNewDish.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/createNewDish.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[346,349],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[346,349],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Create new dish from Square catalog item.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { createAutoMapping } from '../../../mappings';\nimport type { SyncResult } from '../../catalog';\nimport { logCatalogSyncOperation } from './common';\n\nexport async function createNewDish(\n  dishData: any,\n  squareItemId: string,\n  userId: string,\n  locationId: string,\n  result: SyncResult,\n): Promise<void> {\n  if (!supabaseAdmin) {\n    return;\n  }\n\n  const { data: newDish, error: createError } = await supabaseAdmin\n    .from('dishes')\n    .insert({\n      dish_name: dishData.dish_name,\n      description: dishData.description,\n      selling_price: dishData.selling_price,\n      category: dishData.category,\n    })\n    .select()\n    .single();\n\n  if (createError || !newDish) {\n    logger.error('[Square Catalog Sync] Error creating dish:', {\n      error: createError?.message,\n      squareItemId,\n    });\n    result.errors++;\n    result.errorMessages?.push(`Failed to create dish: ${createError?.message || 'Unknown error'}`);\n    return;\n  }\n\n  const newMapping = await createAutoMapping(newDish.id, squareItemId, 'dish', userId, locationId);\n\n  if (!newMapping) {\n    logger.error('[Square Catalog Sync] Error creating mapping:', {\n      dishId: newDish.id,\n      squareItemId,\n    });\n    result.errors++;\n    result.errorMessages?.push(`Failed to create mapping for dish ${newDish.id}`);\n    return;\n  }\n\n  result.created++;\n  result.synced++;\n\n  await logCatalogSyncOperation({\n    userId,\n    direction: 'square_to_prepflow',\n    entityId: newDish.id,\n    squareId: squareItemId,\n    status: 'success',\n  });\n\n  // Dual-write to POS Table\n  try {\n    await supabaseAdmin.from('pos_menu_items').upsert(\n      {\n        name: dishData.dish_name,\n        category: dishData.category || 'Uncategorized',\n        price: dishData.selling_price || 0,\n        is_available: true,\n        square_id: squareItemId,\n      },\n      { onConflict: 'square_id' },\n    );\n  } catch (e) {\n    logger.warn('[Square Catalog Sync] Failed to sync to POS table:', e);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/mapping.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/mapping.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[213,216],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[213,216],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1228,1231],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1228,1231],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Catalog mapping helpers for Square  PrepFlow conversion.\n */\nimport type { Dish } from '../../catalog';\n\n/**\n * Map Square catalog item to PrepFlow dish\n */\nexport function mapSquareItemToDish(squareItem: any, locationId: string): Dish {\n  const itemData = squareItem.itemData;\n  const dishName = itemData.name || 'Unnamed Dish';\n  const description = itemData.description || null;\n\n  // Get price from variations or item variations\n  let sellingPrice = 0;\n  if (itemData.variations && itemData.variations.length > 0) {\n    const firstVariation = itemData.variations[0];\n    if (firstVariation.itemVariationData?.priceMoney) {\n      sellingPrice = Number(firstVariation.itemVariationData.priceMoney.amount) / 100; // Convert cents to dollars\n    }\n  }\n\n  // Extract category from categories array if available\n  let category: string | undefined = undefined;\n  if (itemData.categories && itemData.categories.length > 0) {\n    category = itemData.categories[0];\n  }\n\n  return {\n    id: '', // Will be set when creating dish\n    dish_name: dishName,\n    description,\n    selling_price: sellingPrice,\n    category,\n  };\n}\n\n/**\n * Map PrepFlow dish to Square catalog item\n */\nexport function mapDishToSquareItem(dish: Dish): any {\n  return {\n    type: 'ITEM',\n    id: `#${dish.id}`,\n    itemData: {\n      name: dish.dish_name,\n      description: dish.description || undefined,\n      categories: dish.category ? [dish.category] : undefined,\n      variations: [\n        {\n          type: 'ITEM_VARIATION',\n          id: `#${dish.id}-variation`,\n          itemVariationData: {\n            name: dish.dish_name,\n            pricingType: 'FIXED_PRICING',\n            priceMoney: {\n              amount: Math.round(dish.selling_price * 100), // Convert dollars to cents\n              currency: 'AUD',\n            },\n          },\n        },\n      ],\n    },\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/processFromSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/processFromSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[597,600],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[597,600],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1289,1292],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1289,1292],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Process Square catalog items for sync to PrepFlow.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { getMappingBySquareId } from '../../../mappings';\nimport { mapSquareItemToDish } from './mapping';\nimport { logCatalogSyncOperation } from './common';\nimport { updateExistingDish } from './updateExistingDish';\nimport { createNewDish } from './createNewDish';\nimport type { SyncResult } from '../../catalog';\n\n/**\n * Process a single Square catalog item for sync to PrepFlow\n */\nexport async function processSquareCatalogItem(\n  squareItem: any,\n  userId: string,\n  locationId: string,\n  result: SyncResult,\n): Promise<void> {\n  if (!supabaseAdmin) {\n    result.errorMessages?.push('Database connection not available');\n    return;\n  }\n\n  try {\n    if (!squareItem.id || !squareItem.itemData) {\n      return;\n    }\n\n    const squareItemId = squareItem.id;\n    const mapping = await getMappingBySquareId(squareItemId, 'dish', userId, locationId);\n    const dishData = mapSquareItemToDish(squareItem, locationId);\n\n    if (mapping) {\n      await updateExistingDish(mapping, dishData, squareItemId, userId, result);\n    } else {\n      await createNewDish(dishData, squareItemId, userId, locationId, result);\n    }\n  } catch (itemError: any) {\n    logger.error('[Square Catalog Sync] Error processing Square item:', {\n      error: itemError.message,\n      squareItemId: squareItem.id,\n    });\n    result.errors++;\n    result.errorMessages?.push(\n      `Failed to process Square item ${squareItem.id}: ${itemError.message}`,\n    );\n\n    await logCatalogSyncOperation({\n      userId,\n      direction: 'square_to_prepflow',\n      squareId: squareItem.id,\n      status: 'error',\n      errorMessage: itemError.message,\n      errorDetails: { stack: itemError.stack },\n    });\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/processToSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/processToSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[550,553],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[550,553],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":123,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3599,3602],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3599,3602],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Process PrepFlow dishes for sync to Square.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { getMappingByPrepFlowId, createAutoMapping } from '../../../mappings';\nimport { mapDishToSquareItem } from './mapping';\nimport { logCatalogSyncOperation } from './common';\nimport type { Dish, SyncResult } from '../../catalog';\n\n/**\n * Process a single PrepFlow dish for sync to Square\n */\nexport async function processPrepFlowDish(\n  dish: Dish,\n  userId: string,\n  locationId: string,\n  catalogApi: any,\n  result: SyncResult,\n): Promise<void> {\n  if (!supabaseAdmin) {\n    result.errorMessages?.push('Database connection not available');\n    return;\n  }\n\n  try {\n    // Check if mapping exists\n    let mapping = await getMappingByPrepFlowId(dish.id, 'dish', userId);\n\n    // Map PrepFlow dish to Square catalog item\n    const squareItemData = mapDishToSquareItem(dish);\n\n    if (mapping) {\n      // Update existing Square item\n      const updateResponse = await catalogApi.upsertCatalogObject({\n        idempotencyKey: `${dish.id}-${Date.now()}`,\n        object: {\n          type: 'ITEM',\n          id: mapping.square_id,\n          itemData: squareItemData.itemData,\n        },\n      });\n\n      if (updateResponse.result?.catalogObject) {\n        // Update mapping sync timestamp\n        const { error: mappingUpdateError } = await supabaseAdmin\n          .from('square_mappings')\n          .update({\n            last_synced_at: new Date().toISOString(),\n            last_synced_to_square: new Date().toISOString(),\n            updated_at: new Date().toISOString(),\n          })\n          .eq('id', mapping.id);\n\n        if (mappingUpdateError) {\n          logger.warn('[Square Catalog Sync] Error updating mapping sync timestamp:', {\n            error: mappingUpdateError.message,\n            mappingId: mapping.id,\n          });\n        }\n\n        result.updated++;\n        result.synced++;\n\n        // Log sync operation\n        await logCatalogSyncOperation({\n          userId,\n          direction: 'prepflow_to_square',\n          entityId: dish.id,\n          squareId: mapping.square_id,\n          status: 'success',\n        });\n      } else {\n        throw new Error('Failed to update Square item');\n      }\n    } else {\n      // Create new Square item\n      const createResponse = await catalogApi.upsertCatalogObject({\n        idempotencyKey: `${dish.id}-${Date.now()}`,\n        object: {\n          type: 'ITEM',\n          itemData: squareItemData.itemData,\n        },\n      });\n\n      if (createResponse.result?.catalogObject && createResponse.result.catalogObject.id) {\n        const squareItemId = createResponse.result.catalogObject.id;\n\n        // Create mapping\n        const newMapping = await createAutoMapping(\n          dish.id,\n          squareItemId,\n          'dish',\n          userId,\n          locationId,\n        );\n\n        if (!newMapping) {\n          logger.error('[Square Catalog Sync] Error creating mapping:', {\n            dishId: dish.id,\n            squareItemId,\n          });\n          result.errors++;\n          result.errorMessages?.push(`Failed to create mapping for dish ${dish.id}`);\n          return;\n        }\n\n        result.created++;\n        result.synced++;\n\n        // Log sync operation\n        await logCatalogSyncOperation({\n          userId,\n          direction: 'prepflow_to_square',\n          entityId: dish.id,\n          squareId: squareItemId,\n          status: 'success',\n        });\n      } else {\n        throw new Error('Failed to create Square item');\n      }\n    }\n  } catch (dishError: any) {\n    logger.error('[Square Catalog Sync] Error processing dish:', {\n      error: dishError.message,\n      dishId: dish.id,\n    });\n    result.errors++;\n    result.errorMessages?.push(`Failed to process dish ${dish.id}: ${dishError.message}`);\n\n    await logCatalogSyncOperation({\n      userId,\n      direction: 'prepflow_to_square',\n      entityId: dish.id,\n      status: 'error',\n      errorMessage: dishError.message,\n      errorDetails: { stack: dishError.stack },\n    });\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/updateExistingDish.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/helpers/updateExistingDish.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[300,303],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[300,303],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[317,320],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[317,320],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Update existing dish from Square catalog item.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport type { SyncResult } from '../../catalog';\nimport { logCatalogSyncOperation } from './common';\n\nexport async function updateExistingDish(\n  mapping: any,\n  dishData: any,\n  squareItemId: string,\n  userId: string,\n  result: SyncResult,\n): Promise<void> {\n  if (!supabaseAdmin) {\n    return;\n  }\n\n  const { error: updateError } = await supabaseAdmin\n    .from('dishes')\n    .update({\n      dish_name: dishData.dish_name,\n      description: dishData.description,\n      selling_price: dishData.selling_price,\n      category: dishData.category,\n      updated_at: new Date().toISOString(),\n    })\n    .eq('id', mapping.prepflow_id);\n\n  if (updateError) {\n    logger.error('[Square Catalog Sync] Error updating dish:', {\n      error: updateError.message,\n      dishId: mapping.prepflow_id,\n      squareItemId,\n    });\n    result.errors++;\n    result.errorMessages?.push(\n      `Failed to update dish ${mapping.prepflow_id}: ${updateError.message}`,\n    );\n    return;\n  }\n\n  const { error: mappingUpdateError } = await supabaseAdmin\n    .from('square_mappings')\n    .update({\n      last_synced_at: new Date().toISOString(),\n      last_synced_from_square: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    })\n    .eq('id', mapping.id);\n\n  if (mappingUpdateError) {\n    logger.warn('[Square Catalog Sync] Error updating mapping sync timestamp:', {\n      error: mappingUpdateError.message,\n      mappingId: mapping.id,\n    });\n  }\n\n  result.updated++;\n  result.synced++;\n\n  await logCatalogSyncOperation({\n    userId,\n    direction: 'square_to_prepflow',\n    entityId: mapping.prepflow_id,\n    squareId: squareItemId,\n    status: 'success',\n  });\n\n  // Dual-write to POS Table\n  try {\n    await supabaseAdmin.from('pos_menu_items').upsert(\n      {\n        name: dishData.dish_name,\n        category: dishData.category || 'Uncategorized',\n        price: dishData.selling_price || 0,\n        square_id: squareItemId,\n        updated_at: new Date().toISOString(),\n      },\n      { onConflict: 'square_id' },\n    );\n  } catch (e) {\n    logger.warn('[Square Catalog Sync] Failed to sync to POS table:', e);\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/syncBidirectional.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/syncBidirectional.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1022,1025],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1022,1025],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Bidirectional catalog sync.\n */\nimport { logger } from '@/lib/logger';\nimport { getSquareConfig } from '../../config';\nimport { syncCatalogFromSquare } from './syncFromSquare';\nimport { syncCatalogToSquare } from './syncToSquare';\nimport type { SyncResult } from '../catalog';\n\n/**\n * Bidirectional catalog sync\n * Syncs both directions based on sync direction configuration\n */\nexport async function syncCatalogBidirectional(userId: string): Promise<SyncResult> {\n  try {\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      logger.error('[Square Catalog Sync] Square configuration not found for bidirectional sync:', {\n        userId,\n      });\n      return {\n        success: false,\n        synced: 0,\n        created: 0,\n        updated: 0,\n        errors: 1,\n        errorMessages: ['Square configuration not found'],\n      };\n    }\n\n    // Default: prepflow_to_square (only direction supported in auto_sync_direction enum)\n    return await syncCatalogToSquare(userId);\n  } catch (error: any) {\n    logger.error('[Square Catalog Sync] Bidirectional sync error:', {\n      error: error.message,\n      userId,\n    });\n\n    return {\n      success: false,\n      synced: 0,\n      created: 0,\n      updated: 0,\n      errors: 1,\n      errorMessages: [error.message],\n    };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/syncFromSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/syncFromSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1522,1525],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1522,1525],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1807,1810],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1807,1810],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":81,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2345,2348],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2345,2348],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync catalog items from Square to PrepFlow.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { getSquareClient } from '../../client';\nimport { getSquareConfig } from '../../config';\nimport { logSyncOperation } from '../../sync-log';\nimport { processSquareCatalogItem } from './helpers/processFromSquare';\nimport { updateLastCatalogSyncTimestamp } from './helpers/common';\nimport type { SyncResult } from '../catalog';\n\n/**\n * Sync catalog items from Square to PrepFlow\n * Creates or updates dishes based on Square catalog items\n */\nexport async function syncCatalogFromSquare(\n  userId: string,\n  locationId?: string,\n): Promise<SyncResult> {\n  const result: SyncResult = {\n    success: false,\n    synced: 0,\n    created: 0,\n    updated: 0,\n    errors: 0,\n    errorMessages: [],\n  };\n\n  if (!supabaseAdmin) {\n    result.errorMessages?.push('Database connection not available');\n    return result;\n  }\n\n  try {\n    const client = await getSquareClient(userId);\n    if (!client) {\n      throw new Error('Square client not available');\n    }\n\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      throw new Error('Square configuration not found');\n    }\n\n    const targetLocationId = locationId || config.default_location_id;\n    if (!targetLocationId) {\n      throw new Error('Location ID is required for catalog sync');\n    }\n\n    // Fetch Square catalog items\n    const catalogApi = client.catalog;\n    const listResponse = await (catalogApi as any).listCatalog(undefined, 'ITEM');\n\n    if (!listResponse.result?.objects) {\n      logger.warn('[Square Catalog Sync] No catalog items found in Square');\n      result.success = true;\n      return result;\n    }\n\n    const squareItems = listResponse.result.objects.filter(\n      (obj: any) => obj.type === 'ITEM' && obj.itemData,\n    );\n\n    logger.dev('[Square Catalog Sync] Found Square items:', {\n      count: squareItems.length,\n      userId,\n      locationId: targetLocationId,\n    });\n\n    // Process each Square item\n    for (const squareItem of squareItems) {\n      await processSquareCatalogItem(squareItem, userId, targetLocationId, result);\n    }\n\n    // Update last sync timestamp\n    await updateLastCatalogSyncTimestamp(userId);\n\n    result.success = result.errors === 0;\n    return result;\n  } catch (error: any) {\n    logger.error('[Square Catalog Sync] Fatal error:', {\n      error: error.message,\n      userId,\n      stack: error.stack,\n    });\n\n    result.errorMessages?.push(`Fatal error: ${error.message}`);\n\n    await logSyncOperation({\n      user_id: userId,\n      operation_type: 'sync_catalog',\n      direction: 'square_to_prepflow',\n      status: 'error',\n      error_message: error.message,\n      error_details: { stack: error.stack },\n    });\n\n    return result;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/syncToSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/catalog/syncToSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":90,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2536,2539],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2536,2539],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync dishes from PrepFlow to Square.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { getSquareClient } from '../../client';\nimport { getSquareConfig } from '../../config';\nimport { logSyncOperation } from '../../sync-log';\nimport { processPrepFlowDish } from './helpers/processToSquare';\nimport { updateLastCatalogSyncTimestamp } from './helpers/common';\nimport type { SyncResult } from '../catalog';\n\n/**\n * Sync dishes from PrepFlow to Square\n * Creates or updates Square catalog items based on PrepFlow dishes\n */\nexport async function syncCatalogToSquare(userId: string, dishIds?: string[]): Promise<SyncResult> {\n  const result: SyncResult = {\n    success: false,\n    synced: 0,\n    created: 0,\n    updated: 0,\n    errors: 0,\n    errorMessages: [],\n  };\n\n  if (!supabaseAdmin) {\n    result.errorMessages?.push('Database connection not available');\n    return result;\n  }\n\n  try {\n    const client = await getSquareClient(userId);\n    if (!client) {\n      throw new Error('Square client not available');\n    }\n\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      throw new Error('Square configuration not found');\n    }\n\n    const targetLocationId = config.default_location_id;\n    if (!targetLocationId) {\n      throw new Error('Location ID is required for catalog sync');\n    }\n\n    // Fetch PrepFlow dishes\n    let query = supabaseAdmin.from('dishes').select('*');\n\n    if (dishIds && dishIds.length > 0) {\n      query = query.in('id', dishIds);\n    }\n\n    const { data: dishes, error: dishesError } = await query;\n\n    if (dishesError) {\n      logger.error('[Square Catalog Sync] Failed to fetch dishes:', {\n        error: dishesError.message,\n        userId,\n      });\n      result.errorMessages?.push(`Failed to fetch dishes: ${dishesError.message}`);\n      result.errors++;\n      return result;\n    }\n\n    if (!dishes || dishes.length === 0) {\n      logger.warn('[Square Catalog Sync] No dishes found in PrepFlow');\n      result.success = true;\n      return result;\n    }\n\n    logger.dev('[Square Catalog Sync] Found PrepFlow dishes:', {\n      count: dishes.length,\n      userId,\n    });\n\n    const catalogApi = client.catalog;\n\n    // Process each dish\n    for (const dish of dishes) {\n      await processPrepFlowDish(dish, userId, targetLocationId, catalogApi, result);\n    }\n\n    // Update last sync timestamp\n    await updateLastCatalogSyncTimestamp(userId);\n\n    result.success = result.errors === 0;\n    return result;\n  } catch (error: any) {\n    logger.error('[Square Catalog Sync] Fatal error:', {\n      error: error.message,\n      userId,\n      stack: error.stack,\n    });\n\n    result.errorMessages?.push(`Fatal error: ${error.message}`);\n\n    await logSyncOperation({\n      user_id: userId,\n      operation_type: 'sync_catalog',\n      direction: 'prepflow_to_square',\n      status: 'error',\n      error_message: error.message,\n      error_details: { stack: error.stack },\n    });\n\n    return result;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[473,476],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[473,476],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Food Cost Sync Service\n * Handles one-way synchronization of food costs from PrepFlow to Square Catalog Items\n *\n *  Complete Reference: See `docs/SQUARE_API_REFERENCE.md` (Sync Operations section) for\n * detailed sync operation documentation and usage examples.\n */\n\n// Export types\nexport interface SyncResult {\n  success: boolean;\n  synced: number;\n  created: number;\n  updated: number;\n  errors: number;\n  errorMessages?: string[];\n  metadata?: Record<string, any>;\n}\n\nexport interface CostData {\n  total_cost: number;\n  food_cost_percent: number;\n  gross_profit: number;\n  gross_profit_margin: number;\n  contributing_margin: number;\n  contributing_margin_percent: number;\n  last_updated: string;\n}\n\n// Re-export sync function\nexport { syncCostsToSquare } from './costs/syncCosts';\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/helpers/calculateCost.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/helpers/calculateCost.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":72,"column":83,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":86,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1897,1900],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1897,1900],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":139,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3993,3996],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3993,3996],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Calculate food cost for a dish.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { calculateFinancialMetrics } from './calculateFinancialMetrics';\nimport type { CostData } from '../../costs';\n\n/**\n * Calculate food cost for a dish\n * Uses the same logic as the dish cost API endpoint\n */\nexport async function calculateDishFoodCost(dishId: string): Promise<CostData | null> {\n  try {\n    if (!supabaseAdmin) {\n      logger.error('[Square Cost Sync] Database connection not available');\n      return null;\n    }\n\n    // Fetch dish with recipes and ingredients\n    const { data: dish, error: dishError } = await supabaseAdmin\n      .from('dishes')\n      .select('*')\n      .eq('id', dishId)\n      .single();\n\n    if (dishError || !dish) {\n      logger.error('[Square Cost Sync] Error fetching dish:', {\n        error: dishError?.message,\n        dishId,\n      });\n      return null;\n    }\n\n    let totalCost = 0;\n\n    // Fetch dish recipes\n    const { data: dishRecipes, error: dishRecipesError } = await supabaseAdmin\n      .from('dish_recipes')\n      .select(\n        `\n        quantity,\n        recipes (\n          id,\n          recipe_name,\n          recipe_ingredients (\n            quantity,\n            unit,\n            ingredients (\n              cost_per_unit,\n              cost_per_unit_incl_trim,\n              trim_peel_waste_percentage,\n              yield_percentage,\n              category\n            )\n          )\n        )\n      `,\n      )\n      .eq('dish_id', dishId);\n\n    if (dishRecipesError) {\n      logger.error('[Square Cost Sync] Error fetching dish recipes:', {\n        error: dishRecipesError.message,\n        dishId,\n      });\n    }\n\n    // Calculate cost from recipes\n    if (dishRecipes) {\n      for (const dr of dishRecipes) {\n        const recipe = Array.isArray(dr.recipes) ? dr.recipes[0] : (dr.recipes as any);\n        if (!recipe || !recipe.recipe_ingredients) continue;\n\n        const recipeQuantity = Number(dr.quantity) || 1;\n\n        for (const ri of recipe.recipe_ingredients) {\n          const ingredient = Array.isArray(ri.ingredients) ? ri.ingredients[0] : ri.ingredients;\n          if (!ingredient) continue;\n\n          const ingredientQuantity = Number(ri.quantity) || 0;\n          const costPerUnit =\n            Number(ingredient.cost_per_unit_incl_trim) || Number(ingredient.cost_per_unit) || 0;\n          const ingredientCost = ingredientQuantity * costPerUnit;\n\n          totalCost += ingredientCost * recipeQuantity;\n        }\n      }\n    }\n\n    // Fetch dish ingredients (direct)\n    const { data: dishIngredients, error: dishIngredientsError } = await supabaseAdmin\n      .from('dish_ingredients')\n      .select(\n        `\n        quantity,\n        unit,\n        ingredients (\n          cost_per_unit,\n          cost_per_unit_incl_trim,\n          trim_peel_waste_percentage,\n          yield_percentage,\n          category\n        )\n      `,\n      )\n      .eq('dish_id', dishId);\n\n    if (dishIngredientsError) {\n      logger.error('[Square Cost Sync] Error fetching dish ingredients:', {\n        error: dishIngredientsError.message,\n        dishId,\n      });\n    }\n\n    // Calculate cost from direct ingredients\n    if (dishIngredients) {\n      for (const di of dishIngredients) {\n        const ingredient = Array.isArray(di.ingredients) ? di.ingredients[0] : di.ingredients;\n        if (!ingredient) continue;\n\n        const ingredientQuantity = Number(di.quantity) || 0;\n        const costPerUnit =\n          Number(ingredient.cost_per_unit_incl_trim) || Number(ingredient.cost_per_unit) || 0;\n        const ingredientCost = ingredientQuantity * costPerUnit;\n\n        totalCost += ingredientCost;\n      }\n    }\n\n    // Calculate financial metrics\n    const sellingPrice = Number(dish.selling_price) || 0;\n    const metrics = calculateFinancialMetrics(totalCost, sellingPrice);\n\n    return {\n      ...metrics,\n      last_updated: new Date().toISOString(),\n    };\n  } catch (error: any) {\n    logger.error('[Square Cost Sync] Error calculating dish cost:', {\n      error: error.message,\n      dishId,\n      stack: error.stack,\n    });\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/helpers/calculateFinancialMetrics.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/helpers/calculateFinancialMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/helpers/common.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/helpers/common.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[450,453],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[450,453],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Common helpers for cost sync operations.\n */\nimport { logger } from '@/lib/logger';\nimport { logSyncOperation } from '../../../sync-log';\n\n/**\n * Log sync operation for costs\n */\nexport async function logCostSyncOperation(params: {\n  userId: string;\n  entityId: string;\n  squareId?: string;\n  status: 'success' | 'error';\n  costData?: { total_cost: number; food_cost_percent: number };\n  errorMessage?: string;\n  errorDetails?: Record<string, any>;\n}): Promise<void> {\n  await logSyncOperation({\n    user_id: params.userId,\n    operation_type: 'sync_costs',\n    direction: 'prepflow_to_square',\n    entity_type: 'dish',\n    entity_id: params.entityId,\n    square_id: params.squareId,\n    status: params.status,\n    error_message: params.errorMessage,\n    error_details: params.errorDetails,\n    sync_metadata: params.costData\n      ? {\n          total_cost: params.costData.total_cost,\n          food_cost_percent: params.costData.food_cost_percent,\n        }\n      : undefined,\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/helpers/processDish.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/helpers/processDish.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[438,441],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[438,441],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":69,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1917,1920],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1917,1920],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Process a single dish for cost sync.\n */\nimport { logger } from '@/lib/logger';\nimport { SquareClient } from 'square';\nimport { calculateDishFoodCost } from './calculateCost';\nimport { updateSquareItemCosts } from './updateSquareItem';\nimport { logCostSyncOperation } from './common';\nimport type { SyncResult } from '../../costs';\n\n/**\n * Process a single dish for cost sync\n */\nexport async function processDishCostSync(\n  dish: any,\n  client: SquareClient,\n  userId: string,\n  result: SyncResult,\n): Promise<void> {\n  try {\n    const mapping = dish.square_mappings?.[0];\n\n    if (!mapping || !mapping.square_id) {\n      logger.warn('[Square Cost Sync] No Square mapping found for dish:', {\n        dishId: dish.id,\n      });\n      return;\n    }\n\n    // Calculate food cost\n    const costData = await calculateDishFoodCost(dish.id);\n\n    if (!costData) {\n      logger.error('[Square Cost Sync] Failed to calculate cost for dish:', {\n        dishId: dish.id,\n      });\n      result.errors++;\n      result.errorMessages?.push(`Failed to calculate cost for dish ${dish.id}`);\n      return;\n    }\n\n    // Update Square catalog item with cost data\n    const updateSuccess = await updateSquareItemCosts(client, mapping.square_id, costData);\n\n    if (!updateSuccess) {\n      logger.error('[Square Cost Sync] Failed to update Square item costs:', {\n        dishId: dish.id,\n        squareItemId: mapping.square_id,\n      });\n      result.errors++;\n      result.errorMessages?.push(`Failed to update Square item costs for dish ${dish.id}`);\n      return;\n    }\n\n    // Log sync operation\n    await logCostSyncOperation({\n      userId,\n      entityId: dish.id,\n      squareId: mapping.square_id,\n      status: 'success',\n      costData: {\n        total_cost: costData.total_cost,\n        food_cost_percent: costData.food_cost_percent,\n      },\n    });\n\n    result.updated++;\n    result.synced++;\n  } catch (dishError: any) {\n    logger.error('[Square Cost Sync] Error processing dish:', {\n      error: dishError.message,\n      dishId: dish.id,\n    });\n    result.errors++;\n    result.errorMessages?.push(`Failed to process dish ${dish.id}: ${dishError.message}`);\n\n    await logCostSyncOperation({\n      userId,\n      entityId: dish.id,\n      status: 'error',\n      errorMessage: dishError.message,\n      errorDetails: { stack: dishError.stack },\n    });\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/helpers/updateSquareItem.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/helpers/updateSquareItem.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":60,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1694,1697],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1694,1697],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":76,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2246,2249],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2246,2249],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":92,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":92,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2772,2775],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2772,2775],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":109,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3240,3243],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3240,3243],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Update Square catalog item with cost data.\n */\nimport { logger } from '@/lib/logger';\nimport { SquareClient } from 'square';\nimport type { CostData } from '../../costs';\n\n/**\n * Update Square catalog item with cost data using custom attributes\n */\nexport async function updateSquareItemCosts(\n  client: SquareClient,\n  squareItemId: string,\n  costs: CostData,\n): Promise<boolean> {\n  try {\n    const catalogApi = client.catalog;\n\n    // Create custom attribute values for cost data\n    const customAttributes = [\n      {\n        type: 'STRING',\n        name: 'prepflow_total_cost',\n        stringValue: costs.total_cost.toFixed(4),\n      },\n      {\n        type: 'STRING',\n        name: 'prepflow_food_cost_percent',\n        stringValue: costs.food_cost_percent.toFixed(2),\n      },\n      {\n        type: 'STRING',\n        name: 'prepflow_gross_profit',\n        stringValue: costs.gross_profit.toFixed(4),\n      },\n      {\n        type: 'STRING',\n        name: 'prepflow_gross_profit_margin',\n        stringValue: costs.gross_profit_margin.toFixed(2),\n      },\n      {\n        type: 'STRING',\n        name: 'prepflow_contributing_margin',\n        stringValue: costs.contributing_margin.toFixed(4),\n      },\n      {\n        type: 'STRING',\n        name: 'prepflow_contributing_margin_percent',\n        stringValue: costs.contributing_margin_percent.toFixed(2),\n      },\n      {\n        type: 'STRING',\n        name: 'prepflow_cost_last_updated',\n        stringValue: costs.last_updated,\n      },\n    ];\n\n    // Update catalog object with custom attributes\n    // Note: Square API requires updating the entire object, so we need to fetch first\n    const getResponse = await (catalogApi as any).retrieveCatalogObject(squareItemId, true);\n\n    if (!getResponse.result?.object) {\n      logger.error('[Square Cost Sync] Square catalog item not found:', { squareItemId });\n      return false;\n    }\n\n    const existingObject = getResponse.result.object;\n    const existingItemData = existingObject.itemData;\n\n    if (!existingItemData) {\n      logger.error('[Square Cost Sync] Square catalog item data not found:', { squareItemId });\n      return false;\n    }\n\n    // Update with custom attributes\n    const updateResponse = await (catalogApi as any).upsertCatalogObject({\n      idempotencyKey: `${squareItemId}-cost-${Date.now()}`,\n      object: {\n        type: 'ITEM',\n        id: squareItemId,\n        itemData: {\n          ...existingItemData,\n          customAttributeValues: customAttributes.reduce(\n            (acc, attr) => {\n              acc[attr.name] = {\n                type: attr.type,\n                name: attr.name,\n                stringValue: attr.stringValue,\n              };\n              return acc;\n            },\n            {} as Record<string, any>,\n          ),\n        },\n      },\n    });\n\n    if (updateResponse.result?.catalogObject) {\n      logger.dev('[Square Cost Sync] Successfully updated Square item costs:', {\n        squareItemId,\n        totalCost: costs.total_cost,\n        foodCostPercent: costs.food_cost_percent,\n      });\n      return true;\n    } else {\n      logger.error('[Square Cost Sync] Failed to update Square item costs:', { squareItemId });\n      return false;\n    }\n  } catch (error: any) {\n    logger.error('[Square Cost Sync] Error updating Square item costs:', {\n      error: error.message,\n      squareItemId,\n      stack: error.stack,\n    });\n    return false;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/syncCosts.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/costs/syncCosts.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":85,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":85,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2322,2325],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2322,2325],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":95,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2554,2557],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2554,2557],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync costs from PrepFlow to Square.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { getSquareClient } from '../../client';\nimport { getSquareConfig } from '../../config';\nimport { logSyncOperation } from '../../sync-log';\nimport { processDishCostSync } from './helpers/processDish';\nimport type { SyncResult } from '../costs';\n\n/**\n * Sync food costs from PrepFlow to Square\n * Updates Square catalog items with cost data from PrepFlow dishes\n */\nexport async function syncCostsToSquare(userId: string, dishIds?: string[]): Promise<SyncResult> {\n  const result: SyncResult = {\n    success: false,\n    synced: 0,\n    created: 0,\n    updated: 0,\n    errors: 0,\n    errorMessages: [],\n  };\n\n  if (!supabaseAdmin) {\n    result.errorMessages?.push('Database connection not available');\n    return result;\n  }\n\n  try {\n    const client = await getSquareClient(userId);\n    if (!client) {\n      throw new Error('Square client not available');\n    }\n\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      throw new Error('Square configuration not found');\n    }\n\n    // Fetch dishes with Square mappings\n    let query = supabaseAdmin\n      .from('dishes')\n      .select(\n        `\n        *,\n        square_mappings!inner (\n          square_id,\n          entity_type\n        )\n      `,\n      )\n      .eq('square_mappings.entity_type', 'dish');\n\n    if (dishIds && dishIds.length > 0) {\n      query = query.in('id', dishIds);\n    }\n\n    const { data: dishesWithMappings, error: dishesError } = await query;\n\n    if (dishesError) {\n      logger.error('[Square Cost Sync] Failed to fetch dishes:', {\n        error: dishesError.message,\n        userId,\n      });\n      result.errorMessages?.push(`Failed to fetch dishes: ${dishesError.message}`);\n      result.errors++;\n      return result;\n    }\n\n    if (!dishesWithMappings || dishesWithMappings.length === 0) {\n      logger.warn('[Square Cost Sync] No dishes with Square mappings found');\n      result.success = true;\n      return result;\n    }\n\n    logger.dev('[Square Cost Sync] Found dishes with Square mappings:', {\n      count: dishesWithMappings.length,\n      userId,\n    });\n\n    // Process each dish\n    for (const dishData of dishesWithMappings) {\n      await processDishCostSync(dishData as any, client, userId, result);\n    }\n\n    result.success = result.errors === 0;\n    result.metadata = {\n      dishesProcessed: dishesWithMappings.length,\n      costsSynced: result.synced,\n    };\n\n    return result;\n  } catch (error: any) {\n    logger.error('[Square Cost Sync] Fatal error:', {\n      error: error.message,\n      userId,\n      stack: error.stack,\n    });\n\n    result.errorMessages?.push(`Fatal error: ${error.message}`);\n\n    await logSyncOperation({\n      user_id: userId,\n      operation_type: 'sync_costs',\n      direction: 'prepflow_to_square',\n      status: 'error',\n      error_message: error.message,\n      error_details: { stack: error.stack },\n    });\n\n    return result;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/autoSyncConfig.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/autoSyncConfig.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[854,857],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[854,857],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1613,1616],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1613,1616],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Auto-sync configuration helpers.\n */\nimport { logger } from '@/lib/logger';\nimport { getSquareConfig } from '../../config';\nimport { isSquarePOSEnabled } from '../../feature-flags';\n\nexport interface AutoSyncConfig {\n  enabled: boolean;\n  direction: 'prepflow_to_square' | 'bidirectional';\n  syncStaff: boolean;\n  syncDishes: boolean;\n  syncCosts: boolean;\n  debounceMs: number;\n}\n\n/**\n * Check if auto-sync should be performed for a user\n */\nexport async function shouldAutoSync(userId: string): Promise<boolean> {\n  try {\n    // Check feature flag\n    const isEnabled = await isSquarePOSEnabled(userId);\n    if (!isEnabled) {\n      return false;\n    }\n\n    // Check user configuration\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      return false;\n    }\n\n    return config.auto_sync_enabled === true;\n  } catch (error: any) {\n    logger.error('[Square Auto-Sync] Error checking auto-sync status:', {\n      error: error.message,\n      userId,\n    });\n    return false;\n  }\n}\n\n/**\n * Get auto-sync configuration for a user\n */\nexport async function getAutoSyncConfig(userId: string): Promise<AutoSyncConfig | null> {\n  try {\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      return null;\n    }\n\n    return {\n      enabled: config.auto_sync_enabled === true,\n      direction: config.auto_sync_direction || 'prepflow_to_square',\n      syncStaff: config.auto_sync_staff === true,\n      syncDishes: config.auto_sync_dishes === true,\n      syncCosts: config.auto_sync_costs === true,\n      debounceMs: config.sync_debounce_ms || 5000,\n    };\n  } catch (error: any) {\n    logger.error('[Square Auto-Sync] Error getting auto-sync config:', {\n      error: error.message,\n      userId,\n    });\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/processSyncOperation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/processSyncOperation.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":67,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2211,2214],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2211,2214],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Process a single sync operation from the queue.\n */\nimport { logger } from '@/lib/logger';\nimport type { QueuedSyncOperation } from '../types';\nimport { MAX_RETRIES } from './syncQueueConstants';\n\n/**\n * Process a single sync operation\n */\nexport async function processSyncOperation(\n  operation: QueuedSyncOperation,\n  onRetry: (operation: QueuedSyncOperation) => void,\n  onMaxRetriesReached: (operation: QueuedSyncOperation, error: Error) => Promise<void>,\n): Promise<void> {\n  try {\n    // Import sync functions dynamically to avoid circular dependencies\n    const { syncCatalogToSquare } = await import('../catalog');\n    const { syncStaffToSquare } = await import('../staff');\n    const { syncCostsToSquare } = await import('../costs');\n\n    logger.dev('[Square Sync Queue] Processing operation:', {\n      id: operation.id,\n      entityType: operation.entity_type,\n      entityId: operation.entity_id,\n      operation: operation.operation,\n    });\n\n    let syncResult;\n\n    switch (operation.entity_type) {\n      case 'dish':\n        if (operation.operation === 'delete') {\n          logger.warn('[Square Sync Queue] Delete operation not yet implemented for dishes');\n          return;\n        }\n        syncResult = await syncCatalogToSquare(operation.user_id, [operation.entity_id]);\n        break;\n\n      case 'employee':\n        if (operation.operation === 'delete') {\n          logger.warn('[Square Sync Queue] Delete operation not yet implemented for employees');\n          return;\n        }\n        syncResult = await syncStaffToSquare(operation.user_id, [operation.entity_id]);\n        break;\n\n      case 'recipe':\n      case 'ingredient':\n        syncResult = await syncCostsToSquare(operation.user_id);\n        break;\n\n      default:\n        logger.warn('[Square Sync Queue] Unknown entity type:', operation.entity_type);\n        return;\n    }\n\n    if (!syncResult.success && syncResult.errors > 0) {\n      throw new Error(`Sync failed: ${syncResult.errorMessages?.join('; ')}`);\n    }\n\n    logger.dev('[Square Sync Queue] Operation completed successfully:', {\n      id: operation.id,\n      entityType: operation.entity_type,\n      entityId: operation.entity_id,\n    });\n  } catch (error: any) {\n    logger.error('[Square Sync Queue] Error processing operation:', {\n      id: operation.id,\n      error: error.message,\n      retryCount: operation.retry_count,\n    });\n\n    // Retry if under max retries\n    if (operation.retry_count < MAX_RETRIES) {\n      operation.retry_count++;\n      onRetry(operation);\n    } else {\n      await onMaxRetriesReached(operation, error);\n    }\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/queueEntitySync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/queueEntitySync.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":73,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2004,2007],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2004,2007],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Queue sync operation for an entity change.\n * This is called by API route hooks or real-time subscriptions\n */\nimport { logger } from '@/lib/logger';\nimport { queueSyncOperation } from '../auto-sync-queue';\nimport { shouldAutoSync, getAutoSyncConfig } from './autoSyncConfig';\n\nexport async function queueEntitySync(\n  userId: string,\n  entityType: 'dish' | 'employee' | 'recipe' | 'ingredient',\n  entityId: string,\n  operation: 'create' | 'update' | 'delete',\n): Promise<void> {\n  try {\n    // Check if auto-sync is enabled\n    const shouldSync = await shouldAutoSync(userId);\n    if (!shouldSync) {\n      logger.dev('[Square Auto-Sync] Auto-sync disabled, skipping:', {\n        userId,\n        entityType,\n        entityId,\n      });\n      return;\n    }\n\n    // Get auto-sync configuration\n    const config = await getAutoSyncConfig(userId);\n    if (!config) {\n      return;\n    }\n\n    // Check if this entity type should be synced\n    if (entityType === 'employee' && !config.syncStaff) {\n      return;\n    }\n    if (entityType === 'dish' && !config.syncDishes) {\n      return;\n    }\n    if ((entityType === 'recipe' || entityType === 'ingredient') && !config.syncCosts) {\n      return;\n    }\n\n    // Determine sync direction\n    const direction = config.direction === 'bidirectional' ? 'bidirectional' : 'prepflow_to_square';\n\n    // Determine priority\n    let priority: 'high' | 'normal' | 'low' = 'normal';\n    if (operation === 'create') {\n      priority = 'high'; // New entities should sync immediately\n    } else if (operation === 'delete') {\n      priority = 'high'; // Deletions are important\n    }\n\n    // Queue sync operation\n    await queueSyncOperation({\n      user_id: userId,\n      entity_type: entityType,\n      entity_id: entityId,\n      operation,\n      direction,\n      priority,\n    });\n\n    logger.dev('[Square Auto-Sync] Queued sync operation:', {\n      userId,\n      entityType,\n      entityId,\n      operation,\n      direction,\n      priority,\n    });\n  } catch (error: any) {\n    logger.error('[Square Auto-Sync] Error queueing sync:', {\n      error: error.message,\n      userId,\n      entityType,\n      entityId,\n      stack: error.stack,\n    });\n    // Don't throw - auto-sync failures shouldn't break main operations\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/syncQueueConstants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/syncQueueConstants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/syncQueueHandlers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/syncQueueHandlers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/syncQueueState.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/helpers/syncQueueState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/helpers/getUserIdFromRequest.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/helpers/getUserIdFromRequest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/helpers/shouldTriggerAutoSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/helpers/shouldTriggerAutoSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/triggerCostSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/triggerCostSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/triggerDishSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/triggerDishSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/triggerEmployeeSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/triggerEmployeeSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/triggerIngredientSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/triggerIngredientSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/triggerRecipeSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/hooks/triggerRecipeSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/logSyncCompletion.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/logSyncCompletion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/syncAllCostsToSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/syncAllCostsToSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[452,455],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[452,455],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync costs for all dishes to Square.\n */\nimport { logger } from '@/lib/logger';\nimport { syncCostsToSquare } from '../../costs';\n\n/**\n * Sync costs for all dishes to Square.\n */\nexport async function syncAllCostsToSquare(\n  userId: string,\n): Promise<{ synced: number; errors: number }> {\n  try {\n    const result = await syncCostsToSquare(userId);\n    return {\n      synced: result.synced,\n      errors: result.errors,\n    };\n  } catch (error: any) {\n    logger.error('[Square Initial Sync] Error syncing costs:', {\n      error: error.message,\n      userId,\n    });\n    return { synced: 0, errors: 1 };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/syncAllDishesToSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/syncAllDishesToSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[467,470],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[467,470],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync all dishes from PrepFlow to Square.\n */\nimport { logger } from '@/lib/logger';\nimport { syncCatalogToSquare } from '../../catalog';\n\n/**\n * Sync all dishes from PrepFlow to Square.\n */\nexport async function syncAllDishesToSquare(\n  userId: string,\n): Promise<{ synced: number; errors: number }> {\n  try {\n    const result = await syncCatalogToSquare(userId);\n    return {\n      synced: result.synced,\n      errors: result.errors,\n    };\n  } catch (error: any) {\n    logger.error('[Square Initial Sync] Error syncing dishes:', {\n      error: error.message,\n      userId,\n    });\n    return { synced: 0, errors: 1 };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/syncAllStaffToSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/syncAllStaffToSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[478,481],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[478,481],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync all staff/employees from PrepFlow to Square.\n */\nimport { logger } from '@/lib/logger';\nimport { syncStaffToSquare } from '../../staff';\n\n/**\n * Sync all staff/employees from PrepFlow to Square.\n */\nexport async function syncAllStaffToSquare(\n  userId: string,\n): Promise<{ synced: number; errors: number }> {\n  try {\n    const result = await syncStaffToSquare(userId);\n    return {\n      synced: result.synced,\n      errors: result.errors,\n    };\n  } catch (error: any) {\n    logger.error('[Square Initial Sync] Error syncing staff:', {\n      error: error.message,\n      userId,\n    });\n    return { synced: 0, errors: 1 };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/syncRecentOrders.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/syncRecentOrders.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[532,535],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[532,535],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync recent orders from Square to PrepFlow.\n */\nimport { logger } from '@/lib/logger';\nimport { syncRecentOrdersFromSquare } from '../../orders';\n\n/**\n * Sync recent orders from Square to PrepFlow.\n */\nexport async function syncRecentOrdersFromSquareForInitialSync(\n  userId: string,\n  days: number = 30,\n): Promise<{ synced: number; errors: number }> {\n  try {\n    const result = await syncRecentOrdersFromSquare(userId, days);\n    return {\n      synced: result.synced,\n      errors: result.errors,\n    };\n  } catch (error: any) {\n    logger.error('[Square Initial Sync] Error syncing orders:', {\n      error: error.message,\n      userId,\n    });\n    return { synced: 0, errors: 1 };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/updateSyncStatus.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/helpers/updateSyncStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/performInitialSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/performInitialSync.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":115,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3921,3924],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3921,3924],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Perform initial sync of all PrepFlow data to Square.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport type { SquareConfig } from '../../config';\nimport { syncAllStaffToSquare } from './helpers/syncAllStaffToSquare';\nimport { syncAllDishesToSquare } from './helpers/syncAllDishesToSquare';\nimport { syncRecentOrdersFromSquareForInitialSync } from './helpers/syncRecentOrders';\nimport { syncAllCostsToSquare } from './helpers/syncAllCostsToSquare';\nimport {\n  markInitialSyncStarted,\n  markInitialSyncCompleted,\n  markInitialSyncFailed,\n} from './helpers/updateSyncStatus';\nimport { logInitialSyncCompletion } from './helpers/logSyncCompletion';\nimport { logSyncOperation } from '../../sync-log';\nimport type { InitialSyncResult } from './types';\n\n/**\n * Perform initial sync of all PrepFlow data to Square\n * This is called automatically when Square is first connected\n */\nexport async function performInitialSync(\n  userId: string,\n  config: SquareConfig,\n): Promise<InitialSyncResult> {\n  const startedAt = new Date().toISOString();\n  const result: InitialSyncResult = {\n    success: false,\n    staffSynced: 0,\n    dishesSynced: 0,\n    ordersSynced: 0,\n    costsSynced: 0,\n    errors: 0,\n    errorMessages: [],\n    startedAt,\n  };\n\n  if (!supabaseAdmin) {\n    result.errorMessages?.push('Database connection not available');\n    return result;\n  }\n\n  try {\n    // Update config to mark initial sync as started\n    await markInitialSyncStarted(userId, startedAt);\n\n    logger.dev('[Square Initial Sync] Starting initial sync:', {\n      userId,\n      startedAt,\n    });\n\n    // Step 1: Sync all staff/employees (PrepFlow  Square)\n    logger.dev('[Square Initial Sync] Step 1: Syncing staff...');\n    const staffResult = await syncAllStaffToSquare(userId);\n    result.staffSynced = staffResult.synced;\n    result.errors += staffResult.errors;\n\n    if (staffResult.errors > 0) {\n      result.errorMessages?.push(`Staff sync: ${staffResult.errors} error(s)`);\n    }\n\n    // Step 2: Sync all dishes/menu items (PrepFlow  Square)\n    logger.dev('[Square Initial Sync] Step 2: Syncing dishes...');\n    const dishesResult = await syncAllDishesToSquare(userId);\n    result.dishesSynced = dishesResult.synced;\n    result.errors += dishesResult.errors;\n\n    if (dishesResult.errors > 0) {\n      result.errorMessages?.push(`Dishes sync: ${dishesResult.errors} error(s)`);\n    }\n\n    // Step 3: Sync recent sales data (Square  PrepFlow, last 30 days)\n    logger.dev('[Square Initial Sync] Step 3: Syncing recent orders...');\n    const ordersResult = await syncRecentOrdersFromSquareForInitialSync(userId, 30);\n    result.ordersSynced = ordersResult.synced;\n    result.errors += ordersResult.errors;\n\n    if (ordersResult.errors > 0) {\n      result.errorMessages?.push(`Orders sync: ${ordersResult.errors} error(s)`);\n    }\n\n    // Step 4: Sync costs for all dishes (PrepFlow  Square)\n    logger.dev('[Square Initial Sync] Step 4: Syncing costs...');\n    const costsResult = await syncAllCostsToSquare(userId);\n    result.costsSynced = costsResult.synced;\n    result.errors += costsResult.errors;\n\n    if (costsResult.errors > 0) {\n      result.errorMessages?.push(`Costs sync: ${costsResult.errors} error(s)`);\n    }\n\n    // Mark initial sync as completed\n    const completedAt = new Date().toISOString();\n    result.completedAt = completedAt;\n    result.success = result.errors === 0;\n\n    await markInitialSyncCompleted(result, userId);\n\n    // Log initial sync completion\n    await logInitialSyncCompletion(result, userId);\n\n    logger.dev('[Square Initial Sync] Initial sync completed:', {\n      userId,\n      success: result.success,\n      staffSynced: result.staffSynced,\n      dishesSynced: result.dishesSynced,\n      ordersSynced: result.ordersSynced,\n      costsSynced: result.costsSynced,\n      errors: result.errors,\n    });\n\n    return result;\n  } catch (error: any) {\n    const completedAt = new Date().toISOString();\n    result.completedAt = completedAt;\n    result.errors++;\n    result.errorMessages?.push(`Fatal error: ${error.message}`);\n\n    logger.error('[Square Initial Sync] Fatal error during initial sync:', {\n      error: error.message,\n      userId,\n      stack: error.stack,\n    });\n\n    // Mark initial sync as failed\n    await markInitialSyncFailed(userId, error.message, completedAt);\n\n    // Log fatal error\n    await logSyncOperation({\n      user_id: userId,\n      operation_type: 'initial_sync',\n      direction: 'bidirectional',\n      status: 'error',\n      error_message: error.message,\n      error_details: { stack: error.stack },\n    });\n\n    return result;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/shouldPerformInitialSync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/shouldPerformInitialSync.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":36,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1008,1011],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1008,1011],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Check if initial sync should be performed.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\n\n/**\n * Check if initial sync should be performed\n * Returns true if no mappings exist for the user (first connection)\n */\nexport async function shouldPerformInitialSync(userId: string): Promise<boolean> {\n  try {\n    if (!supabaseAdmin) {\n      return false;\n    }\n\n    // Check if any mappings exist for this user\n    const { data, error } = await supabaseAdmin\n      .from('square_mappings')\n      .select('id')\n      .eq('user_id', userId)\n      .limit(1)\n      .single();\n\n    if (error && error.code !== 'PGRST116') {\n      // PGRST116 means no rows found, which is what we want for initial sync\n      logger.error('[Square Initial Sync] Error checking for existing mappings:', {\n        error: error.message,\n        userId,\n      });\n      return false;\n    }\n\n    // If no mappings exist, initial sync should be performed\n    return !data;\n  } catch (error: any) {\n    logger.error('[Square Initial Sync] Unexpected error checking initial sync status:', {\n      error: error.message,\n      userId,\n    });\n    return false;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/initial-sync/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/calculatePopularityPercentages.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/calculatePopularityPercentages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/fetchOrders.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/fetchOrders.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[169,172],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[169,172],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[265,268],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[265,268],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Fetch orders from Square.\n */\nimport { logger } from '@/lib/logger';\n\n/**\n * Fetch orders from Square.\n */\nexport async function fetchOrdersFromSquare(\n  client: any,\n  locationId: string,\n  startDate: string,\n  endDate: string,\n  userId: string,\n): Promise<any[]> {\n  const ordersApi = client.orders;\n\n  // Convert dates to ISO format for Square API\n  const startDateISO = new Date(startDate).toISOString();\n  const endDateISO = new Date(endDate).toISOString();\n\n  logger.dev('[Square Orders Sync] Fetching orders:', {\n    userId,\n    locationId,\n    startDate: startDateISO,\n    endDate: endDateISO,\n  });\n\n  // Search orders using SearchOrders endpoint\n  const searchResponse = await ordersApi.searchOrders({\n    locationIds: [locationId],\n    query: {\n      filter: {\n        dateTimeFilter: {\n          createdAtDate: {\n            startAt: startDateISO,\n            endAt: endDateISO,\n          },\n        },\n        stateFilter: {\n          states: ['COMPLETED'], // Only sync completed orders\n        },\n      },\n    },\n    limit: 1000, // Square API limit\n  });\n\n  if (!searchResponse.result?.orders) {\n    logger.warn('[Square Orders Sync] No orders found in Square');\n    return [];\n  }\n\n  const orders = searchResponse.result.orders;\n  logger.dev('[Square Orders Sync] Found Square orders:', {\n    count: orders.length,\n    userId,\n    locationId,\n  });\n\n  return orders;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/processOrders.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/processOrders.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[358,361],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[358,361],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":73,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2110,2113],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2110,2113],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Process orders and aggregate sales data.\n */\nimport { logger } from '@/lib/logger';\nimport { getMappingBySquareId } from '../../../mappings';\nimport { logSyncOperation } from '../../../sync-log';\nimport type { SalesData, SyncResult } from '../types';\n\n/**\n * Process orders and aggregate sales data.\n */\nexport async function processOrders(\n  orders: any[],\n  userId: string,\n  locationId: string,\n  result: SyncResult,\n): Promise<Map<string, SalesData>> {\n  const salesDataMap = new Map<string, SalesData>();\n\n  // Process each order\n  for (const order of orders) {\n    try {\n      if (!order.lineItems || order.lineItems.length === 0) {\n        continue;\n      }\n\n      // Extract order date\n      const orderDate = order.createdAt\n        ? new Date(order.createdAt).toISOString().split('T')[0]\n        : new Date().toISOString().split('T')[0];\n\n      // Process each line item\n      for (const lineItem of order.lineItems) {\n        if (!lineItem.catalogObjectId || !lineItem.quantity) {\n          continue;\n        }\n\n        const squareItemId = lineItem.catalogObjectId;\n        const quantity = parseInt(lineItem.quantity) || 0;\n\n        if (quantity === 0) {\n          continue;\n        }\n\n        // Find PrepFlow dish mapping\n        const mapping = await getMappingBySquareId(squareItemId, 'dish', userId, locationId);\n\n        if (!mapping) {\n          logger.warn('[Square Orders Sync] No mapping found for Square item:', {\n            squareItemId,\n            orderId: order.id,\n          });\n          // Skip items without mappings\n          continue;\n        }\n\n        const dishId = mapping.prepflow_id;\n        const key = `${dishId}-${orderDate}`;\n\n        // Aggregate sales data\n        if (salesDataMap.has(key)) {\n          const existing = salesDataMap.get(key)!;\n          existing.number_sold += quantity;\n        } else {\n          salesDataMap.set(key, {\n            dish_id: dishId,\n            number_sold: quantity,\n            popularity_percentage: 0, // Will be calculated later\n            date: orderDate,\n          });\n        }\n      }\n    } catch (orderError: any) {\n      logger.error('[Square Orders Sync] Error processing order:', {\n        error: orderError.message,\n        orderId: order.id,\n      });\n      result.errors++;\n      result.errorMessages?.push(`Failed to process order ${order.id}: ${orderError.message}`);\n\n      await logSyncOperation({\n        user_id: userId,\n        operation_type: 'sync_orders',\n        direction: 'square_to_prepflow',\n        entity_type: 'order',\n        square_id: order.id,\n        status: 'error',\n        error_message: orderError.message,\n        error_details: { stack: orderError.stack },\n      });\n    }\n  }\n\n  return salesDataMap;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/updateSyncTimestamp.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/updateSyncTimestamp.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[367,370],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[367,370],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Update sync timestamp and log operation.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport { logSyncOperation } from '../../../sync-log';\nimport type { SyncResult } from '../types';\n\n/**\n * Update sync timestamp and log operation.\n */\nexport async function updateSyncTimestampAndLog(\n  userId: string,\n  orders: any[],\n  result: SyncResult,\n  startDate: string,\n  endDate: string,\n): Promise<void> {\n  if (!supabaseAdmin) {\n    return;\n  }\n\n  // Update last sync timestamp\n  const { error: updateTimestampError } = await supabaseAdmin\n    .from('square_configurations')\n    .update({\n      last_sales_sync_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    })\n    .eq('user_id', userId);\n\n  if (updateTimestampError) {\n    logger.warn('[Square Orders Sync] Failed to update last sync timestamp:', {\n      error: updateTimestampError.message,\n      userId,\n    });\n  }\n\n  // Log successful sync operation\n  await logSyncOperation({\n    user_id: userId,\n    operation_type: 'sync_orders',\n    direction: 'square_to_prepflow',\n    status: 'success',\n    sync_metadata: {\n      ordersProcessed: orders.length,\n      salesRecordsCreated: result.created,\n      salesRecordsUpdated: result.updated,\n      dateRange: { startDate, endDate },\n    },\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/upsertSalesData.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/upsertSalesData.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":61,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1658,1661],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1658,1661],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Upsert sales data to database.\n */\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logger } from '@/lib/logger';\nimport type { SalesData, SyncResult } from '../types';\n\n/**\n * Upsert sales data to database.\n */\nexport async function upsertSalesData(\n  salesDataArray: SalesData[],\n  result: SyncResult,\n): Promise<void> {\n  if (!supabaseAdmin) {\n    return;\n  }\n\n  for (const salesData of salesDataArray) {\n    try {\n      const { data, error } = await supabaseAdmin\n        .from('sales_data')\n        .upsert(\n          {\n            dish_id: salesData.dish_id,\n            number_sold: salesData.number_sold,\n            popularity_percentage: salesData.popularity_percentage,\n            date: salesData.date,\n            updated_at: new Date().toISOString(),\n          },\n          {\n            onConflict: 'dish_id,date',\n          },\n        )\n        .select();\n\n      if (error) {\n        logger.error('[Square Orders Sync] Error upserting sales data:', {\n          error: error.message,\n          dishId: salesData.dish_id,\n          date: salesData.date,\n        });\n        result.errors++;\n        result.errorMessages?.push(\n          `Failed to upsert sales data for dish ${salesData.dish_id}: ${error.message}`,\n        );\n        continue;\n      }\n\n      // Check if record was created or updated\n      if (data && data.length > 0) {\n        // Check if created_at equals updated_at (new record)\n        const isNew = data[0].created_at === data[0].updated_at;\n        if (isNew) {\n          result.created++;\n        } else {\n          result.updated++;\n        }\n        result.synced++;\n      }\n    } catch (upsertError: any) {\n      logger.error('[Square Orders Sync] Error upserting sales data:', {\n        error: upsertError.message,\n        dishId: salesData.dish_id,\n      });\n      result.errors++;\n      result.errorMessages?.push(\n        `Failed to upsert sales data for dish ${salesData.dish_id}: ${upsertError.message}`,\n      );\n    }\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/validateAndSetup.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/helpers/validateAndSetup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/syncOrdersFromSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/syncOrdersFromSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":75,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2206,2209],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2206,2209],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync orders from Square to PrepFlow.\n */\nimport { logger } from '@/lib/logger';\nimport { logSyncOperation } from '../../sync-log';\nimport { validateAndSetup } from './helpers/validateAndSetup';\nimport { fetchOrdersFromSquare } from './helpers/fetchOrders';\nimport { processOrders } from './helpers/processOrders';\nimport { calculatePopularityPercentages } from './helpers/calculatePopularityPercentages';\nimport { upsertSalesData } from './helpers/upsertSalesData';\nimport { updateSyncTimestampAndLog } from './helpers/updateSyncTimestamp';\nimport type { SyncResult, SalesData } from './types';\n\n/**\n * Sync orders from Square to PrepFlow\n * Creates or updates sales_data records based on Square orders\n */\nexport async function syncOrdersFromSquare(\n  userId: string,\n  startDate: string,\n  endDate: string,\n  locationId?: string,\n): Promise<SyncResult> {\n  const result: SyncResult = {\n    success: false,\n    synced: 0,\n    created: 0,\n    updated: 0,\n    errors: 0,\n    errorMessages: [],\n  };\n\n  try {\n    // Validate and setup\n    const setup = await validateAndSetup(userId, locationId, result);\n    if (!setup) {\n      return result;\n    }\n\n    // Fetch orders from Square\n    const orders = await fetchOrdersFromSquare(\n      setup.client,\n      setup.locationId,\n      startDate,\n      endDate,\n      userId,\n    );\n    if (orders.length === 0) {\n      result.success = true;\n      return result;\n    }\n\n    // Process orders and aggregate sales data\n    const salesDataMap = await processOrders(orders, userId, setup.locationId, result);\n\n    // Calculate popularity percentages\n    const salesDataArray = Array.from(salesDataMap.values());\n    calculatePopularityPercentages(salesDataArray);\n\n    // Upsert sales data to database\n    await upsertSalesData(salesDataArray, result);\n\n    // Update sync timestamp and log operation\n    await updateSyncTimestampAndLog(userId, orders, result, startDate, endDate);\n\n    result.success = result.errors === 0;\n    result.metadata = {\n      ordersProcessed: orders.length,\n      salesRecordsCreated: result.created,\n      salesRecordsUpdated: result.updated,\n      dateRange: { startDate, endDate },\n    };\n\n    return result;\n  } catch (error: any) {\n    logger.error('[Square Orders Sync] Fatal error:', {\n      error: error.message,\n      userId,\n      stack: error.stack,\n    });\n\n    result.errorMessages?.push(`Fatal error: ${error.message}`);\n\n    await logSyncOperation({\n      user_id: userId,\n      operation_type: 'sync_orders',\n      direction: 'square_to_prepflow',\n      status: 'error',\n      error_message: error.message,\n      error_details: { stack: error.stack },\n    });\n\n    return result;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/syncRecentOrders.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/syncRecentOrders.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/orders/types.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[211,214],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[211,214],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Orders sync types.\n */\n\nexport interface SyncResult {\n  success: boolean;\n  synced: number;\n  created: number;\n  updated: number;\n  errors: number;\n  errorMessages?: string[];\n  metadata?: Record<string, any>;\n}\n\nexport interface SalesData {\n  dish_id: string;\n  number_sold: number;\n  popularity_percentage: number;\n  date: string;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[484,487],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[484,487],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Staff/Employees Sync Service\n * Handles bidirectional synchronization between Square Team Members and PrepFlow Employees\n *\n *  Complete Reference: See `docs/SQUARE_API_REFERENCE.md` (Sync Operations section) for\n * detailed sync operation documentation and usage examples.\n */\n\n// Export types\nexport interface SyncResult {\n  success: boolean;\n  synced: number;\n  created: number;\n  updated: number;\n  errors: number;\n  errorMessages?: string[];\n  metadata?: Record<string, any>;\n}\n\nexport interface Employee {\n  id: string;\n  employee_id?: string | null;\n  full_name: string;\n  role?: string | null;\n  employment_start_date: string;\n  employment_end_date?: string | null;\n  status: 'active' | 'inactive' | 'terminated';\n  phone?: string | null;\n  email?: string | null;\n  emergency_contact?: string | null;\n  photo_url?: string | null;\n  notes?: string | null;\n  created_at?: string;\n  updated_at?: string;\n}\n\n// Re-export sync functions\nexport { syncStaffFromSquare } from './staff/syncFromSquare';\nexport { syncStaffToSquare } from './staff/syncToSquare';\nexport { syncStaffBidirectional } from './staff/syncBidirectional';\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/common.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/common.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1129,1132],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1129,1132],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Common helpers for staff sync operations.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logSyncOperation } from '../../../sync-log';\n\n/**\n * Update last staff sync timestamp\n */\nexport async function updateLastStaffSyncTimestamp(userId: string): Promise<void> {\n  if (!supabaseAdmin) {\n    logger.warn('[Square Staff Sync] Supabase not available, cannot update sync timestamp');\n    return;\n  }\n\n  const { error } = await supabaseAdmin\n    .from('square_configurations')\n    .update({\n      last_staff_sync_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    })\n    .eq('user_id', userId);\n\n  if (error) {\n    logger.warn('[Square Staff Sync] Failed to update last sync timestamp:', {\n      error: error.message,\n      userId,\n    });\n  }\n}\n\n/**\n * Log sync operation for staff\n */\nexport async function logStaffSyncOperation(params: {\n  userId: string;\n  direction: 'square_to_prepflow' | 'prepflow_to_square';\n  entityId?: string;\n  squareId?: string;\n  status: 'success' | 'error';\n  errorMessage?: string;\n  errorDetails?: Record<string, any>;\n}): Promise<void> {\n  await logSyncOperation({\n    user_id: params.userId,\n    operation_type: 'sync_staff',\n    direction: params.direction,\n    entity_type: 'employee',\n    entity_id: params.entityId,\n    square_id: params.squareId,\n    status: params.status,\n    error_message: params.errorMessage,\n    error_details: params.errorDetails,\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/createNewEmployee.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/createNewEmployee.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[353,356],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[353,356],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Create new employee from Square team member.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { createAutoMapping } from '../../../mappings';\nimport { logStaffSyncOperation } from './common';\nimport type { SyncResult } from '../../staff';\n\nexport async function createNewEmployee(\n  employeeData: any,\n  squareTeamMemberId: string,\n  userId: string,\n  result: SyncResult,\n): Promise<void> {\n  if (!supabaseAdmin) {\n    return;\n  }\n\n  const { data: newEmployee, error: createError } = await supabaseAdmin\n    .from('employees')\n    .insert({\n      full_name: employeeData.full_name,\n      role: employeeData.role,\n      employment_start_date: employeeData.employment_start_date,\n      employment_end_date: employeeData.employment_end_date,\n      status: employeeData.status,\n      phone: employeeData.phone,\n      email: employeeData.email,\n      emergency_contact: employeeData.emergency_contact,\n      photo_url: employeeData.photo_url,\n      notes: employeeData.notes,\n    })\n    .select()\n    .single();\n\n  if (createError || !newEmployee) {\n    logger.error('[Square Staff Sync] Error creating employee:', {\n      error: createError?.message,\n      squareTeamMemberId,\n    });\n    result.errors++;\n    result.errorMessages?.push(\n      `Failed to create employee: ${createError?.message || 'Unknown error'}`,\n    );\n    return;\n  }\n\n  const newMapping = await createAutoMapping(\n    newEmployee.id,\n    squareTeamMemberId,\n    'employee',\n    userId,\n  );\n\n  if (!newMapping) {\n    logger.error('[Square Staff Sync] Error creating mapping:', {\n      employeeId: newEmployee.id,\n      squareTeamMemberId,\n    });\n    result.errors++;\n    result.errorMessages?.push(`Failed to create mapping for employee ${newEmployee.id}`);\n    return;\n  }\n\n  result.created++;\n  result.synced++;\n\n  await logStaffSyncOperation({\n    userId,\n    direction: 'square_to_prepflow',\n    entityId: newEmployee.id,\n    squareId: squareTeamMemberId,\n    status: 'success',\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/mapping.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/mapping.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/processFromSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/processFromSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[616,619],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[616,619],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":40,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1286,1289],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1286,1289],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Process Square team members for sync to PrepFlow.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { getMappingBySquareId } from '../../../mappings';\nimport { mapSquareTeamMemberToEmployee } from './mapping';\nimport { logStaffSyncOperation } from './common';\nimport { updateExistingEmployee } from './updateExistingEmployee';\nimport { createNewEmployee } from './createNewEmployee';\nimport type { SyncResult } from '../../staff';\n\n/**\n * Process a single Square team member for sync to PrepFlow\n */\nexport async function processSquareTeamMember(\n  teamMember: any,\n  userId: string,\n  result: SyncResult,\n): Promise<void> {\n  if (!supabaseAdmin) {\n    result.errorMessages?.push('Database connection not available');\n    return;\n  }\n\n  try {\n    if (!teamMember.id) {\n      return;\n    }\n\n    const squareTeamMemberId = teamMember.id;\n    const mapping = await getMappingBySquareId(squareTeamMemberId, 'employee', userId);\n    const employeeData = mapSquareTeamMemberToEmployee(teamMember);\n\n    if (mapping) {\n      await updateExistingEmployee(mapping, employeeData, squareTeamMemberId, userId, result);\n    } else {\n      await createNewEmployee(employeeData, squareTeamMemberId, userId, result);\n    }\n  } catch (memberError: any) {\n    logger.error('[Square Staff Sync] Error processing Square team member:', {\n      error: memberError.message,\n      squareTeamMemberId: teamMember.id,\n    });\n    result.errors++;\n    result.errorMessages?.push(\n      `Failed to process Square team member ${teamMember.id}: ${memberError.message}`,\n    );\n\n    await logStaffSyncOperation({\n      userId,\n      direction: 'square_to_prepflow',\n      squareId: teamMember.id,\n      status: 'error',\n      errorMessage: memberError.message,\n      errorDetails: { stack: memberError.stack },\n    });\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/processToSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/processToSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[554,557],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[554,557],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1061,1064],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1061,1064],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":79,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2535,2538],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2535,2538],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":126,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3965,3968],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3965,3968],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Process PrepFlow employees for sync to Square.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { getMappingByPrepFlowId, createAutoMapping } from '../../../mappings';\nimport { mapEmployeeToSquareTeamMember } from './mapping';\nimport { logStaffSyncOperation } from './common';\nimport type { Employee, SyncResult } from '../../staff';\n\n/**\n * Process a single PrepFlow employee for sync to Square\n */\nexport async function processPrepFlowEmployee(\n  employee: Employee,\n  userId: string,\n  teamApi: any,\n  result: SyncResult,\n): Promise<void> {\n  if (!supabaseAdmin) {\n    result.errorMessages?.push('Database connection not available');\n    return;\n  }\n\n  try {\n    // Check if mapping exists\n    let mapping = await getMappingByPrepFlowId(employee.id, 'employee', userId);\n\n    // Map PrepFlow employee to Square team member\n    const teamMemberData = mapEmployeeToSquareTeamMember(employee);\n\n    if (mapping) {\n      // Update existing Square team member\n      const updateResponse = await (teamApi as any).updateTeamMember(mapping.square_id, {\n        teamMember: teamMemberData,\n      });\n\n      if (updateResponse.result?.teamMember) {\n        // Update mapping sync timestamp\n        const { error: updateMappingError } = await supabaseAdmin\n          .from('square_mappings')\n          .update({\n            last_synced_at: new Date().toISOString(),\n            last_synced_to_square: new Date().toISOString(),\n            updated_at: new Date().toISOString(),\n          })\n          .eq('id', mapping.id);\n\n        if (updateMappingError) {\n          logger.warn('[Square Staff Sync] Failed to update mapping sync timestamp:', {\n            error: updateMappingError.message,\n            mappingId: mapping.id,\n          });\n        }\n\n        result.updated++;\n        result.synced++;\n\n        // Log sync operation\n        await logStaffSyncOperation({\n          userId,\n          direction: 'prepflow_to_square',\n          entityId: employee.id,\n          squareId: mapping.square_id,\n          status: 'success',\n        });\n      } else {\n        logger.error('[Square Staff Sync] Failed to update Square team member:', {\n          employeeId: employee.id,\n          squareId: mapping.square_id,\n        });\n        result.errors++;\n        result.errorMessages?.push(\n          `Failed to update Square team member for employee ${employee.id}`,\n        );\n      }\n    } else {\n      // Create new Square team member\n      const createResponse = await (teamApi as any).createTeamMember({\n        idempotencyKey: `${employee.id}-${Date.now()}`,\n        teamMember: teamMemberData,\n      });\n\n      if (createResponse.result?.teamMember && createResponse.result.teamMember.id) {\n        const squareTeamMemberId = createResponse.result.teamMember.id;\n\n        // Create mapping\n        const newMapping = await createAutoMapping(\n          employee.id,\n          squareTeamMemberId,\n          'employee',\n          userId,\n        );\n\n        if (!newMapping) {\n          logger.error('[Square Staff Sync] Error creating mapping:', {\n            employeeId: employee.id,\n            squareTeamMemberId,\n          });\n          result.errors++;\n          result.errorMessages?.push(`Failed to create mapping for employee ${employee.id}`);\n          return;\n        }\n\n        result.created++;\n        result.synced++;\n\n        // Log sync operation\n        await logStaffSyncOperation({\n          userId,\n          direction: 'prepflow_to_square',\n          entityId: employee.id,\n          squareId: squareTeamMemberId,\n          status: 'success',\n        });\n      } else {\n        logger.error('[Square Staff Sync] Failed to create Square team member:', {\n          employeeId: employee.id,\n        });\n        result.errors++;\n        result.errorMessages?.push(\n          `Failed to create Square team member for employee ${employee.id}`,\n        );\n      }\n    }\n  } catch (employeeError: any) {\n    logger.error('[Square Staff Sync] Error processing employee:', {\n      error: employeeError.message,\n      employeeId: employee.id,\n    });\n    result.errors++;\n    result.errorMessages?.push(\n      `Failed to process employee ${employee.id}: ${employeeError.message}`,\n    );\n\n    await logStaffSyncOperation({\n      userId,\n      direction: 'prepflow_to_square',\n      entityId: employee.id,\n      status: 'error',\n      errorMessage: employeeError.message,\n      errorDetails: { stack: employeeError.stack },\n    });\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/updateExistingEmployee.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/helpers/updateExistingEmployee.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[303,306],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[303,306],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[324,327],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[324,327],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Update existing employee from Square team member.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { logStaffSyncOperation } from './common';\nimport type { SyncResult } from '../../staff';\n\nexport async function updateExistingEmployee(\n  mapping: any,\n  employeeData: any,\n  squareTeamMemberId: string,\n  userId: string,\n  result: SyncResult,\n): Promise<void> {\n  if (!supabaseAdmin) {\n    return;\n  }\n\n  const { error: updateError } = await supabaseAdmin\n    .from('employees')\n    .update({\n      full_name: employeeData.full_name,\n      role: employeeData.role,\n      employment_start_date: employeeData.employment_start_date,\n      employment_end_date: employeeData.employment_end_date,\n      status: employeeData.status,\n      phone: employeeData.phone,\n      email: employeeData.email,\n      emergency_contact: employeeData.emergency_contact,\n      photo_url: employeeData.photo_url,\n      notes: employeeData.notes,\n      updated_at: new Date().toISOString(),\n    })\n    .eq('id', mapping.prepflow_id);\n\n  if (updateError) {\n    logger.error('[Square Staff Sync] Error updating employee:', {\n      error: updateError.message,\n      employeeId: mapping.prepflow_id,\n      squareTeamMemberId,\n    });\n    result.errors++;\n    result.errorMessages?.push(\n      `Failed to update employee ${mapping.prepflow_id}: ${updateError.message}`,\n    );\n    return;\n  }\n\n  const { error: updateMappingError } = await supabaseAdmin\n    .from('square_mappings')\n    .update({\n      last_synced_at: new Date().toISOString(),\n      last_synced_from_square: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    })\n    .eq('id', mapping.id);\n\n  if (updateMappingError) {\n    logger.warn('[Square Staff Sync] Failed to update mapping sync timestamp:', {\n      error: updateMappingError.message,\n      mappingId: mapping.id,\n    });\n  }\n\n  result.updated++;\n  result.synced++;\n\n  await logStaffSyncOperation({\n    userId,\n    direction: 'square_to_prepflow',\n    entityId: mapping.prepflow_id,\n    squareId: squareTeamMemberId,\n    status: 'success',\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/syncBidirectional.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/syncBidirectional.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1811,1814],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1811,1814],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Bidirectional staff sync.\n */\nimport { logger } from '@/lib/logger';\nimport { getSquareConfig } from '../../config';\nimport { syncStaffFromSquare } from './syncFromSquare';\nimport { syncStaffToSquare } from './syncToSquare';\nimport type { SyncResult } from '../staff';\n\n/**\n * Bidirectional staff sync\n * Syncs both directions based on sync direction configuration\n */\nexport async function syncStaffBidirectional(userId: string): Promise<SyncResult> {\n  try {\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      logger.error('[Square Staff Sync] Square configuration not found for bidirectional sync:', {\n        userId,\n      });\n      return {\n        success: false,\n        synced: 0,\n        created: 0,\n        updated: 0,\n        errors: 1,\n        errorMessages: ['Square configuration not found'],\n      };\n    }\n\n    const syncDirection = config.auto_sync_direction || 'prepflow_to_square';\n\n    if (syncDirection === 'bidirectional') {\n      // Sync both directions\n      const fromSquareResult = await syncStaffFromSquare(userId);\n      const toSquareResult = await syncStaffToSquare(userId);\n\n      return {\n        success: fromSquareResult.success && toSquareResult.success,\n        synced: fromSquareResult.synced + toSquareResult.synced,\n        created: fromSquareResult.created + toSquareResult.created,\n        updated: fromSquareResult.updated + toSquareResult.updated,\n        errors: fromSquareResult.errors + toSquareResult.errors,\n        errorMessages: [\n          ...(fromSquareResult.errorMessages || []),\n          ...(toSquareResult.errorMessages || []),\n        ],\n      };\n    } else {\n      // Default: prepflow_to_square (only direction supported in auto_sync_direction enum)\n      return await syncStaffToSquare(userId);\n    }\n  } catch (error: any) {\n    logger.error('[Square Staff Sync] Bidirectional sync error:', {\n      error: error.message,\n      userId,\n    });\n\n    return {\n      success: false,\n      synced: 0,\n      created: 0,\n      updated: 0,\n      errors: 1,\n      errorMessages: [error.message],\n    };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/syncFromSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/syncFromSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1303,1306],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1303,1306],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":75,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2117,2120],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2117,2120],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync team members from Square to PrepFlow.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { getSquareClient } from '../../client';\nimport { getSquareConfig } from '../../config';\nimport { logSyncOperation } from '../../sync-log';\nimport { processSquareTeamMember } from './helpers/processFromSquare';\nimport { updateLastStaffSyncTimestamp } from './helpers/common';\nimport type { SyncResult } from '../staff';\n\n/**\n * Sync team members from Square to PrepFlow\n * Creates or updates employees based on Square team members\n */\nexport async function syncStaffFromSquare(userId: string): Promise<SyncResult> {\n  const result: SyncResult = {\n    success: false,\n    synced: 0,\n    created: 0,\n    updated: 0,\n    errors: 0,\n    errorMessages: [],\n  };\n\n  if (!supabaseAdmin) {\n    result.errorMessages?.push('Database connection not available');\n    return result;\n  }\n\n  try {\n    const client = await getSquareClient(userId);\n    if (!client) {\n      throw new Error('Square client not available');\n    }\n\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      throw new Error('Square configuration not found');\n    }\n\n    // Fetch Square team members\n    const teamApi = client.team;\n    const listResponse = await (teamApi as any).searchTeamMembers({\n      query: {\n        filter: {\n          status: 'ACTIVE', // Only sync active team members\n        },\n      },\n    });\n\n    if (!listResponse.result?.teamMembers) {\n      logger.warn('[Square Staff Sync] No team members found in Square');\n      result.success = true;\n      return result;\n    }\n\n    const teamMembers = listResponse.result.teamMembers;\n    logger.dev('[Square Staff Sync] Found Square team members:', {\n      count: teamMembers.length,\n      userId,\n    });\n\n    // Process each team member\n    for (const teamMember of teamMembers) {\n      await processSquareTeamMember(teamMember, userId, result);\n    }\n\n    // Update last sync timestamp\n    await updateLastStaffSyncTimestamp(userId);\n\n    result.success = result.errors === 0;\n    return result;\n  } catch (error: any) {\n    logger.error('[Square Staff Sync] Fatal error:', {\n      error: error.message,\n      userId,\n      stack: error.stack,\n    });\n\n    result.errorMessages?.push(`Fatal error: ${error.message}`);\n\n    await logSyncOperation({\n      user_id: userId,\n      operation_type: 'sync_staff',\n      direction: 'square_to_prepflow',\n      status: 'error',\n      error_message: error.message,\n      error_details: { stack: error.stack },\n    });\n\n    return result;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/syncToSquare.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/staff/syncToSquare.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":91,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2535,2538],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2535,2538],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sync employees from PrepFlow to Square.\n */\nimport { logger } from '@/lib/logger';\nimport { supabaseAdmin } from '@/lib/supabase';\nimport { getSquareClient } from '../../client';\nimport { getSquareConfig } from '../../config';\nimport { logSyncOperation } from '../../sync-log';\nimport { processPrepFlowEmployee } from './helpers/processToSquare';\nimport { updateLastStaffSyncTimestamp } from './helpers/common';\nimport type { SyncResult } from '../staff';\n\n/**\n * Sync employees from PrepFlow to Square\n * Creates or updates Square team members based on PrepFlow employees\n */\nexport async function syncStaffToSquare(\n  userId: string,\n  employeeIds?: string[],\n): Promise<SyncResult> {\n  const result: SyncResult = {\n    success: false,\n    synced: 0,\n    created: 0,\n    updated: 0,\n    errors: 0,\n    errorMessages: [],\n  };\n\n  if (!supabaseAdmin) {\n    result.errorMessages?.push('Database connection not available');\n    return result;\n  }\n\n  try {\n    const client = await getSquareClient(userId);\n    if (!client) {\n      throw new Error('Square client not available');\n    }\n\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      throw new Error('Square configuration not found');\n    }\n\n    // Fetch PrepFlow employees\n    let query = supabaseAdmin.from('employees').select('*');\n\n    if (employeeIds && employeeIds.length > 0) {\n      query = query.in('id', employeeIds);\n    } else {\n      // Only sync active employees by default\n      query = query.eq('status', 'active');\n    }\n\n    const { data: employees, error: employeesError } = await query;\n\n    if (employeesError) {\n      logger.error('[Square Staff Sync] Failed to fetch employees:', {\n        error: employeesError.message,\n        userId,\n      });\n      result.errorMessages?.push(`Failed to fetch employees: ${employeesError.message}`);\n      result.errors++;\n      return result;\n    }\n\n    if (!employees || employees.length === 0) {\n      logger.warn('[Square Staff Sync] No employees found in PrepFlow');\n      result.success = true;\n      return result;\n    }\n\n    logger.dev('[Square Staff Sync] Found PrepFlow employees:', {\n      count: employees.length,\n      userId,\n    });\n\n    const teamApi = client.team;\n\n    // Process each employee\n    for (const employee of employees) {\n      await processPrepFlowEmployee(employee, userId, teamApi, result);\n    }\n\n    // Update last sync timestamp\n    await updateLastStaffSyncTimestamp(userId);\n\n    result.success = result.errors === 0;\n    return result;\n  } catch (error: any) {\n    logger.error('[Square Staff Sync] Fatal error:', {\n      error: error.message,\n      userId,\n      stack: error.stack,\n    });\n\n    result.errorMessages?.push(`Fatal error: ${error.message}`);\n\n    await logSyncOperation({\n      user_id: userId,\n      operation_type: 'sync_staff',\n      direction: 'prepflow_to_square',\n      status: 'error',\n      error_message: error.message,\n      error_details: { stack: error.stack },\n    });\n\n    return result;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/sync/types.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[444,447],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[444,447],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Type definitions for Square sync operations.\n */\nexport interface QueuedSyncOperation {\n  id: string;\n  user_id: string;\n  entity_type: 'dish' | 'employee' | 'recipe' | 'ingredient';\n  entity_id: string;\n  operation: 'create' | 'update' | 'delete';\n  direction: 'prepflow_to_square' | 'square_to_prepflow' | 'bidirectional';\n  priority: 'high' | 'normal' | 'low';\n  retry_count: number;\n  created_at: string;\n  metadata?: Record<string, any>;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/token-encryption.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/token-encryption.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":67,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2185,2188],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2185,2188],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":90,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3006,3009],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3006,3009],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Token encryption utilities for Square access tokens.\n * Uses AES-256-GCM encryption with a server-side key.\n *\n *  Complete Reference: See `docs/SQUARE_API_REFERENCE.md` (Environment Variables, Security Best Practices sections) for\n * comprehensive token encryption setup and security guidelines.\n */\n\nimport { logger } from '@/lib/logger';\n\nconst ENCRYPTION_KEY_ENV = 'SQUARE_TOKEN_ENCRYPTION_KEY';\nconst IV_LENGTH = 12; // GCM recommended IV length\n\n/**\n * Get encryption key from environment variable.\n *\n * @returns {Promise<CryptoKey>} Encryption key\n * @throws {Error} If key is not configured\n */\nasync function getEncryptionKey(): Promise<CryptoKey> {\n  const keyHex = process.env[ENCRYPTION_KEY_ENV];\n\n  if (!keyHex) {\n    throw new Error(`${ENCRYPTION_KEY_ENV} environment variable is not set`);\n  }\n\n  // Validate key length (should be 64 hex characters = 32 bytes)\n  if (keyHex.length !== 64) {\n    throw new Error(`${ENCRYPTION_KEY_ENV} must be 64 hex characters (32 bytes)`);\n  }\n\n  // Convert hex string to bytes\n  const keyBytes = new Uint8Array(32);\n  for (let i = 0; i < 32; i++) {\n    keyBytes[i] = parseInt(keyHex.substr(i * 2, 2), 16);\n  }\n\n  return crypto.subtle.importKey('raw', keyBytes, { name: 'AES-GCM', length: 256 }, false, [\n    'encrypt',\n    'decrypt',\n  ]);\n}\n\n/**\n * Encrypts a Square access token for storage.\n *\n * @param {string} token - Access token to encrypt\n * @returns {Promise<string>} Encrypted token (base64 encoded)\n */\nexport async function encryptSquareToken(token: string): Promise<string> {\n  try {\n    const key = await getEncryptionKey();\n    const iv = crypto.getRandomValues(new Uint8Array(IV_LENGTH));\n    const encoder = new TextEncoder();\n    const data = encoder.encode(token);\n\n    const encrypted = await crypto.subtle.encrypt({ name: 'AES-GCM', iv }, key, data);\n    const encryptedArray = new Uint8Array(encrypted);\n\n    // Combine IV + encrypted data + auth tag\n    const combined = new Uint8Array(IV_LENGTH + encryptedArray.length);\n    combined.set(iv, 0);\n    combined.set(encryptedArray, IV_LENGTH);\n\n    // Convert to base64 for storage\n    return Buffer.from(combined).toString('base64');\n  } catch (error: any) {\n    logger.error('[Square Token Encryption] Failed to encrypt token:', error);\n    throw new Error('Failed to encrypt Square access token');\n  }\n}\n\n/**\n * Decrypts a Square access token from storage.\n *\n * @param {string} encryptedToken - Encrypted token (base64 encoded)\n * @returns {Promise<string>} Decrypted access token\n */\nexport async function decryptSquareToken(encryptedToken: string): Promise<string> {\n  try {\n    const key = await getEncryptionKey();\n    const combined = Buffer.from(encryptedToken, 'base64');\n    const iv = combined.slice(0, IV_LENGTH);\n    const encryptedData = combined.slice(IV_LENGTH);\n\n    const decrypted = await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, encryptedData);\n    const decoder = new TextDecoder();\n\n    return decoder.decode(decrypted);\n  } catch (error: any) {\n    logger.error('[Square Token Decryption] Failed to decrypt token:', error);\n    throw new Error(\n      'Failed to decrypt Square access token. Token may be corrupted or encryption key may have changed.',\n    );\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/token-refresh.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/square/token-refresh.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2194,2197],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2194,2197],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":89,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":89,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3391,3394],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3391,3394],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Square token refresh utilities.\n * Handles automatic token refresh using stored refresh tokens.\n *\n *  Complete Reference: See `docs/SQUARE_API_REFERENCE.md` for comprehensive Square API\n * configuration, setup, testing, and troubleshooting guide.\n */\n\nimport { logger } from '@/lib/logger';\nimport { getSquareConfig, updateSquareConfig } from './config';\nimport { decryptSquareToken } from './token-encryption';\nimport { refreshAccessToken } from './oauth-flow';\nimport { ApiErrorHandler } from '@/lib/api-error-handler';\n\n/**\n * Refresh Square access token if expired or about to expire.\n * Uses stored refresh token to get a new access token.\n *\n * @param {string} userId - User ID\n * @returns {Promise<string | null>} New access token or null if refresh failed\n */\nexport async function refreshSquareTokenIfNeeded(userId: string): Promise<string | null> {\n  try {\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      logger.warn('[Square Token Refresh] No configuration found for user', { userId });\n      return null;\n    }\n\n    // Check if we have a refresh token (OAuth flow)\n    if (!config.refresh_token_encrypted) {\n      logger.dev('[Square Token Refresh] No refresh token available - using existing access token');\n      // Return existing access token (manual mode or no refresh token)\n      return decryptSquareToken(config.square_access_token_encrypted);\n    }\n\n    // Decrypt refresh token\n    const refreshToken = await decryptSquareToken(config.refresh_token_encrypted);\n\n    // Refresh the access token using PrepFlow's credentials from environment\n    logger.dev('[Square Token Refresh] Refreshing access token...');\n    const tokenData = await refreshAccessToken(refreshToken, config.square_environment);\n\n    // Update configuration with new access token\n    // Note: Refresh token may also be updated by Square\n    await updateSquareConfig(userId, {\n      square_access_token: tokenData.access_token,\n      refresh_token: tokenData.refresh_token || refreshToken, // Use new refresh token if provided\n    });\n\n    logger.dev('[Square Token Refresh] Successfully refreshed access token');\n    return tokenData.access_token;\n  } catch (error: any) {\n    logger.error('[Square Token Refresh] Failed to refresh token:', {\n      error: error.message,\n      userId,\n      context: { operation: 'refresh_token' },\n    });\n    // Return null to indicate refresh failed - caller should handle this\n    return null;\n  }\n}\n\n/**\n * Get valid Square access token, refreshing if necessary.\n * This is the main function to use when you need an access token.\n *\n * @param {string} userId - User ID\n * @returns {Promise<string | null>} Valid access token or null if unavailable\n */\nexport async function getValidSquareToken(userId: string): Promise<string | null> {\n  try {\n    const config = await getSquareConfig(userId);\n    if (!config) {\n      return null;\n    }\n\n    // For OAuth accounts, try to refresh if we have refresh token\n    if (config.refresh_token_encrypted) {\n      // Try refreshing (will use existing token if refresh not needed)\n      const refreshedToken = await refreshSquareTokenIfNeeded(userId);\n      if (refreshedToken) {\n        return refreshedToken;\n      }\n    }\n\n    // Fallback to existing access token (manual mode or refresh failed)\n    return decryptSquareToken(config.square_access_token_encrypted);\n  } catch (error: any) {\n    logger.error('[Square Token] Failed to get valid token:', {\n      error: error.message,\n      userId,\n      context: { operation: 'get_valid_token' },\n    });\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/storage/upload-image.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/storage/upload-image.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/stripe.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/stripe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/subscription-notifications.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/subscription-notifications.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/subscription-notifications/helpers/cleanupExpiredNotifications.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/subscription-notifications/helpers/cleanupExpiredNotifications.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/subscription-notifications/helpers/createNotification.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/subscription-notifications/helpers/createNotification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/subscription-notifications/subscriptionNotifications.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/subscription-notifications/subscriptionNotifications.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/subscription-notifications/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/subscription-notifications/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/supabase-pos.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/supabase-pos.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/supabase.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/supabase.ts","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'no-var').","line":18,"column":3,"severity":1,"nodeType":null,"fix":{"range":[550,584],"text":" "}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":85,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":85,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2574,2577],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2574,2577],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":88,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":88,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2654,2657],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2654,2657],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { ApiErrorHandler } from '@/lib/api-error-handler';\nimport { createClient, SupabaseClient } from '@supabase/supabase-js';\n\n// Client-side Supabase client\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw ApiErrorHandler.createError(\n    'Missing Supabase environment variables. Please check your .env.local file.',\n    'DATABASE_ERROR',\n    500,\n  );\n}\n\n// Declare global types for singleton storage\ndeclare global {\n  // eslint-disable-next-line no-var\n  var __PREPFLOW_SUPABASE_CLIENT__: SupabaseClient | undefined;\n  interface Window {\n    __PREPFLOW_SUPABASE_CLIENT__: SupabaseClient | undefined;\n  }\n}\n\n// Client-side Supabase client singleton\nconst getSupabaseClient = (): SupabaseClient => {\n  const globalKey = '__PREPFLOW_SUPABASE_CLIENT__';\n\n  if (typeof window !== 'undefined') {\n    if (!window[globalKey]) {\n      window[globalKey] = createClient(supabaseUrl, supabaseAnonKey, {\n        auth: {\n          persistSession: false,\n          autoRefreshToken: false,\n          detectSessionInUrl: false,\n          storageKey: 'prepflow-auth-storage', // Unique key to avoid conflict with POS\n          // Explicitly use a no-op storage to prevent GoTrue instance conflict warnings\n          storage: {\n            getItem: () => null,\n            setItem: () => {},\n            removeItem: () => {},\n          },\n        },\n      });\n    }\n    return window[globalKey]!;\n  }\n\n  if (!globalThis[globalKey]) {\n    globalThis[globalKey] = createClient(supabaseUrl, supabaseAnonKey, {\n      auth: {\n        persistSession: false,\n        autoRefreshToken: false,\n        detectSessionInUrl: false,\n        storageKey: 'prepflow-auth-storage',\n        storage: {\n          getItem: () => null,\n          setItem: () => {},\n          removeItem: () => {},\n        },\n      },\n    });\n  }\n  return globalThis[globalKey]!;\n};\n\n/**\n * Lazy-initialized Supabase client proxy.\n * This prevents \"Multiple GoTrueClient instances\" warnings by deferring\n * initialization until the first property access.\n */\nexport const supabase = new Proxy({} as SupabaseClient, {\n  get: (target, prop) => {\n    // Prevent initialization on HMR/DevTools/React-Refresh property inspection\n    if (\n      prop === '$$typeof' ||\n      prop === 'prototype' ||\n      prop === 'toJSON' ||\n      prop === '__esModule' ||\n      prop === 'name' ||\n      prop === 'displayName' ||\n      prop === 'toString' ||\n      typeof prop === 'symbol'\n    ) {\n      return (target as any)[prop];\n    }\n    const client = getSupabaseClient();\n    return (client as any)[prop];\n  },\n});\n\n// Server-side Supabase client with service role key (only available on server)\nexport function createSupabaseAdmin() {\n  const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n\n  if (!serviceRoleKey) {\n    throw ApiErrorHandler.createError(\n      'Missing SUPABASE_SERVICE_ROLE_KEY environment variable.',\n      'DATABASE_ERROR',\n      500,\n    );\n  }\n\n  return createClient(supabaseUrl!, serviceRoleKey, {\n    auth: {\n      persistSession: false,\n      autoRefreshToken: false,\n    },\n  });\n}\n\n// For backward compatibility, create admin client only on server-side\nexport const supabaseAdmin = typeof window === 'undefined' ? createSupabaseAdmin() : null;\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tailwind-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tailwind-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-log-generator.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-log-generator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-log-generator/logGenerators.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-log-generator/logGenerators.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-log-generator/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-log-generator/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-log-generator/utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-log-generator/utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-log-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-log-helpers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[219,222],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[219,222],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":72,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1825,1828],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1825,1828],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Helper functions for temperature log generation (legacy endpoint)\n */\n\n/**\n * Generate realistic temperature based on equipment type and time of day\n */\nexport function generateRealisticTemperature(\n  equipment: any,\n  timeOfDay: 'morning' | 'evening',\n): number {\n  const { equipment_type, min_temp_celsius, max_temp_celsius } = equipment;\n\n  let baseTemp: number;\n  let variation: number;\n\n  switch (equipment_type) {\n    case 'fridge':\n    case 'walk_in_cooler':\n    case 'reach_in_cooler':\n      baseTemp = 4;\n      variation = 2;\n      break;\n    case 'freezer':\n    case 'walk_in_freezer':\n      baseTemp = -18;\n      variation = 3;\n      break;\n    case 'bain_marie':\n      baseTemp = 75;\n      variation = 5;\n      break;\n    case 'hot_cabinet':\n      baseTemp = 65;\n      variation = 5;\n      break;\n    default:\n      baseTemp = (min_temp_celsius + max_temp_celsius) / 2;\n      variation = (max_temp_celsius - min_temp_celsius) / 4;\n  }\n\n  const timeVariation = timeOfDay === 'evening' ? 0.5 : 0;\n  const randomVariation = (Math.random() - 0.5) * variation;\n  const finalTemp = baseTemp + timeVariation + randomVariation;\n\n  if (min_temp_celsius && max_temp_celsius) {\n    return Math.max(min_temp_celsius - 2, Math.min(max_temp_celsius + 2, finalTemp));\n  }\n\n  return Math.round(finalTemp * 10) / 10;\n}\n\n/**\n * Generate food temperatures\n */\nexport function generateFoodTemperature(type: 'hot_holding' | 'cold_holding' | 'cooking'): number {\n  switch (type) {\n    case 'hot_holding':\n      return 65 + (Math.random() - 0.5) * 10;\n    case 'cold_holding':\n      return 3 + (Math.random() - 0.5) * 4;\n    case 'cooking':\n      return 75 + (Math.random() - 0.5) * 10;\n    default:\n      return 20;\n  }\n}\n\n/**\n * Get temperature status text\n */\nexport function getTemperatureStatusText(temp: number, equipment: any): string {\n  if (equipment.min_temp_celsius && equipment.max_temp_celsius) {\n    if (temp < equipment.min_temp_celsius) {\n      return 'Below minimum range';\n    } else if (temp > equipment.max_temp_celsius) {\n      return 'Above maximum range';\n    } else {\n      return 'Within safe range';\n    }\n  }\n  return 'Temperature logged';\n}\n\n/**\n * Get food safety status text\n */\nexport function getFoodSafetyStatusText(temp: number): string {\n  if (temp < 5) {\n    return 'Safe - below danger zone';\n  } else if (temp > 60) {\n    return 'Safe - above danger zone';\n  } else {\n    return 'In danger zone - monitor closely';\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-standards.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/temperature-standards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/terminology-help.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/terminology-help.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/text-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/text-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/theme.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/theme.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/theme/useTheme.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/theme/useTheme.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config-db.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config-db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config-db/getFeatureTierMapping.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config-db/getFeatureTierMapping.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config-db/getTierConfig.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config-db/getTierConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config-db/helpers/cacheManagement.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config-db/helpers/cacheManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config-db/invalidateCache.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config-db/invalidateCache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/tier-config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/translations/de-DE.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/translations/de-DE.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/translations/en-AU.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/translations/en-AU.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/trial-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/trial-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/unit-conversion.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/unit-conversion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/unit-conversion/standardUnitConversions.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/unit-conversion/standardUnitConversions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/unit-conversion/unitCategories.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/unit-conversion/unitCategories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/unit-conversion/unitMappings.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/unit-conversion/unitMappings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/upgrade-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/upgrade-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/usage-tracker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/usage-tracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/useTranslation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/useTranslation.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1979,1982],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1979,1982],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1996,1999],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1996,1999],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\nimport { logger } from '@/lib/logger';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  availableLanguages,\n  getBrowserLanguage,\n} from './useTranslation/helpers/getBrowserLanguage';\nimport { getNestedValue } from './useTranslation/helpers/getNestedValue';\nimport { getCachedTranslations, loadTranslations } from './useTranslation/helpers/loadTranslations';\n\n// Main translation hook\nexport function useTranslation() {\n  const [currentLanguage, setCurrentLanguage] = useState<string>('en-AU');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isClient, setIsClient] = useState(false);\n\n  // Initialize language on mount\n  useEffect(() => {\n    const initializeLanguage = async () => {\n      try {\n        setIsClient(true);\n\n        // Safely access localStorage (may not be available during HMR)\n        let savedLanguage: string | null = null;\n        try {\n          savedLanguage =\n            typeof window !== 'undefined' ? localStorage.getItem('prepflow_language') : null;\n        } catch (error) {\n          // Silently fail during HMR\n          try {\n            logger.warn('Failed to access localStorage:', error);\n          } catch {\n            // Ignore logger errors during HMR\n          }\n        }\n\n        const browserLanguage = getBrowserLanguage();\n        const language = savedLanguage || browserLanguage;\n\n        setCurrentLanguage(language);\n\n        // Load translations for the selected language\n        await loadTranslations(language);\n        setIsLoading(false);\n      } catch (error) {\n        // Handle HMR errors gracefully\n        try {\n          logger.error('Failed to initialize language:', error);\n        } catch {\n          // Ignore logger errors during HMR\n        }\n        setCurrentLanguage('en-AU');\n        setIsLoading(false);\n      }\n    };\n\n    initializeLanguage();\n  }, []);\n\n  // Get translation function\n  const t = useCallback(\n    (key: string, fallback?: string | any[]): string | any[] => {\n      const translations = getCachedTranslations();\n      const currentTranslations = translations[currentLanguage] || translations['en-AU'];\n      const translation = getNestedValue(currentTranslations, key);\n      if (translation !== undefined) return translation;\n      return fallback || key;\n    },\n    [currentLanguage],\n  );\n\n  // Change language\n  const changeLanguage = useCallback(async (language: string) => {\n    if (availableLanguages[language as keyof typeof availableLanguages]) {\n      try {\n        setCurrentLanguage(language);\n        // Safely access localStorage (may not be available during HMR)\n        try {\n          if (typeof window !== 'undefined') {\n            localStorage.setItem('prepflow_language', language);\n          }\n        } catch (error) {\n          // Silently fail during HMR\n          try {\n            logger.warn('Failed to save language to localStorage:', error);\n          } catch {\n            // Ignore logger errors during HMR\n          }\n        }\n        await loadTranslations(language);\n        if (typeof window !== 'undefined') window.location.reload();\n      } catch (error) {\n        // Silently fail during HMR\n        try {\n          logger.error('Failed to change language:', error);\n        } catch {\n          // Ignore logger errors during HMR\n        }\n      }\n    }\n  }, []);\n\n  // Get current language info\n  const getCurrentLanguageInfo = useCallback(\n    () =>\n      availableLanguages[currentLanguage as keyof typeof availableLanguages] ||\n      availableLanguages['en-AU'],\n    [currentLanguage],\n  );\n\n  // Get all available languages\n  const getAvailableLanguages = useCallback(() => {\n    return Object.entries(availableLanguages).map(([code, info]) => ({\n      code,\n      ...info,\n    }));\n  }, []);\n\n  return useMemo(\n    () => ({\n      t,\n      currentLanguage,\n      changeLanguage,\n      getCurrentLanguageInfo,\n      getAvailableLanguages,\n      isLoading,\n    }),\n    [t, currentLanguage, changeLanguage, getCurrentLanguageInfo, getAvailableLanguages, isLoading],\n  );\n}\n\n// Utility function for components that need translation outside of hook\nexport async function getTranslation(key: string, language: string = 'en-AU'): Promise<string> {\n  const currentTranslations = await loadTranslations(language);\n  return getNestedValue(currentTranslations, key) || key;\n}\n\n// Re-export availableLanguages for convenience\nexport { availableLanguages };\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/useTranslation/helpers/getBrowserLanguage.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/useTranslation/helpers/getBrowserLanguage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/useTranslation/helpers/getNestedValue.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/useTranslation/helpers/getNestedValue.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[77,80],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[77,80],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Get nested translation value.\n */\nexport function getNestedValue(obj: any, path: string): string | undefined {\n  return path.split('.').reduce((current, key) => current?.[key], obj);\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/useTranslation/helpers/loadTranslations.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/useTranslation/helpers/loadTranslations.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[158,161],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[158,161],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[276,279],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[276,279],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":37,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1043,1046],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1043,1046],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Lazy load translation files.\n */\nimport { logger } from '@/lib/logger';\n\n// Translation files mapping - lazy loaded\nconst translations: Record<string, any> = {};\n\n/**\n * Lazy load translation files.\n */\nexport async function loadTranslations(language: string): Promise<any> {\n  if (translations[language]) {\n    return translations[language];\n  }\n\n  try {\n    if (language === 'en-AU') {\n      const { translations: enAU } = await import('../../translations/en-AU');\n      translations['en-AU'] = enAU;\n      return enAU;\n    } else if (language === 'de-DE') {\n      const { translations: deDE } = await import('../../translations/de-DE');\n      translations['de-DE'] = deDE;\n      return deDE;\n    }\n  } catch (error) {\n    logger.error(`Failed to load translations for ${language}:`, error);\n  }\n  if (!translations['en-AU']) {\n    const { translations: enAU } = await import('../../translations/en-AU');\n    translations['en-AU'] = enAU;\n  }\n  return translations['en-AU'];\n}\n\nexport function getCachedTranslations(): Record<string, any> {\n  return translations;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/user-avatar.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/user-avatar.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/user-avatar/helpers/getInitials.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/user-avatar/helpers/getInitials.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/user-avatar/helpers/getInitialsFromString.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/user-avatar/helpers/getInitialsFromString.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/user-name.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/user-name.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/user-utils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/user-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/utils/error.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/utils/recipe-format-detection.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/utils/recipe-format-detection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webapp-styles.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webapp-styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-helpers.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-logger.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-logger/helpers/getWebhookEventLogs.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-logger/helpers/getWebhookEventLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-logger/helpers/logWebhookEvent.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-logger/helpers/logWebhookEvent.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-logger/helpers/retryWebhookEvent.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-logger/helpers/retryWebhookEvent.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-logger/types.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lib/webhook-logger/types.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[255,258],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[255,258],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Webhook logger types.\n */\nexport interface WebhookEventLog {\n  stripe_event_id: string;\n  event_type: string;\n  processed: boolean;\n  processed_at?: Date;\n  processing_time_ms?: number;\n  success?: boolean;\n  error_message?: string;\n  event_data?: any;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/lighthouse.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/playwright.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/rsi.eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/analyze-bundle.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/audit-dependencies.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/audit-ids.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/auditor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-architecture.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-auth0-action-perms.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-auth0-config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-auth0-issues.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-avatar-column.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-cleaning-columns.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-cleaning-joins.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-file-sizes.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-legal-and-node.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-login-implementation.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-par-levels-table.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-performance-budget.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-performance-regression.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-vercel-env-vars.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-vercel-env.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/check-voice-consistency.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/clean-generated-tests.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/api-patterns.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/breakpoints.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/console-logs.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/database-patterns.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/dead-code.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/error-handling.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/eslint.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/file-sizes.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/icons.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/jsdoc.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/learned-patterns.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/naming.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/optimistic-updates.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/performance.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/prettier.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/react-patterns.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/security.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/typescript-ref-types.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/unused-imports.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/checks/voice-consistency.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/fixes/breakpoints.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/fixes/console-logs.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/fixes/dead-code.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/fixes/prettier.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/fixes/unused-imports.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/fixes/voice-consistency.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/utils/config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/utils/reporter.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/cleanup/utils/violations.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/codemods/breakpoint-migration.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/codemods/color-migration.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/codemods/console-migration.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/codemods/database-patterns-fix.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/codemods/database-patterns-migration.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/codemods/no-any.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/create-storage-buckets.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/detect-breakpoints.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/diagnose-vercel-build.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/error-capture/capture-build-errors.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/error-capture/capture-error.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/error-learning/auto-document-fix.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/error-learning/detect-fixes.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/error-learning/document-fix-interactive.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/error-learning/generate-learning-report.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/error-learning/update-rules.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/extract-avatars.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/extract-report-sections.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/generate-background-html.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/generate-background-png.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/generate-changelog.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/generate-performance-report.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/generate-pre-deploy-summary.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/optimize-images.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/optimize-performance.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/populate-all-allergens.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/populate-employees.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/populate-ingredients.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/process-avatars.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/protect-curbos.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/estimate-scraping-time.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/jobs/comprehensive-scraper.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1032,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1032,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[39071,39074],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[39071,39074],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1033,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1033,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[39116,39119],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[39116,39119],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Comprehensive Scraper Job\n * Orchestrates comprehensive scraping across all sources with batch processing and progress tracking\n */\n\nimport { logger } from '@/lib/logger';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport { RATING_CONFIG, SOURCES, SourceType, STORAGE_PATH } from '../config';\nimport { AllRecipesScraper } from '../scrapers/allrecipes-scraper';\n// import { BBCGoodFoodScraper } from '../scrapers/bbc-good-food-scraper'; // REMOVED - Terms of Service violation\nimport { BonAppetitScraper } from '../scrapers/bon-appetit-scraper';\nimport { DelishScraper } from '../scrapers/delish-scraper';\nimport { EpicuriousScraper } from '../scrapers/epicurious-scraper';\nimport { FoodAndWineScraper } from '../scrapers/food-and-wine-scraper';\nimport { FoodNetworkScraper } from '../scrapers/food-network-scraper';\nimport { Food52Scraper } from '../scrapers/food52-scraper';\nimport { SeriousEatsScraper } from '../scrapers/serious-eats-scraper';\nimport { SimplyRecipesScraper } from '../scrapers/simply-recipes-scraper';\nimport { SmittenKitchenScraper } from '../scrapers/smitten-kitchen-scraper';\nimport { TastyScraper } from '../scrapers/tasty-scraper';\nimport { TheKitchnScraper } from '../scrapers/the-kitchn-scraper';\nimport { JSONStorage } from '../storage/json-storage';\nimport { getRetryDelay, isRetryableError, shouldSkipPermanently } from '../utils/error-categorizer';\nimport { scraperLogger } from '../utils/logger';\nimport { ProgressTracker, ScrapingProgress } from '../utils/progress-tracker';\nimport { shouldIncludeRecipe } from '../utils/rating-filter';\n\nexport interface JobStatus {\n  isRunning: boolean;\n  sources: Record<\n    SourceType,\n    {\n      discovered: number;\n      scraped: number;\n      failed: number;\n      remaining: number;\n      progressPercent: number;\n      estimatedTimeRemaining?: number;\n      isComplete: boolean;\n    }\n  >;\n  overall: {\n    totalDiscovered: number;\n    totalScraped: number;\n    totalFailed: number;\n    totalRemaining: number;\n    overallProgressPercent: number;\n    estimatedTimeRemaining?: number; // in seconds\n  };\n  startedAt?: string;\n  lastUpdated: string;\n}\n\nconst BATCH_SIZE = 50;\n// Concurrency: Process 3-5 recipes simultaneously per source for maximum speed\n// With 5 sources  3-5 concurrent = 15-25 total concurrent requests\nconst CONCURRENT_REQUESTS_PER_SOURCE = 3; // Conservative: 3 concurrent requests per source\nconst MAX_RETRY_ATTEMPTS = 3; // Maximum retry attempts per URL\n\ninterface RetryQueueItem {\n  url: string;\n  error: string;\n  retryCount: number;\n  lastRetryAt?: number;\n}\n\nexport class ComprehensiveScraperJob {\n  private storage: JSONStorage;\n  private progressTracker: ProgressTracker;\n  private isRunning: boolean = false;\n  private startTime: Date | null = null;\n  private activeSources: Set<SourceType> = new Set();\n  private retryQueues: Map<SourceType, RetryQueueItem[]> = new Map();\n\n  constructor() {\n    this.storage = new JSONStorage();\n    this.progressTracker = new ProgressTracker();\n  }\n\n  /**\n   * Start comprehensive scraping for specified sources\n   */\n  async start(\n    sources: SourceType[] = [\n      SOURCES.ALLRECIPES,\n      // SOURCES.BBC_GOOD_FOOD, // REMOVED - Terms of Service violation (see docs/BBC_GOOD_FOOD_LEGAL_ANALYSIS.md)\n      SOURCES.FOOD_NETWORK,\n      SOURCES.EPICURIOUS,\n      SOURCES.BON_APPETIT,\n      SOURCES.TASTY,\n      SOURCES.SERIOUS_EATS,\n      // SOURCES.FOOD52, // DISABLED - Aggressive rate limiting (429 errors)\n      SOURCES.SIMPLY_RECIPES,\n      SOURCES.SMITTEN_KITCHEN,\n      // SOURCES.THE_KITCHN, // DISABLED - CDN blocks automated requests (403 errors)\n      SOURCES.DELISH,\n      SOURCES.FOOD_AND_WINE,\n    ],\n  ): Promise<void> {\n    if (this.isRunning) {\n      scraperLogger.warn('Comprehensive scraping job is already running');\n      return;\n    }\n\n    // Remove any existing stop flag before starting\n    this.removeStopFlag();\n\n    this.isRunning = true;\n    this.startTime = new Date();\n    this.activeSources = new Set(sources);\n    this.retryQueues.clear(); // Clear retry queues when starting new job\n\n    scraperLogger.info(`Starting comprehensive scraping for sources: ${sources.join(', ')}`);\n    scraperLogger.info('  Processing all sources in PARALLEL for maximum speed');\n\n    try {\n      // Process all sources in parallel (best practice for speed)\n      // Each source has its own rate limiting and progress tracking\n      const sourcePromises = sources.map(async source => {\n        try {\n          // OPTIMIZATION: Check for existing progress to avoid re-discovering URLs\n          const existingProgress = this.progressTracker.loadProgress(source);\n          if (existingProgress && !this.progressTracker.isComplete(existingProgress)) {\n            scraperLogger.info(\n              `Found existing progress for ${source}, resuming instead of re-discovering`,\n            );\n            await this.processSource(source, existingProgress);\n          } else {\n            await this.processSource(source);\n          }\n          scraperLogger.info(` Completed scraping for ${source}`);\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          logger.error(`[Comprehensive Scraper] Error processing ${source}:`, {\n            error: errorMessage,\n            source,\n          });\n          scraperLogger.error(` Error processing ${source}:`, errorMessage);\n          // Don't throw - let other sources continue\n        }\n      });\n\n      // Wait for all sources to complete (or fail independently)\n      await Promise.all(sourcePromises);\n\n      scraperLogger.info('Comprehensive scraping completed for all sources');\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      logger.error('[Comprehensive Scraper] Error during comprehensive scraping:', {\n        error: errorMessage,\n        sources,\n      });\n      scraperLogger.error('Error during comprehensive scraping:', error);\n    } finally {\n      // CRITICAL: Save progress for all active sources before finishing\n      // This ensures progress is saved even if there's an unexpected error or stop\n      scraperLogger.info('Saving final progress for all sources...');\n      for (const source of Array.from(this.activeSources)) {\n        try {\n          const progress = this.progressTracker.loadProgress(source);\n          if (progress) {\n            this.progressTracker.saveProgress(progress);\n            scraperLogger.debug(` Saved final progress for ${source}`);\n          }\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          scraperLogger.error(`Failed to save final progress for ${source}:`, errorMessage);\n          // Continue with other sources even if one fails\n        }\n      }\n\n      // Retry any remaining failed URLs across all sources before finishing\n      // But only if not stopped\n      if (this.isRunning && !this.checkStopFlag()) {\n        scraperLogger.info('Retrying failed URLs for all sources in parallel...');\n        const retryPromises = Array.from(this.activeSources).map(async source => {\n          // Check stop flag before each source retry\n          if (!this.isRunning || this.checkStopFlag()) {\n            return;\n          }\n          try {\n            const scraper = this.getScraper(source);\n            await this.retryFailedUrls(source, scraper);\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : String(error);\n            scraperLogger.error(`Error retrying failed URLs for ${source}:`, errorMessage);\n            // Don't throw - let other sources continue\n          }\n        });\n\n        // Wait for all retries to complete\n        await Promise.all(retryPromises);\n      }\n\n      // Final save after retries (in case retries updated progress)\n      scraperLogger.info('Saving final progress after retries...');\n      for (const source of Array.from(this.activeSources)) {\n        try {\n          const progress = this.progressTracker.loadProgress(source);\n          if (progress) {\n            this.progressTracker.saveProgress(progress);\n            scraperLogger.debug(` Saved final progress after retries for ${source}`);\n          }\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          scraperLogger.error(\n            `Failed to save final progress after retries for ${source}:`,\n            errorMessage,\n          );\n        }\n      }\n\n      this.isRunning = false;\n      this.activeSources.clear();\n      this.removeStopFlag(); // Clean up stop flag when done\n      scraperLogger.info(' Comprehensive scraping job finished - all progress saved');\n    }\n  }\n\n  /**\n   * Resume scraping from saved progress\n   */\n  async resume(): Promise<void> {\n    // Check stop flag first\n    if (this.checkStopFlag()) {\n      scraperLogger.info('Stop flag detected, cannot resume. Remove stop flag file to resume.');\n      this.removeStopFlag(); // Clear it so user can resume later\n      return;\n    }\n\n    if (this.isRunning) {\n      scraperLogger.warn('Comprehensive scraping job is already running');\n      return;\n    }\n\n    this.isRunning = true;\n    this.startTime = new Date();\n    // Don't clear retry queues when resuming - they may contain URLs to retry\n\n    scraperLogger.info('Resuming comprehensive scraping from saved progress');\n    scraperLogger.info('  Processing all sources in PARALLEL for maximum speed');\n\n    try {\n      const sources: SourceType[] = [\n        SOURCES.ALLRECIPES,\n        // SOURCES.BBC_GOOD_FOOD, // REMOVED - Terms of Service violation\n        SOURCES.FOOD_NETWORK,\n        SOURCES.EPICURIOUS,\n        SOURCES.BON_APPETIT,\n        SOURCES.TASTY,\n        SOURCES.SERIOUS_EATS,\n        // SOURCES.FOOD52, // DISABLED - Aggressive rate limiting (429 errors)\n        SOURCES.SIMPLY_RECIPES,\n        SOURCES.SMITTEN_KITCHEN,\n        // SOURCES.THE_KITCHN, // DISABLED - CDN blocks automated requests (403 errors)\n        SOURCES.DELISH,\n        SOURCES.FOOD_AND_WINE,\n      ];\n\n      // Process all sources in parallel (best practice for speed)\n      const resumePromises = sources.map(async source => {\n        try {\n          const progress = this.progressTracker.loadProgress(source);\n          if (progress && !this.progressTracker.isComplete(progress)) {\n            this.activeSources.add(source);\n            await this.processSource(source, progress);\n            scraperLogger.info(` Resumed and completed scraping for ${source}`);\n          } else {\n            scraperLogger.info(`  Skipping ${source} (already complete or no progress)`);\n          }\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          logger.error(`[Comprehensive Scraper] Error resuming ${source}:`, {\n            error: errorMessage,\n            source,\n          });\n          scraperLogger.error(` Error resuming ${source}:`, errorMessage);\n          // Don't throw - let other sources continue\n        }\n      });\n\n      // Wait for all sources to complete (or fail independently)\n      await Promise.all(resumePromises);\n\n      scraperLogger.info('Resumed comprehensive scraping completed');\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      logger.error('[Comprehensive Scraper] Error resuming comprehensive scraping:', {\n        error: errorMessage,\n      });\n      scraperLogger.error('Error resuming comprehensive scraping:', error);\n    } finally {\n      // Retry any remaining failed URLs across all sources before finishing\n      // But only if not stopped\n      if (this.isRunning && !this.checkStopFlag()) {\n        scraperLogger.info('Retrying failed URLs for all sources in parallel...');\n        const retryPromises = Array.from(this.activeSources).map(async source => {\n          // Check stop flag before each source retry\n          if (!this.isRunning || this.checkStopFlag()) {\n            return;\n          }\n          try {\n            const progress = this.progressTracker.loadProgress(source);\n            if (progress && !this.progressTracker.isComplete(progress)) {\n              const scraper = this.getScraper(source);\n              await this.retryFailedUrls(source, scraper);\n            }\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : String(error);\n            scraperLogger.error(`Error retrying failed URLs for ${source}:`, errorMessage);\n            // Don't throw - let other sources continue\n          }\n        });\n\n        // Wait for all retries to complete\n        await Promise.all(retryPromises);\n      }\n\n      this.isRunning = false;\n      this.activeSources.clear();\n      this.removeStopFlag(); // Clean up stop flag when done\n    }\n  }\n\n  /**\n   * Process a batch of URLs with concurrency limit (3-5 recipes simultaneously)\n   * This dramatically improves speed while respecting rate limits\n   */\n  private async processBatchWithConcurrency(\n    batch: string[],\n    source: SourceType,\n    scraper:\n      | AllRecipesScraper\n      | FoodNetworkScraper\n      | EpicuriousScraper\n      | BonAppetitScraper\n      | TastyScraper\n      | SeriousEatsScraper\n      | Food52Scraper\n      | SimplyRecipesScraper\n      | SmittenKitchenScraper\n      | TheKitchnScraper\n      | DelishScraper\n      | FoodAndWineScraper,\n  ): Promise<void> {\n    // Process URLs with concurrency limit using a simple queue pattern\n    const processUrl = async (url: string): Promise<void> => {\n      // Check if job was stopped\n      if (!this.isRunning || this.checkStopFlag()) {\n        return;\n      }\n\n      try {\n        // Check if URL already exists before scraping (skip duplicate scraping)\n        if (this.storage.urlExists(source, url)) {\n          scraperLogger.debug(`  Skipping duplicate URL (already exists): ${url}`);\n          this.progressTracker.updateProgress(source, url, true);\n          return;\n        }\n\n        const result = await scraper.scrapeRecipe(url);\n\n        // Check stop flag immediately after scraping (responsive stop)\n        if (!this.isRunning || this.checkStopFlag()) {\n          scraperLogger.info(` Stop flag detected after scraping ${url}, stopping immediately`);\n          return;\n        }\n\n        if (result.success && result.recipe) {\n          // Apply rating filter\n          if (!shouldIncludeRecipe(result.recipe, source)) {\n            const reason = result.recipe.rating\n              ? `rating ${result.recipe.rating} below threshold`\n              : 'no rating (unrated not allowed)';\n            this.progressTracker.updateProgress(source, url, false, reason);\n            scraperLogger.debug(\n              `  Skipped (rating filter): ${result.recipe.recipe_name} - ${reason}`,\n            );\n            return;\n          }\n\n          const saveResult = await this.storage.saveRecipe(result.recipe);\n          if (saveResult.saved) {\n            this.progressTracker.updateProgress(source, url, true);\n            scraperLogger.debug(` Scraped: ${result.recipe.recipe_name}`);\n          } else {\n            this.progressTracker.updateProgress(\n              source,\n              url,\n              false,\n              saveResult.reason || 'Duplicate or invalid',\n            );\n            scraperLogger.debug(`  Skipped: ${url} (${saveResult.reason})`);\n          }\n        } else {\n          const errorMessage = result.error || 'Failed to scrape';\n          this.progressTracker.updateProgress(source, url, false, errorMessage);\n\n          // Check if error should be retried\n          if (isRetryableError(errorMessage) && !shouldSkipPermanently(errorMessage)) {\n            this.addToRetryQueue(source, url, errorMessage);\n          } else {\n            scraperLogger.warn(` Failed (permanent): ${url} - ${errorMessage}`);\n          }\n        }\n      } catch (error) {\n        // Check if job was stopped before processing error\n        if (!this.isRunning || this.checkStopFlag()) {\n          return;\n        }\n\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        this.progressTracker.updateProgress(source, url, false, errorMessage);\n\n        // Check if error should be retried\n        if (isRetryableError(error) && !shouldSkipPermanently(error)) {\n          this.addToRetryQueue(source, url, errorMessage);\n        } else {\n          scraperLogger.error(` Error scraping (permanent): ${url} - ${errorMessage}`);\n        }\n      }\n    };\n\n    // Process batch with concurrency limit (3-5 concurrent requests per source)\n    // This allows multiple recipes to be scraped simultaneously while respecting rate limits\n    const concurrencyLimit = CONCURRENT_REQUESTS_PER_SOURCE;\n    const chunks: string[][] = [];\n\n    // Split batch into chunks for concurrent processing\n    for (let i = 0; i < batch.length; i += concurrencyLimit) {\n      chunks.push(batch.slice(i, i + concurrencyLimit));\n    }\n\n    // Process each chunk concurrently, but chunks sequentially\n    for (const chunk of chunks) {\n      // Check if job was stopped (check BEFORE processing chunk)\n      if (!this.isRunning || this.checkStopFlag()) {\n        scraperLogger.info(`Scraping stopped by user for ${source} (before chunk processing)`);\n        this.isRunning = false;\n        return;\n      }\n\n      // Process all URLs in chunk concurrently\n      // Use Promise.allSettled to ensure all promises complete even if one fails\n      // This allows us to check stop flag after each chunk\n      const results = await Promise.allSettled(chunk.map(url => processUrl(url)));\n\n      // Check stop flag AFTER processing chunk (more responsive)\n      // This ensures we stop as soon as possible after the chunk completes\n      if (!this.isRunning || this.checkStopFlag()) {\n        scraperLogger.info(`Scraping stopped by user for ${source} (after chunk processing)`);\n        this.isRunning = false;\n        return;\n      }\n    }\n  }\n\n  /**\n   * Process a single source\n   */\n  private async processSource(\n    source: SourceType,\n    existingProgress?: ScrapingProgress,\n  ): Promise<void> {\n    scraperLogger.info(`Processing source: ${source}`);\n\n    let progress: ScrapingProgress;\n    const scraper = this.getScraper(source);\n\n    if (existingProgress) {\n      // Resume from existing progress\n      progress = existingProgress;\n      scraperLogger.info(\n        `Resuming ${source}: ${progress.scraped.length}/${progress.discovered.length} already scraped`,\n      );\n    } else {\n      // Check stop flag before starting URL discovery\n      if (!this.isRunning || this.checkStopFlag()) {\n        scraperLogger.info(\n          ` Stop flag detected before URL discovery for ${source}, stopping immediately`,\n        );\n        this.isRunning = false;\n        return;\n      }\n\n      // Discover all URLs WITH RATINGS (optimized pre-filtering)\n      scraperLogger.info(\n        `Discovering all recipe URLs for ${source} (with ratings for pre-filtering)...`,\n      );\n      let discoveredUrls: string[];\n      try {\n        // Use optimized method that extracts ratings from listing pages\n        const urlsWithRatings = await scraper.getAllRecipeUrlsWithRatings();\n\n        // Pre-filter by rating BEFORE downloading full pages (huge efficiency gain)\n        const sourceConfig =\n          RATING_CONFIG.SOURCE_CONFIG[source as keyof typeof RATING_CONFIG.SOURCE_CONFIG];\n        const minRating = sourceConfig?.minRating ?? RATING_CONFIG.DEFAULT_MIN_RATING;\n        const includeUnrated =\n          sourceConfig?.includeUnrated ?? RATING_CONFIG.DEFAULT_INCLUDE_UNRATED;\n\n        let filteredCount = 0;\n        discoveredUrls = urlsWithRatings\n          .filter(item => {\n            // If we have a rating from listing page, pre-filter\n            if (item.rating !== undefined) {\n              if (item.rating < minRating) {\n                filteredCount++;\n                return false; // Skip low-rated\n              }\n              return true;\n            }\n            // No rating from listing page - include if unrated allowed\n            return includeUnrated;\n          })\n          .map(item => item.url);\n\n        if (filteredCount > 0) {\n          scraperLogger.info(\n            ` Pre-filtered ${filteredCount} low-rated URLs for ${source} (${urlsWithRatings.length} total  ${discoveredUrls.length} after filter)`,\n          );\n        }\n      } catch (error) {\n        // If it's a stop error, handle it gracefully\n        if (error instanceof Error && error.message === 'Scraping stopped by user') {\n          scraperLogger.info(\n            ` Stop flag detected during URL discovery for ${source}, stopping immediately`,\n          );\n          this.isRunning = false;\n          return;\n        }\n        // Re-throw other errors\n        throw error;\n      }\n\n      // Check stop flag after URL discovery (in case it was stopped during discovery)\n      if (!this.isRunning || this.checkStopFlag()) {\n        scraperLogger.info(\n          ` Stop flag detected after URL discovery for ${source}, stopping immediately`,\n        );\n        this.isRunning = false;\n        return;\n      }\n\n      if (discoveredUrls.length === 0) {\n        scraperLogger.warn(`No recipe URLs discovered for ${source}`);\n        return;\n      }\n\n      // Initialize progress\n      progress = this.progressTracker.initializeProgress(source, discoveredUrls);\n      scraperLogger.info(`Discovered ${discoveredUrls.length} recipe URLs for ${source}`);\n    }\n\n    // Get remaining URLs to scrape\n    const remainingUrls = this.progressTracker.getRemainingUrls(progress);\n\n    if (remainingUrls.length === 0) {\n      scraperLogger.info(`All recipes already scraped for ${source}`);\n      return;\n    }\n\n    scraperLogger.info(`Scraping ${remainingUrls.length} remaining recipes for ${source}`);\n\n    // Process in batches\n    const totalBatches = Math.ceil(remainingUrls.length / BATCH_SIZE);\n\n    for (let batchIndex = 0; batchIndex < totalBatches; batchIndex++) {\n      // Check if job was stopped (check both flag and file)\n      if (!this.isRunning || this.checkStopFlag()) {\n        scraperLogger.info(`Scraping stopped by user for ${source}`);\n        this.isRunning = false; // Ensure flag is set\n        return;\n      }\n\n      const batchStart = batchIndex * BATCH_SIZE;\n      const batchEnd = Math.min(batchStart + BATCH_SIZE, remainingUrls.length);\n      const batch = remainingUrls.slice(batchStart, batchEnd);\n\n      scraperLogger.info(\n        `Processing batch ${batchIndex + 1}/${totalBatches} for ${source} (${batch.length} recipes)`,\n      );\n\n      // Process batch with concurrency limit (3-5 recipes simultaneously per source)\n      // This dramatically improves speed while respecting rate limits\n      try {\n        await this.processBatchWithConcurrency(batch, source, scraper);\n      } catch (error) {\n        // Save progress even if batch processing fails\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        scraperLogger.error(\n          `Error processing batch ${batchIndex + 1} for ${source}:`,\n          errorMessage,\n        );\n        // Continue to save progress and next batch\n      }\n\n      // CRITICAL: Save progress after each batch (even if batch failed)\n      // This ensures progress is never lost\n      try {\n        const updatedProgress = this.progressTracker.loadProgress(source);\n        if (updatedProgress) {\n          this.progressTracker.saveProgress(updatedProgress);\n          scraperLogger.debug(` Saved progress after batch ${batchIndex + 1} for ${source}`);\n        }\n      } catch (saveError) {\n        const errorMessage = saveError instanceof Error ? saveError.message : String(saveError);\n        scraperLogger.error(\n          `Failed to save progress after batch ${batchIndex + 1} for ${source}:`,\n          errorMessage,\n        );\n        // Continue processing even if save fails (progress is already saved after each recipe)\n      }\n\n      scraperLogger.info(\n        `Batch ${batchIndex + 1}/${totalBatches} completed for ${source}. Progress: ${this.progressTracker.loadProgress(source)?.scraped.length || 0}/${this.progressTracker.loadProgress(source)?.discovered.length || 0}`,\n      );\n    }\n\n    // Retry failed URLs that are retryable\n    try {\n      await this.retryFailedUrls(source, scraper);\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      scraperLogger.error(`Error during retry phase for ${source}:`, errorMessage);\n      // Continue to save progress even if retry fails\n    }\n\n    // CRITICAL: Final save after processing source (including retries)\n    // This ensures progress is saved even if there's an error\n    try {\n      const finalProgress = this.progressTracker.loadProgress(source);\n      if (finalProgress) {\n        this.progressTracker.saveProgress(finalProgress);\n        scraperLogger.debug(` Saved final progress for ${source}`);\n      }\n    } catch (saveError) {\n      const errorMessage = saveError instanceof Error ? saveError.message : String(saveError);\n      scraperLogger.error(`Failed to save final progress for ${source}:`, errorMessage);\n    }\n\n    scraperLogger.info(`Completed scraping for ${source}`);\n  }\n\n  /**\n   * Add URL to retry queue\n   */\n  private addToRetryQueue(source: SourceType, url: string, error: string): void {\n    if (!this.retryQueues.has(source)) {\n      this.retryQueues.set(source, []);\n    }\n\n    const queue = this.retryQueues.get(source)!;\n\n    // Check if URL is already in queue\n    const existingItem = queue.find(item => item.url === url);\n    if (existingItem) {\n      existingItem.retryCount++;\n      existingItem.error = error;\n      existingItem.lastRetryAt = Date.now();\n    } else {\n      queue.push({\n        url,\n        error,\n        retryCount: 0,\n        lastRetryAt: Date.now(),\n      });\n    }\n\n    scraperLogger.debug(\n      `Added to retry queue: ${url} (attempt ${existingItem ? existingItem.retryCount : 0})`,\n    );\n  }\n\n  /**\n   * Retry failed URLs from retry queue\n   */\n  private async retryFailedUrls(\n    source: SourceType,\n    scraper:\n      | AllRecipesScraper\n      | FoodNetworkScraper\n      | EpicuriousScraper\n      | BonAppetitScraper\n      | TastyScraper\n      | SeriousEatsScraper\n      | Food52Scraper\n      | SimplyRecipesScraper\n      | SmittenKitchenScraper\n      | TheKitchnScraper\n      | DelishScraper\n      | FoodAndWineScraper,\n  ): Promise<void> {\n    const queue = this.retryQueues.get(source);\n    if (!queue || queue.length === 0) {\n      return;\n    }\n\n    // Filter URLs that haven't exceeded max retry attempts\n    const retryableUrls = queue.filter(item => item.retryCount < MAX_RETRY_ATTEMPTS);\n\n    if (retryableUrls.length === 0) {\n      scraperLogger.info(`No retryable URLs for ${source} (all exceeded max retry attempts)`);\n      this.retryQueues.set(source, []);\n      return;\n    }\n\n    scraperLogger.info(`Retrying ${retryableUrls.length} failed URLs for ${source}`);\n\n    for (const item of retryableUrls) {\n      // Check if job was stopped (check both flag and file)\n      if (!this.isRunning || this.checkStopFlag()) {\n        scraperLogger.info(`Scraping stopped by user during retry for ${source}`);\n        this.isRunning = false; // Ensure flag is set\n        return;\n      }\n\n      // Check if we should still retry this error\n      if (!isRetryableError(item.error) || shouldSkipPermanently(item.error)) {\n        scraperLogger.debug(`Skipping retry for ${item.url} - ${item.error} (not retryable)`);\n        continue;\n      }\n\n      // Calculate retry delay with exponential backoff\n      const retryDelay = getRetryDelay(item.error, item.retryCount + 1, 2000);\n\n      // Wait before retrying (exponential backoff)\n      // Check stop flag during wait with periodic checks\n      if (item.lastRetryAt) {\n        const timeSinceLastRetry = Date.now() - item.lastRetryAt;\n        if (timeSinceLastRetry < retryDelay) {\n          const waitTime = retryDelay - timeSinceLastRetry;\n          scraperLogger.debug(`Waiting ${waitTime}ms before retrying ${item.url}`);\n\n          // Check stop flag every 2 seconds during wait\n          const checkInterval = 2000;\n          const totalChecks = Math.ceil(waitTime / checkInterval);\n          for (let i = 0; i < totalChecks; i++) {\n            if (!this.isRunning || this.checkStopFlag()) {\n              scraperLogger.info(`Scraping stopped by user during retry wait for ${source}`);\n              this.isRunning = false;\n              return;\n            }\n            const remainingWait = Math.min(checkInterval, waitTime - i * checkInterval);\n            if (remainingWait > 0) {\n              await new Promise(resolve => setTimeout(resolve, remainingWait));\n            }\n          }\n        }\n      } else {\n        // Check stop flag periodically during initial retry delay\n        const checkInterval = 2000;\n        const totalChecks = Math.ceil(retryDelay / checkInterval);\n        for (let i = 0; i < totalChecks; i++) {\n          if (!this.isRunning || this.checkStopFlag()) {\n            scraperLogger.info(`Scraping stopped by user during retry wait for ${source}`);\n            this.isRunning = false;\n            return;\n          }\n          const remainingWait = Math.min(checkInterval, retryDelay - i * checkInterval);\n          if (remainingWait > 0) {\n            await new Promise(resolve => setTimeout(resolve, remainingWait));\n          }\n        }\n      }\n\n      try {\n        scraperLogger.debug(\n          `Retrying ${item.url} (attempt ${item.retryCount + 1}/${MAX_RETRY_ATTEMPTS})`,\n        );\n\n        const result = await scraper.scrapeRecipe(item.url);\n        if (result.success && result.recipe) {\n          // Apply rating filter (same as main processing)\n          if (!shouldIncludeRecipe(result.recipe, source)) {\n            const reason = result.recipe.rating\n              ? `rating ${result.recipe.rating} below threshold`\n              : 'no rating (unrated not allowed)';\n            this.progressTracker.updateProgress(source, item.url, false, reason);\n            scraperLogger.debug(\n              `  Skipped (rating filter): ${result.recipe.recipe_name} - ${reason}`,\n            );\n\n            // Remove from retry queue since it won't pass filter\n            const queue = this.retryQueues.get(source);\n            if (queue) {\n              const index = queue.findIndex(q => q.url === item.url);\n              if (index !== -1) {\n                queue.splice(index, 1);\n              }\n            }\n            return;\n          }\n\n          const saveResult = await this.storage.saveRecipe(result.recipe);\n          if (saveResult.saved) {\n            this.progressTracker.updateProgress(source, item.url, true);\n            scraperLogger.info(` Retry successful: ${item.url}`);\n\n            // Remove from retry queue\n            const queue = this.retryQueues.get(source);\n            if (queue) {\n              const index = queue.findIndex(q => q.url === item.url);\n              if (index !== -1) {\n                queue.splice(index, 1);\n              }\n            }\n          } else {\n            // Still failed, increment retry count\n            item.retryCount++;\n            item.error = saveResult.reason || 'Failed to save';\n            item.lastRetryAt = Date.now();\n            scraperLogger.warn(`  Retry failed (save error): ${item.url} - ${item.error}`);\n          }\n        } else {\n          // Still failed, increment retry count\n          item.retryCount++;\n          item.error = result.error || 'Failed to scrape';\n          item.lastRetryAt = Date.now();\n          scraperLogger.warn(`  Retry failed: ${item.url} - ${item.error}`);\n        }\n      } catch (error) {\n        // Check if job was stopped before processing retry error\n        if (!this.isRunning || this.checkStopFlag()) {\n          scraperLogger.info(`Scraping stopped by user during retry error handling for ${source}`);\n          this.isRunning = false;\n          return;\n        }\n\n        // Still failed, increment retry count\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        item.retryCount++;\n        item.error = errorMessage;\n        item.lastRetryAt = Date.now();\n        scraperLogger.error(` Retry error: ${item.url} - ${errorMessage}`);\n      }\n    }\n\n    // Remove URLs that exceeded max retry attempts\n    const remainingQueue = queue.filter(item => item.retryCount < MAX_RETRY_ATTEMPTS);\n    this.retryQueues.set(source, remainingQueue);\n\n    if (remainingQueue.length > 0) {\n      scraperLogger.info(\n        `${remainingQueue.length} URLs still in retry queue for ${source} (will retry in next batch)`,\n      );\n    } else {\n      scraperLogger.info(`All retryable URLs processed for ${source}`);\n    }\n  }\n\n  /**\n   * Get current job status\n   */\n  getStatus(): JobStatus {\n    const sources: SourceType[] = [\n      SOURCES.ALLRECIPES,\n      SOURCES.FOOD_NETWORK,\n      SOURCES.EPICURIOUS,\n      SOURCES.BON_APPETIT,\n      SOURCES.TASTY,\n      SOURCES.SERIOUS_EATS,\n      // SOURCES.FOOD52, // DISABLED - Aggressive rate limiting (429 errors)\n      SOURCES.SIMPLY_RECIPES,\n      SOURCES.SMITTEN_KITCHEN,\n      // SOURCES.THE_KITCHN, // DISABLED - CDN blocks automated requests (403 errors)\n      SOURCES.DELISH,\n      SOURCES.FOOD_AND_WINE,\n    ];\n\n    // Check if scraper is actually running by checking for recent progress updates\n    // If progress files were updated in the last 30 seconds, consider it running\n    let actuallyRunning = this.isRunning;\n    if (!actuallyRunning) {\n      const now = Date.now();\n      const RECENT_THRESHOLD = 30 * 1000; // 30 seconds\n\n      for (const source of sources) {\n        const progress = this.progressTracker.loadProgress(source);\n        if (progress && progress.lastUpdated) {\n          const lastUpdated = new Date(progress.lastUpdated).getTime();\n          if (now - lastUpdated < RECENT_THRESHOLD) {\n            // Progress was updated recently, scraper is likely running\n            actuallyRunning = true;\n            scraperLogger.debug(`Detected active scraping for ${source} (recent progress update)`);\n            break;\n          }\n        }\n      }\n    }\n\n    const status: JobStatus = {\n      isRunning: actuallyRunning,\n      sources: {} as JobStatus['sources'],\n      overall: {\n        totalDiscovered: 0,\n        totalScraped: 0,\n        totalFailed: 0,\n        totalRemaining: 0,\n        overallProgressPercent: 0,\n      },\n      lastUpdated: new Date().toISOString(),\n    };\n\n    if (this.startTime) {\n      status.startedAt = this.startTime.toISOString();\n    }\n\n    // Get status for each source\n    for (const source of sources) {\n      const progress = this.progressTracker.loadProgress(source);\n      if (progress) {\n        // Use progress.startedAt as fallback if this.startTime is not set\n        const progressStartTime = progress.startedAt\n          ? new Date(progress.startedAt)\n          : this.startTime || undefined;\n        const stats = this.progressTracker.getStatistics(progress, progressStartTime);\n        status.sources[source] = {\n          discovered: stats.totalDiscovered,\n          scraped: stats.totalScraped,\n          failed: stats.totalFailed,\n          remaining: stats.remaining,\n          progressPercent: stats.progressPercent,\n          estimatedTimeRemaining: stats.estimatedTimeRemaining,\n          isComplete: this.progressTracker.isComplete(progress),\n        };\n\n        status.overall.totalDiscovered += stats.totalDiscovered;\n        status.overall.totalScraped += stats.totalScraped;\n        status.overall.totalFailed += stats.totalFailed;\n        status.overall.totalRemaining += stats.remaining;\n      } else {\n        status.sources[source] = {\n          discovered: 0,\n          scraped: 0,\n          failed: 0,\n          remaining: 0,\n          progressPercent: 0,\n          isComplete: false,\n        };\n      }\n    }\n\n    // Calculate overall progress\n    if (status.overall.totalDiscovered > 0) {\n      status.overall.overallProgressPercent = Math.round(\n        (status.overall.totalScraped / status.overall.totalDiscovered) * 100,\n      );\n    }\n\n    // Calculate overall time estimate (in seconds)\n    // Use the maximum time estimate from all sources (since they run in parallel)\n    // This gives a realistic estimate for when all sources will complete\n    if (status.overall.totalRemaining > 0 && this.startTime) {\n      const sourceEstimates = Object.values(status.sources)\n        .map(s => s.estimatedTimeRemaining)\n        .filter((t): t is number => t !== undefined && t > 0);\n\n      if (sourceEstimates.length > 0) {\n        // Use maximum estimate (longest-running source determines completion time)\n        // With parallel processing, all sources finish around the same time\n        status.overall.estimatedTimeRemaining = Math.max(...sourceEstimates);\n      } else {\n        // Fallback: estimate based on remaining recipes and average rate\n        // Conservative estimate: 30 recipes per minute (accounts for delays, retries, etc.)\n        const RECIPES_PER_MINUTE = 30;\n        const estimatedMinutes = status.overall.totalRemaining / RECIPES_PER_MINUTE;\n        status.overall.estimatedTimeRemaining = Math.round(estimatedMinutes * 60);\n      }\n    }\n\n    return status;\n  }\n\n  /**\n   * Get scraper instance for source\n   */\n  private getScraper(\n    source: SourceType,\n  ):\n    | AllRecipesScraper\n    | FoodNetworkScraper\n    | EpicuriousScraper\n    | BonAppetitScraper\n    | TastyScraper\n    | SeriousEatsScraper\n    | Food52Scraper\n    | SimplyRecipesScraper\n    | SmittenKitchenScraper\n    | TheKitchnScraper\n    | DelishScraper\n    | FoodAndWineScraper {\n    switch (source) {\n      case SOURCES.ALLRECIPES:\n        return new AllRecipesScraper();\n      case SOURCES.BBC_GOOD_FOOD:\n        throw new Error(\n          'BBC Good Food scraper is disabled due to Terms of Service violation. See docs/BBC_GOOD_FOOD_LEGAL_ANALYSIS.md',\n        );\n      case SOURCES.FOOD_NETWORK:\n        return new FoodNetworkScraper();\n      case SOURCES.EPICURIOUS:\n        return new EpicuriousScraper();\n      case SOURCES.BON_APPETIT:\n        return new BonAppetitScraper();\n      case SOURCES.TASTY:\n        return new TastyScraper();\n      case SOURCES.SERIOUS_EATS:\n        return new SeriousEatsScraper();\n      case SOURCES.FOOD52:\n        return new Food52Scraper();\n      case SOURCES.SIMPLY_RECIPES:\n        return new SimplyRecipesScraper();\n      case SOURCES.SMITTEN_KITCHEN:\n        return new SmittenKitchenScraper();\n      case SOURCES.THE_KITCHN:\n        return new TheKitchnScraper();\n      case SOURCES.DELISH:\n        return new DelishScraper();\n      case SOURCES.FOOD_AND_WINE:\n        return new FoodAndWineScraper();\n      default:\n        throw new Error(`Unknown source: ${source}`);\n    }\n  }\n\n  /**\n   * Get stop flag file path\n   */\n  private getStopFlagPath(): string {\n    const storagePath = (this.storage as any).getStoragePath\n      ? (this.storage as any).getStoragePath()\n      : STORAGE_PATH;\n    return path.join(storagePath, '.stop-flag');\n  }\n\n  /**\n   * Check if stop flag exists\n   */\n  private checkStopFlag(): boolean {\n    try {\n      const stopFlagPath = this.getStopFlagPath();\n      return fs.existsSync(stopFlagPath);\n    } catch {\n      return false;\n    }\n  }\n\n  /**\n   * Create stop flag file\n   */\n  private createStopFlag(): void {\n    try {\n      const stopFlagPath = this.getStopFlagPath();\n      fs.writeFileSync(\n        stopFlagPath,\n        JSON.stringify({ stoppedAt: new Date().toISOString() }),\n        'utf-8',\n      );\n      scraperLogger.info('Stop flag file created');\n    } catch (error) {\n      scraperLogger.error('Failed to create stop flag file:', error);\n    }\n  }\n\n  /**\n   * Remove stop flag file\n   */\n  private removeStopFlag(): void {\n    try {\n      const stopFlagPath = this.getStopFlagPath();\n      if (fs.existsSync(stopFlagPath)) {\n        fs.unlinkSync(stopFlagPath);\n        scraperLogger.debug('Stop flag file removed');\n      }\n    } catch (error) {\n      scraperLogger.error('Failed to remove stop flag file:', error);\n    }\n  }\n\n  /**\n   * Stop the job (graceful shutdown)\n   * Creates a stop flag file that will be checked by all instances\n   * This method is called by the API and should stop the scraper immediately\n   * CRITICAL: Saves progress for all active sources before stopping\n   */\n  stop(): void {\n    scraperLogger.info(' Stop command received - stopping comprehensive scraping job...');\n    this.isRunning = false;\n    this.createStopFlag(); // Create flag file so other instances can see it\n\n    // CRITICAL: Save progress for all active sources before stopping\n    // This ensures no progress is lost when stopping\n    scraperLogger.info('Saving progress for all active sources before stopping...');\n    for (const source of Array.from(this.activeSources)) {\n      try {\n        const progress = this.progressTracker.loadProgress(source);\n        if (progress) {\n          this.progressTracker.saveProgress(progress);\n          scraperLogger.info(` Saved progress for ${source} before stop`);\n        }\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        scraperLogger.error(`Failed to save progress for ${source} before stop:`, errorMessage);\n        // Continue with other sources even if one fails\n      }\n    }\n\n    scraperLogger.info(\n      ' Stop flag created - scraper will stop at next checkpoint (progress saved)',\n    );\n  }\n}\n\n// Singleton instance for API access\nlet jobInstance: ComprehensiveScraperJob | null = null;\n\n/**\n * Get or create the singleton comprehensive scraper job instance\n * @returns {ComprehensiveScraperJob} The comprehensive scraper job instance\n */\nexport function getComprehensiveScraperJob(): ComprehensiveScraperJob {\n  if (!jobInstance) {\n    jobInstance = new ComprehensiveScraperJob();\n  }\n  return jobInstance;\n}\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/parsers/recipe-normalizer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/parsers/schema-validator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/parsers/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scheduler/cron-scheduler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/allrecipes-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/base-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/bbc-good-food-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/bon-appetit-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/delish-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/epicurious-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/food-and-wine-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/food-network-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/food52-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/serious-eats-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/simply-recipes-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/smitten-kitchen-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/tasty-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/scrapers/the-kitchn-scraper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/storage/index-manager.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/storage/json-storage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/test-ai-extractor.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1043,1046],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1043,1046],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"#!/usr/bin/env node\n\n/**\n * Test AI Extractor\n * Compare AI extraction vs. traditional parsing methods\n */\n\nimport { getAIExtractor } from './utils/ai-extractor';\nimport { AllRecipesScraper } from './scrapers/allrecipes-scraper';\nimport { EpicuriousScraper } from './scrapers/epicurious-scraper';\nimport { scraperLogger } from './utils/logger';\n\ninterface TestResult {\n  url: string;\n  traditional: {\n    success: boolean;\n    recipeName?: string;\n    ingredientCount?: number;\n    instructionCount?: number;\n    error?: string;\n  };\n  ai: {\n    success: boolean;\n    recipeName?: string;\n    ingredientCount?: number;\n    instructionCount?: number;\n    error?: string;\n  };\n}\n\nconst testUrls = [\n  {\n    name: 'AllRecipes',\n    url: 'https://www.allrecipes.com/recipe/23600/worlds-best-lasagna/',\n    scraper: new AllRecipesScraper(),\n  },\n  {\n    name: 'Epicurious',\n    url: 'https://www.epicurious.com/recipes/food/views/matcha-mango-smoothie',\n    scraper: new EpicuriousScraper(),\n  },\n];\n\nasync function testTraditionalScraper(scraper: any, url: string) {\n  try {\n    const result = await scraper.scrapeRecipe(url);\n    if (result.success && result.recipe) {\n      return {\n        success: true,\n        recipeName: result.recipe.recipe_name,\n        ingredientCount: result.recipe.ingredients?.length || 0,\n        instructionCount: result.recipe.instructions?.length || 0,\n      };\n    }\n    return {\n      success: false,\n      error: result.error || 'Unknown error',\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : String(error),\n    };\n  }\n}\n\nasync function testAIExtractor(html: string, url: string) {\n  const aiExtractor = getAIExtractor();\n\n  if (!aiExtractor.isEnabled()) {\n    return {\n      success: false,\n      error: 'AI extraction is disabled (set ENABLE_AI_EXTRACTION=true)',\n    };\n  }\n\n  try {\n    const result = await aiExtractor.extractRecipe(html, url);\n    if (result) {\n      return {\n        success: true,\n        recipeName: result.recipe_name,\n        ingredientCount: result.ingredients?.length || 0,\n        instructionCount: result.instructions?.length || 0,\n      };\n    }\n    return {\n      success: false,\n      error: 'No recipe data extracted',\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : String(error),\n    };\n  }\n}\n\nasync function runComparison() {\n  scraperLogger.info(' Starting AI Extractor Comparison Test\\n');\n\n  const results: TestResult[] = [];\n\n  for (const testCase of testUrls) {\n    scraperLogger.info(`\\n Testing: ${testCase.name}`);\n    scraperLogger.info(`   URL: ${testCase.url}`);\n\n    // Test traditional scraper\n    scraperLogger.info('   Testing traditional scraper...');\n    const traditionalResult = await testTraditionalScraper(testCase.scraper, testCase.url);\n\n    // Fetch HTML for AI extractor\n    let html = '';\n    try {\n      const response = await testCase.scraper['fetchPage'](testCase.url);\n      html = response;\n    } catch (error) {\n      scraperLogger.error(`   Failed to fetch HTML: ${error}`);\n    }\n\n    // Test AI extractor\n    scraperLogger.info('   Testing AI extractor...');\n    const aiResult = await testAIExtractor(html, testCase.url);\n\n    results.push({\n      url: testCase.url,\n      traditional: traditionalResult,\n      ai: aiResult,\n    });\n\n    // Small delay between tests\n    await new Promise(resolve => setTimeout(resolve, 1000));\n  }\n\n  // Print comparison\n  scraperLogger.info('\\n Comparison Results:');\n  scraperLogger.info('='.repeat(80));\n\n  for (const result of results) {\n    scraperLogger.info(`\\nURL: ${result.url}`);\n    scraperLogger.info('Traditional Scraper:');\n    if (result.traditional.success) {\n      scraperLogger.info(`   Success`);\n      scraperLogger.info(`  Recipe: ${result.traditional.recipeName}`);\n      scraperLogger.info(`  Ingredients: ${result.traditional.ingredientCount}`);\n      scraperLogger.info(`  Instructions: ${result.traditional.instructionCount}`);\n    } else {\n      scraperLogger.info(`   Failed: ${result.traditional.error}`);\n    }\n\n    scraperLogger.info('AI Extractor:');\n    if (result.ai.success) {\n      scraperLogger.info(`   Success`);\n      scraperLogger.info(`  Recipe: ${result.ai.recipeName}`);\n      scraperLogger.info(`  Ingredients: ${result.ai.ingredientCount}`);\n      scraperLogger.info(`  Instructions: ${result.ai.instructionCount}`);\n    } else {\n      scraperLogger.info(`   Failed: ${result.ai.error}`);\n    }\n  }\n\n  scraperLogger.info('\\n' + '='.repeat(80));\n\n  // Summary\n  const traditionalSuccess = results.filter(r => r.traditional.success).length;\n  const aiSuccess = results.filter(r => r.ai.success).length;\n\n  scraperLogger.info(`\\nSummary:`);\n  scraperLogger.info(`Traditional: ${traditionalSuccess}/${results.length} successful`);\n  scraperLogger.info(`AI: ${aiSuccess}/${results.length} successful`);\n}\n\n// Run comparison\nrunComparison().catch(error => {\n  scraperLogger.error('Fatal error:', error);\n  process.exit(1);\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/test-scrapers.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1133,1136],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1133,1136],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"#!/usr/bin/env node\n\n/**\n * Test All Scrapers\n * Quick test script to verify all scrapers extract data correctly\n */\n\nimport { AllRecipesScraper } from './scrapers/allrecipes-scraper';\n// import { BBCGoodFoodScraper } from './scrapers/bbc-good-food-scraper'; // REMOVED - Terms of Service violation\nimport { BonAppetitScraper } from './scrapers/bon-appetit-scraper';\nimport { DelishScraper } from './scrapers/delish-scraper';\nimport { EpicuriousScraper } from './scrapers/epicurious-scraper';\nimport { FoodAndWineScraper } from './scrapers/food-and-wine-scraper';\nimport { FoodNetworkScraper } from './scrapers/food-network-scraper';\nimport { Food52Scraper } from './scrapers/food52-scraper';\nimport { SeriousEatsScraper } from './scrapers/serious-eats-scraper';\nimport { SimplyRecipesScraper } from './scrapers/simply-recipes-scraper';\nimport { SmittenKitchenScraper } from './scrapers/smitten-kitchen-scraper';\nimport { TastyScraper } from './scrapers/tasty-scraper';\nimport { TheKitchnScraper } from './scrapers/the-kitchn-scraper';\nimport { scraperLogger } from './utils/logger';\n\ninterface TestCase {\n  name: string;\n  scraper: any;\n  url: string;\n  expectedFields: string[];\n}\n\nconst testCases: TestCase[] = [\n  {\n    name: 'AllRecipes',\n    scraper: new AllRecipesScraper(),\n    url: 'https://www.allrecipes.com/recipe/23600/worlds-best-lasagna/',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions', 'rating'],\n  },\n  // BBC Good Food removed - Terms of Service violation (see docs/BBC_GOOD_FOOD_LEGAL_ANALYSIS.md)\n  {\n    name: 'Food Network',\n    scraper: new FoodNetworkScraper(),\n    url: 'https://www.foodnetwork.com/recipes/food-network-kitchen/3-ingredient-mac-and-cheese-18926685',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions', 'rating'],\n  },\n  {\n    name: 'Epicurious',\n    scraper: new EpicuriousScraper(),\n    url: 'https://www.epicurious.com/recipes/food/views/matcha-mango-smoothie',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions', 'rating'],\n  },\n  {\n    name: 'Bon Apptit',\n    scraper: new BonAppetitScraper(),\n    url: 'https://www.bonappetit.com/recipe/golden-mushroom-soup-with-orzo-and-a-pat-of-butter',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions'],\n  },\n  {\n    name: 'Tasty',\n    scraper: new TastyScraper(),\n    url: 'https://tasty.co/recipe/champagne-jell-o-shots',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions', 'rating'],\n  },\n  {\n    name: 'Food & Wine',\n    scraper: new FoodAndWineScraper(),\n    url: 'https://www.foodandwine.com/recipes/classic-beef-chili',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions', 'rating'],\n  },\n  {\n    name: 'Serious Eats',\n    scraper: new SeriousEatsScraper(),\n    url: 'https://www.seriouseats.com/shakshuka-north-african-breakfast-recipe',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions'],\n  },\n  {\n    name: 'Food52',\n    scraper: new Food52Scraper(),\n    url: 'https://food52.com/recipes/77622-marcella-hazan-bolognese-sauce-recipe',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions'],\n  },\n  {\n    name: 'Simply Recipes',\n    scraper: new SimplyRecipesScraper(),\n    url: 'https://www.simplyrecipes.com/recipes/banana_bread/',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions'],\n  },\n  {\n    name: 'Smitten Kitchen',\n    scraper: new SmittenKitchenScraper(),\n    url: 'https://smittenkitchen.com/2019/05/perfect-blueberry-muffins/',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions'],\n  },\n  {\n    name: 'The Kitchn',\n    scraper: new TheKitchnScraper(),\n    url: 'https://www.thekitchn.com/how-to-make-chicken-stir-fry-251878',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions'],\n  },\n  {\n    name: 'Delish',\n    scraper: new DelishScraper(),\n    url: 'https://www.delish.com/cooking/recipe-ideas/a25238315/chicken-parmesan-recipe/',\n    expectedFields: ['recipe_name', 'ingredients', 'instructions'],\n  },\n];\n\nasync function testScraper(testCase: TestCase): Promise<boolean> {\n  try {\n    scraperLogger.info(`\\n Testing ${testCase.name} scraper...`);\n    scraperLogger.info(`   URL: ${testCase.url}`);\n\n    const result = await testCase.scraper.scrapeRecipe(testCase.url);\n\n    if (!result.success) {\n      scraperLogger.error(`    Failed: ${result.error}`);\n      return false;\n    }\n\n    if (!result.recipe) {\n      scraperLogger.error(`    No recipe data returned`);\n      return false;\n    }\n\n    const recipe = result.recipe;\n    const missingFields: string[] = [];\n\n    // Check required fields\n    for (const field of testCase.expectedFields) {\n      if (!(field in recipe) || recipe[field as keyof typeof recipe] === undefined) {\n        missingFields.push(field);\n      }\n    }\n\n    if (missingFields.length > 0) {\n      scraperLogger.error(`    Missing fields: ${missingFields.join(', ')}`);\n      return false;\n    }\n\n    // Check that arrays have content\n    if (recipe.ingredients && recipe.ingredients.length === 0) {\n      scraperLogger.error(`    No ingredients extracted`);\n      return false;\n    }\n\n    if (recipe.instructions && recipe.instructions.length === 0) {\n      scraperLogger.error(`    No instructions extracted`);\n      return false;\n    }\n\n    // Log success with details\n    scraperLogger.info(`    Success!`);\n    scraperLogger.info(`      Recipe: ${recipe.recipe_name}`);\n    scraperLogger.info(`      Ingredients: ${recipe.ingredients?.length || 0}`);\n    scraperLogger.info(`      Instructions: ${recipe.instructions?.length || 0}`);\n    if (recipe.rating) {\n      scraperLogger.info(`      Rating: ${recipe.rating}/5.0`);\n    }\n\n    return true;\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : String(error);\n    scraperLogger.error(`    Exception: ${errorMessage}`);\n    return false;\n  }\n}\n\nasync function runTests() {\n  scraperLogger.info(' Starting scraper tests...\\n');\n\n  const results: Array<{ name: string; passed: boolean }> = [];\n\n  for (const testCase of testCases) {\n    const passed = await testScraper(testCase);\n    results.push({ name: testCase.name, passed });\n\n    // Small delay between tests to avoid rate limiting\n    await new Promise(resolve => setTimeout(resolve, 1000));\n  }\n\n  // Summary\n  scraperLogger.info('\\n Test Summary:');\n  scraperLogger.info('='.repeat(50));\n\n  let passedCount = 0;\n  for (const result of results) {\n    const status = result.passed ? ' PASS' : ' FAIL';\n    scraperLogger.info(`${status} - ${result.name}`);\n    if (result.passed) passedCount++;\n  }\n\n  scraperLogger.info('='.repeat(50));\n  scraperLogger.info(`Total: ${passedCount}/${results.length} passed`);\n\n  if (passedCount === results.length) {\n    scraperLogger.info('\\n All scrapers are working correctly!');\n    process.exit(0);\n  } else {\n    scraperLogger.error('\\n  Some scrapers failed. Please check the errors above.');\n    process.exit(1);\n  }\n}\n\n// Run tests\nrunTests().catch(error => {\n  scraperLogger.error('Fatal error running tests:', error);\n  process.exit(1);\n});\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/test-tasty-sitemap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/utils/ai-extractor-local.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/utils/ai-extractor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/utils/error-categorizer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/utils/logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/utils/migrate-index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/utils/progress-tracker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/utils/rate-limiter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/utils/rating-filter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/utils/recipe-processor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/utils/robots-checker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/recipe-scraper/utils/sitemap-parser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/refactor-responsive-breakpoints.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/resolve-burned-conflicts.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/rsi/auto-fix.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/rsi/auto-refactor.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/rsi/auto-rule.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/rsi/evolve-rules.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/rsi/orchestrator.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/rsi/rollback.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/rsi/self-optimize.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/rsi/status.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/run-cleaning-migration.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/run-migration-direct.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/seed-advanced-loyalty.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/send-performance-report.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/sentinel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/set-auth0-base-url-vercel.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/set-auth0-secret-vercel.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/set-vercel-env.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/setup-database.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/setup-stripe-env.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/show-auth0-urls.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/stop-scraper-manual.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/stop-scraper.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/suppress-lint-errors.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/test-accessibility.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/test-auth0-authorization-url.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/test-auth0-comprehensive.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/test-auth0-connections.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/test-auth0-login-flow.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/test-auth0-stripe-integration.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/test-gamification.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/test-generator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/test-logout-flow.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/test-stripe-webhooks.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/update-auth0-config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/update-auth0-sdk-callbacks.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/validate-auth0-env.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/validate-stripe-setup.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/verify-cleaning-migration.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/verify-id-token.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/verify-logo.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/verify-production-auth0-env.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/verify-scraper-stopped.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/scripts/verify-supabase-customers.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/server.js","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":19,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":19,"endColumn":20,"suggestions":[{"fix":{"range":[524,579],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":26,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":26,"endColumn":16,"suggestions":[{"fix":{"range":[752,805],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/test-public-token-diag.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/test-supabase.js","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'no-console').","line":1,"column":1,"severity":1,"nodeType":null,"fix":{"range":[0,31],"text":" "}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"/* eslint-disable no-console */\n// Test Supabase connection\nrequire('dotenv').config();\n\nconst { createClient } = require('@supabase/supabase-js');\n\n// Supabase configuration\nconst supabaseUrl = 'https://dulkrqgjfohsuxhsmofo.supabase.co';\nconst supabaseAnonKey =\n  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR1bGtycWdqZm9oc3V4aHNtb2ZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5NzYwMDMsImV4cCI6MjA3MjU1MjAwM30.b_P98mAantymNfWy1Qz18SaR-LwrPjuaebO2Uj_5JK8';\nconst supabaseServiceKey =\n  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR1bGtycWdqZm9oc3V4aHNtb2ZvIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Njk3NjAwMywiZXhwIjoyMDcyNTUyMDAzfQ.9p7ONCpj7c_94A33pYR9_-1rGxbdJld5GL7V1udrtiM';\n\n// Create Supabase client\nconst supabase = createClient(supabaseUrl, supabaseAnonKey);\nconst supabaseAdmin = createClient(supabaseUrl, supabaseServiceKey);\n\nasync function testConnection() {\n  try {\n    console.log(' Testing Supabase connection...');\n\n    // Test basic connection\n    const { data, error } = await supabase.from('users').select('count').limit(1);\n\n    if (error) {\n      console.log(' Connection test result:', error.message);\n      console.log(\" This is normal if tables don't exist yet\");\n    } else {\n      console.log(' Supabase connection successful!');\n    }\n\n    // Test admin connection\n    const { data: adminData, error: adminError } = await supabaseAdmin\n      .from('users')\n      .select('count')\n      .limit(1);\n\n    if (adminError) {\n      console.log(' Admin connection test:', adminError.message);\n    } else {\n      console.log(' Supabase admin connection successful!');\n    }\n\n    console.log('\\n Supabase setup is ready!');\n    console.log(' Dashboard: https://dulkrqgjfohsuxhsmofo.supabase.co/project/default');\n    console.log(' SQL Editor: https://dulkrqgjfohsuxhsmofo.supabase.co/project/default/sql');\n  } catch (error) {\n    console.error(' Connection test failed:', error.message);\n  }\n}\n\ntestConnection();\n","usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/types/dish.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/types/employee.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/types/react-signature-canvas.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/types/recharts.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/Users/danielkuschmierz/Prepflow-Ecosystem/prepflow-web/types/scraped-recipe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
